globalThis.window = typeof window === "undefined" ? { dispatchEvent: function() {
  return false;
} } : window;
globalThis.HTMLElement = typeof HTMLElement === "undefined" ? class HTMLElement2 {
} : HTMLElement;
globalThis.document = typeof document === "undefined" ? {
  head: { appendChild: function() {
  } },
  createTreeWalker() {
    return {};
  },
  querySelector: function() {
    return {};
  },
  querySelectorAll: function() {
    return [];
  }
} : document;
globalThis.CSSStyleSheet = typeof CSSStyleSheet === "undefined" ? class CSSStyleSheet2 {
  replace() {
  }
} : CSSStyleSheet;
globalThis.customElements = typeof customElements === "undefined" ? { define: function() {
}, get: function() {
} } : customElements;
import * as React from "react";
import { useLayoutEffect, forwardRef, useContext, createElement, createContext, Fragment, useRef } from "react";
import * as jsxRuntime from "react/jsx-runtime";
var commonjsGlobal = typeof globalThis !== "undefined" ? globalThis : typeof window !== "undefined" ? window : typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : {};
var INFINITY = 1 / 0;
var symbolTag = "[object Symbol]";
var reAsciiWord = /[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;
var reLatin = /[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g;
var rsAstralRange = "\\ud800-\\udfff", rsComboMarksRange = "\\u0300-\\u036f\\ufe20-\\ufe23", rsComboSymbolsRange = "\\u20d0-\\u20f0", rsDingbatRange = "\\u2700-\\u27bf", rsLowerRange = "a-z\\xdf-\\xf6\\xf8-\\xff", rsMathOpRange = "\\xac\\xb1\\xd7\\xf7", rsNonCharRange = "\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf", rsPunctuationRange = "\\u2000-\\u206f", rsSpaceRange = " \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000", rsUpperRange = "A-Z\\xc0-\\xd6\\xd8-\\xde", rsVarRange = "\\ufe0e\\ufe0f", rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;
var rsApos = "['\u2019]", rsAstral = "[" + rsAstralRange + "]", rsBreak = "[" + rsBreakRange + "]", rsCombo = "[" + rsComboMarksRange + rsComboSymbolsRange + "]", rsDigits = "\\d+", rsDingbat = "[" + rsDingbatRange + "]", rsLower = "[" + rsLowerRange + "]", rsMisc = "[^" + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + "]", rsFitz = "\\ud83c[\\udffb-\\udfff]", rsModifier = "(?:" + rsCombo + "|" + rsFitz + ")", rsNonAstral = "[^" + rsAstralRange + "]", rsRegional = "(?:\\ud83c[\\udde6-\\uddff]){2}", rsSurrPair = "[\\ud800-\\udbff][\\udc00-\\udfff]", rsUpper = "[" + rsUpperRange + "]", rsZWJ = "\\u200d";
var rsLowerMisc = "(?:" + rsLower + "|" + rsMisc + ")", rsUpperMisc = "(?:" + rsUpper + "|" + rsMisc + ")", rsOptLowerContr = "(?:" + rsApos + "(?:d|ll|m|re|s|t|ve))?", rsOptUpperContr = "(?:" + rsApos + "(?:D|LL|M|RE|S|T|VE))?", reOptMod = rsModifier + "?", rsOptVar = "[" + rsVarRange + "]?", rsOptJoin = "(?:" + rsZWJ + "(?:" + [rsNonAstral, rsRegional, rsSurrPair].join("|") + ")" + rsOptVar + reOptMod + ")*", rsSeq = rsOptVar + reOptMod + rsOptJoin, rsEmoji = "(?:" + [rsDingbat, rsRegional, rsSurrPair].join("|") + ")" + rsSeq, rsSymbol = "(?:" + [rsNonAstral + rsCombo + "?", rsCombo, rsRegional, rsSurrPair, rsAstral].join("|") + ")";
var reApos = RegExp(rsApos, "g");
var reComboMark = RegExp(rsCombo, "g");
var reUnicode = RegExp(rsFitz + "(?=" + rsFitz + ")|" + rsSymbol + rsSeq, "g");
var reUnicodeWord = RegExp([
  rsUpper + "?" + rsLower + "+" + rsOptLowerContr + "(?=" + [rsBreak, rsUpper, "$"].join("|") + ")",
  rsUpperMisc + "+" + rsOptUpperContr + "(?=" + [rsBreak, rsUpper + rsLowerMisc, "$"].join("|") + ")",
  rsUpper + "?" + rsLowerMisc + "+" + rsOptLowerContr,
  rsUpper + "+" + rsOptUpperContr,
  rsDigits,
  rsEmoji
].join("|"), "g");
var reHasUnicode = RegExp("[" + rsZWJ + rsAstralRange + rsComboMarksRange + rsComboSymbolsRange + rsVarRange + "]");
var reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;
var deburredLetters = {
  "\xC0": "A",
  "\xC1": "A",
  "\xC2": "A",
  "\xC3": "A",
  "\xC4": "A",
  "\xC5": "A",
  "\xE0": "a",
  "\xE1": "a",
  "\xE2": "a",
  "\xE3": "a",
  "\xE4": "a",
  "\xE5": "a",
  "\xC7": "C",
  "\xE7": "c",
  "\xD0": "D",
  "\xF0": "d",
  "\xC8": "E",
  "\xC9": "E",
  "\xCA": "E",
  "\xCB": "E",
  "\xE8": "e",
  "\xE9": "e",
  "\xEA": "e",
  "\xEB": "e",
  "\xCC": "I",
  "\xCD": "I",
  "\xCE": "I",
  "\xCF": "I",
  "\xEC": "i",
  "\xED": "i",
  "\xEE": "i",
  "\xEF": "i",
  "\xD1": "N",
  "\xF1": "n",
  "\xD2": "O",
  "\xD3": "O",
  "\xD4": "O",
  "\xD5": "O",
  "\xD6": "O",
  "\xD8": "O",
  "\xF2": "o",
  "\xF3": "o",
  "\xF4": "o",
  "\xF5": "o",
  "\xF6": "o",
  "\xF8": "o",
  "\xD9": "U",
  "\xDA": "U",
  "\xDB": "U",
  "\xDC": "U",
  "\xF9": "u",
  "\xFA": "u",
  "\xFB": "u",
  "\xFC": "u",
  "\xDD": "Y",
  "\xFD": "y",
  "\xFF": "y",
  "\xC6": "Ae",
  "\xE6": "ae",
  "\xDE": "Th",
  "\xFE": "th",
  "\xDF": "ss",
  "\u0100": "A",
  "\u0102": "A",
  "\u0104": "A",
  "\u0101": "a",
  "\u0103": "a",
  "\u0105": "a",
  "\u0106": "C",
  "\u0108": "C",
  "\u010A": "C",
  "\u010C": "C",
  "\u0107": "c",
  "\u0109": "c",
  "\u010B": "c",
  "\u010D": "c",
  "\u010E": "D",
  "\u0110": "D",
  "\u010F": "d",
  "\u0111": "d",
  "\u0112": "E",
  "\u0114": "E",
  "\u0116": "E",
  "\u0118": "E",
  "\u011A": "E",
  "\u0113": "e",
  "\u0115": "e",
  "\u0117": "e",
  "\u0119": "e",
  "\u011B": "e",
  "\u011C": "G",
  "\u011E": "G",
  "\u0120": "G",
  "\u0122": "G",
  "\u011D": "g",
  "\u011F": "g",
  "\u0121": "g",
  "\u0123": "g",
  "\u0124": "H",
  "\u0126": "H",
  "\u0125": "h",
  "\u0127": "h",
  "\u0128": "I",
  "\u012A": "I",
  "\u012C": "I",
  "\u012E": "I",
  "\u0130": "I",
  "\u0129": "i",
  "\u012B": "i",
  "\u012D": "i",
  "\u012F": "i",
  "\u0131": "i",
  "\u0134": "J",
  "\u0135": "j",
  "\u0136": "K",
  "\u0137": "k",
  "\u0138": "k",
  "\u0139": "L",
  "\u013B": "L",
  "\u013D": "L",
  "\u013F": "L",
  "\u0141": "L",
  "\u013A": "l",
  "\u013C": "l",
  "\u013E": "l",
  "\u0140": "l",
  "\u0142": "l",
  "\u0143": "N",
  "\u0145": "N",
  "\u0147": "N",
  "\u014A": "N",
  "\u0144": "n",
  "\u0146": "n",
  "\u0148": "n",
  "\u014B": "n",
  "\u014C": "O",
  "\u014E": "O",
  "\u0150": "O",
  "\u014D": "o",
  "\u014F": "o",
  "\u0151": "o",
  "\u0154": "R",
  "\u0156": "R",
  "\u0158": "R",
  "\u0155": "r",
  "\u0157": "r",
  "\u0159": "r",
  "\u015A": "S",
  "\u015C": "S",
  "\u015E": "S",
  "\u0160": "S",
  "\u015B": "s",
  "\u015D": "s",
  "\u015F": "s",
  "\u0161": "s",
  "\u0162": "T",
  "\u0164": "T",
  "\u0166": "T",
  "\u0163": "t",
  "\u0165": "t",
  "\u0167": "t",
  "\u0168": "U",
  "\u016A": "U",
  "\u016C": "U",
  "\u016E": "U",
  "\u0170": "U",
  "\u0172": "U",
  "\u0169": "u",
  "\u016B": "u",
  "\u016D": "u",
  "\u016F": "u",
  "\u0171": "u",
  "\u0173": "u",
  "\u0174": "W",
  "\u0175": "w",
  "\u0176": "Y",
  "\u0177": "y",
  "\u0178": "Y",
  "\u0179": "Z",
  "\u017B": "Z",
  "\u017D": "Z",
  "\u017A": "z",
  "\u017C": "z",
  "\u017E": "z",
  "\u0132": "IJ",
  "\u0133": "ij",
  "\u0152": "Oe",
  "\u0153": "oe",
  "\u0149": "'n",
  "\u017F": "ss"
};
var freeGlobal = typeof commonjsGlobal == "object" && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal;
var freeSelf = typeof self == "object" && self && self.Object === Object && self;
var root = freeGlobal || freeSelf || Function("return this")();
function arrayReduce(array, iteratee, accumulator, initAccum) {
  var index = -1, length2 = array ? array.length : 0;
  if (initAccum && length2) {
    accumulator = array[++index];
  }
  while (++index < length2) {
    accumulator = iteratee(accumulator, array[index], index, array);
  }
  return accumulator;
}
function asciiToArray(string) {
  return string.split("");
}
function asciiWords(string) {
  return string.match(reAsciiWord) || [];
}
function basePropertyOf(object) {
  return function(key) {
    return object == null ? void 0 : object[key];
  };
}
var deburrLetter = basePropertyOf(deburredLetters);
function hasUnicode(string) {
  return reHasUnicode.test(string);
}
function hasUnicodeWord(string) {
  return reHasUnicodeWord.test(string);
}
function stringToArray(string) {
  return hasUnicode(string) ? unicodeToArray(string) : asciiToArray(string);
}
function unicodeToArray(string) {
  return string.match(reUnicode) || [];
}
function unicodeWords(string) {
  return string.match(reUnicodeWord) || [];
}
var objectProto = Object.prototype;
var objectToString = objectProto.toString;
var Symbol$1 = root.Symbol;
var symbolProto = Symbol$1 ? Symbol$1.prototype : void 0, symbolToString = symbolProto ? symbolProto.toString : void 0;
function baseSlice(array, start, end) {
  var index = -1, length2 = array.length;
  if (start < 0) {
    start = -start > length2 ? 0 : length2 + start;
  }
  end = end > length2 ? length2 : end;
  if (end < 0) {
    end += length2;
  }
  length2 = start > end ? 0 : end - start >>> 0;
  start >>>= 0;
  var result = Array(length2);
  while (++index < length2) {
    result[index] = array[index + start];
  }
  return result;
}
function baseToString(value) {
  if (typeof value == "string") {
    return value;
  }
  if (isSymbol(value)) {
    return symbolToString ? symbolToString.call(value) : "";
  }
  var result = value + "";
  return result == "0" && 1 / value == -INFINITY ? "-0" : result;
}
function castSlice(array, start, end) {
  var length2 = array.length;
  end = end === void 0 ? length2 : end;
  return !start && end >= length2 ? array : baseSlice(array, start, end);
}
function createCaseFirst(methodName) {
  return function(string) {
    string = toString(string);
    var strSymbols = hasUnicode(string) ? stringToArray(string) : void 0;
    var chr = strSymbols ? strSymbols[0] : string.charAt(0);
    var trailing = strSymbols ? castSlice(strSymbols, 1).join("") : string.slice(1);
    return chr[methodName]() + trailing;
  };
}
function createCompounder(callback) {
  return function(string) {
    return arrayReduce(words(deburr(string).replace(reApos, "")), callback, "");
  };
}
function isObjectLike(value) {
  return !!value && typeof value == "object";
}
function isSymbol(value) {
  return typeof value == "symbol" || isObjectLike(value) && objectToString.call(value) == symbolTag;
}
function toString(value) {
  return value == null ? "" : baseToString(value);
}
function deburr(string) {
  string = toString(string);
  return string && string.replace(reLatin, deburrLetter).replace(reComboMark, "");
}
var startCase = createCompounder(function(result, word, index) {
  return result + (index ? " " : "") + upperFirst(word);
});
var upperFirst = createCaseFirst("toUpperCase");
function words(string, pattern, guard) {
  string = toString(string);
  pattern = guard ? void 0 : pattern;
  if (pattern === void 0) {
    return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);
  }
  return string.match(pattern) || [];
}
var lodash_startcase = startCase;
var _extends$1 = { exports: {} };
(function(module) {
  function _extends2() {
    module.exports = _extends2 = Object.assign ? Object.assign.bind() : function(target) {
      for (var i = 1; i < arguments.length; i++) {
        var source = arguments[i];
        for (var key in source) {
          if (Object.prototype.hasOwnProperty.call(source, key)) {
            target[key] = source[key];
          }
        }
      }
      return target;
    }, module.exports.__esModule = true, module.exports["default"] = module.exports;
    return _extends2.apply(this, arguments);
  }
  module.exports = _extends2, module.exports.__esModule = true, module.exports["default"] = module.exports;
})(_extends$1);
function memoize$1(fn2) {
  var cache = /* @__PURE__ */ Object.create(null);
  return function(arg) {
    if (cache[arg] === void 0)
      cache[arg] = fn2(arg);
    return cache[arg];
  };
}
var reactPropsRegex = /^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/;
var isPropValid = /* @__PURE__ */ memoize$1(
  function(prop) {
    return reactPropsRegex.test(prop) || prop.charCodeAt(0) === 111 && prop.charCodeAt(1) === 110 && prop.charCodeAt(2) < 91;
  }
);
function _extends() {
  _extends = Object.assign ? Object.assign.bind() : function(target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends.apply(this, arguments);
}
function sheetForTag(tag) {
  if (tag.sheet) {
    return tag.sheet;
  }
  for (var i = 0; i < document.styleSheets.length; i++) {
    if (document.styleSheets[i].ownerNode === tag) {
      return document.styleSheets[i];
    }
  }
}
function createStyleElement(options) {
  var tag = document.createElement("style");
  tag.setAttribute("data-emotion", options.key);
  if (options.nonce !== void 0) {
    tag.setAttribute("nonce", options.nonce);
  }
  tag.appendChild(document.createTextNode(""));
  tag.setAttribute("data-s", "");
  return tag;
}
var StyleSheet = /* @__PURE__ */ function() {
  function StyleSheet2(options) {
    var _this = this;
    this._insertTag = function(tag) {
      var before;
      if (_this.tags.length === 0) {
        if (_this.insertionPoint) {
          before = _this.insertionPoint.nextSibling;
        } else if (_this.prepend) {
          before = _this.container.firstChild;
        } else {
          before = _this.before;
        }
      } else {
        before = _this.tags[_this.tags.length - 1].nextSibling;
      }
      _this.container.insertBefore(tag, before);
      _this.tags.push(tag);
    };
    this.isSpeedy = options.speedy === void 0 ? process.env.NODE_ENV === "production" : options.speedy;
    this.tags = [];
    this.ctr = 0;
    this.nonce = options.nonce;
    this.key = options.key;
    this.container = options.container;
    this.prepend = options.prepend;
    this.insertionPoint = options.insertionPoint;
    this.before = null;
  }
  var _proto = StyleSheet2.prototype;
  _proto.hydrate = function hydrate(nodes) {
    nodes.forEach(this._insertTag);
  };
  _proto.insert = function insert(rule) {
    if (this.ctr % (this.isSpeedy ? 65e3 : 1) === 0) {
      this._insertTag(createStyleElement(this));
    }
    var tag = this.tags[this.tags.length - 1];
    if (process.env.NODE_ENV !== "production") {
      var isImportRule3 = rule.charCodeAt(0) === 64 && rule.charCodeAt(1) === 105;
      if (isImportRule3 && this._alreadyInsertedOrderInsensitiveRule) {
        console.error("You're attempting to insert the following rule:\n" + rule + "\n\n`@import` rules must be before all other types of rules in a stylesheet but other rules have already been inserted. Please ensure that `@import` rules are before all other rules.");
      }
      this._alreadyInsertedOrderInsensitiveRule = this._alreadyInsertedOrderInsensitiveRule || !isImportRule3;
    }
    if (this.isSpeedy) {
      var sheet = sheetForTag(tag);
      try {
        sheet.insertRule(rule, sheet.cssRules.length);
      } catch (e) {
        if (process.env.NODE_ENV !== "production" && !/:(-moz-placeholder|-moz-focus-inner|-moz-focusring|-ms-input-placeholder|-moz-read-write|-moz-read-only|-ms-clear|-ms-expand|-ms-reveal){/.test(rule)) {
          console.error('There was a problem inserting the following rule: "' + rule + '"', e);
        }
      }
    } else {
      tag.appendChild(document.createTextNode(rule));
    }
    this.ctr++;
  };
  _proto.flush = function flush() {
    this.tags.forEach(function(tag) {
      return tag.parentNode && tag.parentNode.removeChild(tag);
    });
    this.tags = [];
    this.ctr = 0;
    if (process.env.NODE_ENV !== "production") {
      this._alreadyInsertedOrderInsensitiveRule = false;
    }
  };
  return StyleSheet2;
}();
var MS = "-ms-";
var MOZ = "-moz-";
var WEBKIT = "-webkit-";
var COMMENT = "comm";
var RULESET = "rule";
var DECLARATION = "decl";
var IMPORT = "@import";
var KEYFRAMES = "@keyframes";
var abs = Math.abs;
var from = String.fromCharCode;
var assign = Object.assign;
function hash(value, length2) {
  return charat(value, 0) ^ 45 ? (((length2 << 2 ^ charat(value, 0)) << 2 ^ charat(value, 1)) << 2 ^ charat(value, 2)) << 2 ^ charat(value, 3) : 0;
}
function trim(value) {
  return value.trim();
}
function match(value, pattern) {
  return (value = pattern.exec(value)) ? value[0] : value;
}
function replace(value, pattern, replacement) {
  return value.replace(pattern, replacement);
}
function indexof(value, search) {
  return value.indexOf(search);
}
function charat(value, index) {
  return value.charCodeAt(index) | 0;
}
function substr(value, begin, end) {
  return value.slice(begin, end);
}
function strlen(value) {
  return value.length;
}
function sizeof(value) {
  return value.length;
}
function append(value, array) {
  return array.push(value), value;
}
function combine(array, callback) {
  return array.map(callback).join("");
}
var line = 1;
var column = 1;
var length = 0;
var position$1 = 0;
var character = 0;
var characters = "";
function node(value, root2, parent, type, props, children, length2) {
  return { value, root: root2, parent, type, props, children, line, column, length: length2, return: "" };
}
function copy(root2, props) {
  return assign(node("", null, null, "", null, null, 0), root2, { length: -root2.length }, props);
}
function char() {
  return character;
}
function prev() {
  character = position$1 > 0 ? charat(characters, --position$1) : 0;
  if (column--, character === 10)
    column = 1, line--;
  return character;
}
function next() {
  character = position$1 < length ? charat(characters, position$1++) : 0;
  if (column++, character === 10)
    column = 1, line++;
  return character;
}
function peek() {
  return charat(characters, position$1);
}
function caret() {
  return position$1;
}
function slice(begin, end) {
  return substr(characters, begin, end);
}
function token(type) {
  switch (type) {
    case 0:
    case 9:
    case 10:
    case 13:
    case 32:
      return 5;
    case 33:
    case 43:
    case 44:
    case 47:
    case 62:
    case 64:
    case 126:
    case 59:
    case 123:
    case 125:
      return 4;
    case 58:
      return 3;
    case 34:
    case 39:
    case 40:
    case 91:
      return 2;
    case 41:
    case 93:
      return 1;
  }
  return 0;
}
function alloc(value) {
  return line = column = 1, length = strlen(characters = value), position$1 = 0, [];
}
function dealloc(value) {
  return characters = "", value;
}
function delimit(type) {
  return trim(slice(position$1 - 1, delimiter(type === 91 ? type + 2 : type === 40 ? type + 1 : type)));
}
function whitespace(type) {
  while (character = peek())
    if (character < 33)
      next();
    else
      break;
  return token(type) > 2 || token(character) > 3 ? "" : " ";
}
function escaping(index, count) {
  while (--count && next())
    if (character < 48 || character > 102 || character > 57 && character < 65 || character > 70 && character < 97)
      break;
  return slice(index, caret() + (count < 6 && peek() == 32 && next() == 32));
}
function delimiter(type) {
  while (next())
    switch (character) {
      case type:
        return position$1;
      case 34:
      case 39:
        if (type !== 34 && type !== 39)
          delimiter(character);
        break;
      case 40:
        if (type === 41)
          delimiter(type);
        break;
      case 92:
        next();
        break;
    }
  return position$1;
}
function commenter(type, index) {
  while (next())
    if (type + character === 47 + 10)
      break;
    else if (type + character === 42 + 42 && peek() === 47)
      break;
  return "/*" + slice(index, position$1 - 1) + "*" + from(type === 47 ? type : next());
}
function identifier(index) {
  while (!token(peek()))
    next();
  return slice(index, position$1);
}
function compile(value) {
  return dealloc(parse("", null, null, null, [""], value = alloc(value), 0, [0], value));
}
function parse(value, root2, parent, rule, rules, rulesets, pseudo, points, declarations) {
  var index = 0;
  var offset = 0;
  var length2 = pseudo;
  var atrule = 0;
  var property = 0;
  var previous = 0;
  var variable = 1;
  var scanning = 1;
  var ampersand = 1;
  var character2 = 0;
  var type = "";
  var props = rules;
  var children = rulesets;
  var reference = rule;
  var characters2 = type;
  while (scanning)
    switch (previous = character2, character2 = next()) {
      case 40:
        if (previous != 108 && charat(characters2, length2 - 1) == 58) {
          if (indexof(characters2 += replace(delimit(character2), "&", "&\f"), "&\f") != -1)
            ampersand = -1;
          break;
        }
      case 34:
      case 39:
      case 91:
        characters2 += delimit(character2);
        break;
      case 9:
      case 10:
      case 13:
      case 32:
        characters2 += whitespace(previous);
        break;
      case 92:
        characters2 += escaping(caret() - 1, 7);
        continue;
      case 47:
        switch (peek()) {
          case 42:
          case 47:
            append(comment(commenter(next(), caret()), root2, parent), declarations);
            break;
          default:
            characters2 += "/";
        }
        break;
      case 123 * variable:
        points[index++] = strlen(characters2) * ampersand;
      case 125 * variable:
      case 59:
      case 0:
        switch (character2) {
          case 0:
          case 125:
            scanning = 0;
          case 59 + offset:
            if (property > 0 && strlen(characters2) - length2)
              append(property > 32 ? declaration(characters2 + ";", rule, parent, length2 - 1) : declaration(replace(characters2, " ", "") + ";", rule, parent, length2 - 2), declarations);
            break;
          case 59:
            characters2 += ";";
          default:
            append(reference = ruleset(characters2, root2, parent, index, offset, rules, points, type, props = [], children = [], length2), rulesets);
            if (character2 === 123)
              if (offset === 0)
                parse(characters2, root2, reference, reference, props, rulesets, length2, points, children);
              else
                switch (atrule === 99 && charat(characters2, 3) === 110 ? 100 : atrule) {
                  case 100:
                  case 109:
                  case 115:
                    parse(value, reference, reference, rule && append(ruleset(value, reference, reference, 0, 0, rules, points, type, rules, props = [], length2), children), rules, children, length2, points, rule ? props : children);
                    break;
                  default:
                    parse(characters2, reference, reference, reference, [""], children, 0, points, children);
                }
        }
        index = offset = property = 0, variable = ampersand = 1, type = characters2 = "", length2 = pseudo;
        break;
      case 58:
        length2 = 1 + strlen(characters2), property = previous;
      default:
        if (variable < 1) {
          if (character2 == 123)
            --variable;
          else if (character2 == 125 && variable++ == 0 && prev() == 125)
            continue;
        }
        switch (characters2 += from(character2), character2 * variable) {
          case 38:
            ampersand = offset > 0 ? 1 : (characters2 += "\f", -1);
            break;
          case 44:
            points[index++] = (strlen(characters2) - 1) * ampersand, ampersand = 1;
            break;
          case 64:
            if (peek() === 45)
              characters2 += delimit(next());
            atrule = peek(), offset = length2 = strlen(type = characters2 += identifier(caret())), character2++;
            break;
          case 45:
            if (previous === 45 && strlen(characters2) == 2)
              variable = 0;
        }
    }
  return rulesets;
}
function ruleset(value, root2, parent, index, offset, rules, points, type, props, children, length2) {
  var post = offset - 1;
  var rule = offset === 0 ? rules : [""];
  var size = sizeof(rule);
  for (var i = 0, j = 0, k = 0; i < index; ++i)
    for (var x = 0, y = substr(value, post + 1, post = abs(j = points[i])), z = value; x < size; ++x)
      if (z = trim(j > 0 ? rule[x] + " " + y : replace(y, /&\f/g, rule[x])))
        props[k++] = z;
  return node(value, root2, parent, offset === 0 ? RULESET : type, props, children, length2);
}
function comment(value, root2, parent) {
  return node(value, root2, parent, COMMENT, from(char()), substr(value, 2, -2), 0);
}
function declaration(value, root2, parent, length2) {
  return node(value, root2, parent, DECLARATION, substr(value, 0, length2), substr(value, length2 + 1, -1), length2);
}
function serialize(children, callback) {
  var output = "";
  var length2 = sizeof(children);
  for (var i = 0; i < length2; i++)
    output += callback(children[i], i, children, callback) || "";
  return output;
}
function stringify(element, index, children, callback) {
  switch (element.type) {
    case IMPORT:
    case DECLARATION:
      return element.return = element.return || element.value;
    case COMMENT:
      return "";
    case KEYFRAMES:
      return element.return = element.value + "{" + serialize(element.children, callback) + "}";
    case RULESET:
      element.value = element.props.join(",");
  }
  return strlen(children = serialize(element.children, callback)) ? element.return = element.value + "{" + children + "}" : "";
}
function middleware(collection) {
  var length2 = sizeof(collection);
  return function(element, index, children, callback) {
    var output = "";
    for (var i = 0; i < length2; i++)
      output += collection[i](element, index, children, callback) || "";
    return output;
  };
}
function rulesheet(callback) {
  return function(element) {
    if (!element.root) {
      if (element = element.return)
        callback(element);
    }
  };
}
var weakMemoize = function weakMemoize2(func) {
  var cache = /* @__PURE__ */ new WeakMap();
  return function(arg) {
    if (cache.has(arg)) {
      return cache.get(arg);
    }
    var ret = func(arg);
    cache.set(arg, ret);
    return ret;
  };
};
var identifierWithPointTracking = function identifierWithPointTracking2(begin, points, index) {
  var previous = 0;
  var character2 = 0;
  while (true) {
    previous = character2;
    character2 = peek();
    if (previous === 38 && character2 === 12) {
      points[index] = 1;
    }
    if (token(character2)) {
      break;
    }
    next();
  }
  return slice(begin, position$1);
};
var toRules = function toRules2(parsed, points) {
  var index = -1;
  var character2 = 44;
  do {
    switch (token(character2)) {
      case 0:
        if (character2 === 38 && peek() === 12) {
          points[index] = 1;
        }
        parsed[index] += identifierWithPointTracking(position$1 - 1, points, index);
        break;
      case 2:
        parsed[index] += delimit(character2);
        break;
      case 4:
        if (character2 === 44) {
          parsed[++index] = peek() === 58 ? "&\f" : "";
          points[index] = parsed[index].length;
          break;
        }
      default:
        parsed[index] += from(character2);
    }
  } while (character2 = next());
  return parsed;
};
var getRules = function getRules2(value, points) {
  return dealloc(toRules(alloc(value), points));
};
var fixedElements = /* @__PURE__ */ new WeakMap();
var compat = function compat2(element) {
  if (element.type !== "rule" || !element.parent || element.length < 1) {
    return;
  }
  var value = element.value, parent = element.parent;
  var isImplicitRule = element.column === parent.column && element.line === parent.line;
  while (parent.type !== "rule") {
    parent = parent.parent;
    if (!parent)
      return;
  }
  if (element.props.length === 1 && value.charCodeAt(0) !== 58 && !fixedElements.get(parent)) {
    return;
  }
  if (isImplicitRule) {
    return;
  }
  fixedElements.set(element, true);
  var points = [];
  var rules = getRules(value, points);
  var parentRules = parent.props;
  for (var i = 0, k = 0; i < rules.length; i++) {
    for (var j = 0; j < parentRules.length; j++, k++) {
      element.props[k] = points[i] ? rules[i].replace(/&\f/g, parentRules[j]) : parentRules[j] + " " + rules[i];
    }
  }
};
var removeLabel = function removeLabel2(element) {
  if (element.type === "decl") {
    var value = element.value;
    if (value.charCodeAt(0) === 108 && value.charCodeAt(2) === 98) {
      element["return"] = "";
      element.value = "";
    }
  }
};
var ignoreFlag = "emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason";
var isIgnoringComment = function isIgnoringComment2(element) {
  return element.type === "comm" && element.children.indexOf(ignoreFlag) > -1;
};
var createUnsafeSelectorsAlarm = function createUnsafeSelectorsAlarm2(cache) {
  return function(element, index, children) {
    if (element.type !== "rule" || cache.compat)
      return;
    var unsafePseudoClasses = element.value.match(/(:first|:nth|:nth-last)-child/g);
    if (unsafePseudoClasses) {
      var isNested = element.parent === children[0];
      var commentContainer = isNested ? children[0].children : children;
      for (var i = commentContainer.length - 1; i >= 0; i--) {
        var node2 = commentContainer[i];
        if (node2.line < element.line) {
          break;
        }
        if (node2.column < element.column) {
          if (isIgnoringComment(node2)) {
            return;
          }
          break;
        }
      }
      unsafePseudoClasses.forEach(function(unsafePseudoClass) {
        console.error('The pseudo class "' + unsafePseudoClass + '" is potentially unsafe when doing server-side rendering. Try changing it to "' + unsafePseudoClass.split("-child")[0] + '-of-type".');
      });
    }
  };
};
var isImportRule = function isImportRule2(element) {
  return element.type.charCodeAt(1) === 105 && element.type.charCodeAt(0) === 64;
};
var isPrependedWithRegularRules = function isPrependedWithRegularRules2(index, children) {
  for (var i = index - 1; i >= 0; i--) {
    if (!isImportRule(children[i])) {
      return true;
    }
  }
  return false;
};
var nullifyElement = function nullifyElement2(element) {
  element.type = "";
  element.value = "";
  element["return"] = "";
  element.children = "";
  element.props = "";
};
var incorrectImportAlarm = function incorrectImportAlarm2(element, index, children) {
  if (!isImportRule(element)) {
    return;
  }
  if (element.parent) {
    console.error("`@import` rules can't be nested inside other rules. Please move it to the top level and put it before regular rules. Keep in mind that they can only be used within global styles.");
    nullifyElement(element);
  } else if (isPrependedWithRegularRules(index, children)) {
    console.error("`@import` rules can't be after other rules. Please put your `@import` rules before your other rules.");
    nullifyElement(element);
  }
};
function prefix(value, length2) {
  switch (hash(value, length2)) {
    case 5103:
      return WEBKIT + "print-" + value + value;
    case 5737:
    case 4201:
    case 3177:
    case 3433:
    case 1641:
    case 4457:
    case 2921:
    case 5572:
    case 6356:
    case 5844:
    case 3191:
    case 6645:
    case 3005:
    case 6391:
    case 5879:
    case 5623:
    case 6135:
    case 4599:
    case 4855:
    case 4215:
    case 6389:
    case 5109:
    case 5365:
    case 5621:
    case 3829:
      return WEBKIT + value + value;
    case 5349:
    case 4246:
    case 4810:
    case 6968:
    case 2756:
      return WEBKIT + value + MOZ + value + MS + value + value;
    case 6828:
    case 4268:
      return WEBKIT + value + MS + value + value;
    case 6165:
      return WEBKIT + value + MS + "flex-" + value + value;
    case 5187:
      return WEBKIT + value + replace(value, /(\w+).+(:[^]+)/, WEBKIT + "box-$1$2" + MS + "flex-$1$2") + value;
    case 5443:
      return WEBKIT + value + MS + "flex-item-" + replace(value, /flex-|-self/, "") + value;
    case 4675:
      return WEBKIT + value + MS + "flex-line-pack" + replace(value, /align-content|flex-|-self/, "") + value;
    case 5548:
      return WEBKIT + value + MS + replace(value, "shrink", "negative") + value;
    case 5292:
      return WEBKIT + value + MS + replace(value, "basis", "preferred-size") + value;
    case 6060:
      return WEBKIT + "box-" + replace(value, "-grow", "") + WEBKIT + value + MS + replace(value, "grow", "positive") + value;
    case 4554:
      return WEBKIT + replace(value, /([^-])(transform)/g, "$1" + WEBKIT + "$2") + value;
    case 6187:
      return replace(replace(replace(value, /(zoom-|grab)/, WEBKIT + "$1"), /(image-set)/, WEBKIT + "$1"), value, "") + value;
    case 5495:
    case 3959:
      return replace(value, /(image-set\([^]*)/, WEBKIT + "$1$`$1");
    case 4968:
      return replace(replace(value, /(.+:)(flex-)?(.*)/, WEBKIT + "box-pack:$3" + MS + "flex-pack:$3"), /s.+-b[^;]+/, "justify") + WEBKIT + value + value;
    case 4095:
    case 3583:
    case 4068:
    case 2532:
      return replace(value, /(.+)-inline(.+)/, WEBKIT + "$1$2") + value;
    case 8116:
    case 7059:
    case 5753:
    case 5535:
    case 5445:
    case 5701:
    case 4933:
    case 4677:
    case 5533:
    case 5789:
    case 5021:
    case 4765:
      if (strlen(value) - 1 - length2 > 6)
        switch (charat(value, length2 + 1)) {
          case 109:
            if (charat(value, length2 + 4) !== 45)
              break;
          case 102:
            return replace(value, /(.+:)(.+)-([^]+)/, "$1" + WEBKIT + "$2-$3$1" + MOZ + (charat(value, length2 + 3) == 108 ? "$3" : "$2-$3")) + value;
          case 115:
            return ~indexof(value, "stretch") ? prefix(replace(value, "stretch", "fill-available"), length2) + value : value;
        }
      break;
    case 4949:
      if (charat(value, length2 + 1) !== 115)
        break;
    case 6444:
      switch (charat(value, strlen(value) - 3 - (~indexof(value, "!important") && 10))) {
        case 107:
          return replace(value, ":", ":" + WEBKIT) + value;
        case 101:
          return replace(value, /(.+:)([^;!]+)(;|!.+)?/, "$1" + WEBKIT + (charat(value, 14) === 45 ? "inline-" : "") + "box$3$1" + WEBKIT + "$2$3$1" + MS + "$2box$3") + value;
      }
      break;
    case 5936:
      switch (charat(value, length2 + 11)) {
        case 114:
          return WEBKIT + value + MS + replace(value, /[svh]\w+-[tblr]{2}/, "tb") + value;
        case 108:
          return WEBKIT + value + MS + replace(value, /[svh]\w+-[tblr]{2}/, "tb-rl") + value;
        case 45:
          return WEBKIT + value + MS + replace(value, /[svh]\w+-[tblr]{2}/, "lr") + value;
      }
      return WEBKIT + value + MS + value + value;
  }
  return value;
}
var prefixer = function prefixer2(element, index, children, callback) {
  if (element.length > -1) {
    if (!element["return"])
      switch (element.type) {
        case DECLARATION:
          element["return"] = prefix(element.value, element.length);
          break;
        case KEYFRAMES:
          return serialize([copy(element, {
            value: replace(element.value, "@", "@" + WEBKIT)
          })], callback);
        case RULESET:
          if (element.length)
            return combine(element.props, function(value) {
              switch (match(value, /(::plac\w+|:read-\w+)/)) {
                case ":read-only":
                case ":read-write":
                  return serialize([copy(element, {
                    props: [replace(value, /:(read-\w+)/, ":" + MOZ + "$1")]
                  })], callback);
                case "::placeholder":
                  return serialize([copy(element, {
                    props: [replace(value, /:(plac\w+)/, ":" + WEBKIT + "input-$1")]
                  }), copy(element, {
                    props: [replace(value, /:(plac\w+)/, ":" + MOZ + "$1")]
                  }), copy(element, {
                    props: [replace(value, /:(plac\w+)/, MS + "input-$1")]
                  })], callback);
              }
              return "";
            });
      }
  }
};
var isBrowser$5 = typeof document !== "undefined";
var getServerStylisCache = isBrowser$5 ? void 0 : weakMemoize(function() {
  return memoize$1(function() {
    var cache = {};
    return function(name) {
      return cache[name];
    };
  });
});
var defaultStylisPlugins = [prefixer];
var createCache = function createCache2(options) {
  var key = options.key;
  if (process.env.NODE_ENV !== "production" && !key) {
    throw new Error("You have to configure `key` for your cache. Please make sure it's unique (and not equal to 'css') as it's used for linking styles to your cache.\nIf multiple caches share the same key they might \"fight\" for each other's style elements.");
  }
  if (isBrowser$5 && key === "css") {
    var ssrStyles = document.querySelectorAll("style[data-emotion]:not([data-s])");
    Array.prototype.forEach.call(ssrStyles, function(node2) {
      var dataEmotionAttribute = node2.getAttribute("data-emotion");
      if (dataEmotionAttribute.indexOf(" ") === -1) {
        return;
      }
      document.head.appendChild(node2);
      node2.setAttribute("data-s", "");
    });
  }
  var stylisPlugins = options.stylisPlugins || defaultStylisPlugins;
  if (process.env.NODE_ENV !== "production") {
    if (/[^a-z-]/.test(key)) {
      throw new Error('Emotion key must only contain lower case alphabetical characters and - but "' + key + '" was passed');
    }
  }
  var inserted = {};
  var container;
  var nodesToHydrate = [];
  if (isBrowser$5) {
    container = options.container || document.head;
    Array.prototype.forEach.call(
      document.querySelectorAll('style[data-emotion^="' + key + ' "]'),
      function(node2) {
        var attrib = node2.getAttribute("data-emotion").split(" ");
        for (var i = 1; i < attrib.length; i++) {
          inserted[attrib[i]] = true;
        }
        nodesToHydrate.push(node2);
      }
    );
  }
  var _insert;
  var omnipresentPlugins = [compat, removeLabel];
  if (process.env.NODE_ENV !== "production") {
    omnipresentPlugins.push(createUnsafeSelectorsAlarm({
      get compat() {
        return cache.compat;
      }
    }), incorrectImportAlarm);
  }
  if (isBrowser$5) {
    var currentSheet;
    var finalizingPlugins = [stringify, process.env.NODE_ENV !== "production" ? function(element) {
      if (!element.root) {
        if (element["return"]) {
          currentSheet.insert(element["return"]);
        } else if (element.value && element.type !== COMMENT) {
          currentSheet.insert(element.value + "{}");
        }
      }
    } : rulesheet(function(rule) {
      currentSheet.insert(rule);
    })];
    var serializer = middleware(omnipresentPlugins.concat(stylisPlugins, finalizingPlugins));
    var stylis = function stylis2(styles) {
      return serialize(compile(styles), serializer);
    };
    _insert = function insert(selector, serialized, sheet, shouldCache) {
      currentSheet = sheet;
      if (process.env.NODE_ENV !== "production" && serialized.map !== void 0) {
        currentSheet = {
          insert: function insert2(rule) {
            sheet.insert(rule + serialized.map);
          }
        };
      }
      stylis(selector ? selector + "{" + serialized.styles + "}" : serialized.styles);
      if (shouldCache) {
        cache.inserted[serialized.name] = true;
      }
    };
  } else {
    var _finalizingPlugins = [stringify];
    var _serializer = middleware(omnipresentPlugins.concat(stylisPlugins, _finalizingPlugins));
    var _stylis = function _stylis2(styles) {
      return serialize(compile(styles), _serializer);
    };
    var serverStylisCache = getServerStylisCache(stylisPlugins)(key);
    var getRules3 = function getRules4(selector, serialized) {
      var name = serialized.name;
      if (serverStylisCache[name] === void 0) {
        serverStylisCache[name] = _stylis(selector ? selector + "{" + serialized.styles + "}" : serialized.styles);
      }
      return serverStylisCache[name];
    };
    _insert = function _insert2(selector, serialized, sheet, shouldCache) {
      var name = serialized.name;
      var rules = getRules3(selector, serialized);
      if (cache.compat === void 0) {
        if (shouldCache) {
          cache.inserted[name] = true;
        }
        if (process.env.NODE_ENV === "development" && serialized.map !== void 0) {
          return rules + serialized.map;
        }
        return rules;
      } else {
        if (shouldCache) {
          cache.inserted[name] = rules;
        } else {
          return rules;
        }
      }
    };
  }
  var cache = {
    key,
    sheet: new StyleSheet({
      key,
      container,
      nonce: options.nonce,
      speedy: options.speedy,
      prepend: options.prepend,
      insertionPoint: options.insertionPoint
    }),
    nonce: options.nonce,
    inserted,
    registered: {},
    insert: _insert
  };
  cache.sheet.hydrate(nodesToHydrate);
  return cache;
};
var reactIs$2 = { exports: {} };
var reactIs_production_min$1 = {};
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var hasRequiredReactIs_production_min$1;
function requireReactIs_production_min$1() {
  if (hasRequiredReactIs_production_min$1)
    return reactIs_production_min$1;
  hasRequiredReactIs_production_min$1 = 1;
  var b = "function" === typeof Symbol && Symbol.for, c = b ? Symbol.for("react.element") : 60103, d = b ? Symbol.for("react.portal") : 60106, e = b ? Symbol.for("react.fragment") : 60107, f = b ? Symbol.for("react.strict_mode") : 60108, g = b ? Symbol.for("react.profiler") : 60114, h = b ? Symbol.for("react.provider") : 60109, k = b ? Symbol.for("react.context") : 60110, l = b ? Symbol.for("react.async_mode") : 60111, m = b ? Symbol.for("react.concurrent_mode") : 60111, n = b ? Symbol.for("react.forward_ref") : 60112, p = b ? Symbol.for("react.suspense") : 60113, q = b ? Symbol.for("react.suspense_list") : 60120, r3 = b ? Symbol.for("react.memo") : 60115, t = b ? Symbol.for("react.lazy") : 60116, v = b ? Symbol.for("react.block") : 60121, w = b ? Symbol.for("react.fundamental") : 60117, x = b ? Symbol.for("react.responder") : 60118, y = b ? Symbol.for("react.scope") : 60119;
  function z(a) {
    if ("object" === typeof a && null !== a) {
      var u = a.$$typeof;
      switch (u) {
        case c:
          switch (a = a.type, a) {
            case l:
            case m:
            case e:
            case g:
            case f:
            case p:
              return a;
            default:
              switch (a = a && a.$$typeof, a) {
                case k:
                case n:
                case t:
                case r3:
                case h:
                  return a;
                default:
                  return u;
              }
          }
        case d:
          return u;
      }
    }
  }
  function A(a) {
    return z(a) === m;
  }
  reactIs_production_min$1.AsyncMode = l;
  reactIs_production_min$1.ConcurrentMode = m;
  reactIs_production_min$1.ContextConsumer = k;
  reactIs_production_min$1.ContextProvider = h;
  reactIs_production_min$1.Element = c;
  reactIs_production_min$1.ForwardRef = n;
  reactIs_production_min$1.Fragment = e;
  reactIs_production_min$1.Lazy = t;
  reactIs_production_min$1.Memo = r3;
  reactIs_production_min$1.Portal = d;
  reactIs_production_min$1.Profiler = g;
  reactIs_production_min$1.StrictMode = f;
  reactIs_production_min$1.Suspense = p;
  reactIs_production_min$1.isAsyncMode = function(a) {
    return A(a) || z(a) === l;
  };
  reactIs_production_min$1.isConcurrentMode = A;
  reactIs_production_min$1.isContextConsumer = function(a) {
    return z(a) === k;
  };
  reactIs_production_min$1.isContextProvider = function(a) {
    return z(a) === h;
  };
  reactIs_production_min$1.isElement = function(a) {
    return "object" === typeof a && null !== a && a.$$typeof === c;
  };
  reactIs_production_min$1.isForwardRef = function(a) {
    return z(a) === n;
  };
  reactIs_production_min$1.isFragment = function(a) {
    return z(a) === e;
  };
  reactIs_production_min$1.isLazy = function(a) {
    return z(a) === t;
  };
  reactIs_production_min$1.isMemo = function(a) {
    return z(a) === r3;
  };
  reactIs_production_min$1.isPortal = function(a) {
    return z(a) === d;
  };
  reactIs_production_min$1.isProfiler = function(a) {
    return z(a) === g;
  };
  reactIs_production_min$1.isStrictMode = function(a) {
    return z(a) === f;
  };
  reactIs_production_min$1.isSuspense = function(a) {
    return z(a) === p;
  };
  reactIs_production_min$1.isValidElementType = function(a) {
    return "string" === typeof a || "function" === typeof a || a === e || a === m || a === g || a === f || a === p || a === q || "object" === typeof a && null !== a && (a.$$typeof === t || a.$$typeof === r3 || a.$$typeof === h || a.$$typeof === k || a.$$typeof === n || a.$$typeof === w || a.$$typeof === x || a.$$typeof === y || a.$$typeof === v);
  };
  reactIs_production_min$1.typeOf = z;
  return reactIs_production_min$1;
}
var reactIs_development$1 = {};
/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var hasRequiredReactIs_development$1;
function requireReactIs_development$1() {
  if (hasRequiredReactIs_development$1)
    return reactIs_development$1;
  hasRequiredReactIs_development$1 = 1;
  if (process.env.NODE_ENV !== "production") {
    (function() {
      var hasSymbol = typeof Symbol === "function" && Symbol.for;
      var REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for("react.element") : 60103;
      var REACT_PORTAL_TYPE = hasSymbol ? Symbol.for("react.portal") : 60106;
      var REACT_FRAGMENT_TYPE = hasSymbol ? Symbol.for("react.fragment") : 60107;
      var REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol.for("react.strict_mode") : 60108;
      var REACT_PROFILER_TYPE = hasSymbol ? Symbol.for("react.profiler") : 60114;
      var REACT_PROVIDER_TYPE = hasSymbol ? Symbol.for("react.provider") : 60109;
      var REACT_CONTEXT_TYPE = hasSymbol ? Symbol.for("react.context") : 60110;
      var REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol.for("react.async_mode") : 60111;
      var REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol.for("react.concurrent_mode") : 60111;
      var REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for("react.forward_ref") : 60112;
      var REACT_SUSPENSE_TYPE = hasSymbol ? Symbol.for("react.suspense") : 60113;
      var REACT_SUSPENSE_LIST_TYPE = hasSymbol ? Symbol.for("react.suspense_list") : 60120;
      var REACT_MEMO_TYPE = hasSymbol ? Symbol.for("react.memo") : 60115;
      var REACT_LAZY_TYPE = hasSymbol ? Symbol.for("react.lazy") : 60116;
      var REACT_BLOCK_TYPE = hasSymbol ? Symbol.for("react.block") : 60121;
      var REACT_FUNDAMENTAL_TYPE = hasSymbol ? Symbol.for("react.fundamental") : 60117;
      var REACT_RESPONDER_TYPE = hasSymbol ? Symbol.for("react.responder") : 60118;
      var REACT_SCOPE_TYPE = hasSymbol ? Symbol.for("react.scope") : 60119;
      function isValidElementType(type) {
        return typeof type === "string" || typeof type === "function" || type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || typeof type === "object" && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_FUNDAMENTAL_TYPE || type.$$typeof === REACT_RESPONDER_TYPE || type.$$typeof === REACT_SCOPE_TYPE || type.$$typeof === REACT_BLOCK_TYPE);
      }
      function typeOf(object) {
        if (typeof object === "object" && object !== null) {
          var $$typeof = object.$$typeof;
          switch ($$typeof) {
            case REACT_ELEMENT_TYPE:
              var type = object.type;
              switch (type) {
                case REACT_ASYNC_MODE_TYPE:
                case REACT_CONCURRENT_MODE_TYPE:
                case REACT_FRAGMENT_TYPE:
                case REACT_PROFILER_TYPE:
                case REACT_STRICT_MODE_TYPE:
                case REACT_SUSPENSE_TYPE:
                  return type;
                default:
                  var $$typeofType = type && type.$$typeof;
                  switch ($$typeofType) {
                    case REACT_CONTEXT_TYPE:
                    case REACT_FORWARD_REF_TYPE:
                    case REACT_LAZY_TYPE:
                    case REACT_MEMO_TYPE:
                    case REACT_PROVIDER_TYPE:
                      return $$typeofType;
                    default:
                      return $$typeof;
                  }
              }
            case REACT_PORTAL_TYPE:
              return $$typeof;
          }
        }
        return void 0;
      }
      var AsyncMode = REACT_ASYNC_MODE_TYPE;
      var ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;
      var ContextConsumer = REACT_CONTEXT_TYPE;
      var ContextProvider = REACT_PROVIDER_TYPE;
      var Element = REACT_ELEMENT_TYPE;
      var ForwardRef = REACT_FORWARD_REF_TYPE;
      var Fragment2 = REACT_FRAGMENT_TYPE;
      var Lazy = REACT_LAZY_TYPE;
      var Memo = REACT_MEMO_TYPE;
      var Portal = REACT_PORTAL_TYPE;
      var Profiler = REACT_PROFILER_TYPE;
      var StrictMode = REACT_STRICT_MODE_TYPE;
      var Suspense = REACT_SUSPENSE_TYPE;
      var hasWarnedAboutDeprecatedIsAsyncMode = false;
      function isAsyncMode(object) {
        {
          if (!hasWarnedAboutDeprecatedIsAsyncMode) {
            hasWarnedAboutDeprecatedIsAsyncMode = true;
            console["warn"]("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.");
          }
        }
        return isConcurrentMode(object) || typeOf(object) === REACT_ASYNC_MODE_TYPE;
      }
      function isConcurrentMode(object) {
        return typeOf(object) === REACT_CONCURRENT_MODE_TYPE;
      }
      function isContextConsumer(object) {
        return typeOf(object) === REACT_CONTEXT_TYPE;
      }
      function isContextProvider(object) {
        return typeOf(object) === REACT_PROVIDER_TYPE;
      }
      function isElement(object) {
        return typeof object === "object" && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;
      }
      function isForwardRef(object) {
        return typeOf(object) === REACT_FORWARD_REF_TYPE;
      }
      function isFragment(object) {
        return typeOf(object) === REACT_FRAGMENT_TYPE;
      }
      function isLazy(object) {
        return typeOf(object) === REACT_LAZY_TYPE;
      }
      function isMemo(object) {
        return typeOf(object) === REACT_MEMO_TYPE;
      }
      function isPortal(object) {
        return typeOf(object) === REACT_PORTAL_TYPE;
      }
      function isProfiler(object) {
        return typeOf(object) === REACT_PROFILER_TYPE;
      }
      function isStrictMode(object) {
        return typeOf(object) === REACT_STRICT_MODE_TYPE;
      }
      function isSuspense(object) {
        return typeOf(object) === REACT_SUSPENSE_TYPE;
      }
      reactIs_development$1.AsyncMode = AsyncMode;
      reactIs_development$1.ConcurrentMode = ConcurrentMode;
      reactIs_development$1.ContextConsumer = ContextConsumer;
      reactIs_development$1.ContextProvider = ContextProvider;
      reactIs_development$1.Element = Element;
      reactIs_development$1.ForwardRef = ForwardRef;
      reactIs_development$1.Fragment = Fragment2;
      reactIs_development$1.Lazy = Lazy;
      reactIs_development$1.Memo = Memo;
      reactIs_development$1.Portal = Portal;
      reactIs_development$1.Profiler = Profiler;
      reactIs_development$1.StrictMode = StrictMode;
      reactIs_development$1.Suspense = Suspense;
      reactIs_development$1.isAsyncMode = isAsyncMode;
      reactIs_development$1.isConcurrentMode = isConcurrentMode;
      reactIs_development$1.isContextConsumer = isContextConsumer;
      reactIs_development$1.isContextProvider = isContextProvider;
      reactIs_development$1.isElement = isElement;
      reactIs_development$1.isForwardRef = isForwardRef;
      reactIs_development$1.isFragment = isFragment;
      reactIs_development$1.isLazy = isLazy;
      reactIs_development$1.isMemo = isMemo;
      reactIs_development$1.isPortal = isPortal;
      reactIs_development$1.isProfiler = isProfiler;
      reactIs_development$1.isStrictMode = isStrictMode;
      reactIs_development$1.isSuspense = isSuspense;
      reactIs_development$1.isValidElementType = isValidElementType;
      reactIs_development$1.typeOf = typeOf;
    })();
  }
  return reactIs_development$1;
}
(function(module) {
  if (process.env.NODE_ENV === "production") {
    module.exports = requireReactIs_production_min$1();
  } else {
    module.exports = requireReactIs_development$1();
  }
})(reactIs$2);
var reactIs$1 = reactIs$2.exports;
var FORWARD_REF_STATICS = {
  "$$typeof": true,
  render: true,
  defaultProps: true,
  displayName: true,
  propTypes: true
};
var MEMO_STATICS = {
  "$$typeof": true,
  compare: true,
  defaultProps: true,
  displayName: true,
  propTypes: true,
  type: true
};
var TYPE_STATICS = {};
TYPE_STATICS[reactIs$1.ForwardRef] = FORWARD_REF_STATICS;
TYPE_STATICS[reactIs$1.Memo] = MEMO_STATICS;
var isBrowser$4 = typeof document !== "undefined";
function getRegisteredStyles(registered, registeredStyles, classNames) {
  var rawClassName = "";
  classNames.split(" ").forEach(function(className) {
    if (registered[className] !== void 0) {
      registeredStyles.push(registered[className] + ";");
    } else {
      rawClassName += className + " ";
    }
  });
  return rawClassName;
}
var registerStyles = function registerStyles2(cache, serialized, isStringTag2) {
  var className = cache.key + "-" + serialized.name;
  if ((isStringTag2 === false || isBrowser$4 === false && cache.compat !== void 0) && cache.registered[className] === void 0) {
    cache.registered[className] = serialized.styles;
  }
};
var insertStyles = function insertStyles2(cache, serialized, isStringTag2) {
  registerStyles(cache, serialized, isStringTag2);
  var className = cache.key + "-" + serialized.name;
  if (cache.inserted[serialized.name] === void 0) {
    var stylesForSSR = "";
    var current = serialized;
    do {
      var maybeStyles = cache.insert(serialized === current ? "." + className : "", current, cache.sheet, true);
      if (!isBrowser$4 && maybeStyles !== void 0) {
        stylesForSSR += maybeStyles;
      }
      current = current.next;
    } while (current !== void 0);
    if (!isBrowser$4 && stylesForSSR.length !== 0) {
      return stylesForSSR;
    }
  }
};
function murmur2(str) {
  var h = 0;
  var k, i = 0, len = str.length;
  for (; len >= 4; ++i, len -= 4) {
    k = str.charCodeAt(i) & 255 | (str.charCodeAt(++i) & 255) << 8 | (str.charCodeAt(++i) & 255) << 16 | (str.charCodeAt(++i) & 255) << 24;
    k = (k & 65535) * 1540483477 + ((k >>> 16) * 59797 << 16);
    k ^= k >>> 24;
    h = (k & 65535) * 1540483477 + ((k >>> 16) * 59797 << 16) ^ (h & 65535) * 1540483477 + ((h >>> 16) * 59797 << 16);
  }
  switch (len) {
    case 3:
      h ^= (str.charCodeAt(i + 2) & 255) << 16;
    case 2:
      h ^= (str.charCodeAt(i + 1) & 255) << 8;
    case 1:
      h ^= str.charCodeAt(i) & 255;
      h = (h & 65535) * 1540483477 + ((h >>> 16) * 59797 << 16);
  }
  h ^= h >>> 13;
  h = (h & 65535) * 1540483477 + ((h >>> 16) * 59797 << 16);
  return ((h ^ h >>> 15) >>> 0).toString(36);
}
var unitlessKeys = {
  animationIterationCount: 1,
  borderImageOutset: 1,
  borderImageSlice: 1,
  borderImageWidth: 1,
  boxFlex: 1,
  boxFlexGroup: 1,
  boxOrdinalGroup: 1,
  columnCount: 1,
  columns: 1,
  flex: 1,
  flexGrow: 1,
  flexPositive: 1,
  flexShrink: 1,
  flexNegative: 1,
  flexOrder: 1,
  gridRow: 1,
  gridRowEnd: 1,
  gridRowSpan: 1,
  gridRowStart: 1,
  gridColumn: 1,
  gridColumnEnd: 1,
  gridColumnSpan: 1,
  gridColumnStart: 1,
  msGridRow: 1,
  msGridRowSpan: 1,
  msGridColumn: 1,
  msGridColumnSpan: 1,
  fontWeight: 1,
  lineHeight: 1,
  opacity: 1,
  order: 1,
  orphans: 1,
  tabSize: 1,
  widows: 1,
  zIndex: 1,
  zoom: 1,
  WebkitLineClamp: 1,
  fillOpacity: 1,
  floodOpacity: 1,
  stopOpacity: 1,
  strokeDasharray: 1,
  strokeDashoffset: 1,
  strokeMiterlimit: 1,
  strokeOpacity: 1,
  strokeWidth: 1
};
var ILLEGAL_ESCAPE_SEQUENCE_ERROR$1 = `You have illegal escape sequence in your template literal, most likely inside content's property value.
Because you write your CSS inside a JavaScript string you actually have to do double escaping, so for example "content: '\\00d7';" should become "content: '\\\\00d7';".
You can read more about this here:
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#ES2018_revision_of_illegal_escape_sequences`;
var UNDEFINED_AS_OBJECT_KEY_ERROR = "You have passed in falsy value as style object's key (can happen when in example you pass unexported component as computed key).";
var hyphenateRegex = /[A-Z]|^ms/g;
var animationRegex = /_EMO_([^_]+?)_([^]*?)_EMO_/g;
var isCustomProperty = function isCustomProperty2(property) {
  return property.charCodeAt(1) === 45;
};
var isProcessableValue = function isProcessableValue2(value) {
  return value != null && typeof value !== "boolean";
};
var processStyleName = /* @__PURE__ */ memoize$1(function(styleName) {
  return isCustomProperty(styleName) ? styleName : styleName.replace(hyphenateRegex, "-$&").toLowerCase();
});
var processStyleValue = function processStyleValue2(key, value) {
  switch (key) {
    case "animation":
    case "animationName": {
      if (typeof value === "string") {
        return value.replace(animationRegex, function(match2, p12, p22) {
          cursor = {
            name: p12,
            styles: p22,
            next: cursor
          };
          return p12;
        });
      }
    }
  }
  if (unitlessKeys[key] !== 1 && !isCustomProperty(key) && typeof value === "number" && value !== 0) {
    return value + "px";
  }
  return value;
};
if (process.env.NODE_ENV !== "production") {
  var contentValuePattern = /(var|attr|counters?|url|element|(((repeating-)?(linear|radial))|conic)-gradient)\(|(no-)?(open|close)-quote/;
  var contentValues = ["normal", "none", "initial", "inherit", "unset"];
  var oldProcessStyleValue = processStyleValue;
  var msPattern = /^-ms-/;
  var hyphenPattern = /-(.)/g;
  var hyphenatedCache = {};
  processStyleValue = function processStyleValue3(key, value) {
    if (key === "content") {
      if (typeof value !== "string" || contentValues.indexOf(value) === -1 && !contentValuePattern.test(value) && (value.charAt(0) !== value.charAt(value.length - 1) || value.charAt(0) !== '"' && value.charAt(0) !== "'")) {
        throw new Error("You seem to be using a value for 'content' without quotes, try replacing it with `content: '\"" + value + "\"'`");
      }
    }
    var processed = oldProcessStyleValue(key, value);
    if (processed !== "" && !isCustomProperty(key) && key.indexOf("-") !== -1 && hyphenatedCache[key] === void 0) {
      hyphenatedCache[key] = true;
      console.error("Using kebab-case for css properties in objects is not supported. Did you mean " + key.replace(msPattern, "ms-").replace(hyphenPattern, function(str, _char) {
        return _char.toUpperCase();
      }) + "?");
    }
    return processed;
  };
}
var noComponentSelectorMessage = "Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";
function handleInterpolation(mergedProps, registered, interpolation) {
  if (interpolation == null) {
    return "";
  }
  if (interpolation.__emotion_styles !== void 0) {
    if (process.env.NODE_ENV !== "production" && interpolation.toString() === "NO_COMPONENT_SELECTOR") {
      throw new Error(noComponentSelectorMessage);
    }
    return interpolation;
  }
  switch (typeof interpolation) {
    case "boolean": {
      return "";
    }
    case "object": {
      if (interpolation.anim === 1) {
        cursor = {
          name: interpolation.name,
          styles: interpolation.styles,
          next: cursor
        };
        return interpolation.name;
      }
      if (interpolation.styles !== void 0) {
        var next2 = interpolation.next;
        if (next2 !== void 0) {
          while (next2 !== void 0) {
            cursor = {
              name: next2.name,
              styles: next2.styles,
              next: cursor
            };
            next2 = next2.next;
          }
        }
        var styles = interpolation.styles + ";";
        if (process.env.NODE_ENV !== "production" && interpolation.map !== void 0) {
          styles += interpolation.map;
        }
        return styles;
      }
      return createStringFromObject(mergedProps, registered, interpolation);
    }
    case "function": {
      if (mergedProps !== void 0) {
        var previousCursor = cursor;
        var result = interpolation(mergedProps);
        cursor = previousCursor;
        return handleInterpolation(mergedProps, registered, result);
      } else if (process.env.NODE_ENV !== "production") {
        console.error("Functions that are interpolated in css calls will be stringified.\nIf you want to have a css call based on props, create a function that returns a css call like this\nlet dynamicStyle = (props) => css`color: ${props.color}`\nIt can be called directly with props or interpolated in a styled call like this\nlet SomeComponent = styled('div')`${dynamicStyle}`");
      }
      break;
    }
    case "string":
      if (process.env.NODE_ENV !== "production") {
        var matched = [];
        var replaced = interpolation.replace(animationRegex, function(match2, p12, p22) {
          var fakeVarName = "animation" + matched.length;
          matched.push("const " + fakeVarName + " = keyframes`" + p22.replace(/^@keyframes animation-\w+/, "") + "`");
          return "${" + fakeVarName + "}";
        });
        if (matched.length) {
          console.error("`keyframes` output got interpolated into plain string, please wrap it with `css`.\n\nInstead of doing this:\n\n" + [].concat(matched, ["`" + replaced + "`"]).join("\n") + "\n\nYou should wrap it with `css` like this:\n\n" + ("css`" + replaced + "`"));
        }
      }
      break;
  }
  if (registered == null) {
    return interpolation;
  }
  var cached = registered[interpolation];
  return cached !== void 0 ? cached : interpolation;
}
function createStringFromObject(mergedProps, registered, obj) {
  var string = "";
  if (Array.isArray(obj)) {
    for (var i = 0; i < obj.length; i++) {
      string += handleInterpolation(mergedProps, registered, obj[i]) + ";";
    }
  } else {
    for (var _key in obj) {
      var value = obj[_key];
      if (typeof value !== "object") {
        if (registered != null && registered[value] !== void 0) {
          string += _key + "{" + registered[value] + "}";
        } else if (isProcessableValue(value)) {
          string += processStyleName(_key) + ":" + processStyleValue(_key, value) + ";";
        }
      } else {
        if (_key === "NO_COMPONENT_SELECTOR" && process.env.NODE_ENV !== "production") {
          throw new Error(noComponentSelectorMessage);
        }
        if (Array.isArray(value) && typeof value[0] === "string" && (registered == null || registered[value[0]] === void 0)) {
          for (var _i2 = 0; _i2 < value.length; _i2++) {
            if (isProcessableValue(value[_i2])) {
              string += processStyleName(_key) + ":" + processStyleValue(_key, value[_i2]) + ";";
            }
          }
        } else {
          var interpolated = handleInterpolation(mergedProps, registered, value);
          switch (_key) {
            case "animation":
            case "animationName": {
              string += processStyleName(_key) + ":" + interpolated + ";";
              break;
            }
            default: {
              if (process.env.NODE_ENV !== "production" && _key === "undefined") {
                console.error(UNDEFINED_AS_OBJECT_KEY_ERROR);
              }
              string += _key + "{" + interpolated + "}";
            }
          }
        }
      }
    }
  }
  return string;
}
var labelPattern = /label:\s*([^\s;\n{]+)\s*(;|$)/g;
var sourceMapPattern;
if (process.env.NODE_ENV !== "production") {
  sourceMapPattern = /\/\*#\ssourceMappingURL=data:application\/json;\S+\s+\*\//g;
}
var cursor;
var serializeStyles = function serializeStyles2(args, registered, mergedProps) {
  if (args.length === 1 && typeof args[0] === "object" && args[0] !== null && args[0].styles !== void 0) {
    return args[0];
  }
  var stringMode = true;
  var styles = "";
  cursor = void 0;
  var strings = args[0];
  if (strings == null || strings.raw === void 0) {
    stringMode = false;
    styles += handleInterpolation(mergedProps, registered, strings);
  } else {
    if (process.env.NODE_ENV !== "production" && strings[0] === void 0) {
      console.error(ILLEGAL_ESCAPE_SEQUENCE_ERROR$1);
    }
    styles += strings[0];
  }
  for (var i = 1; i < args.length; i++) {
    styles += handleInterpolation(mergedProps, registered, args[i]);
    if (stringMode) {
      if (process.env.NODE_ENV !== "production" && strings[i] === void 0) {
        console.error(ILLEGAL_ESCAPE_SEQUENCE_ERROR$1);
      }
      styles += strings[i];
    }
  }
  var sourceMap;
  if (process.env.NODE_ENV !== "production") {
    styles = styles.replace(sourceMapPattern, function(match3) {
      sourceMap = match3;
      return "";
    });
  }
  labelPattern.lastIndex = 0;
  var identifierName = "";
  var match2;
  while ((match2 = labelPattern.exec(styles)) !== null) {
    identifierName += "-" + match2[1];
  }
  var name = murmur2(styles) + identifierName;
  if (process.env.NODE_ENV !== "production") {
    return {
      name,
      styles,
      map: sourceMap,
      next: cursor,
      toString: function toString2() {
        return "You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).";
      }
    };
  }
  return {
    name,
    styles,
    next: cursor
  };
};
var isBrowser$3 = typeof document !== "undefined";
var syncFallback = function syncFallback2(create) {
  return create();
};
var useInsertionEffect = React["useInsertionEffect"] ? React["useInsertionEffect"] : false;
var useInsertionEffectAlwaysWithSyncFallback = !isBrowser$3 ? syncFallback : useInsertionEffect || syncFallback;
var useInsertionEffectWithLayoutFallback = useInsertionEffect || useLayoutEffect;
var isBrowser$2 = typeof document !== "undefined";
var hasOwnProperty = {}.hasOwnProperty;
var EmotionCacheContext = /* @__PURE__ */ createContext(
  typeof HTMLElement !== "undefined" ? /* @__PURE__ */ createCache({
    key: "css"
  }) : null
);
if (process.env.NODE_ENV !== "production") {
  EmotionCacheContext.displayName = "EmotionCacheContext";
}
EmotionCacheContext.Provider;
var withEmotionCache = function withEmotionCache2(func) {
  return /* @__PURE__ */ forwardRef(function(props, ref) {
    var cache = useContext(EmotionCacheContext);
    return func(props, cache, ref);
  });
};
if (!isBrowser$2) {
  withEmotionCache = function withEmotionCache3(func) {
    return function(props) {
      var cache = useContext(EmotionCacheContext);
      if (cache === null) {
        cache = createCache({
          key: "css"
        });
        return /* @__PURE__ */ createElement(EmotionCacheContext.Provider, {
          value: cache
        }, func(props, cache));
      } else {
        return func(props, cache);
      }
    };
  };
}
var ThemeContext$2 = /* @__PURE__ */ createContext({});
if (process.env.NODE_ENV !== "production") {
  ThemeContext$2.displayName = "EmotionThemeContext";
}
var typePropName = "__EMOTION_TYPE_PLEASE_DO_NOT_USE__";
var labelPropName = "__EMOTION_LABEL_PLEASE_DO_NOT_USE__";
var Insertion$2 = function Insertion(_ref) {
  var cache = _ref.cache, serialized = _ref.serialized, isStringTag2 = _ref.isStringTag;
  registerStyles(cache, serialized, isStringTag2);
  var rules = useInsertionEffectAlwaysWithSyncFallback(function() {
    return insertStyles(cache, serialized, isStringTag2);
  });
  if (!isBrowser$2 && rules !== void 0) {
    var _ref2;
    var serializedNames = serialized.name;
    var next2 = serialized.next;
    while (next2 !== void 0) {
      serializedNames += " " + next2.name;
      next2 = next2.next;
    }
    return /* @__PURE__ */ createElement("style", (_ref2 = {}, _ref2["data-emotion"] = cache.key + " " + serializedNames, _ref2.dangerouslySetInnerHTML = {
      __html: rules
    }, _ref2.nonce = cache.sheet.nonce, _ref2));
  }
  return null;
};
var Emotion = /* @__PURE__ */ withEmotionCache(function(props, cache, ref) {
  var cssProp = props.css;
  if (typeof cssProp === "string" && cache.registered[cssProp] !== void 0) {
    cssProp = cache.registered[cssProp];
  }
  var WrappedComponent = props[typePropName];
  var registeredStyles = [cssProp];
  var className = "";
  if (typeof props.className === "string") {
    className = getRegisteredStyles(cache.registered, registeredStyles, props.className);
  } else if (props.className != null) {
    className = props.className + " ";
  }
  var serialized = serializeStyles(registeredStyles, void 0, useContext(ThemeContext$2));
  if (process.env.NODE_ENV !== "production" && serialized.name.indexOf("-") === -1) {
    var labelFromStack = props[labelPropName];
    if (labelFromStack) {
      serialized = serializeStyles([serialized, "label:" + labelFromStack + ";"]);
    }
  }
  className += cache.key + "-" + serialized.name;
  var newProps = {};
  for (var key in props) {
    if (hasOwnProperty.call(props, key) && key !== "css" && key !== typePropName && (process.env.NODE_ENV === "production" || key !== labelPropName)) {
      newProps[key] = props[key];
    }
  }
  newProps.ref = ref;
  newProps.className = className;
  return /* @__PURE__ */ createElement(Fragment, null, /* @__PURE__ */ createElement(Insertion$2, {
    cache,
    serialized,
    isStringTag: typeof WrappedComponent === "string"
  }), /* @__PURE__ */ createElement(WrappedComponent, newProps));
});
if (process.env.NODE_ENV !== "production") {
  Emotion.displayName = "EmotionCssPropInternal";
}
var pkg = {
  name: "@emotion/react",
  version: "11.10.5",
  main: "dist/emotion-react.cjs.js",
  module: "dist/emotion-react.esm.js",
  browser: {
    "./dist/emotion-react.esm.js": "./dist/emotion-react.browser.esm.js"
  },
  exports: {
    ".": {
      module: {
        worker: "./dist/emotion-react.worker.esm.js",
        browser: "./dist/emotion-react.browser.esm.js",
        "default": "./dist/emotion-react.esm.js"
      },
      "default": "./dist/emotion-react.cjs.js"
    },
    "./jsx-runtime": {
      module: {
        worker: "./jsx-runtime/dist/emotion-react-jsx-runtime.worker.esm.js",
        browser: "./jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js",
        "default": "./jsx-runtime/dist/emotion-react-jsx-runtime.esm.js"
      },
      "default": "./jsx-runtime/dist/emotion-react-jsx-runtime.cjs.js"
    },
    "./_isolated-hnrs": {
      module: {
        worker: "./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.worker.esm.js",
        browser: "./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.browser.esm.js",
        "default": "./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.esm.js"
      },
      "default": "./_isolated-hnrs/dist/emotion-react-_isolated-hnrs.cjs.js"
    },
    "./jsx-dev-runtime": {
      module: {
        worker: "./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.worker.esm.js",
        browser: "./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.browser.esm.js",
        "default": "./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.esm.js"
      },
      "default": "./jsx-dev-runtime/dist/emotion-react-jsx-dev-runtime.cjs.js"
    },
    "./package.json": "./package.json",
    "./types/css-prop": "./types/css-prop.d.ts",
    "./macro": "./macro.js"
  },
  types: "types/index.d.ts",
  files: [
    "src",
    "dist",
    "jsx-runtime",
    "jsx-dev-runtime",
    "_isolated-hnrs",
    "types/*.d.ts",
    "macro.js",
    "macro.d.ts",
    "macro.js.flow"
  ],
  sideEffects: false,
  author: "Emotion Contributors",
  license: "MIT",
  scripts: {
    "test:typescript": "dtslint types"
  },
  dependencies: {
    "@babel/runtime": "^7.18.3",
    "@emotion/babel-plugin": "^11.10.5",
    "@emotion/cache": "^11.10.5",
    "@emotion/serialize": "^1.1.1",
    "@emotion/use-insertion-effect-with-fallbacks": "^1.0.0",
    "@emotion/utils": "^1.2.0",
    "@emotion/weak-memoize": "^0.3.0",
    "hoist-non-react-statics": "^3.3.1"
  },
  peerDependencies: {
    "@babel/core": "^7.0.0",
    react: ">=16.8.0"
  },
  peerDependenciesMeta: {
    "@babel/core": {
      optional: true
    },
    "@types/react": {
      optional: true
    }
  },
  devDependencies: {
    "@babel/core": "^7.18.5",
    "@definitelytyped/dtslint": "0.0.112",
    "@emotion/css": "11.10.5",
    "@emotion/css-prettifier": "1.1.1",
    "@emotion/server": "11.10.0",
    "@emotion/styled": "11.10.5",
    "html-tag-names": "^1.1.2",
    react: "16.14.0",
    "svg-tag-names": "^1.1.1",
    typescript: "^4.5.5"
  },
  repository: "https://github.com/emotion-js/emotion/tree/main/packages/react",
  publishConfig: {
    access: "public"
  },
  "umd:main": "dist/emotion-react.umd.min.js",
  preconstruct: {
    entrypoints: [
      "./index.js",
      "./jsx-runtime.js",
      "./jsx-dev-runtime.js",
      "./_isolated-hnrs.js"
    ],
    umdName: "emotionReact",
    exports: {
      envConditions: [
        "browser",
        "worker"
      ],
      extra: {
        "./types/css-prop": "./types/css-prop.d.ts",
        "./macro": "./macro.js"
      }
    }
  }
};
var warnedAboutCssPropForGlobal = false;
var Global = /* @__PURE__ */ withEmotionCache(function(props, cache) {
  if (process.env.NODE_ENV !== "production" && !warnedAboutCssPropForGlobal && (props.className || props.css)) {
    console.error("It looks like you're using the css prop on Global, did you mean to use the styles prop instead?");
    warnedAboutCssPropForGlobal = true;
  }
  var styles = props.styles;
  var serialized = serializeStyles([styles], void 0, useContext(ThemeContext$2));
  if (!isBrowser$2) {
    var _ref;
    var serializedNames = serialized.name;
    var serializedStyles = serialized.styles;
    var next2 = serialized.next;
    while (next2 !== void 0) {
      serializedNames += " " + next2.name;
      serializedStyles += next2.styles;
      next2 = next2.next;
    }
    var shouldCache = cache.compat === true;
    var rules = cache.insert("", {
      name: serializedNames,
      styles: serializedStyles
    }, cache.sheet, shouldCache);
    if (shouldCache) {
      return null;
    }
    return /* @__PURE__ */ createElement("style", (_ref = {}, _ref["data-emotion"] = cache.key + "-global " + serializedNames, _ref.dangerouslySetInnerHTML = {
      __html: rules
    }, _ref.nonce = cache.sheet.nonce, _ref));
  }
  var sheetRef = useRef();
  useInsertionEffectWithLayoutFallback(function() {
    var key = cache.key + "-global";
    var sheet = new cache.sheet.constructor({
      key,
      nonce: cache.sheet.nonce,
      container: cache.sheet.container,
      speedy: cache.sheet.isSpeedy
    });
    var rehydrating = false;
    var node2 = document.querySelector('style[data-emotion="' + key + " " + serialized.name + '"]');
    if (cache.sheet.tags.length) {
      sheet.before = cache.sheet.tags[0];
    }
    if (node2 !== null) {
      rehydrating = true;
      node2.setAttribute("data-emotion", key);
      sheet.hydrate([node2]);
    }
    sheetRef.current = [sheet, rehydrating];
    return function() {
      sheet.flush();
    };
  }, [cache]);
  useInsertionEffectWithLayoutFallback(function() {
    var sheetRefCurrent = sheetRef.current;
    var sheet = sheetRefCurrent[0], rehydrating = sheetRefCurrent[1];
    if (rehydrating) {
      sheetRefCurrent[1] = false;
      return;
    }
    if (serialized.next !== void 0) {
      insertStyles(cache, serialized.next, true);
    }
    if (sheet.tags.length) {
      var element = sheet.tags[sheet.tags.length - 1].nextElementSibling;
      sheet.before = element;
      sheet.flush();
    }
    cache.insert("", serialized, sheet, false);
  }, [cache, serialized.name]);
  return null;
});
if (process.env.NODE_ENV !== "production") {
  Global.displayName = "EmotionGlobal";
}
function css() {
  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
    args[_key] = arguments[_key];
  }
  return serializeStyles(args);
}
var classnames = function classnames2(args) {
  var len = args.length;
  var i = 0;
  var cls = "";
  for (; i < len; i++) {
    var arg = args[i];
    if (arg == null)
      continue;
    var toAdd = void 0;
    switch (typeof arg) {
      case "boolean":
        break;
      case "object": {
        if (Array.isArray(arg)) {
          toAdd = classnames2(arg);
        } else {
          if (process.env.NODE_ENV !== "production" && arg.styles !== void 0 && arg.name !== void 0) {
            console.error("You have passed styles created with `css` from `@emotion/react` package to the `cx`.\n`cx` is meant to compose class names (strings) so you should convert those styles to a class name by passing them to the `css` received from <ClassNames/> component.");
          }
          toAdd = "";
          for (var k in arg) {
            if (arg[k] && k) {
              toAdd && (toAdd += " ");
              toAdd += k;
            }
          }
        }
        break;
      }
      default: {
        toAdd = arg;
      }
    }
    if (toAdd) {
      cls && (cls += " ");
      cls += toAdd;
    }
  }
  return cls;
};
function merge$1(registered, css2, className) {
  var registeredStyles = [];
  var rawClassName = getRegisteredStyles(registered, registeredStyles, className);
  if (registeredStyles.length < 2) {
    return className;
  }
  return rawClassName + css2(registeredStyles);
}
var Insertion$1 = function Insertion2(_ref) {
  var cache = _ref.cache, serializedArr = _ref.serializedArr;
  var rules = useInsertionEffectAlwaysWithSyncFallback(function() {
    var rules2 = "";
    for (var i = 0; i < serializedArr.length; i++) {
      var res = insertStyles(cache, serializedArr[i], false);
      if (!isBrowser$2 && res !== void 0) {
        rules2 += res;
      }
    }
    if (!isBrowser$2) {
      return rules2;
    }
  });
  if (!isBrowser$2 && rules.length !== 0) {
    var _ref2;
    return /* @__PURE__ */ createElement("style", (_ref2 = {}, _ref2["data-emotion"] = cache.key + " " + serializedArr.map(function(serialized) {
      return serialized.name;
    }).join(" "), _ref2.dangerouslySetInnerHTML = {
      __html: rules
    }, _ref2.nonce = cache.sheet.nonce, _ref2));
  }
  return null;
};
var ClassNames = /* @__PURE__ */ withEmotionCache(function(props, cache) {
  var hasRendered = false;
  var serializedArr = [];
  var css2 = function css3() {
    if (hasRendered && process.env.NODE_ENV !== "production") {
      throw new Error("css can only be used during render");
    }
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    var serialized = serializeStyles(args, cache.registered);
    serializedArr.push(serialized);
    registerStyles(cache, serialized, false);
    return cache.key + "-" + serialized.name;
  };
  var cx2 = function cx3() {
    if (hasRendered && process.env.NODE_ENV !== "production") {
      throw new Error("cx can only be used during render");
    }
    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      args[_key2] = arguments[_key2];
    }
    return merge$1(cache.registered, css2, classnames(args));
  };
  var content = {
    css: css2,
    cx: cx2,
    theme: useContext(ThemeContext$2)
  };
  var ele = props.children(content);
  hasRendered = true;
  return /* @__PURE__ */ createElement(Fragment, null, /* @__PURE__ */ createElement(Insertion$1, {
    cache,
    serializedArr
  }), ele);
});
if (process.env.NODE_ENV !== "production") {
  ClassNames.displayName = "EmotionClassNames";
}
if (process.env.NODE_ENV !== "production") {
  var isBrowser$1 = typeof document !== "undefined";
  var isTestEnv = typeof jest !== "undefined" || typeof vi !== "undefined";
  if (isBrowser$1 && !isTestEnv) {
    var globalContext = typeof globalThis !== "undefined" ? globalThis : isBrowser$1 ? window : global;
    var globalKey = "__EMOTION_REACT_" + pkg.version.split(".")[0] + "__";
    if (globalContext[globalKey]) {
      console.warn("You are loading @emotion/react when it is already loaded. Running multiple instances may cause problems. This can happen if multiple versions are used, or if multiple builds of the same version are used.");
    }
    globalContext[globalKey] = true;
  }
}
var testOmitPropsOnStringTag = isPropValid;
var testOmitPropsOnComponent = function testOmitPropsOnComponent2(key) {
  return key !== "theme";
};
var getDefaultShouldForwardProp = function getDefaultShouldForwardProp2(tag) {
  return typeof tag === "string" && tag.charCodeAt(0) > 96 ? testOmitPropsOnStringTag : testOmitPropsOnComponent;
};
var composeShouldForwardProps = function composeShouldForwardProps2(tag, options, isReal) {
  var shouldForwardProp2;
  if (options) {
    var optionsShouldForwardProp = options.shouldForwardProp;
    shouldForwardProp2 = tag.__emotion_forwardProp && optionsShouldForwardProp ? function(propName) {
      return tag.__emotion_forwardProp(propName) && optionsShouldForwardProp(propName);
    } : optionsShouldForwardProp;
  }
  if (typeof shouldForwardProp2 !== "function" && isReal) {
    shouldForwardProp2 = tag.__emotion_forwardProp;
  }
  return shouldForwardProp2;
};
var ILLEGAL_ESCAPE_SEQUENCE_ERROR = `You have illegal escape sequence in your template literal, most likely inside content's property value.
Because you write your CSS inside a JavaScript string you actually have to do double escaping, so for example "content: '\\00d7';" should become "content: '\\\\00d7';".
You can read more about this here:
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#ES2018_revision_of_illegal_escape_sequences`;
var isBrowser = typeof document !== "undefined";
var Insertion3 = function Insertion4(_ref) {
  var cache = _ref.cache, serialized = _ref.serialized, isStringTag2 = _ref.isStringTag;
  registerStyles(cache, serialized, isStringTag2);
  var rules = useInsertionEffectAlwaysWithSyncFallback(function() {
    return insertStyles(cache, serialized, isStringTag2);
  });
  if (!isBrowser && rules !== void 0) {
    var _ref2;
    var serializedNames = serialized.name;
    var next2 = serialized.next;
    while (next2 !== void 0) {
      serializedNames += " " + next2.name;
      next2 = next2.next;
    }
    return /* @__PURE__ */ createElement("style", (_ref2 = {}, _ref2["data-emotion"] = cache.key + " " + serializedNames, _ref2.dangerouslySetInnerHTML = {
      __html: rules
    }, _ref2.nonce = cache.sheet.nonce, _ref2));
  }
  return null;
};
var createStyled$1 = function createStyled(tag, options) {
  if (process.env.NODE_ENV !== "production") {
    if (tag === void 0) {
      throw new Error("You are trying to create a styled element with an undefined component.\nYou may have forgotten to import it.");
    }
  }
  var isReal = tag.__emotion_real === tag;
  var baseTag = isReal && tag.__emotion_base || tag;
  var identifierName;
  var targetClassName;
  if (options !== void 0) {
    identifierName = options.label;
    targetClassName = options.target;
  }
  var shouldForwardProp2 = composeShouldForwardProps(tag, options, isReal);
  var defaultShouldForwardProp = shouldForwardProp2 || getDefaultShouldForwardProp(baseTag);
  var shouldUseAs = !defaultShouldForwardProp("as");
  return function() {
    var args = arguments;
    var styles = isReal && tag.__emotion_styles !== void 0 ? tag.__emotion_styles.slice(0) : [];
    if (identifierName !== void 0) {
      styles.push("label:" + identifierName + ";");
    }
    if (args[0] == null || args[0].raw === void 0) {
      styles.push.apply(styles, args);
    } else {
      if (process.env.NODE_ENV !== "production" && args[0][0] === void 0) {
        console.error(ILLEGAL_ESCAPE_SEQUENCE_ERROR);
      }
      styles.push(args[0][0]);
      var len = args.length;
      var i = 1;
      for (; i < len; i++) {
        if (process.env.NODE_ENV !== "production" && args[0][i] === void 0) {
          console.error(ILLEGAL_ESCAPE_SEQUENCE_ERROR);
        }
        styles.push(args[i], args[0][i]);
      }
    }
    var Styled = withEmotionCache(function(props, cache, ref) {
      var FinalTag = shouldUseAs && props.as || baseTag;
      var className = "";
      var classInterpolations = [];
      var mergedProps = props;
      if (props.theme == null) {
        mergedProps = {};
        for (var key in props) {
          mergedProps[key] = props[key];
        }
        mergedProps.theme = useContext(ThemeContext$2);
      }
      if (typeof props.className === "string") {
        className = getRegisteredStyles(cache.registered, classInterpolations, props.className);
      } else if (props.className != null) {
        className = props.className + " ";
      }
      var serialized = serializeStyles(styles.concat(classInterpolations), cache.registered, mergedProps);
      className += cache.key + "-" + serialized.name;
      if (targetClassName !== void 0) {
        className += " " + targetClassName;
      }
      var finalShouldForwardProp = shouldUseAs && shouldForwardProp2 === void 0 ? getDefaultShouldForwardProp(FinalTag) : defaultShouldForwardProp;
      var newProps = {};
      for (var _key in props) {
        if (shouldUseAs && _key === "as")
          continue;
        if (finalShouldForwardProp(_key)) {
          newProps[_key] = props[_key];
        }
      }
      newProps.className = className;
      newProps.ref = ref;
      return /* @__PURE__ */ createElement(Fragment, null, /* @__PURE__ */ createElement(Insertion3, {
        cache,
        serialized,
        isStringTag: typeof FinalTag === "string"
      }), /* @__PURE__ */ createElement(FinalTag, newProps));
    });
    Styled.displayName = identifierName !== void 0 ? identifierName : "Styled(" + (typeof baseTag === "string" ? baseTag : baseTag.displayName || baseTag.name || "Component") + ")";
    Styled.defaultProps = tag.defaultProps;
    Styled.__emotion_real = Styled;
    Styled.__emotion_base = baseTag;
    Styled.__emotion_styles = styles;
    Styled.__emotion_forwardProp = shouldForwardProp2;
    Object.defineProperty(Styled, "toString", {
      value: function value() {
        if (targetClassName === void 0 && process.env.NODE_ENV !== "production") {
          return "NO_COMPONENT_SELECTOR";
        }
        return "." + targetClassName;
      }
    });
    Styled.withComponent = function(nextTag, nextOptions) {
      return createStyled(nextTag, _extends({}, options, nextOptions, {
        shouldForwardProp: composeShouldForwardProps(Styled, nextOptions, true)
      })).apply(void 0, styles);
    };
    return Styled;
  };
};
var tags = [
  "a",
  "abbr",
  "address",
  "area",
  "article",
  "aside",
  "audio",
  "b",
  "base",
  "bdi",
  "bdo",
  "big",
  "blockquote",
  "body",
  "br",
  "button",
  "canvas",
  "caption",
  "cite",
  "code",
  "col",
  "colgroup",
  "data",
  "datalist",
  "dd",
  "del",
  "details",
  "dfn",
  "dialog",
  "div",
  "dl",
  "dt",
  "em",
  "embed",
  "fieldset",
  "figcaption",
  "figure",
  "footer",
  "form",
  "h1",
  "h2",
  "h3",
  "h4",
  "h5",
  "h6",
  "head",
  "header",
  "hgroup",
  "hr",
  "html",
  "i",
  "iframe",
  "img",
  "input",
  "ins",
  "kbd",
  "keygen",
  "label",
  "legend",
  "li",
  "link",
  "main",
  "map",
  "mark",
  "marquee",
  "menu",
  "menuitem",
  "meta",
  "meter",
  "nav",
  "noscript",
  "object",
  "ol",
  "optgroup",
  "option",
  "output",
  "p",
  "param",
  "picture",
  "pre",
  "progress",
  "q",
  "rp",
  "rt",
  "ruby",
  "s",
  "samp",
  "script",
  "section",
  "select",
  "small",
  "source",
  "span",
  "strong",
  "style",
  "sub",
  "summary",
  "sup",
  "table",
  "tbody",
  "td",
  "textarea",
  "tfoot",
  "th",
  "thead",
  "time",
  "title",
  "tr",
  "track",
  "u",
  "ul",
  "var",
  "video",
  "wbr",
  "circle",
  "clipPath",
  "defs",
  "ellipse",
  "foreignObject",
  "g",
  "image",
  "line",
  "linearGradient",
  "mask",
  "path",
  "pattern",
  "polygon",
  "polyline",
  "radialGradient",
  "rect",
  "stop",
  "svg",
  "text",
  "tspan"
];
var newStyled = createStyled$1.bind();
tags.forEach(function(tagName) {
  newStyled[tagName] = newStyled(tagName);
});
const jsx = jsxRuntime.jsx;
const jsxs = jsxRuntime.jsxs;
function Answer(props) {
  const Item = newStyled.div`
    padding: 1em 0;
    border-top: 1px solid #00000022;
    page-break-inside: avoid;
  `;
  const Title = newStyled.p`
    margin: 0 0 1em 0;
    font-weight: bold;
  `;
  const checkAnswerProps2 = (props2) => {
    return Object.hasOwn(props2, "title") && Object.hasOwn(props2, "details");
  };
  if (checkAnswerProps2(props)) {
    return /* @__PURE__ */ jsxs(Item, {
      children: [/* @__PURE__ */ jsx(Title, {
        children: lodash_startcase(props.title)
      }), /* @__PURE__ */ jsx(Details, {
        data: props.details
      })]
    });
  }
  return /* @__PURE__ */ jsx("p", {
    children: "[error]"
  });
}
function Details(props) {
  const Empty = newStyled.span`
    color: #00000033;
  `;
  const {
    data
  } = props;
  if (data === null) {
    return /* @__PURE__ */ jsx(Empty, {
      children: "[none]"
    });
  }
  if (data === void 0) {
    return /* @__PURE__ */ jsx(Empty, {
      children: "[empty]"
    });
  }
  if (typeof data === "boolean") {
    return /* @__PURE__ */ jsx("span", {
      children: data ? "true" : "false"
    });
  }
  if (typeof data === "string" || typeof data === "number") {
    return /* @__PURE__ */ jsx("span", {
      children: data
    });
  }
  if (Array.isArray(data)) {
    return List(data);
  }
  if (typeof data === "object") {
    return Tree(data);
  }
  return /* @__PURE__ */ jsx("p", {
    children: `[error: Unknown detail format for ${typeof data}]`
  });
}
function List(details) {
  const isSingleValueArray = Array.isArray(details) && details.length === 1 && Object.hasOwn(details[0], "value");
  if (isSingleValueArray) {
    return /* @__PURE__ */ jsx(Details, {
      data: details[0]["value"]
    });
  }
  return /* @__PURE__ */ jsx("ul", {
    children: details.map((item) => /* @__PURE__ */ jsx("li", {
      children: /* @__PURE__ */ jsx(Details, {
        data: item
      })
    }, JSON.stringify(item)))
  });
}
function Tree(details) {
  return /* @__PURE__ */ jsx("ul", {
    children: Object.keys(details).sort().map((key) => /* @__PURE__ */ jsxs("li", {
      children: [/* @__PURE__ */ jsx("strong", {
        children: lodash_startcase(key)
      }), ": ", /* @__PURE__ */ jsx(Details, {
        data: details[key]
      })]
    }, key))
  });
}
function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null)
    return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;
  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0)
      continue;
    target[key] = source[key];
  }
  return target;
}
var propTypes = { exports: {} };
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
var objectAssign;
var hasRequiredObjectAssign;
function requireObjectAssign() {
  if (hasRequiredObjectAssign)
    return objectAssign;
  hasRequiredObjectAssign = 1;
  var getOwnPropertySymbols = Object.getOwnPropertySymbols;
  var hasOwnProperty2 = Object.prototype.hasOwnProperty;
  var propIsEnumerable = Object.prototype.propertyIsEnumerable;
  function toObject(val) {
    if (val === null || val === void 0) {
      throw new TypeError("Object.assign cannot be called with null or undefined");
    }
    return Object(val);
  }
  function shouldUseNative() {
    try {
      if (!Object.assign) {
        return false;
      }
      var test1 = new String("abc");
      test1[5] = "de";
      if (Object.getOwnPropertyNames(test1)[0] === "5") {
        return false;
      }
      var test2 = {};
      for (var i = 0; i < 10; i++) {
        test2["_" + String.fromCharCode(i)] = i;
      }
      var order2 = Object.getOwnPropertyNames(test2).map(function(n) {
        return test2[n];
      });
      if (order2.join("") !== "0123456789") {
        return false;
      }
      var test3 = {};
      "abcdefghijklmnopqrst".split("").forEach(function(letter) {
        test3[letter] = letter;
      });
      if (Object.keys(Object.assign({}, test3)).join("") !== "abcdefghijklmnopqrst") {
        return false;
      }
      return true;
    } catch (err) {
      return false;
    }
  }
  objectAssign = shouldUseNative() ? Object.assign : function(target, source) {
    var from2;
    var to2 = toObject(target);
    var symbols;
    for (var s = 1; s < arguments.length; s++) {
      from2 = Object(arguments[s]);
      for (var key in from2) {
        if (hasOwnProperty2.call(from2, key)) {
          to2[key] = from2[key];
        }
      }
      if (getOwnPropertySymbols) {
        symbols = getOwnPropertySymbols(from2);
        for (var i = 0; i < symbols.length; i++) {
          if (propIsEnumerable.call(from2, symbols[i])) {
            to2[symbols[i]] = from2[symbols[i]];
          }
        }
      }
    }
    return to2;
  };
  return objectAssign;
}
var ReactPropTypesSecret_1;
var hasRequiredReactPropTypesSecret;
function requireReactPropTypesSecret() {
  if (hasRequiredReactPropTypesSecret)
    return ReactPropTypesSecret_1;
  hasRequiredReactPropTypesSecret = 1;
  var ReactPropTypesSecret = "SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";
  ReactPropTypesSecret_1 = ReactPropTypesSecret;
  return ReactPropTypesSecret_1;
}
var has;
var hasRequiredHas;
function requireHas() {
  if (hasRequiredHas)
    return has;
  hasRequiredHas = 1;
  has = Function.call.bind(Object.prototype.hasOwnProperty);
  return has;
}
var checkPropTypes_1;
var hasRequiredCheckPropTypes;
function requireCheckPropTypes() {
  if (hasRequiredCheckPropTypes)
    return checkPropTypes_1;
  hasRequiredCheckPropTypes = 1;
  var printWarning = function() {
  };
  if (process.env.NODE_ENV !== "production") {
    var ReactPropTypesSecret = requireReactPropTypesSecret();
    var loggedTypeFailures = {};
    var has2 = requireHas();
    printWarning = function(text) {
      var message = "Warning: " + text;
      if (typeof console !== "undefined") {
        console.error(message);
      }
      try {
        throw new Error(message);
      } catch (x) {
      }
    };
  }
  function checkPropTypes(typeSpecs, values2, location, componentName, getStack) {
    if (process.env.NODE_ENV !== "production") {
      for (var typeSpecName in typeSpecs) {
        if (has2(typeSpecs, typeSpecName)) {
          var error;
          try {
            if (typeof typeSpecs[typeSpecName] !== "function") {
              var err = Error(
                (componentName || "React class") + ": " + location + " type `" + typeSpecName + "` is invalid; it must be a function, usually from the `prop-types` package, but received `" + typeof typeSpecs[typeSpecName] + "`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`."
              );
              err.name = "Invariant Violation";
              throw err;
            }
            error = typeSpecs[typeSpecName](values2, typeSpecName, componentName, location, null, ReactPropTypesSecret);
          } catch (ex2) {
            error = ex2;
          }
          if (error && !(error instanceof Error)) {
            printWarning(
              (componentName || "React class") + ": type specification of " + location + " `" + typeSpecName + "` is invalid; the type checker function must return `null` or an `Error` but returned a " + typeof error + ". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."
            );
          }
          if (error instanceof Error && !(error.message in loggedTypeFailures)) {
            loggedTypeFailures[error.message] = true;
            var stack = getStack ? getStack() : "";
            printWarning(
              "Failed " + location + " type: " + error.message + (stack != null ? stack : "")
            );
          }
        }
      }
    }
  }
  checkPropTypes.resetWarningCache = function() {
    if (process.env.NODE_ENV !== "production") {
      loggedTypeFailures = {};
    }
  };
  checkPropTypes_1 = checkPropTypes;
  return checkPropTypes_1;
}
var factoryWithTypeCheckers;
var hasRequiredFactoryWithTypeCheckers;
function requireFactoryWithTypeCheckers() {
  if (hasRequiredFactoryWithTypeCheckers)
    return factoryWithTypeCheckers;
  hasRequiredFactoryWithTypeCheckers = 1;
  var ReactIs = reactIs$2.exports;
  var assign2 = requireObjectAssign();
  var ReactPropTypesSecret = requireReactPropTypesSecret();
  var has2 = requireHas();
  var checkPropTypes = requireCheckPropTypes();
  var printWarning = function() {
  };
  if (process.env.NODE_ENV !== "production") {
    printWarning = function(text) {
      var message = "Warning: " + text;
      if (typeof console !== "undefined") {
        console.error(message);
      }
      try {
        throw new Error(message);
      } catch (x) {
      }
    };
  }
  function emptyFunctionThatReturnsNull() {
    return null;
  }
  factoryWithTypeCheckers = function(isValidElement, throwOnDirectAccess) {
    var ITERATOR_SYMBOL = typeof Symbol === "function" && Symbol.iterator;
    var FAUX_ITERATOR_SYMBOL = "@@iterator";
    function getIteratorFn(maybeIterable) {
      var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);
      if (typeof iteratorFn === "function") {
        return iteratorFn;
      }
    }
    var ANONYMOUS = "<<anonymous>>";
    var ReactPropTypes = {
      array: createPrimitiveTypeChecker("array"),
      bigint: createPrimitiveTypeChecker("bigint"),
      bool: createPrimitiveTypeChecker("boolean"),
      func: createPrimitiveTypeChecker("function"),
      number: createPrimitiveTypeChecker("number"),
      object: createPrimitiveTypeChecker("object"),
      string: createPrimitiveTypeChecker("string"),
      symbol: createPrimitiveTypeChecker("symbol"),
      any: createAnyTypeChecker(),
      arrayOf: createArrayOfTypeChecker,
      element: createElementTypeChecker(),
      elementType: createElementTypeTypeChecker(),
      instanceOf: createInstanceTypeChecker,
      node: createNodeChecker(),
      objectOf: createObjectOfTypeChecker,
      oneOf: createEnumTypeChecker,
      oneOfType: createUnionTypeChecker,
      shape: createShapeTypeChecker,
      exact: createStrictShapeTypeChecker
    };
    function is2(x, y) {
      if (x === y) {
        return x !== 0 || 1 / x === 1 / y;
      } else {
        return x !== x && y !== y;
      }
    }
    function PropTypeError(message, data) {
      this.message = message;
      this.data = data && typeof data === "object" ? data : {};
      this.stack = "";
    }
    PropTypeError.prototype = Error.prototype;
    function createChainableTypeChecker(validate) {
      if (process.env.NODE_ENV !== "production") {
        var manualPropTypeCallCache = {};
        var manualPropTypeWarningCount = 0;
      }
      function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {
        componentName = componentName || ANONYMOUS;
        propFullName = propFullName || propName;
        if (secret !== ReactPropTypesSecret) {
          if (throwOnDirectAccess) {
            var err = new Error(
              "Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types"
            );
            err.name = "Invariant Violation";
            throw err;
          } else if (process.env.NODE_ENV !== "production" && typeof console !== "undefined") {
            var cacheKey = componentName + ":" + propName;
            if (!manualPropTypeCallCache[cacheKey] && manualPropTypeWarningCount < 3) {
              printWarning(
                "You are manually calling a React.PropTypes validation function for the `" + propFullName + "` prop on `" + componentName + "`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."
              );
              manualPropTypeCallCache[cacheKey] = true;
              manualPropTypeWarningCount++;
            }
          }
        }
        if (props[propName] == null) {
          if (isRequired) {
            if (props[propName] === null) {
              return new PropTypeError("The " + location + " `" + propFullName + "` is marked as required " + ("in `" + componentName + "`, but its value is `null`."));
            }
            return new PropTypeError("The " + location + " `" + propFullName + "` is marked as required in " + ("`" + componentName + "`, but its value is `undefined`."));
          }
          return null;
        } else {
          return validate(props, propName, componentName, location, propFullName);
        }
      }
      var chainedCheckType = checkType.bind(null, false);
      chainedCheckType.isRequired = checkType.bind(null, true);
      return chainedCheckType;
    }
    function createPrimitiveTypeChecker(expectedType) {
      function validate(props, propName, componentName, location, propFullName, secret) {
        var propValue = props[propName];
        var propType = getPropType(propValue);
        if (propType !== expectedType) {
          var preciseType = getPreciseType(propValue);
          return new PropTypeError(
            "Invalid " + location + " `" + propFullName + "` of type " + ("`" + preciseType + "` supplied to `" + componentName + "`, expected ") + ("`" + expectedType + "`."),
            { expectedType }
          );
        }
        return null;
      }
      return createChainableTypeChecker(validate);
    }
    function createAnyTypeChecker() {
      return createChainableTypeChecker(emptyFunctionThatReturnsNull);
    }
    function createArrayOfTypeChecker(typeChecker) {
      function validate(props, propName, componentName, location, propFullName) {
        if (typeof typeChecker !== "function") {
          return new PropTypeError("Property `" + propFullName + "` of component `" + componentName + "` has invalid PropType notation inside arrayOf.");
        }
        var propValue = props[propName];
        if (!Array.isArray(propValue)) {
          var propType = getPropType(propValue);
          return new PropTypeError("Invalid " + location + " `" + propFullName + "` of type " + ("`" + propType + "` supplied to `" + componentName + "`, expected an array."));
        }
        for (var i = 0; i < propValue.length; i++) {
          var error = typeChecker(propValue, i, componentName, location, propFullName + "[" + i + "]", ReactPropTypesSecret);
          if (error instanceof Error) {
            return error;
          }
        }
        return null;
      }
      return createChainableTypeChecker(validate);
    }
    function createElementTypeChecker() {
      function validate(props, propName, componentName, location, propFullName) {
        var propValue = props[propName];
        if (!isValidElement(propValue)) {
          var propType = getPropType(propValue);
          return new PropTypeError("Invalid " + location + " `" + propFullName + "` of type " + ("`" + propType + "` supplied to `" + componentName + "`, expected a single ReactElement."));
        }
        return null;
      }
      return createChainableTypeChecker(validate);
    }
    function createElementTypeTypeChecker() {
      function validate(props, propName, componentName, location, propFullName) {
        var propValue = props[propName];
        if (!ReactIs.isValidElementType(propValue)) {
          var propType = getPropType(propValue);
          return new PropTypeError("Invalid " + location + " `" + propFullName + "` of type " + ("`" + propType + "` supplied to `" + componentName + "`, expected a single ReactElement type."));
        }
        return null;
      }
      return createChainableTypeChecker(validate);
    }
    function createInstanceTypeChecker(expectedClass) {
      function validate(props, propName, componentName, location, propFullName) {
        if (!(props[propName] instanceof expectedClass)) {
          var expectedClassName = expectedClass.name || ANONYMOUS;
          var actualClassName = getClassName(props[propName]);
          return new PropTypeError("Invalid " + location + " `" + propFullName + "` of type " + ("`" + actualClassName + "` supplied to `" + componentName + "`, expected ") + ("instance of `" + expectedClassName + "`."));
        }
        return null;
      }
      return createChainableTypeChecker(validate);
    }
    function createEnumTypeChecker(expectedValues) {
      if (!Array.isArray(expectedValues)) {
        if (process.env.NODE_ENV !== "production") {
          if (arguments.length > 1) {
            printWarning(
              "Invalid arguments supplied to oneOf, expected an array, got " + arguments.length + " arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."
            );
          } else {
            printWarning("Invalid argument supplied to oneOf, expected an array.");
          }
        }
        return emptyFunctionThatReturnsNull;
      }
      function validate(props, propName, componentName, location, propFullName) {
        var propValue = props[propName];
        for (var i = 0; i < expectedValues.length; i++) {
          if (is2(propValue, expectedValues[i])) {
            return null;
          }
        }
        var valuesString = JSON.stringify(expectedValues, function replacer(key, value) {
          var type = getPreciseType(value);
          if (type === "symbol") {
            return String(value);
          }
          return value;
        });
        return new PropTypeError("Invalid " + location + " `" + propFullName + "` of value `" + String(propValue) + "` " + ("supplied to `" + componentName + "`, expected one of " + valuesString + "."));
      }
      return createChainableTypeChecker(validate);
    }
    function createObjectOfTypeChecker(typeChecker) {
      function validate(props, propName, componentName, location, propFullName) {
        if (typeof typeChecker !== "function") {
          return new PropTypeError("Property `" + propFullName + "` of component `" + componentName + "` has invalid PropType notation inside objectOf.");
        }
        var propValue = props[propName];
        var propType = getPropType(propValue);
        if (propType !== "object") {
          return new PropTypeError("Invalid " + location + " `" + propFullName + "` of type " + ("`" + propType + "` supplied to `" + componentName + "`, expected an object."));
        }
        for (var key in propValue) {
          if (has2(propValue, key)) {
            var error = typeChecker(propValue, key, componentName, location, propFullName + "." + key, ReactPropTypesSecret);
            if (error instanceof Error) {
              return error;
            }
          }
        }
        return null;
      }
      return createChainableTypeChecker(validate);
    }
    function createUnionTypeChecker(arrayOfTypeCheckers) {
      if (!Array.isArray(arrayOfTypeCheckers)) {
        process.env.NODE_ENV !== "production" ? printWarning("Invalid argument supplied to oneOfType, expected an instance of array.") : void 0;
        return emptyFunctionThatReturnsNull;
      }
      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {
        var checker = arrayOfTypeCheckers[i];
        if (typeof checker !== "function") {
          printWarning(
            "Invalid argument supplied to oneOfType. Expected an array of check functions, but received " + getPostfixForTypeWarning(checker) + " at index " + i + "."
          );
          return emptyFunctionThatReturnsNull;
        }
      }
      function validate(props, propName, componentName, location, propFullName) {
        var expectedTypes = [];
        for (var i3 = 0; i3 < arrayOfTypeCheckers.length; i3++) {
          var checker2 = arrayOfTypeCheckers[i3];
          var checkerResult = checker2(props, propName, componentName, location, propFullName, ReactPropTypesSecret);
          if (checkerResult == null) {
            return null;
          }
          if (checkerResult.data && has2(checkerResult.data, "expectedType")) {
            expectedTypes.push(checkerResult.data.expectedType);
          }
        }
        var expectedTypesMessage = expectedTypes.length > 0 ? ", expected one of type [" + expectedTypes.join(", ") + "]" : "";
        return new PropTypeError("Invalid " + location + " `" + propFullName + "` supplied to " + ("`" + componentName + "`" + expectedTypesMessage + "."));
      }
      return createChainableTypeChecker(validate);
    }
    function createNodeChecker() {
      function validate(props, propName, componentName, location, propFullName) {
        if (!isNode(props[propName])) {
          return new PropTypeError("Invalid " + location + " `" + propFullName + "` supplied to " + ("`" + componentName + "`, expected a ReactNode."));
        }
        return null;
      }
      return createChainableTypeChecker(validate);
    }
    function invalidValidatorError(componentName, location, propFullName, key, type) {
      return new PropTypeError(
        (componentName || "React class") + ": " + location + " type `" + propFullName + "." + key + "` is invalid; it must be a function, usually from the `prop-types` package, but received `" + type + "`."
      );
    }
    function createShapeTypeChecker(shapeTypes) {
      function validate(props, propName, componentName, location, propFullName) {
        var propValue = props[propName];
        var propType = getPropType(propValue);
        if (propType !== "object") {
          return new PropTypeError("Invalid " + location + " `" + propFullName + "` of type `" + propType + "` " + ("supplied to `" + componentName + "`, expected `object`."));
        }
        for (var key in shapeTypes) {
          var checker = shapeTypes[key];
          if (typeof checker !== "function") {
            return invalidValidatorError(componentName, location, propFullName, key, getPreciseType(checker));
          }
          var error = checker(propValue, key, componentName, location, propFullName + "." + key, ReactPropTypesSecret);
          if (error) {
            return error;
          }
        }
        return null;
      }
      return createChainableTypeChecker(validate);
    }
    function createStrictShapeTypeChecker(shapeTypes) {
      function validate(props, propName, componentName, location, propFullName) {
        var propValue = props[propName];
        var propType = getPropType(propValue);
        if (propType !== "object") {
          return new PropTypeError("Invalid " + location + " `" + propFullName + "` of type `" + propType + "` " + ("supplied to `" + componentName + "`, expected `object`."));
        }
        var allKeys = assign2({}, props[propName], shapeTypes);
        for (var key in allKeys) {
          var checker = shapeTypes[key];
          if (has2(shapeTypes, key) && typeof checker !== "function") {
            return invalidValidatorError(componentName, location, propFullName, key, getPreciseType(checker));
          }
          if (!checker) {
            return new PropTypeError(
              "Invalid " + location + " `" + propFullName + "` key `" + key + "` supplied to `" + componentName + "`.\nBad object: " + JSON.stringify(props[propName], null, "  ") + "\nValid keys: " + JSON.stringify(Object.keys(shapeTypes), null, "  ")
            );
          }
          var error = checker(propValue, key, componentName, location, propFullName + "." + key, ReactPropTypesSecret);
          if (error) {
            return error;
          }
        }
        return null;
      }
      return createChainableTypeChecker(validate);
    }
    function isNode(propValue) {
      switch (typeof propValue) {
        case "number":
        case "string":
        case "undefined":
          return true;
        case "boolean":
          return !propValue;
        case "object":
          if (Array.isArray(propValue)) {
            return propValue.every(isNode);
          }
          if (propValue === null || isValidElement(propValue)) {
            return true;
          }
          var iteratorFn = getIteratorFn(propValue);
          if (iteratorFn) {
            var iterator = iteratorFn.call(propValue);
            var step;
            if (iteratorFn !== propValue.entries) {
              while (!(step = iterator.next()).done) {
                if (!isNode(step.value)) {
                  return false;
                }
              }
            } else {
              while (!(step = iterator.next()).done) {
                var entry = step.value;
                if (entry) {
                  if (!isNode(entry[1])) {
                    return false;
                  }
                }
              }
            }
          } else {
            return false;
          }
          return true;
        default:
          return false;
      }
    }
    function isSymbol2(propType, propValue) {
      if (propType === "symbol") {
        return true;
      }
      if (!propValue) {
        return false;
      }
      if (propValue["@@toStringTag"] === "Symbol") {
        return true;
      }
      if (typeof Symbol === "function" && propValue instanceof Symbol) {
        return true;
      }
      return false;
    }
    function getPropType(propValue) {
      var propType = typeof propValue;
      if (Array.isArray(propValue)) {
        return "array";
      }
      if (propValue instanceof RegExp) {
        return "object";
      }
      if (isSymbol2(propType, propValue)) {
        return "symbol";
      }
      return propType;
    }
    function getPreciseType(propValue) {
      if (typeof propValue === "undefined" || propValue === null) {
        return "" + propValue;
      }
      var propType = getPropType(propValue);
      if (propType === "object") {
        if (propValue instanceof Date) {
          return "date";
        } else if (propValue instanceof RegExp) {
          return "regexp";
        }
      }
      return propType;
    }
    function getPostfixForTypeWarning(value) {
      var type = getPreciseType(value);
      switch (type) {
        case "array":
        case "object":
          return "an " + type;
        case "boolean":
        case "date":
        case "regexp":
          return "a " + type;
        default:
          return type;
      }
    }
    function getClassName(propValue) {
      if (!propValue.constructor || !propValue.constructor.name) {
        return ANONYMOUS;
      }
      return propValue.constructor.name;
    }
    ReactPropTypes.checkPropTypes = checkPropTypes;
    ReactPropTypes.resetWarningCache = checkPropTypes.resetWarningCache;
    ReactPropTypes.PropTypes = ReactPropTypes;
    return ReactPropTypes;
  };
  return factoryWithTypeCheckers;
}
var factoryWithThrowingShims;
var hasRequiredFactoryWithThrowingShims;
function requireFactoryWithThrowingShims() {
  if (hasRequiredFactoryWithThrowingShims)
    return factoryWithThrowingShims;
  hasRequiredFactoryWithThrowingShims = 1;
  var ReactPropTypesSecret = requireReactPropTypesSecret();
  function emptyFunction() {
  }
  function emptyFunctionWithReset() {
  }
  emptyFunctionWithReset.resetWarningCache = emptyFunction;
  factoryWithThrowingShims = function() {
    function shim(props, propName, componentName, location, propFullName, secret) {
      if (secret === ReactPropTypesSecret) {
        return;
      }
      var err = new Error(
        "Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types"
      );
      err.name = "Invariant Violation";
      throw err;
    }
    shim.isRequired = shim;
    function getShim() {
      return shim;
    }
    var ReactPropTypes = {
      array: shim,
      bigint: shim,
      bool: shim,
      func: shim,
      number: shim,
      object: shim,
      string: shim,
      symbol: shim,
      any: shim,
      arrayOf: getShim,
      element: shim,
      elementType: shim,
      instanceOf: getShim,
      node: shim,
      objectOf: getShim,
      oneOf: getShim,
      oneOfType: getShim,
      shape: getShim,
      exact: getShim,
      checkPropTypes: emptyFunctionWithReset,
      resetWarningCache: emptyFunction
    };
    ReactPropTypes.PropTypes = ReactPropTypes;
    return ReactPropTypes;
  };
  return factoryWithThrowingShims;
}
if (process.env.NODE_ENV !== "production") {
  var ReactIs = reactIs$2.exports;
  var throwOnDirectAccess = true;
  propTypes.exports = requireFactoryWithTypeCheckers()(ReactIs.isElement, throwOnDirectAccess);
} else {
  propTypes.exports = requireFactoryWithThrowingShims()();
}
function r(e) {
  var t, f, n = "";
  if ("string" == typeof e || "number" == typeof e)
    n += e;
  else if ("object" == typeof e)
    if (Array.isArray(e))
      for (t = 0; t < e.length; t++)
        e[t] && (f = r(e[t])) && (n && (n += " "), n += f);
    else
      for (t in e)
        e[t] && (n && (n += " "), n += t);
  return n;
}
function clsx() {
  for (var e, t, f = 0, n = ""; f < arguments.length; )
    (e = arguments[f++]) && (t = r(e)) && (n && (n += " "), n += t);
  return n;
}
/** @license MUI v5.10.16
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
function styled$2(tag, options) {
  const stylesFactory = newStyled(tag, options);
  if (process.env.NODE_ENV !== "production") {
    return (...styles) => {
      const component = typeof tag === "string" ? `"${tag}"` : "component";
      if (styles.length === 0) {
        console.error([`MUI: Seems like you called \`styled(${component})()\` without a \`style\` argument.`, 'You must provide a `styles` argument: `styled("div")(styleYouForgotToPass)`.'].join("\n"));
      } else if (styles.some((style2) => style2 === void 0)) {
        console.error(`MUI: the styled(${component})(...args) API requires all its args to be defined.`);
      }
      return stylesFactory(...styles);
    };
  }
  return stylesFactory;
}
const internal_processStyles = (tag, processor) => {
  if (Array.isArray(tag.__emotion_styles)) {
    tag.__emotion_styles = processor(tag.__emotion_styles);
  }
};
const responsivePropType = process.env.NODE_ENV !== "production" ? propTypes.exports.oneOfType([propTypes.exports.number, propTypes.exports.string, propTypes.exports.object, propTypes.exports.array]) : {};
const responsivePropType$1 = responsivePropType;
function isPlainObject(item) {
  return item !== null && typeof item === "object" && item.constructor === Object;
}
function deepmerge(target, source, options = {
  clone: true
}) {
  const output = options.clone ? _extends({}, target) : target;
  if (isPlainObject(target) && isPlainObject(source)) {
    Object.keys(source).forEach((key) => {
      if (key === "__proto__") {
        return;
      }
      if (isPlainObject(source[key]) && key in target && isPlainObject(target[key])) {
        output[key] = deepmerge(target[key], source[key], options);
      } else {
        output[key] = source[key];
      }
    });
  }
  return output;
}
function formatMuiErrorMessage(code) {
  let url = "https://mui.com/production-error/?code=" + code;
  for (let i = 1; i < arguments.length; i += 1) {
    url += "&args[]=" + encodeURIComponent(arguments[i]);
  }
  return "Minified MUI error #" + code + "; visit " + url + " for the full message.";
}
var reactIs = { exports: {} };
var reactIs_production_min = {};
/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var hasRequiredReactIs_production_min;
function requireReactIs_production_min() {
  if (hasRequiredReactIs_production_min)
    return reactIs_production_min;
  hasRequiredReactIs_production_min = 1;
  var b = Symbol.for("react.element"), c = Symbol.for("react.portal"), d = Symbol.for("react.fragment"), e = Symbol.for("react.strict_mode"), f = Symbol.for("react.profiler"), g = Symbol.for("react.provider"), h = Symbol.for("react.context"), k = Symbol.for("react.server_context"), l = Symbol.for("react.forward_ref"), m = Symbol.for("react.suspense"), n = Symbol.for("react.suspense_list"), p = Symbol.for("react.memo"), q = Symbol.for("react.lazy"), t = Symbol.for("react.offscreen"), u;
  u = Symbol.for("react.module.reference");
  function v(a) {
    if ("object" === typeof a && null !== a) {
      var r3 = a.$$typeof;
      switch (r3) {
        case b:
          switch (a = a.type, a) {
            case d:
            case f:
            case e:
            case m:
            case n:
              return a;
            default:
              switch (a = a && a.$$typeof, a) {
                case k:
                case h:
                case l:
                case q:
                case p:
                case g:
                  return a;
                default:
                  return r3;
              }
          }
        case c:
          return r3;
      }
    }
  }
  reactIs_production_min.ContextConsumer = h;
  reactIs_production_min.ContextProvider = g;
  reactIs_production_min.Element = b;
  reactIs_production_min.ForwardRef = l;
  reactIs_production_min.Fragment = d;
  reactIs_production_min.Lazy = q;
  reactIs_production_min.Memo = p;
  reactIs_production_min.Portal = c;
  reactIs_production_min.Profiler = f;
  reactIs_production_min.StrictMode = e;
  reactIs_production_min.Suspense = m;
  reactIs_production_min.SuspenseList = n;
  reactIs_production_min.isAsyncMode = function() {
    return false;
  };
  reactIs_production_min.isConcurrentMode = function() {
    return false;
  };
  reactIs_production_min.isContextConsumer = function(a) {
    return v(a) === h;
  };
  reactIs_production_min.isContextProvider = function(a) {
    return v(a) === g;
  };
  reactIs_production_min.isElement = function(a) {
    return "object" === typeof a && null !== a && a.$$typeof === b;
  };
  reactIs_production_min.isForwardRef = function(a) {
    return v(a) === l;
  };
  reactIs_production_min.isFragment = function(a) {
    return v(a) === d;
  };
  reactIs_production_min.isLazy = function(a) {
    return v(a) === q;
  };
  reactIs_production_min.isMemo = function(a) {
    return v(a) === p;
  };
  reactIs_production_min.isPortal = function(a) {
    return v(a) === c;
  };
  reactIs_production_min.isProfiler = function(a) {
    return v(a) === f;
  };
  reactIs_production_min.isStrictMode = function(a) {
    return v(a) === e;
  };
  reactIs_production_min.isSuspense = function(a) {
    return v(a) === m;
  };
  reactIs_production_min.isSuspenseList = function(a) {
    return v(a) === n;
  };
  reactIs_production_min.isValidElementType = function(a) {
    return "string" === typeof a || "function" === typeof a || a === d || a === f || a === e || a === m || a === n || a === t || "object" === typeof a && null !== a && (a.$$typeof === q || a.$$typeof === p || a.$$typeof === g || a.$$typeof === h || a.$$typeof === l || a.$$typeof === u || void 0 !== a.getModuleId) ? true : false;
  };
  reactIs_production_min.typeOf = v;
  return reactIs_production_min;
}
var reactIs_development = {};
/**
 * @license React
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var hasRequiredReactIs_development;
function requireReactIs_development() {
  if (hasRequiredReactIs_development)
    return reactIs_development;
  hasRequiredReactIs_development = 1;
  if (process.env.NODE_ENV !== "production") {
    (function() {
      var REACT_ELEMENT_TYPE = Symbol.for("react.element");
      var REACT_PORTAL_TYPE = Symbol.for("react.portal");
      var REACT_FRAGMENT_TYPE = Symbol.for("react.fragment");
      var REACT_STRICT_MODE_TYPE = Symbol.for("react.strict_mode");
      var REACT_PROFILER_TYPE = Symbol.for("react.profiler");
      var REACT_PROVIDER_TYPE = Symbol.for("react.provider");
      var REACT_CONTEXT_TYPE = Symbol.for("react.context");
      var REACT_SERVER_CONTEXT_TYPE = Symbol.for("react.server_context");
      var REACT_FORWARD_REF_TYPE = Symbol.for("react.forward_ref");
      var REACT_SUSPENSE_TYPE = Symbol.for("react.suspense");
      var REACT_SUSPENSE_LIST_TYPE = Symbol.for("react.suspense_list");
      var REACT_MEMO_TYPE = Symbol.for("react.memo");
      var REACT_LAZY_TYPE = Symbol.for("react.lazy");
      var REACT_OFFSCREEN_TYPE = Symbol.for("react.offscreen");
      var enableScopeAPI = false;
      var enableCacheElement = false;
      var enableTransitionTracing = false;
      var enableLegacyHidden = false;
      var enableDebugTracing = false;
      var REACT_MODULE_REFERENCE;
      {
        REACT_MODULE_REFERENCE = Symbol.for("react.module.reference");
      }
      function isValidElementType(type) {
        if (typeof type === "string" || typeof type === "function") {
          return true;
        }
        if (type === REACT_FRAGMENT_TYPE || type === REACT_PROFILER_TYPE || enableDebugTracing || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || enableLegacyHidden || type === REACT_OFFSCREEN_TYPE || enableScopeAPI || enableCacheElement || enableTransitionTracing) {
          return true;
        }
        if (typeof type === "object" && type !== null) {
          if (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_MODULE_REFERENCE || type.getModuleId !== void 0) {
            return true;
          }
        }
        return false;
      }
      function typeOf(object) {
        if (typeof object === "object" && object !== null) {
          var $$typeof = object.$$typeof;
          switch ($$typeof) {
            case REACT_ELEMENT_TYPE:
              var type = object.type;
              switch (type) {
                case REACT_FRAGMENT_TYPE:
                case REACT_PROFILER_TYPE:
                case REACT_STRICT_MODE_TYPE:
                case REACT_SUSPENSE_TYPE:
                case REACT_SUSPENSE_LIST_TYPE:
                  return type;
                default:
                  var $$typeofType = type && type.$$typeof;
                  switch ($$typeofType) {
                    case REACT_SERVER_CONTEXT_TYPE:
                    case REACT_CONTEXT_TYPE:
                    case REACT_FORWARD_REF_TYPE:
                    case REACT_LAZY_TYPE:
                    case REACT_MEMO_TYPE:
                    case REACT_PROVIDER_TYPE:
                      return $$typeofType;
                    default:
                      return $$typeof;
                  }
              }
            case REACT_PORTAL_TYPE:
              return $$typeof;
          }
        }
        return void 0;
      }
      var ContextConsumer = REACT_CONTEXT_TYPE;
      var ContextProvider = REACT_PROVIDER_TYPE;
      var Element = REACT_ELEMENT_TYPE;
      var ForwardRef = REACT_FORWARD_REF_TYPE;
      var Fragment2 = REACT_FRAGMENT_TYPE;
      var Lazy = REACT_LAZY_TYPE;
      var Memo = REACT_MEMO_TYPE;
      var Portal = REACT_PORTAL_TYPE;
      var Profiler = REACT_PROFILER_TYPE;
      var StrictMode = REACT_STRICT_MODE_TYPE;
      var Suspense = REACT_SUSPENSE_TYPE;
      var SuspenseList = REACT_SUSPENSE_LIST_TYPE;
      var hasWarnedAboutDeprecatedIsAsyncMode = false;
      var hasWarnedAboutDeprecatedIsConcurrentMode = false;
      function isAsyncMode(object) {
        {
          if (!hasWarnedAboutDeprecatedIsAsyncMode) {
            hasWarnedAboutDeprecatedIsAsyncMode = true;
            console["warn"]("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 18+.");
          }
        }
        return false;
      }
      function isConcurrentMode(object) {
        {
          if (!hasWarnedAboutDeprecatedIsConcurrentMode) {
            hasWarnedAboutDeprecatedIsConcurrentMode = true;
            console["warn"]("The ReactIs.isConcurrentMode() alias has been deprecated, and will be removed in React 18+.");
          }
        }
        return false;
      }
      function isContextConsumer(object) {
        return typeOf(object) === REACT_CONTEXT_TYPE;
      }
      function isContextProvider(object) {
        return typeOf(object) === REACT_PROVIDER_TYPE;
      }
      function isElement(object) {
        return typeof object === "object" && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;
      }
      function isForwardRef(object) {
        return typeOf(object) === REACT_FORWARD_REF_TYPE;
      }
      function isFragment(object) {
        return typeOf(object) === REACT_FRAGMENT_TYPE;
      }
      function isLazy(object) {
        return typeOf(object) === REACT_LAZY_TYPE;
      }
      function isMemo(object) {
        return typeOf(object) === REACT_MEMO_TYPE;
      }
      function isPortal(object) {
        return typeOf(object) === REACT_PORTAL_TYPE;
      }
      function isProfiler(object) {
        return typeOf(object) === REACT_PROFILER_TYPE;
      }
      function isStrictMode(object) {
        return typeOf(object) === REACT_STRICT_MODE_TYPE;
      }
      function isSuspense(object) {
        return typeOf(object) === REACT_SUSPENSE_TYPE;
      }
      function isSuspenseList(object) {
        return typeOf(object) === REACT_SUSPENSE_LIST_TYPE;
      }
      reactIs_development.ContextConsumer = ContextConsumer;
      reactIs_development.ContextProvider = ContextProvider;
      reactIs_development.Element = Element;
      reactIs_development.ForwardRef = ForwardRef;
      reactIs_development.Fragment = Fragment2;
      reactIs_development.Lazy = Lazy;
      reactIs_development.Memo = Memo;
      reactIs_development.Portal = Portal;
      reactIs_development.Profiler = Profiler;
      reactIs_development.StrictMode = StrictMode;
      reactIs_development.Suspense = Suspense;
      reactIs_development.SuspenseList = SuspenseList;
      reactIs_development.isAsyncMode = isAsyncMode;
      reactIs_development.isConcurrentMode = isConcurrentMode;
      reactIs_development.isContextConsumer = isContextConsumer;
      reactIs_development.isContextProvider = isContextProvider;
      reactIs_development.isElement = isElement;
      reactIs_development.isForwardRef = isForwardRef;
      reactIs_development.isFragment = isFragment;
      reactIs_development.isLazy = isLazy;
      reactIs_development.isMemo = isMemo;
      reactIs_development.isPortal = isPortal;
      reactIs_development.isProfiler = isProfiler;
      reactIs_development.isStrictMode = isStrictMode;
      reactIs_development.isSuspense = isSuspense;
      reactIs_development.isSuspenseList = isSuspenseList;
      reactIs_development.isValidElementType = isValidElementType;
      reactIs_development.typeOf = typeOf;
    })();
  }
  return reactIs_development;
}
(function(module) {
  if (process.env.NODE_ENV === "production") {
    module.exports = requireReactIs_production_min();
  } else {
    module.exports = requireReactIs_development();
  }
})(reactIs);
const fnNameMatchRegex = /^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;
function getFunctionName(fn2) {
  const match2 = `${fn2}`.match(fnNameMatchRegex);
  const name = match2 && match2[1];
  return name || "";
}
function getFunctionComponentName(Component, fallback = "") {
  return Component.displayName || Component.name || getFunctionName(Component) || fallback;
}
function getWrappedName(outerType, innerType, wrapperName) {
  const functionName = getFunctionComponentName(innerType);
  return outerType.displayName || (functionName !== "" ? `${wrapperName}(${functionName})` : wrapperName);
}
function getDisplayName(Component) {
  if (Component == null) {
    return void 0;
  }
  if (typeof Component === "string") {
    return Component;
  }
  if (typeof Component === "function") {
    return getFunctionComponentName(Component, "Component");
  }
  if (typeof Component === "object") {
    switch (Component.$$typeof) {
      case reactIs.exports.ForwardRef:
        return getWrappedName(Component, Component.render, "ForwardRef");
      case reactIs.exports.Memo:
        return getWrappedName(Component, Component.type, "memo");
      default:
        return void 0;
    }
  }
  return void 0;
}
function capitalize(string) {
  if (typeof string !== "string") {
    throw new Error(process.env.NODE_ENV !== "production" ? `MUI: \`capitalize(string)\` expects a string argument.` : formatMuiErrorMessage(7));
  }
  return string.charAt(0).toUpperCase() + string.slice(1);
}
function requirePropFactory(componentNameInError, Component) {
  if (process.env.NODE_ENV === "production") {
    return () => null;
  }
  const prevPropTypes = Component ? _extends({}, Component.propTypes) : null;
  const requireProp = (requiredProp) => (props, propName, componentName, location, propFullName, ...args) => {
    const propFullNameSafe = propFullName || propName;
    const defaultTypeChecker = prevPropTypes == null ? void 0 : prevPropTypes[propFullNameSafe];
    if (defaultTypeChecker) {
      const typeCheckerResult = defaultTypeChecker(props, propName, componentName, location, propFullName, ...args);
      if (typeCheckerResult) {
        return typeCheckerResult;
      }
    }
    if (typeof props[propName] !== "undefined" && !props[requiredProp]) {
      return new Error(`The prop \`${propFullNameSafe}\` of \`${componentNameInError}\` can only be used together with the \`${requiredProp}\` prop.`);
    }
    return null;
  };
  return requireProp;
}
function resolveProps(defaultProps, props) {
  const output = _extends({}, props);
  Object.keys(defaultProps).forEach((propName) => {
    if (output[propName] === void 0) {
      output[propName] = defaultProps[propName];
    }
  });
  return output;
}
function composeClasses(slots, getUtilityClass, classes) {
  const output = {};
  Object.keys(slots).forEach(
    (slot) => {
      output[slot] = slots[slot].reduce((acc, key) => {
        if (key) {
          acc.push(getUtilityClass(key));
          if (classes && classes[key]) {
            acc.push(classes[key]);
          }
        }
        return acc;
      }, []).join(" ");
    }
  );
  return output;
}
const defaultGenerator = (componentName) => componentName;
const createClassNameGenerator = () => {
  let generate = defaultGenerator;
  return {
    configure(generator) {
      generate = generator;
    },
    generate(componentName) {
      return generate(componentName);
    },
    reset() {
      generate = defaultGenerator;
    }
  };
};
const ClassNameGenerator = createClassNameGenerator();
const ClassNameGenerator$1 = ClassNameGenerator;
const globalStateClassesMapping = {
  active: "active",
  checked: "checked",
  completed: "completed",
  disabled: "disabled",
  error: "error",
  expanded: "expanded",
  focused: "focused",
  focusVisible: "focusVisible",
  required: "required",
  selected: "selected"
};
function generateUtilityClass(componentName, slot, globalStatePrefix = "Mui") {
  const globalStateClass = globalStateClassesMapping[slot];
  return globalStateClass ? `${globalStatePrefix}-${globalStateClass}` : `${ClassNameGenerator$1.generate(componentName)}-${slot}`;
}
function generateUtilityClasses(componentName, slots, globalStatePrefix = "Mui") {
  const result = {};
  slots.forEach((slot) => {
    result[slot] = generateUtilityClass(componentName, slot, globalStatePrefix);
  });
  return result;
}
function merge(acc, item) {
  if (!item) {
    return acc;
  }
  return deepmerge(acc, item, {
    clone: false
  });
}
const values = {
  xs: 0,
  sm: 600,
  md: 900,
  lg: 1200,
  xl: 1536
};
const defaultBreakpoints = {
  keys: ["xs", "sm", "md", "lg", "xl"],
  up: (key) => `@media (min-width:${values[key]}px)`
};
function handleBreakpoints(props, propValue, styleFromPropValue) {
  const theme = props.theme || {};
  if (Array.isArray(propValue)) {
    const themeBreakpoints = theme.breakpoints || defaultBreakpoints;
    return propValue.reduce((acc, item, index) => {
      acc[themeBreakpoints.up(themeBreakpoints.keys[index])] = styleFromPropValue(propValue[index]);
      return acc;
    }, {});
  }
  if (typeof propValue === "object") {
    const themeBreakpoints = theme.breakpoints || defaultBreakpoints;
    return Object.keys(propValue).reduce((acc, breakpoint) => {
      if (Object.keys(themeBreakpoints.values || values).indexOf(breakpoint) !== -1) {
        const mediaKey = themeBreakpoints.up(breakpoint);
        acc[mediaKey] = styleFromPropValue(propValue[breakpoint], breakpoint);
      } else {
        const cssKey = breakpoint;
        acc[cssKey] = propValue[cssKey];
      }
      return acc;
    }, {});
  }
  const output = styleFromPropValue(propValue);
  return output;
}
function createEmptyBreakpointObject(breakpointsInput = {}) {
  var _breakpointsInput$key;
  const breakpointsInOrder = (_breakpointsInput$key = breakpointsInput.keys) == null ? void 0 : _breakpointsInput$key.reduce((acc, key) => {
    const breakpointStyleKey = breakpointsInput.up(key);
    acc[breakpointStyleKey] = {};
    return acc;
  }, {});
  return breakpointsInOrder || {};
}
function removeUnusedBreakpoints(breakpointKeys, style2) {
  return breakpointKeys.reduce((acc, key) => {
    const breakpointOutput = acc[key];
    const isBreakpointUnused = !breakpointOutput || Object.keys(breakpointOutput).length === 0;
    if (isBreakpointUnused) {
      delete acc[key];
    }
    return acc;
  }, style2);
}
function computeBreakpointsBase(breakpointValues, themeBreakpoints) {
  if (typeof breakpointValues !== "object") {
    return {};
  }
  const base = {};
  const breakpointsKeys = Object.keys(themeBreakpoints);
  if (Array.isArray(breakpointValues)) {
    breakpointsKeys.forEach((breakpoint, i) => {
      if (i < breakpointValues.length) {
        base[breakpoint] = true;
      }
    });
  } else {
    breakpointsKeys.forEach((breakpoint) => {
      if (breakpointValues[breakpoint] != null) {
        base[breakpoint] = true;
      }
    });
  }
  return base;
}
function resolveBreakpointValues({
  values: breakpointValues,
  breakpoints: themeBreakpoints,
  base: customBase
}) {
  const base = customBase || computeBreakpointsBase(breakpointValues, themeBreakpoints);
  const keys = Object.keys(base);
  if (keys.length === 0) {
    return breakpointValues;
  }
  let previous;
  return keys.reduce((acc, breakpoint, i) => {
    if (Array.isArray(breakpointValues)) {
      acc[breakpoint] = breakpointValues[i] != null ? breakpointValues[i] : breakpointValues[previous];
      previous = i;
    } else if (typeof breakpointValues === "object") {
      acc[breakpoint] = breakpointValues[breakpoint] != null ? breakpointValues[breakpoint] : breakpointValues[previous];
      previous = breakpoint;
    } else {
      acc[breakpoint] = breakpointValues;
    }
    return acc;
  }, {});
}
function getPath(obj, path, checkVars = true) {
  if (!path || typeof path !== "string") {
    return null;
  }
  if (obj && obj.vars && checkVars) {
    const val = `vars.${path}`.split(".").reduce((acc, item) => acc && acc[item] ? acc[item] : null, obj);
    if (val != null) {
      return val;
    }
  }
  return path.split(".").reduce((acc, item) => {
    if (acc && acc[item] != null) {
      return acc[item];
    }
    return null;
  }, obj);
}
function getStyleValue(themeMapping, transform2, propValueFinal, userValue = propValueFinal) {
  let value;
  if (typeof themeMapping === "function") {
    value = themeMapping(propValueFinal);
  } else if (Array.isArray(themeMapping)) {
    value = themeMapping[propValueFinal] || userValue;
  } else {
    value = getPath(themeMapping, propValueFinal) || userValue;
  }
  if (transform2) {
    value = transform2(value, userValue);
  }
  return value;
}
function style$1(options) {
  const {
    prop,
    cssProperty = options.prop,
    themeKey,
    transform: transform2
  } = options;
  const fn2 = (props) => {
    if (props[prop] == null) {
      return null;
    }
    const propValue = props[prop];
    const theme = props.theme;
    const themeMapping = getPath(theme, themeKey) || {};
    const styleFromPropValue = (propValueFinal) => {
      let value = getStyleValue(themeMapping, transform2, propValueFinal);
      if (propValueFinal === value && typeof propValueFinal === "string") {
        value = getStyleValue(themeMapping, transform2, `${prop}${propValueFinal === "default" ? "" : capitalize(propValueFinal)}`, propValueFinal);
      }
      if (cssProperty === false) {
        return value;
      }
      return {
        [cssProperty]: value
      };
    };
    return handleBreakpoints(props, propValue, styleFromPropValue);
  };
  fn2.propTypes = process.env.NODE_ENV !== "production" ? {
    [prop]: responsivePropType$1
  } : {};
  fn2.filterProps = [prop];
  return fn2;
}
function compose(...styles) {
  const handlers = styles.reduce((acc, style2) => {
    style2.filterProps.forEach((prop) => {
      acc[prop] = style2;
    });
    return acc;
  }, {});
  const fn2 = (props) => {
    return Object.keys(props).reduce((acc, prop) => {
      if (handlers[prop]) {
        return merge(acc, handlers[prop](props));
      }
      return acc;
    }, {});
  };
  fn2.propTypes = process.env.NODE_ENV !== "production" ? styles.reduce((acc, style2) => Object.assign(acc, style2.propTypes), {}) : {};
  fn2.filterProps = styles.reduce((acc, style2) => acc.concat(style2.filterProps), []);
  return fn2;
}
function memoize(fn2) {
  const cache = {};
  return (arg) => {
    if (cache[arg] === void 0) {
      cache[arg] = fn2(arg);
    }
    return cache[arg];
  };
}
const properties = {
  m: "margin",
  p: "padding"
};
const directions = {
  t: "Top",
  r: "Right",
  b: "Bottom",
  l: "Left",
  x: ["Left", "Right"],
  y: ["Top", "Bottom"]
};
const aliases = {
  marginX: "mx",
  marginY: "my",
  paddingX: "px",
  paddingY: "py"
};
const getCssProperties = memoize((prop) => {
  if (prop.length > 2) {
    if (aliases[prop]) {
      prop = aliases[prop];
    } else {
      return [prop];
    }
  }
  const [a, b] = prop.split("");
  const property = properties[a];
  const direction = directions[b] || "";
  return Array.isArray(direction) ? direction.map((dir) => property + dir) : [property + direction];
});
const marginKeys = ["m", "mt", "mr", "mb", "ml", "mx", "my", "margin", "marginTop", "marginRight", "marginBottom", "marginLeft", "marginX", "marginY", "marginInline", "marginInlineStart", "marginInlineEnd", "marginBlock", "marginBlockStart", "marginBlockEnd"];
const paddingKeys = ["p", "pt", "pr", "pb", "pl", "px", "py", "padding", "paddingTop", "paddingRight", "paddingBottom", "paddingLeft", "paddingX", "paddingY", "paddingInline", "paddingInlineStart", "paddingInlineEnd", "paddingBlock", "paddingBlockStart", "paddingBlockEnd"];
const spacingKeys = [...marginKeys, ...paddingKeys];
function createUnaryUnit(theme, themeKey, defaultValue, propName) {
  var _getPath;
  const themeSpacing = (_getPath = getPath(theme, themeKey, false)) != null ? _getPath : defaultValue;
  if (typeof themeSpacing === "number") {
    return (abs2) => {
      if (typeof abs2 === "string") {
        return abs2;
      }
      if (process.env.NODE_ENV !== "production") {
        if (typeof abs2 !== "number") {
          console.error(`MUI: Expected ${propName} argument to be a number or a string, got ${abs2}.`);
        }
      }
      return themeSpacing * abs2;
    };
  }
  if (Array.isArray(themeSpacing)) {
    return (abs2) => {
      if (typeof abs2 === "string") {
        return abs2;
      }
      if (process.env.NODE_ENV !== "production") {
        if (!Number.isInteger(abs2)) {
          console.error([`MUI: The \`theme.${themeKey}\` array type cannot be combined with non integer values.You should either use an integer value that can be used as index, or define the \`theme.${themeKey}\` as a number.`].join("\n"));
        } else if (abs2 > themeSpacing.length - 1) {
          console.error([`MUI: The value provided (${abs2}) overflows.`, `The supported values are: ${JSON.stringify(themeSpacing)}.`, `${abs2} > ${themeSpacing.length - 1}, you need to add the missing values.`].join("\n"));
        }
      }
      return themeSpacing[abs2];
    };
  }
  if (typeof themeSpacing === "function") {
    return themeSpacing;
  }
  if (process.env.NODE_ENV !== "production") {
    console.error([`MUI: The \`theme.${themeKey}\` value (${themeSpacing}) is invalid.`, "It should be a number, an array or a function."].join("\n"));
  }
  return () => void 0;
}
function createUnarySpacing(theme) {
  return createUnaryUnit(theme, "spacing", 8, "spacing");
}
function getValue(transformer, propValue) {
  if (typeof propValue === "string" || propValue == null) {
    return propValue;
  }
  const abs2 = Math.abs(propValue);
  const transformed = transformer(abs2);
  if (propValue >= 0) {
    return transformed;
  }
  if (typeof transformed === "number") {
    return -transformed;
  }
  return `-${transformed}`;
}
function getStyleFromPropValue(cssProperties, transformer) {
  return (propValue) => cssProperties.reduce((acc, cssProperty) => {
    acc[cssProperty] = getValue(transformer, propValue);
    return acc;
  }, {});
}
function resolveCssProperty(props, keys, prop, transformer) {
  if (keys.indexOf(prop) === -1) {
    return null;
  }
  const cssProperties = getCssProperties(prop);
  const styleFromPropValue = getStyleFromPropValue(cssProperties, transformer);
  const propValue = props[prop];
  return handleBreakpoints(props, propValue, styleFromPropValue);
}
function style(props, keys) {
  const transformer = createUnarySpacing(props.theme);
  return Object.keys(props).map((prop) => resolveCssProperty(props, keys, prop, transformer)).reduce(merge, {});
}
process.env.NODE_ENV !== "production" ? marginKeys.reduce((obj, key) => {
  obj[key] = responsivePropType$1;
  return obj;
}, {}) : {};
process.env.NODE_ENV !== "production" ? paddingKeys.reduce((obj, key) => {
  obj[key] = responsivePropType$1;
  return obj;
}, {}) : {};
function spacing(props) {
  return style(props, spacingKeys);
}
spacing.propTypes = process.env.NODE_ENV !== "production" ? spacingKeys.reduce((obj, key) => {
  obj[key] = responsivePropType$1;
  return obj;
}, {}) : {};
spacing.filterProps = spacingKeys;
function getBorder(value) {
  if (typeof value !== "number") {
    return value;
  }
  return `${value}px solid`;
}
const border = style$1({
  prop: "border",
  themeKey: "borders",
  transform: getBorder
});
const borderTop = style$1({
  prop: "borderTop",
  themeKey: "borders",
  transform: getBorder
});
const borderRight = style$1({
  prop: "borderRight",
  themeKey: "borders",
  transform: getBorder
});
const borderBottom = style$1({
  prop: "borderBottom",
  themeKey: "borders",
  transform: getBorder
});
const borderLeft = style$1({
  prop: "borderLeft",
  themeKey: "borders",
  transform: getBorder
});
const borderColor = style$1({
  prop: "borderColor",
  themeKey: "palette"
});
const borderTopColor = style$1({
  prop: "borderTopColor",
  themeKey: "palette"
});
const borderRightColor = style$1({
  prop: "borderRightColor",
  themeKey: "palette"
});
const borderBottomColor = style$1({
  prop: "borderBottomColor",
  themeKey: "palette"
});
const borderLeftColor = style$1({
  prop: "borderLeftColor",
  themeKey: "palette"
});
const borderRadius = (props) => {
  if (props.borderRadius !== void 0 && props.borderRadius !== null) {
    const transformer = createUnaryUnit(props.theme, "shape.borderRadius", 4, "borderRadius");
    const styleFromPropValue = (propValue) => ({
      borderRadius: getValue(transformer, propValue)
    });
    return handleBreakpoints(props, props.borderRadius, styleFromPropValue);
  }
  return null;
};
borderRadius.propTypes = process.env.NODE_ENV !== "production" ? {
  borderRadius: responsivePropType$1
} : {};
borderRadius.filterProps = ["borderRadius"];
const borders = compose(border, borderTop, borderRight, borderBottom, borderLeft, borderColor, borderTopColor, borderRightColor, borderBottomColor, borderLeftColor, borderRadius);
const borders$1 = borders;
const displayPrint = style$1({
  prop: "displayPrint",
  cssProperty: false,
  transform: (value) => ({
    "@media print": {
      display: value
    }
  })
});
const displayRaw = style$1({
  prop: "display"
});
const overflow = style$1({
  prop: "overflow"
});
const textOverflow = style$1({
  prop: "textOverflow"
});
const visibility = style$1({
  prop: "visibility"
});
const whiteSpace = style$1({
  prop: "whiteSpace"
});
const display = compose(displayPrint, displayRaw, overflow, textOverflow, visibility, whiteSpace);
const flexBasis = style$1({
  prop: "flexBasis"
});
const flexDirection = style$1({
  prop: "flexDirection"
});
const flexWrap = style$1({
  prop: "flexWrap"
});
const justifyContent = style$1({
  prop: "justifyContent"
});
const alignItems = style$1({
  prop: "alignItems"
});
const alignContent = style$1({
  prop: "alignContent"
});
const order = style$1({
  prop: "order"
});
const flex = style$1({
  prop: "flex"
});
const flexGrow = style$1({
  prop: "flexGrow"
});
const flexShrink = style$1({
  prop: "flexShrink"
});
const alignSelf = style$1({
  prop: "alignSelf"
});
const justifyItems = style$1({
  prop: "justifyItems"
});
const justifySelf = style$1({
  prop: "justifySelf"
});
const flexbox = compose(flexBasis, flexDirection, flexWrap, justifyContent, alignItems, alignContent, order, flex, flexGrow, flexShrink, alignSelf, justifyItems, justifySelf);
const flexbox$1 = flexbox;
const gap = (props) => {
  if (props.gap !== void 0 && props.gap !== null) {
    const transformer = createUnaryUnit(props.theme, "spacing", 8, "gap");
    const styleFromPropValue = (propValue) => ({
      gap: getValue(transformer, propValue)
    });
    return handleBreakpoints(props, props.gap, styleFromPropValue);
  }
  return null;
};
gap.propTypes = process.env.NODE_ENV !== "production" ? {
  gap: responsivePropType$1
} : {};
gap.filterProps = ["gap"];
const columnGap = (props) => {
  if (props.columnGap !== void 0 && props.columnGap !== null) {
    const transformer = createUnaryUnit(props.theme, "spacing", 8, "columnGap");
    const styleFromPropValue = (propValue) => ({
      columnGap: getValue(transformer, propValue)
    });
    return handleBreakpoints(props, props.columnGap, styleFromPropValue);
  }
  return null;
};
columnGap.propTypes = process.env.NODE_ENV !== "production" ? {
  columnGap: responsivePropType$1
} : {};
columnGap.filterProps = ["columnGap"];
const rowGap = (props) => {
  if (props.rowGap !== void 0 && props.rowGap !== null) {
    const transformer = createUnaryUnit(props.theme, "spacing", 8, "rowGap");
    const styleFromPropValue = (propValue) => ({
      rowGap: getValue(transformer, propValue)
    });
    return handleBreakpoints(props, props.rowGap, styleFromPropValue);
  }
  return null;
};
rowGap.propTypes = process.env.NODE_ENV !== "production" ? {
  rowGap: responsivePropType$1
} : {};
rowGap.filterProps = ["rowGap"];
const gridColumn = style$1({
  prop: "gridColumn"
});
const gridRow = style$1({
  prop: "gridRow"
});
const gridAutoFlow = style$1({
  prop: "gridAutoFlow"
});
const gridAutoColumns = style$1({
  prop: "gridAutoColumns"
});
const gridAutoRows = style$1({
  prop: "gridAutoRows"
});
const gridTemplateColumns = style$1({
  prop: "gridTemplateColumns"
});
const gridTemplateRows = style$1({
  prop: "gridTemplateRows"
});
const gridTemplateAreas = style$1({
  prop: "gridTemplateAreas"
});
const gridArea = style$1({
  prop: "gridArea"
});
const grid = compose(gap, columnGap, rowGap, gridColumn, gridRow, gridAutoFlow, gridAutoColumns, gridAutoRows, gridTemplateColumns, gridTemplateRows, gridTemplateAreas, gridArea);
const grid$1 = grid;
function transform$1(value, userValue) {
  if (userValue === "grey") {
    return userValue;
  }
  return value;
}
const color = style$1({
  prop: "color",
  themeKey: "palette",
  transform: transform$1
});
const bgcolor = style$1({
  prop: "bgcolor",
  cssProperty: "backgroundColor",
  themeKey: "palette",
  transform: transform$1
});
const backgroundColor = style$1({
  prop: "backgroundColor",
  themeKey: "palette",
  transform: transform$1
});
const palette = compose(color, bgcolor, backgroundColor);
const palette$1 = palette;
const position = style$1({
  prop: "position"
});
const zIndex$2 = style$1({
  prop: "zIndex",
  themeKey: "zIndex"
});
const top = style$1({
  prop: "top"
});
const right = style$1({
  prop: "right"
});
const bottom = style$1({
  prop: "bottom"
});
const left = style$1({
  prop: "left"
});
const positions = compose(position, zIndex$2, top, right, bottom, left);
const boxShadow = style$1({
  prop: "boxShadow",
  themeKey: "shadows"
});
const shadows$2 = boxShadow;
function transform(value) {
  return value <= 1 && value !== 0 ? `${value * 100}%` : value;
}
const width = style$1({
  prop: "width",
  transform
});
const maxWidth = (props) => {
  if (props.maxWidth !== void 0 && props.maxWidth !== null) {
    const styleFromPropValue = (propValue) => {
      var _props$theme, _props$theme$breakpoi, _props$theme$breakpoi2;
      const breakpoint = ((_props$theme = props.theme) == null ? void 0 : (_props$theme$breakpoi = _props$theme.breakpoints) == null ? void 0 : (_props$theme$breakpoi2 = _props$theme$breakpoi.values) == null ? void 0 : _props$theme$breakpoi2[propValue]) || values[propValue];
      return {
        maxWidth: breakpoint || transform(propValue)
      };
    };
    return handleBreakpoints(props, props.maxWidth, styleFromPropValue);
  }
  return null;
};
maxWidth.filterProps = ["maxWidth"];
const minWidth = style$1({
  prop: "minWidth",
  transform
});
const height = style$1({
  prop: "height",
  transform
});
const maxHeight = style$1({
  prop: "maxHeight",
  transform
});
const minHeight = style$1({
  prop: "minHeight",
  transform
});
style$1({
  prop: "size",
  cssProperty: "width",
  transform
});
style$1({
  prop: "size",
  cssProperty: "height",
  transform
});
const boxSizing = style$1({
  prop: "boxSizing"
});
const sizing = compose(width, maxWidth, minWidth, height, maxHeight, minHeight, boxSizing);
const sizing$1 = sizing;
const fontFamily = style$1({
  prop: "fontFamily",
  themeKey: "typography"
});
const fontSize = style$1({
  prop: "fontSize",
  themeKey: "typography"
});
const fontStyle = style$1({
  prop: "fontStyle",
  themeKey: "typography"
});
const fontWeight = style$1({
  prop: "fontWeight",
  themeKey: "typography"
});
const letterSpacing = style$1({
  prop: "letterSpacing"
});
const textTransform = style$1({
  prop: "textTransform"
});
const lineHeight = style$1({
  prop: "lineHeight"
});
const textAlign = style$1({
  prop: "textAlign"
});
const typographyVariant = style$1({
  prop: "typography",
  cssProperty: false,
  themeKey: "typography"
});
const typography = compose(typographyVariant, fontFamily, fontSize, fontStyle, fontWeight, letterSpacing, lineHeight, textAlign, textTransform);
const typography$1 = typography;
const filterPropsMapping = {
  borders: borders$1.filterProps,
  display: display.filterProps,
  flexbox: flexbox$1.filterProps,
  grid: grid$1.filterProps,
  positions: positions.filterProps,
  palette: palette$1.filterProps,
  shadows: shadows$2.filterProps,
  sizing: sizing$1.filterProps,
  spacing: spacing.filterProps,
  typography: typography$1.filterProps
};
const styleFunctionMapping = {
  borders: borders$1,
  display,
  flexbox: flexbox$1,
  grid: grid$1,
  positions,
  palette: palette$1,
  shadows: shadows$2,
  sizing: sizing$1,
  spacing,
  typography: typography$1
};
const propToStyleFunction = Object.keys(filterPropsMapping).reduce((acc, styleFnName) => {
  filterPropsMapping[styleFnName].forEach((propName) => {
    acc[propName] = styleFunctionMapping[styleFnName];
  });
  return acc;
}, {});
function objectsHaveSameKeys(...objects) {
  const allKeys = objects.reduce((keys, object) => keys.concat(Object.keys(object)), []);
  const union = new Set(allKeys);
  return objects.every((object) => union.size === Object.keys(object).length);
}
function callIfFn(maybeFn, arg) {
  return typeof maybeFn === "function" ? maybeFn(arg) : maybeFn;
}
function unstable_createStyleFunctionSx(styleFunctionMapping$1 = styleFunctionMapping) {
  const propToStyleFunction2 = Object.keys(styleFunctionMapping$1).reduce((acc, styleFnName) => {
    styleFunctionMapping$1[styleFnName].filterProps.forEach((propName) => {
      acc[propName] = styleFunctionMapping$1[styleFnName];
    });
    return acc;
  }, {});
  function getThemeValue(prop, value, theme) {
    const inputProps = {
      [prop]: value,
      theme
    };
    const styleFunction = propToStyleFunction2[prop];
    return styleFunction ? styleFunction(inputProps) : {
      [prop]: value
    };
  }
  function styleFunctionSx2(props) {
    const {
      sx: sx2,
      theme = {}
    } = props || {};
    if (!sx2) {
      return null;
    }
    function traverse(sxInput) {
      let sxObject = sxInput;
      if (typeof sxInput === "function") {
        sxObject = sxInput(theme);
      } else if (typeof sxInput !== "object") {
        return sxInput;
      }
      if (!sxObject) {
        return null;
      }
      const emptyBreakpoints = createEmptyBreakpointObject(theme.breakpoints);
      const breakpointsKeys = Object.keys(emptyBreakpoints);
      let css2 = emptyBreakpoints;
      Object.keys(sxObject).forEach((styleKey) => {
        const value = callIfFn(sxObject[styleKey], theme);
        if (value !== null && value !== void 0) {
          if (typeof value === "object") {
            if (propToStyleFunction2[styleKey]) {
              css2 = merge(css2, getThemeValue(styleKey, value, theme));
            } else {
              const breakpointsValues = handleBreakpoints({
                theme
              }, value, (x) => ({
                [styleKey]: x
              }));
              if (objectsHaveSameKeys(breakpointsValues, value)) {
                css2[styleKey] = styleFunctionSx2({
                  sx: value,
                  theme
                });
              } else {
                css2 = merge(css2, breakpointsValues);
              }
            }
          } else {
            css2 = merge(css2, getThemeValue(styleKey, value, theme));
          }
        }
      });
      return removeUnusedBreakpoints(breakpointsKeys, css2);
    }
    return Array.isArray(sx2) ? sx2.map(traverse) : traverse(sx2);
  }
  return styleFunctionSx2;
}
const styleFunctionSx = unstable_createStyleFunctionSx();
styleFunctionSx.filterProps = ["sx"];
const defaultStyleFunctionSx = styleFunctionSx;
const _excluded$9 = ["sx"];
const splitProps = (props) => {
  const result = {
    systemProps: {},
    otherProps: {}
  };
  Object.keys(props).forEach((prop) => {
    if (propToStyleFunction[prop]) {
      result.systemProps[prop] = props[prop];
    } else {
      result.otherProps[prop] = props[prop];
    }
  });
  return result;
};
function extendSxProp(props) {
  const {
    sx: inSx
  } = props, other = _objectWithoutPropertiesLoose(props, _excluded$9);
  const {
    systemProps,
    otherProps
  } = splitProps(other);
  let finalSx;
  if (Array.isArray(inSx)) {
    finalSx = [systemProps, ...inSx];
  } else if (typeof inSx === "function") {
    finalSx = (...args) => {
      const result = inSx(...args);
      if (!isPlainObject(result)) {
        return systemProps;
      }
      return _extends({}, systemProps, result);
    };
  } else {
    finalSx = _extends({}, systemProps, inSx);
  }
  return _extends({}, otherProps, {
    sx: finalSx
  });
}
const _excluded$8 = ["values", "unit", "step"];
const sortBreakpointsValues = (values2) => {
  const breakpointsAsArray = Object.keys(values2).map((key) => ({
    key,
    val: values2[key]
  })) || [];
  breakpointsAsArray.sort((breakpoint1, breakpoint2) => breakpoint1.val - breakpoint2.val);
  return breakpointsAsArray.reduce((acc, obj) => {
    return _extends({}, acc, {
      [obj.key]: obj.val
    });
  }, {});
};
function createBreakpoints(breakpoints) {
  const {
    values: values2 = {
      xs: 0,
      sm: 600,
      md: 900,
      lg: 1200,
      xl: 1536
    },
    unit = "px",
    step = 5
  } = breakpoints, other = _objectWithoutPropertiesLoose(breakpoints, _excluded$8);
  const sortedValues = sortBreakpointsValues(values2);
  const keys = Object.keys(sortedValues);
  function up2(key) {
    const value = typeof values2[key] === "number" ? values2[key] : key;
    return `@media (min-width:${value}${unit})`;
  }
  function down(key) {
    const value = typeof values2[key] === "number" ? values2[key] : key;
    return `@media (max-width:${value - step / 100}${unit})`;
  }
  function between(start, end) {
    const endIndex = keys.indexOf(end);
    return `@media (min-width:${typeof values2[start] === "number" ? values2[start] : start}${unit}) and (max-width:${(endIndex !== -1 && typeof values2[keys[endIndex]] === "number" ? values2[keys[endIndex]] : end) - step / 100}${unit})`;
  }
  function only(key) {
    if (keys.indexOf(key) + 1 < keys.length) {
      return between(key, keys[keys.indexOf(key) + 1]);
    }
    return up2(key);
  }
  function not(key) {
    const keyIndex = keys.indexOf(key);
    if (keyIndex === 0) {
      return up2(keys[1]);
    }
    if (keyIndex === keys.length - 1) {
      return down(keys[keyIndex]);
    }
    return between(key, keys[keys.indexOf(key) + 1]).replace("@media", "@media not all and");
  }
  return _extends({
    keys,
    values: sortedValues,
    up: up2,
    down,
    between,
    only,
    not,
    unit
  }, other);
}
const shape = {
  borderRadius: 4
};
const shape$1 = shape;
function createSpacing(spacingInput = 8) {
  if (spacingInput.mui) {
    return spacingInput;
  }
  const transform2 = createUnarySpacing({
    spacing: spacingInput
  });
  const spacing2 = (...argsInput) => {
    if (process.env.NODE_ENV !== "production") {
      if (!(argsInput.length <= 4)) {
        console.error(`MUI: Too many arguments provided, expected between 0 and 4, got ${argsInput.length}`);
      }
    }
    const args = argsInput.length === 0 ? [1] : argsInput;
    return args.map((argument) => {
      const output = transform2(argument);
      return typeof output === "number" ? `${output}px` : output;
    }).join(" ");
  };
  spacing2.mui = true;
  return spacing2;
}
const _excluded$7 = ["breakpoints", "palette", "spacing", "shape"];
function createTheme$1(options = {}, ...args) {
  const {
    breakpoints: breakpointsInput = {},
    palette: paletteInput = {},
    spacing: spacingInput,
    shape: shapeInput = {}
  } = options, other = _objectWithoutPropertiesLoose(options, _excluded$7);
  const breakpoints = createBreakpoints(breakpointsInput);
  const spacing2 = createSpacing(spacingInput);
  let muiTheme = deepmerge({
    breakpoints,
    direction: "ltr",
    components: {},
    palette: _extends({
      mode: "light"
    }, paletteInput),
    spacing: spacing2,
    shape: _extends({}, shape$1, shapeInput)
  }, other);
  muiTheme = args.reduce((acc, argument) => deepmerge(acc, argument), muiTheme);
  return muiTheme;
}
const ThemeContext = /* @__PURE__ */ React.createContext(null);
if (process.env.NODE_ENV !== "production") {
  ThemeContext.displayName = "ThemeContext";
}
const ThemeContext$1 = ThemeContext;
function useTheme$3() {
  const theme = React.useContext(ThemeContext$1);
  if (process.env.NODE_ENV !== "production") {
    React.useDebugValue(theme);
  }
  return theme;
}
function isObjectEmpty(obj) {
  return Object.keys(obj).length === 0;
}
function useTheme$2(defaultTheme2 = null) {
  const contextTheme = useTheme$3();
  return !contextTheme || isObjectEmpty(contextTheme) ? defaultTheme2 : contextTheme;
}
const systemDefaultTheme$1 = createTheme$1();
function useTheme$1(defaultTheme2 = systemDefaultTheme$1) {
  return useTheme$2(defaultTheme2);
}
const _excluded$6 = ["variant"];
function isEmpty$1(string) {
  return string.length === 0;
}
function propsToClassKey(props) {
  const {
    variant
  } = props, other = _objectWithoutPropertiesLoose(props, _excluded$6);
  let classKey = variant || "";
  Object.keys(other).sort().forEach((key) => {
    if (key === "color") {
      classKey += isEmpty$1(classKey) ? props[key] : capitalize(props[key]);
    } else {
      classKey += `${isEmpty$1(classKey) ? key : capitalize(key)}${capitalize(props[key].toString())}`;
    }
  });
  return classKey;
}
const _excluded$5 = ["name", "slot", "skipVariantsResolver", "skipSx", "overridesResolver"], _excluded2 = ["theme"], _excluded3 = ["theme"];
function isEmpty(obj) {
  return Object.keys(obj).length === 0;
}
function isStringTag(tag) {
  return typeof tag === "string" && tag.charCodeAt(0) > 96;
}
const getStyleOverrides = (name, theme) => {
  if (theme.components && theme.components[name] && theme.components[name].styleOverrides) {
    return theme.components[name].styleOverrides;
  }
  return null;
};
const getVariantStyles = (name, theme) => {
  let variants = [];
  if (theme && theme.components && theme.components[name] && theme.components[name].variants) {
    variants = theme.components[name].variants;
  }
  const variantsStyles = {};
  variants.forEach((definition) => {
    const key = propsToClassKey(definition.props);
    variantsStyles[key] = definition.style;
  });
  return variantsStyles;
};
const variantsResolver = (props, styles, theme, name) => {
  var _theme$components, _theme$components$nam;
  const {
    ownerState = {}
  } = props;
  const variantsStyles = [];
  const themeVariants = theme == null ? void 0 : (_theme$components = theme.components) == null ? void 0 : (_theme$components$nam = _theme$components[name]) == null ? void 0 : _theme$components$nam.variants;
  if (themeVariants) {
    themeVariants.forEach((themeVariant) => {
      let isMatch = true;
      Object.keys(themeVariant.props).forEach((key) => {
        if (ownerState[key] !== themeVariant.props[key] && props[key] !== themeVariant.props[key]) {
          isMatch = false;
        }
      });
      if (isMatch) {
        variantsStyles.push(styles[propsToClassKey(themeVariant.props)]);
      }
    });
  }
  return variantsStyles;
};
function shouldForwardProp(prop) {
  return prop !== "ownerState" && prop !== "theme" && prop !== "sx" && prop !== "as";
}
const systemDefaultTheme = createTheme$1();
const lowercaseFirstLetter = (string) => {
  return string.charAt(0).toLowerCase() + string.slice(1);
};
function createStyled2(input = {}) {
  const {
    defaultTheme: defaultTheme2 = systemDefaultTheme,
    rootShouldForwardProp: rootShouldForwardProp2 = shouldForwardProp,
    slotShouldForwardProp = shouldForwardProp,
    styleFunctionSx: styleFunctionSx2 = defaultStyleFunctionSx
  } = input;
  const systemSx = (props) => {
    const theme = isEmpty(props.theme) ? defaultTheme2 : props.theme;
    return styleFunctionSx2(_extends({}, props, {
      theme
    }));
  };
  systemSx.__mui_systemSx = true;
  return (tag, inputOptions = {}) => {
    internal_processStyles(tag, (styles) => styles.filter((style2) => !(style2 != null && style2.__mui_systemSx)));
    const {
      name: componentName,
      slot: componentSlot,
      skipVariantsResolver: inputSkipVariantsResolver,
      skipSx: inputSkipSx,
      overridesResolver
    } = inputOptions, options = _objectWithoutPropertiesLoose(inputOptions, _excluded$5);
    const skipVariantsResolver = inputSkipVariantsResolver !== void 0 ? inputSkipVariantsResolver : componentSlot && componentSlot !== "Root" || false;
    const skipSx = inputSkipSx || false;
    let label;
    if (process.env.NODE_ENV !== "production") {
      if (componentName) {
        label = `${componentName}-${lowercaseFirstLetter(componentSlot || "Root")}`;
      }
    }
    let shouldForwardPropOption = shouldForwardProp;
    if (componentSlot === "Root") {
      shouldForwardPropOption = rootShouldForwardProp2;
    } else if (componentSlot) {
      shouldForwardPropOption = slotShouldForwardProp;
    } else if (isStringTag(tag)) {
      shouldForwardPropOption = void 0;
    }
    const defaultStyledResolver = styled$2(tag, _extends({
      shouldForwardProp: shouldForwardPropOption,
      label
    }, options));
    const muiStyledResolver = (styleArg, ...expressions) => {
      const expressionsWithDefaultTheme = expressions ? expressions.map((stylesArg) => {
        return typeof stylesArg === "function" && stylesArg.__emotion_real !== stylesArg ? (_ref) => {
          let {
            theme: themeInput
          } = _ref, other = _objectWithoutPropertiesLoose(_ref, _excluded2);
          return stylesArg(_extends({
            theme: isEmpty(themeInput) ? defaultTheme2 : themeInput
          }, other));
        } : stylesArg;
      }) : [];
      let transformedStyleArg = styleArg;
      if (componentName && overridesResolver) {
        expressionsWithDefaultTheme.push((props) => {
          const theme = isEmpty(props.theme) ? defaultTheme2 : props.theme;
          const styleOverrides = getStyleOverrides(componentName, theme);
          if (styleOverrides) {
            const resolvedStyleOverrides = {};
            Object.entries(styleOverrides).forEach(([slotKey, slotStyle]) => {
              resolvedStyleOverrides[slotKey] = typeof slotStyle === "function" ? slotStyle(_extends({}, props, {
                theme
              })) : slotStyle;
            });
            return overridesResolver(props, resolvedStyleOverrides);
          }
          return null;
        });
      }
      if (componentName && !skipVariantsResolver) {
        expressionsWithDefaultTheme.push((props) => {
          const theme = isEmpty(props.theme) ? defaultTheme2 : props.theme;
          return variantsResolver(props, getVariantStyles(componentName, theme), theme, componentName);
        });
      }
      if (!skipSx) {
        expressionsWithDefaultTheme.push(systemSx);
      }
      const numOfCustomFnsApplied = expressionsWithDefaultTheme.length - expressions.length;
      if (Array.isArray(styleArg) && numOfCustomFnsApplied > 0) {
        const placeholders = new Array(numOfCustomFnsApplied).fill("");
        transformedStyleArg = [...styleArg, ...placeholders];
        transformedStyleArg.raw = [...styleArg.raw, ...placeholders];
      } else if (typeof styleArg === "function" && styleArg.__emotion_real !== styleArg) {
        transformedStyleArg = (_ref2) => {
          let {
            theme: themeInput
          } = _ref2, other = _objectWithoutPropertiesLoose(_ref2, _excluded3);
          return styleArg(_extends({
            theme: isEmpty(themeInput) ? defaultTheme2 : themeInput
          }, other));
        };
      }
      const Component = defaultStyledResolver(transformedStyleArg, ...expressionsWithDefaultTheme);
      if (process.env.NODE_ENV !== "production") {
        let displayName;
        if (componentName) {
          displayName = `${componentName}${componentSlot || ""}`;
        }
        if (displayName === void 0) {
          displayName = `Styled(${getDisplayName(tag)})`;
        }
        Component.displayName = displayName;
      }
      return Component;
    };
    if (defaultStyledResolver.withConfig) {
      muiStyledResolver.withConfig = defaultStyledResolver.withConfig;
    }
    return muiStyledResolver;
  };
}
function getThemeProps(params) {
  const {
    theme,
    name,
    props
  } = params;
  if (!theme || !theme.components || !theme.components[name] || !theme.components[name].defaultProps) {
    return props;
  }
  return resolveProps(theme.components[name].defaultProps, props);
}
function useThemeProps$1({
  props,
  name,
  defaultTheme: defaultTheme2
}) {
  const theme = useTheme$1(defaultTheme2);
  const mergedProps = getThemeProps({
    theme,
    name,
    props
  });
  return mergedProps;
}
function clamp(value, min = 0, max = 1) {
  if (process.env.NODE_ENV !== "production") {
    if (value < min || value > max) {
      console.error(`MUI: The value provided ${value} is out of range [${min}, ${max}].`);
    }
  }
  return Math.min(Math.max(min, value), max);
}
function hexToRgb(color2) {
  color2 = color2.slice(1);
  const re2 = new RegExp(`.{1,${color2.length >= 6 ? 2 : 1}}`, "g");
  let colors = color2.match(re2);
  if (colors && colors[0].length === 1) {
    colors = colors.map((n) => n + n);
  }
  return colors ? `rgb${colors.length === 4 ? "a" : ""}(${colors.map((n, index) => {
    return index < 3 ? parseInt(n, 16) : Math.round(parseInt(n, 16) / 255 * 1e3) / 1e3;
  }).join(", ")})` : "";
}
function decomposeColor(color2) {
  if (color2.type) {
    return color2;
  }
  if (color2.charAt(0) === "#") {
    return decomposeColor(hexToRgb(color2));
  }
  const marker = color2.indexOf("(");
  const type = color2.substring(0, marker);
  if (["rgb", "rgba", "hsl", "hsla", "color"].indexOf(type) === -1) {
    throw new Error(process.env.NODE_ENV !== "production" ? `MUI: Unsupported \`${color2}\` color.
The following formats are supported: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().` : formatMuiErrorMessage(9, color2));
  }
  let values2 = color2.substring(marker + 1, color2.length - 1);
  let colorSpace;
  if (type === "color") {
    values2 = values2.split(" ");
    colorSpace = values2.shift();
    if (values2.length === 4 && values2[3].charAt(0) === "/") {
      values2[3] = values2[3].slice(1);
    }
    if (["srgb", "display-p3", "a98-rgb", "prophoto-rgb", "rec-2020"].indexOf(colorSpace) === -1) {
      throw new Error(process.env.NODE_ENV !== "production" ? `MUI: unsupported \`${colorSpace}\` color space.
The following color spaces are supported: srgb, display-p3, a98-rgb, prophoto-rgb, rec-2020.` : formatMuiErrorMessage(10, colorSpace));
    }
  } else {
    values2 = values2.split(",");
  }
  values2 = values2.map((value) => parseFloat(value));
  return {
    type,
    values: values2,
    colorSpace
  };
}
function recomposeColor(color2) {
  const {
    type,
    colorSpace
  } = color2;
  let {
    values: values2
  } = color2;
  if (type.indexOf("rgb") !== -1) {
    values2 = values2.map((n, i) => i < 3 ? parseInt(n, 10) : n);
  } else if (type.indexOf("hsl") !== -1) {
    values2[1] = `${values2[1]}%`;
    values2[2] = `${values2[2]}%`;
  }
  if (type.indexOf("color") !== -1) {
    values2 = `${colorSpace} ${values2.join(" ")}`;
  } else {
    values2 = `${values2.join(", ")}`;
  }
  return `${type}(${values2})`;
}
function hslToRgb(color2) {
  color2 = decomposeColor(color2);
  const {
    values: values2
  } = color2;
  const h = values2[0];
  const s = values2[1] / 100;
  const l = values2[2] / 100;
  const a = s * Math.min(l, 1 - l);
  const f = (n, k = (n + h / 30) % 12) => l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);
  let type = "rgb";
  const rgb = [Math.round(f(0) * 255), Math.round(f(8) * 255), Math.round(f(4) * 255)];
  if (color2.type === "hsla") {
    type += "a";
    rgb.push(values2[3]);
  }
  return recomposeColor({
    type,
    values: rgb
  });
}
function getLuminance(color2) {
  color2 = decomposeColor(color2);
  let rgb = color2.type === "hsl" || color2.type === "hsla" ? decomposeColor(hslToRgb(color2)).values : color2.values;
  rgb = rgb.map((val) => {
    if (color2.type !== "color") {
      val /= 255;
    }
    return val <= 0.03928 ? val / 12.92 : ((val + 0.055) / 1.055) ** 2.4;
  });
  return Number((0.2126 * rgb[0] + 0.7152 * rgb[1] + 0.0722 * rgb[2]).toFixed(3));
}
function getContrastRatio(foreground, background) {
  const lumA = getLuminance(foreground);
  const lumB = getLuminance(background);
  return (Math.max(lumA, lumB) + 0.05) / (Math.min(lumA, lumB) + 0.05);
}
function darken(color2, coefficient) {
  color2 = decomposeColor(color2);
  coefficient = clamp(coefficient);
  if (color2.type.indexOf("hsl") !== -1) {
    color2.values[2] *= 1 - coefficient;
  } else if (color2.type.indexOf("rgb") !== -1 || color2.type.indexOf("color") !== -1) {
    for (let i = 0; i < 3; i += 1) {
      color2.values[i] *= 1 - coefficient;
    }
  }
  return recomposeColor(color2);
}
function lighten(color2, coefficient) {
  color2 = decomposeColor(color2);
  coefficient = clamp(coefficient);
  if (color2.type.indexOf("hsl") !== -1) {
    color2.values[2] += (100 - color2.values[2]) * coefficient;
  } else if (color2.type.indexOf("rgb") !== -1) {
    for (let i = 0; i < 3; i += 1) {
      color2.values[i] += (255 - color2.values[i]) * coefficient;
    }
  } else if (color2.type.indexOf("color") !== -1) {
    for (let i = 0; i < 3; i += 1) {
      color2.values[i] += (1 - color2.values[i]) * coefficient;
    }
  }
  return recomposeColor(color2);
}
function createMixins(breakpoints, mixins) {
  return _extends({
    toolbar: {
      minHeight: 56,
      [breakpoints.up("xs")]: {
        "@media (orientation: landscape)": {
          minHeight: 48
        }
      },
      [breakpoints.up("sm")]: {
        minHeight: 64
      }
    }
  }, mixins);
}
const common = {
  black: "#000",
  white: "#fff"
};
const common$1 = common;
const grey = {
  50: "#fafafa",
  100: "#f5f5f5",
  200: "#eeeeee",
  300: "#e0e0e0",
  400: "#bdbdbd",
  500: "#9e9e9e",
  600: "#757575",
  700: "#616161",
  800: "#424242",
  900: "#212121",
  A100: "#f5f5f5",
  A200: "#eeeeee",
  A400: "#bdbdbd",
  A700: "#616161"
};
const grey$1 = grey;
const purple = {
  50: "#f3e5f5",
  100: "#e1bee7",
  200: "#ce93d8",
  300: "#ba68c8",
  400: "#ab47bc",
  500: "#9c27b0",
  600: "#8e24aa",
  700: "#7b1fa2",
  800: "#6a1b9a",
  900: "#4a148c",
  A100: "#ea80fc",
  A200: "#e040fb",
  A400: "#d500f9",
  A700: "#aa00ff"
};
const purple$1 = purple;
const red = {
  50: "#ffebee",
  100: "#ffcdd2",
  200: "#ef9a9a",
  300: "#e57373",
  400: "#ef5350",
  500: "#f44336",
  600: "#e53935",
  700: "#d32f2f",
  800: "#c62828",
  900: "#b71c1c",
  A100: "#ff8a80",
  A200: "#ff5252",
  A400: "#ff1744",
  A700: "#d50000"
};
const red$1 = red;
const orange = {
  50: "#fff3e0",
  100: "#ffe0b2",
  200: "#ffcc80",
  300: "#ffb74d",
  400: "#ffa726",
  500: "#ff9800",
  600: "#fb8c00",
  700: "#f57c00",
  800: "#ef6c00",
  900: "#e65100",
  A100: "#ffd180",
  A200: "#ffab40",
  A400: "#ff9100",
  A700: "#ff6d00"
};
const orange$1 = orange;
const blue = {
  50: "#e3f2fd",
  100: "#bbdefb",
  200: "#90caf9",
  300: "#64b5f6",
  400: "#42a5f5",
  500: "#2196f3",
  600: "#1e88e5",
  700: "#1976d2",
  800: "#1565c0",
  900: "#0d47a1",
  A100: "#82b1ff",
  A200: "#448aff",
  A400: "#2979ff",
  A700: "#2962ff"
};
const blue$1 = blue;
const lightBlue = {
  50: "#e1f5fe",
  100: "#b3e5fc",
  200: "#81d4fa",
  300: "#4fc3f7",
  400: "#29b6f6",
  500: "#03a9f4",
  600: "#039be5",
  700: "#0288d1",
  800: "#0277bd",
  900: "#01579b",
  A100: "#80d8ff",
  A200: "#40c4ff",
  A400: "#00b0ff",
  A700: "#0091ea"
};
const lightBlue$1 = lightBlue;
const green = {
  50: "#e8f5e9",
  100: "#c8e6c9",
  200: "#a5d6a7",
  300: "#81c784",
  400: "#66bb6a",
  500: "#4caf50",
  600: "#43a047",
  700: "#388e3c",
  800: "#2e7d32",
  900: "#1b5e20",
  A100: "#b9f6ca",
  A200: "#69f0ae",
  A400: "#00e676",
  A700: "#00c853"
};
const green$1 = green;
const _excluded$4 = ["mode", "contrastThreshold", "tonalOffset"];
const light = {
  text: {
    primary: "rgba(0, 0, 0, 0.87)",
    secondary: "rgba(0, 0, 0, 0.6)",
    disabled: "rgba(0, 0, 0, 0.38)"
  },
  divider: "rgba(0, 0, 0, 0.12)",
  background: {
    paper: common$1.white,
    default: common$1.white
  },
  action: {
    active: "rgba(0, 0, 0, 0.54)",
    hover: "rgba(0, 0, 0, 0.04)",
    hoverOpacity: 0.04,
    selected: "rgba(0, 0, 0, 0.08)",
    selectedOpacity: 0.08,
    disabled: "rgba(0, 0, 0, 0.26)",
    disabledBackground: "rgba(0, 0, 0, 0.12)",
    disabledOpacity: 0.38,
    focus: "rgba(0, 0, 0, 0.12)",
    focusOpacity: 0.12,
    activatedOpacity: 0.12
  }
};
const dark = {
  text: {
    primary: common$1.white,
    secondary: "rgba(255, 255, 255, 0.7)",
    disabled: "rgba(255, 255, 255, 0.5)",
    icon: "rgba(255, 255, 255, 0.5)"
  },
  divider: "rgba(255, 255, 255, 0.12)",
  background: {
    paper: "#121212",
    default: "#121212"
  },
  action: {
    active: common$1.white,
    hover: "rgba(255, 255, 255, 0.08)",
    hoverOpacity: 0.08,
    selected: "rgba(255, 255, 255, 0.16)",
    selectedOpacity: 0.16,
    disabled: "rgba(255, 255, 255, 0.3)",
    disabledBackground: "rgba(255, 255, 255, 0.12)",
    disabledOpacity: 0.38,
    focus: "rgba(255, 255, 255, 0.12)",
    focusOpacity: 0.12,
    activatedOpacity: 0.24
  }
};
function addLightOrDark(intent, direction, shade, tonalOffset) {
  const tonalOffsetLight = tonalOffset.light || tonalOffset;
  const tonalOffsetDark = tonalOffset.dark || tonalOffset * 1.5;
  if (!intent[direction]) {
    if (intent.hasOwnProperty(shade)) {
      intent[direction] = intent[shade];
    } else if (direction === "light") {
      intent.light = lighten(intent.main, tonalOffsetLight);
    } else if (direction === "dark") {
      intent.dark = darken(intent.main, tonalOffsetDark);
    }
  }
}
function getDefaultPrimary(mode = "light") {
  if (mode === "dark") {
    return {
      main: blue$1[200],
      light: blue$1[50],
      dark: blue$1[400]
    };
  }
  return {
    main: blue$1[700],
    light: blue$1[400],
    dark: blue$1[800]
  };
}
function getDefaultSecondary(mode = "light") {
  if (mode === "dark") {
    return {
      main: purple$1[200],
      light: purple$1[50],
      dark: purple$1[400]
    };
  }
  return {
    main: purple$1[500],
    light: purple$1[300],
    dark: purple$1[700]
  };
}
function getDefaultError(mode = "light") {
  if (mode === "dark") {
    return {
      main: red$1[500],
      light: red$1[300],
      dark: red$1[700]
    };
  }
  return {
    main: red$1[700],
    light: red$1[400],
    dark: red$1[800]
  };
}
function getDefaultInfo(mode = "light") {
  if (mode === "dark") {
    return {
      main: lightBlue$1[400],
      light: lightBlue$1[300],
      dark: lightBlue$1[700]
    };
  }
  return {
    main: lightBlue$1[700],
    light: lightBlue$1[500],
    dark: lightBlue$1[900]
  };
}
function getDefaultSuccess(mode = "light") {
  if (mode === "dark") {
    return {
      main: green$1[400],
      light: green$1[300],
      dark: green$1[700]
    };
  }
  return {
    main: green$1[800],
    light: green$1[500],
    dark: green$1[900]
  };
}
function getDefaultWarning(mode = "light") {
  if (mode === "dark") {
    return {
      main: orange$1[400],
      light: orange$1[300],
      dark: orange$1[700]
    };
  }
  return {
    main: "#ed6c02",
    light: orange$1[500],
    dark: orange$1[900]
  };
}
function createPalette(palette2) {
  const {
    mode = "light",
    contrastThreshold = 3,
    tonalOffset = 0.2
  } = palette2, other = _objectWithoutPropertiesLoose(palette2, _excluded$4);
  const primary = palette2.primary || getDefaultPrimary(mode);
  const secondary = palette2.secondary || getDefaultSecondary(mode);
  const error = palette2.error || getDefaultError(mode);
  const info = palette2.info || getDefaultInfo(mode);
  const success = palette2.success || getDefaultSuccess(mode);
  const warning = palette2.warning || getDefaultWarning(mode);
  function getContrastText(background) {
    const contrastText = getContrastRatio(background, dark.text.primary) >= contrastThreshold ? dark.text.primary : light.text.primary;
    if (process.env.NODE_ENV !== "production") {
      const contrast = getContrastRatio(background, contrastText);
      if (contrast < 3) {
        console.error([`MUI: The contrast ratio of ${contrast}:1 for ${contrastText} on ${background}`, "falls below the WCAG recommended absolute minimum contrast ratio of 3:1.", "https://www.w3.org/TR/2008/REC-WCAG20-20081211/#visual-audio-contrast-contrast"].join("\n"));
      }
    }
    return contrastText;
  }
  const augmentColor = ({
    color: color2,
    name,
    mainShade = 500,
    lightShade = 300,
    darkShade = 700
  }) => {
    color2 = _extends({}, color2);
    if (!color2.main && color2[mainShade]) {
      color2.main = color2[mainShade];
    }
    if (!color2.hasOwnProperty("main")) {
      throw new Error(process.env.NODE_ENV !== "production" ? `MUI: The color${name ? ` (${name})` : ""} provided to augmentColor(color) is invalid.
The color object needs to have a \`main\` property or a \`${mainShade}\` property.` : formatMuiErrorMessage(11, name ? ` (${name})` : "", mainShade));
    }
    if (typeof color2.main !== "string") {
      throw new Error(process.env.NODE_ENV !== "production" ? `MUI: The color${name ? ` (${name})` : ""} provided to augmentColor(color) is invalid.
\`color.main\` should be a string, but \`${JSON.stringify(color2.main)}\` was provided instead.

Did you intend to use one of the following approaches?

import { green } from "@mui/material/colors";

const theme1 = createTheme({ palette: {
  primary: green,
} });

const theme2 = createTheme({ palette: {
  primary: { main: green[500] },
} });` : formatMuiErrorMessage(12, name ? ` (${name})` : "", JSON.stringify(color2.main)));
    }
    addLightOrDark(color2, "light", lightShade, tonalOffset);
    addLightOrDark(color2, "dark", darkShade, tonalOffset);
    if (!color2.contrastText) {
      color2.contrastText = getContrastText(color2.main);
    }
    return color2;
  };
  const modes = {
    dark,
    light
  };
  if (process.env.NODE_ENV !== "production") {
    if (!modes[mode]) {
      console.error(`MUI: The palette mode \`${mode}\` is not supported.`);
    }
  }
  const paletteOutput = deepmerge(_extends({
    common: _extends({}, common$1),
    mode,
    primary: augmentColor({
      color: primary,
      name: "primary"
    }),
    secondary: augmentColor({
      color: secondary,
      name: "secondary",
      mainShade: "A400",
      lightShade: "A200",
      darkShade: "A700"
    }),
    error: augmentColor({
      color: error,
      name: "error"
    }),
    warning: augmentColor({
      color: warning,
      name: "warning"
    }),
    info: augmentColor({
      color: info,
      name: "info"
    }),
    success: augmentColor({
      color: success,
      name: "success"
    }),
    grey: grey$1,
    contrastThreshold,
    getContrastText,
    augmentColor,
    tonalOffset
  }, modes[mode]), other);
  return paletteOutput;
}
const _excluded$3 = ["fontFamily", "fontSize", "fontWeightLight", "fontWeightRegular", "fontWeightMedium", "fontWeightBold", "htmlFontSize", "allVariants", "pxToRem"];
function round(value) {
  return Math.round(value * 1e5) / 1e5;
}
const caseAllCaps = {
  textTransform: "uppercase"
};
const defaultFontFamily = '"Roboto", "Helvetica", "Arial", sans-serif';
function createTypography(palette2, typography2) {
  const _ref = typeof typography2 === "function" ? typography2(palette2) : typography2, {
    fontFamily: fontFamily2 = defaultFontFamily,
    fontSize: fontSize2 = 14,
    fontWeightLight = 300,
    fontWeightRegular = 400,
    fontWeightMedium = 500,
    fontWeightBold = 700,
    htmlFontSize = 16,
    allVariants,
    pxToRem: pxToRem2
  } = _ref, other = _objectWithoutPropertiesLoose(_ref, _excluded$3);
  if (process.env.NODE_ENV !== "production") {
    if (typeof fontSize2 !== "number") {
      console.error("MUI: `fontSize` is required to be a number.");
    }
    if (typeof htmlFontSize !== "number") {
      console.error("MUI: `htmlFontSize` is required to be a number.");
    }
  }
  const coef = fontSize2 / 14;
  const pxToRem = pxToRem2 || ((size) => `${size / htmlFontSize * coef}rem`);
  const buildVariant = (fontWeight2, size, lineHeight2, letterSpacing2, casing) => _extends({
    fontFamily: fontFamily2,
    fontWeight: fontWeight2,
    fontSize: pxToRem(size),
    lineHeight: lineHeight2
  }, fontFamily2 === defaultFontFamily ? {
    letterSpacing: `${round(letterSpacing2 / size)}em`
  } : {}, casing, allVariants);
  const variants = {
    h1: buildVariant(fontWeightLight, 96, 1.167, -1.5),
    h2: buildVariant(fontWeightLight, 60, 1.2, -0.5),
    h3: buildVariant(fontWeightRegular, 48, 1.167, 0),
    h4: buildVariant(fontWeightRegular, 34, 1.235, 0.25),
    h5: buildVariant(fontWeightRegular, 24, 1.334, 0),
    h6: buildVariant(fontWeightMedium, 20, 1.6, 0.15),
    subtitle1: buildVariant(fontWeightRegular, 16, 1.75, 0.15),
    subtitle2: buildVariant(fontWeightMedium, 14, 1.57, 0.1),
    body1: buildVariant(fontWeightRegular, 16, 1.5, 0.15),
    body2: buildVariant(fontWeightRegular, 14, 1.43, 0.15),
    button: buildVariant(fontWeightMedium, 14, 1.75, 0.4, caseAllCaps),
    caption: buildVariant(fontWeightRegular, 12, 1.66, 0.4),
    overline: buildVariant(fontWeightRegular, 12, 2.66, 1, caseAllCaps)
  };
  return deepmerge(_extends({
    htmlFontSize,
    pxToRem,
    fontFamily: fontFamily2,
    fontSize: fontSize2,
    fontWeightLight,
    fontWeightRegular,
    fontWeightMedium,
    fontWeightBold
  }, variants), other, {
    clone: false
  });
}
const shadowKeyUmbraOpacity = 0.2;
const shadowKeyPenumbraOpacity = 0.14;
const shadowAmbientShadowOpacity = 0.12;
function createShadow(...px2) {
  return [`${px2[0]}px ${px2[1]}px ${px2[2]}px ${px2[3]}px rgba(0,0,0,${shadowKeyUmbraOpacity})`, `${px2[4]}px ${px2[5]}px ${px2[6]}px ${px2[7]}px rgba(0,0,0,${shadowKeyPenumbraOpacity})`, `${px2[8]}px ${px2[9]}px ${px2[10]}px ${px2[11]}px rgba(0,0,0,${shadowAmbientShadowOpacity})`].join(",");
}
const shadows = ["none", createShadow(0, 2, 1, -1, 0, 1, 1, 0, 0, 1, 3, 0), createShadow(0, 3, 1, -2, 0, 2, 2, 0, 0, 1, 5, 0), createShadow(0, 3, 3, -2, 0, 3, 4, 0, 0, 1, 8, 0), createShadow(0, 2, 4, -1, 0, 4, 5, 0, 0, 1, 10, 0), createShadow(0, 3, 5, -1, 0, 5, 8, 0, 0, 1, 14, 0), createShadow(0, 3, 5, -1, 0, 6, 10, 0, 0, 1, 18, 0), createShadow(0, 4, 5, -2, 0, 7, 10, 1, 0, 2, 16, 1), createShadow(0, 5, 5, -3, 0, 8, 10, 1, 0, 3, 14, 2), createShadow(0, 5, 6, -3, 0, 9, 12, 1, 0, 3, 16, 2), createShadow(0, 6, 6, -3, 0, 10, 14, 1, 0, 4, 18, 3), createShadow(0, 6, 7, -4, 0, 11, 15, 1, 0, 4, 20, 3), createShadow(0, 7, 8, -4, 0, 12, 17, 2, 0, 5, 22, 4), createShadow(0, 7, 8, -4, 0, 13, 19, 2, 0, 5, 24, 4), createShadow(0, 7, 9, -4, 0, 14, 21, 2, 0, 5, 26, 4), createShadow(0, 8, 9, -5, 0, 15, 22, 2, 0, 6, 28, 5), createShadow(0, 8, 10, -5, 0, 16, 24, 2, 0, 6, 30, 5), createShadow(0, 8, 11, -5, 0, 17, 26, 2, 0, 6, 32, 5), createShadow(0, 9, 11, -5, 0, 18, 28, 2, 0, 7, 34, 6), createShadow(0, 9, 12, -6, 0, 19, 29, 2, 0, 7, 36, 6), createShadow(0, 10, 13, -6, 0, 20, 31, 3, 0, 8, 38, 7), createShadow(0, 10, 13, -6, 0, 21, 33, 3, 0, 8, 40, 7), createShadow(0, 10, 14, -6, 0, 22, 35, 3, 0, 8, 42, 7), createShadow(0, 11, 14, -7, 0, 23, 36, 3, 0, 9, 44, 8), createShadow(0, 11, 15, -7, 0, 24, 38, 3, 0, 9, 46, 8)];
const shadows$1 = shadows;
const _excluded$2 = ["duration", "easing", "delay"];
const easing = {
  easeInOut: "cubic-bezier(0.4, 0, 0.2, 1)",
  easeOut: "cubic-bezier(0.0, 0, 0.2, 1)",
  easeIn: "cubic-bezier(0.4, 0, 1, 1)",
  sharp: "cubic-bezier(0.4, 0, 0.6, 1)"
};
const duration = {
  shortest: 150,
  shorter: 200,
  short: 250,
  standard: 300,
  complex: 375,
  enteringScreen: 225,
  leavingScreen: 195
};
function formatMs(milliseconds) {
  return `${Math.round(milliseconds)}ms`;
}
function getAutoHeightDuration(height2) {
  if (!height2) {
    return 0;
  }
  const constant = height2 / 36;
  return Math.round((4 + 15 * constant ** 0.25 + constant / 5) * 10);
}
function createTransitions(inputTransitions) {
  const mergedEasing = _extends({}, easing, inputTransitions.easing);
  const mergedDuration = _extends({}, duration, inputTransitions.duration);
  const create = (props = ["all"], options = {}) => {
    const {
      duration: durationOption = mergedDuration.standard,
      easing: easingOption = mergedEasing.easeInOut,
      delay = 0
    } = options, other = _objectWithoutPropertiesLoose(options, _excluded$2);
    if (process.env.NODE_ENV !== "production") {
      const isString = (value) => typeof value === "string";
      const isNumber = (value) => !isNaN(parseFloat(value));
      if (!isString(props) && !Array.isArray(props)) {
        console.error('MUI: Argument "props" must be a string or Array.');
      }
      if (!isNumber(durationOption) && !isString(durationOption)) {
        console.error(`MUI: Argument "duration" must be a number or a string but found ${durationOption}.`);
      }
      if (!isString(easingOption)) {
        console.error('MUI: Argument "easing" must be a string.');
      }
      if (!isNumber(delay) && !isString(delay)) {
        console.error('MUI: Argument "delay" must be a number or a string.');
      }
      if (Object.keys(other).length !== 0) {
        console.error(`MUI: Unrecognized argument(s) [${Object.keys(other).join(",")}].`);
      }
    }
    return (Array.isArray(props) ? props : [props]).map((animatedProp) => `${animatedProp} ${typeof durationOption === "string" ? durationOption : formatMs(durationOption)} ${easingOption} ${typeof delay === "string" ? delay : formatMs(delay)}`).join(",");
  };
  return _extends({
    getAutoHeightDuration,
    create
  }, inputTransitions, {
    easing: mergedEasing,
    duration: mergedDuration
  });
}
const zIndex = {
  mobileStepper: 1e3,
  fab: 1050,
  speedDial: 1050,
  appBar: 1100,
  drawer: 1200,
  modal: 1300,
  snackbar: 1400,
  tooltip: 1500
};
const zIndex$1 = zIndex;
const _excluded$1 = ["breakpoints", "mixins", "spacing", "palette", "transitions", "typography", "shape"];
function createTheme(options = {}, ...args) {
  const {
    mixins: mixinsInput = {},
    palette: paletteInput = {},
    transitions: transitionsInput = {},
    typography: typographyInput = {}
  } = options, other = _objectWithoutPropertiesLoose(options, _excluded$1);
  if (options.vars) {
    throw new Error(process.env.NODE_ENV !== "production" ? `MUI: \`vars\` is a private field used for CSS variables support.
Please use another name.` : formatMuiErrorMessage(18));
  }
  const palette2 = createPalette(paletteInput);
  const systemTheme = createTheme$1(options);
  let muiTheme = deepmerge(systemTheme, {
    mixins: createMixins(systemTheme.breakpoints, mixinsInput),
    palette: palette2,
    shadows: shadows$1.slice(),
    typography: createTypography(palette2, typographyInput),
    transitions: createTransitions(transitionsInput),
    zIndex: _extends({}, zIndex$1)
  });
  muiTheme = deepmerge(muiTheme, other);
  muiTheme = args.reduce((acc, argument) => deepmerge(acc, argument), muiTheme);
  if (process.env.NODE_ENV !== "production") {
    const stateClasses = ["active", "checked", "completed", "disabled", "error", "expanded", "focused", "focusVisible", "required", "selected"];
    const traverse = (node2, component) => {
      let key;
      for (key in node2) {
        const child = node2[key];
        if (stateClasses.indexOf(key) !== -1 && Object.keys(child).length > 0) {
          if (process.env.NODE_ENV !== "production") {
            const stateClass = generateUtilityClass("", key);
            console.error([`MUI: The \`${component}\` component increases the CSS specificity of the \`${key}\` internal state.`, "You can not override it like this: ", JSON.stringify(node2, null, 2), "", `Instead, you need to use the '&.${stateClass}' syntax:`, JSON.stringify({
              root: {
                [`&.${stateClass}`]: child
              }
            }, null, 2), "", "https://mui.com/r/state-classes-guide"].join("\n"));
          }
          node2[key] = {};
        }
      }
    };
    Object.keys(muiTheme.components).forEach((component) => {
      const styleOverrides = muiTheme.components[component].styleOverrides;
      if (styleOverrides && component.indexOf("Mui") === 0) {
        traverse(styleOverrides, component);
      }
    });
  }
  return muiTheme;
}
const defaultTheme = createTheme();
const defaultTheme$1 = defaultTheme;
const rootShouldForwardProp = (prop) => shouldForwardProp(prop) && prop !== "classes";
const styled = createStyled2({
  defaultTheme: defaultTheme$1,
  rootShouldForwardProp
});
const styled$1 = styled;
function useThemeProps({
  props,
  name
}) {
  return useThemeProps$1({
    props,
    name,
    defaultTheme: defaultTheme$1
  });
}
function useTheme() {
  const theme = useTheme$1(defaultTheme$1);
  if (process.env.NODE_ENV !== "production") {
    React.useDebugValue(theme);
  }
  return theme;
}
const GridContext = /* @__PURE__ */ React.createContext();
if (process.env.NODE_ENV !== "production") {
  GridContext.displayName = "GridContext";
}
const GridContext$1 = GridContext;
function getGridUtilityClass(slot) {
  return generateUtilityClass("MuiGrid", slot);
}
const SPACINGS = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
const DIRECTIONS = ["column-reverse", "column", "row-reverse", "row"];
const WRAPS = ["nowrap", "wrap-reverse", "wrap"];
const GRID_SIZES = ["auto", true, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12];
const gridClasses = generateUtilityClasses("MuiGrid", [
  "root",
  "container",
  "item",
  "zeroMinWidth",
  ...SPACINGS.map((spacing2) => `spacing-xs-${spacing2}`),
  ...DIRECTIONS.map((direction) => `direction-xs-${direction}`),
  ...WRAPS.map((wrap) => `wrap-xs-${wrap}`),
  ...GRID_SIZES.map((size) => `grid-xs-${size}`),
  ...GRID_SIZES.map((size) => `grid-sm-${size}`),
  ...GRID_SIZES.map((size) => `grid-md-${size}`),
  ...GRID_SIZES.map((size) => `grid-lg-${size}`),
  ...GRID_SIZES.map((size) => `grid-xl-${size}`)
]);
const _excluded = ["className", "columns", "columnSpacing", "component", "container", "direction", "item", "rowSpacing", "spacing", "wrap", "zeroMinWidth"];
function getOffset(val) {
  const parse2 = parseFloat(val);
  return `${parse2}${String(val).replace(String(parse2), "") || "px"}`;
}
function generateGrid({
  theme,
  ownerState
}) {
  let size;
  return theme.breakpoints.keys.reduce((globalStyles, breakpoint) => {
    let styles = {};
    if (ownerState[breakpoint]) {
      size = ownerState[breakpoint];
    }
    if (!size) {
      return globalStyles;
    }
    if (size === true) {
      styles = {
        flexBasis: 0,
        flexGrow: 1,
        maxWidth: "100%"
      };
    } else if (size === "auto") {
      styles = {
        flexBasis: "auto",
        flexGrow: 0,
        flexShrink: 0,
        maxWidth: "none",
        width: "auto"
      };
    } else {
      const columnsBreakpointValues = resolveBreakpointValues({
        values: ownerState.columns,
        breakpoints: theme.breakpoints.values
      });
      const columnValue = typeof columnsBreakpointValues === "object" ? columnsBreakpointValues[breakpoint] : columnsBreakpointValues;
      if (columnValue === void 0 || columnValue === null) {
        return globalStyles;
      }
      const width2 = `${Math.round(size / columnValue * 1e8) / 1e6}%`;
      let more = {};
      if (ownerState.container && ownerState.item && ownerState.columnSpacing !== 0) {
        const themeSpacing = theme.spacing(ownerState.columnSpacing);
        if (themeSpacing !== "0px") {
          const fullWidth = `calc(${width2} + ${getOffset(themeSpacing)})`;
          more = {
            flexBasis: fullWidth,
            maxWidth: fullWidth
          };
        }
      }
      styles = _extends({
        flexBasis: width2,
        flexGrow: 0,
        maxWidth: width2
      }, more);
    }
    if (theme.breakpoints.values[breakpoint] === 0) {
      Object.assign(globalStyles, styles);
    } else {
      globalStyles[theme.breakpoints.up(breakpoint)] = styles;
    }
    return globalStyles;
  }, {});
}
function generateDirection({
  theme,
  ownerState
}) {
  const directionValues = resolveBreakpointValues({
    values: ownerState.direction,
    breakpoints: theme.breakpoints.values
  });
  return handleBreakpoints({
    theme
  }, directionValues, (propValue) => {
    const output = {
      flexDirection: propValue
    };
    if (propValue.indexOf("column") === 0) {
      output[`& > .${gridClasses.item}`] = {
        maxWidth: "none"
      };
    }
    return output;
  });
}
function extractZeroValueBreakpointKeys({
  breakpoints,
  values: values2
}) {
  let nonZeroKey = "";
  Object.keys(values2).forEach((key) => {
    if (nonZeroKey !== "") {
      return;
    }
    if (values2[key] !== 0) {
      nonZeroKey = key;
    }
  });
  const sortedBreakpointKeysByValue = Object.keys(breakpoints).sort((a, b) => {
    return breakpoints[a] - breakpoints[b];
  });
  return sortedBreakpointKeysByValue.slice(0, sortedBreakpointKeysByValue.indexOf(nonZeroKey));
}
function generateRowGap({
  theme,
  ownerState
}) {
  const {
    container,
    rowSpacing
  } = ownerState;
  let styles = {};
  if (container && rowSpacing !== 0) {
    const rowSpacingValues = resolveBreakpointValues({
      values: rowSpacing,
      breakpoints: theme.breakpoints.values
    });
    let zeroValueBreakpointKeys;
    if (typeof rowSpacingValues === "object") {
      zeroValueBreakpointKeys = extractZeroValueBreakpointKeys({
        breakpoints: theme.breakpoints.values,
        values: rowSpacingValues
      });
    }
    styles = handleBreakpoints({
      theme
    }, rowSpacingValues, (propValue, breakpoint) => {
      var _zeroValueBreakpointK;
      const themeSpacing = theme.spacing(propValue);
      if (themeSpacing !== "0px") {
        return {
          marginTop: `-${getOffset(themeSpacing)}`,
          [`& > .${gridClasses.item}`]: {
            paddingTop: getOffset(themeSpacing)
          }
        };
      }
      if ((_zeroValueBreakpointK = zeroValueBreakpointKeys) != null && _zeroValueBreakpointK.includes(breakpoint)) {
        return {};
      }
      return {
        marginTop: 0,
        [`& > .${gridClasses.item}`]: {
          paddingTop: 0
        }
      };
    });
  }
  return styles;
}
function generateColumnGap({
  theme,
  ownerState
}) {
  const {
    container,
    columnSpacing
  } = ownerState;
  let styles = {};
  if (container && columnSpacing !== 0) {
    const columnSpacingValues = resolveBreakpointValues({
      values: columnSpacing,
      breakpoints: theme.breakpoints.values
    });
    let zeroValueBreakpointKeys;
    if (typeof columnSpacingValues === "object") {
      zeroValueBreakpointKeys = extractZeroValueBreakpointKeys({
        breakpoints: theme.breakpoints.values,
        values: columnSpacingValues
      });
    }
    styles = handleBreakpoints({
      theme
    }, columnSpacingValues, (propValue, breakpoint) => {
      var _zeroValueBreakpointK2;
      const themeSpacing = theme.spacing(propValue);
      if (themeSpacing !== "0px") {
        return {
          width: `calc(100% + ${getOffset(themeSpacing)})`,
          marginLeft: `-${getOffset(themeSpacing)}`,
          [`& > .${gridClasses.item}`]: {
            paddingLeft: getOffset(themeSpacing)
          }
        };
      }
      if ((_zeroValueBreakpointK2 = zeroValueBreakpointKeys) != null && _zeroValueBreakpointK2.includes(breakpoint)) {
        return {};
      }
      return {
        width: "100%",
        marginLeft: 0,
        [`& > .${gridClasses.item}`]: {
          paddingLeft: 0
        }
      };
    });
  }
  return styles;
}
function resolveSpacingStyles(spacing2, breakpoints, styles = {}) {
  if (!spacing2 || spacing2 <= 0) {
    return [];
  }
  if (typeof spacing2 === "string" && !Number.isNaN(Number(spacing2)) || typeof spacing2 === "number") {
    return [styles[`spacing-xs-${String(spacing2)}`]];
  }
  const spacingStyles = [];
  breakpoints.forEach((breakpoint) => {
    const value = spacing2[breakpoint];
    if (Number(value) > 0) {
      spacingStyles.push(styles[`spacing-${breakpoint}-${String(value)}`]);
    }
  });
  return spacingStyles;
}
const GridRoot = styled$1("div", {
  name: "MuiGrid",
  slot: "Root",
  overridesResolver: (props, styles) => {
    const {
      ownerState
    } = props;
    const {
      container,
      direction,
      item,
      spacing: spacing2,
      wrap,
      zeroMinWidth,
      breakpoints
    } = ownerState;
    let spacingStyles = [];
    if (container) {
      spacingStyles = resolveSpacingStyles(spacing2, breakpoints, styles);
    }
    const breakpointsStyles = [];
    breakpoints.forEach((breakpoint) => {
      const value = ownerState[breakpoint];
      if (value) {
        breakpointsStyles.push(styles[`grid-${breakpoint}-${String(value)}`]);
      }
    });
    return [styles.root, container && styles.container, item && styles.item, zeroMinWidth && styles.zeroMinWidth, ...spacingStyles, direction !== "row" && styles[`direction-xs-${String(direction)}`], wrap !== "wrap" && styles[`wrap-xs-${String(wrap)}`], ...breakpointsStyles];
  }
})(({
  ownerState
}) => _extends({
  boxSizing: "border-box"
}, ownerState.container && {
  display: "flex",
  flexWrap: "wrap",
  width: "100%"
}, ownerState.item && {
  margin: 0
}, ownerState.zeroMinWidth && {
  minWidth: 0
}, ownerState.wrap !== "wrap" && {
  flexWrap: ownerState.wrap
}), generateDirection, generateRowGap, generateColumnGap, generateGrid);
function resolveSpacingClasses(spacing2, breakpoints) {
  if (!spacing2 || spacing2 <= 0) {
    return [];
  }
  if (typeof spacing2 === "string" && !Number.isNaN(Number(spacing2)) || typeof spacing2 === "number") {
    return [`spacing-xs-${String(spacing2)}`];
  }
  const classes = [];
  breakpoints.forEach((breakpoint) => {
    const value = spacing2[breakpoint];
    if (Number(value) > 0) {
      const className = `spacing-${breakpoint}-${String(value)}`;
      classes.push(className);
    }
  });
  return classes;
}
const useUtilityClasses = (ownerState) => {
  const {
    classes,
    container,
    direction,
    item,
    spacing: spacing2,
    wrap,
    zeroMinWidth,
    breakpoints
  } = ownerState;
  let spacingClasses = [];
  if (container) {
    spacingClasses = resolveSpacingClasses(spacing2, breakpoints);
  }
  const breakpointsClasses = [];
  breakpoints.forEach((breakpoint) => {
    const value = ownerState[breakpoint];
    if (value) {
      breakpointsClasses.push(`grid-${breakpoint}-${String(value)}`);
    }
  });
  const slots = {
    root: ["root", container && "container", item && "item", zeroMinWidth && "zeroMinWidth", ...spacingClasses, direction !== "row" && `direction-xs-${String(direction)}`, wrap !== "wrap" && `wrap-xs-${String(wrap)}`, ...breakpointsClasses]
  };
  return composeClasses(slots, getGridUtilityClass, classes);
};
const Grid = /* @__PURE__ */ React.forwardRef(function Grid2(inProps, ref) {
  const themeProps = useThemeProps({
    props: inProps,
    name: "MuiGrid"
  });
  const {
    breakpoints
  } = useTheme();
  const props = extendSxProp(themeProps);
  const {
    className,
    columns: columnsProp,
    columnSpacing: columnSpacingProp,
    component = "div",
    container = false,
    direction = "row",
    item = false,
    rowSpacing: rowSpacingProp,
    spacing: spacing2 = 0,
    wrap = "wrap",
    zeroMinWidth = false
  } = props, other = _objectWithoutPropertiesLoose(props, _excluded);
  const rowSpacing = rowSpacingProp || spacing2;
  const columnSpacing = columnSpacingProp || spacing2;
  const columnsContext = React.useContext(GridContext$1);
  const columns = container ? columnsProp || 12 : columnsContext;
  const breakpointsValues = {};
  const otherFiltered = _extends({}, other);
  breakpoints.keys.forEach((breakpoint) => {
    if (other[breakpoint] != null) {
      breakpointsValues[breakpoint] = other[breakpoint];
      delete otherFiltered[breakpoint];
    }
  });
  const ownerState = _extends({}, props, {
    columns,
    container,
    direction,
    item,
    rowSpacing,
    columnSpacing,
    wrap,
    zeroMinWidth,
    spacing: spacing2
  }, breakpointsValues, {
    breakpoints: breakpoints.keys
  });
  const classes = useUtilityClasses(ownerState);
  return /* @__PURE__ */ jsx(GridContext$1.Provider, {
    value: columns,
    children: /* @__PURE__ */ jsx(GridRoot, _extends({
      ownerState,
      className: clsx(classes.root, className),
      as: component,
      ref
    }, otherFiltered))
  });
});
process.env.NODE_ENV !== "production" ? Grid.propTypes = {
  children: propTypes.exports.node,
  classes: propTypes.exports.object,
  className: propTypes.exports.string,
  columns: propTypes.exports.oneOfType([propTypes.exports.arrayOf(propTypes.exports.number), propTypes.exports.number, propTypes.exports.object]),
  columnSpacing: propTypes.exports.oneOfType([propTypes.exports.arrayOf(propTypes.exports.oneOfType([propTypes.exports.number, propTypes.exports.string])), propTypes.exports.number, propTypes.exports.object, propTypes.exports.string]),
  component: propTypes.exports.elementType,
  container: propTypes.exports.bool,
  direction: propTypes.exports.oneOfType([propTypes.exports.oneOf(["column-reverse", "column", "row-reverse", "row"]), propTypes.exports.arrayOf(propTypes.exports.oneOf(["column-reverse", "column", "row-reverse", "row"])), propTypes.exports.object]),
  item: propTypes.exports.bool,
  lg: propTypes.exports.oneOfType([propTypes.exports.oneOf(["auto"]), propTypes.exports.number, propTypes.exports.bool]),
  md: propTypes.exports.oneOfType([propTypes.exports.oneOf(["auto"]), propTypes.exports.number, propTypes.exports.bool]),
  rowSpacing: propTypes.exports.oneOfType([propTypes.exports.arrayOf(propTypes.exports.oneOfType([propTypes.exports.number, propTypes.exports.string])), propTypes.exports.number, propTypes.exports.object, propTypes.exports.string]),
  sm: propTypes.exports.oneOfType([propTypes.exports.oneOf(["auto"]), propTypes.exports.number, propTypes.exports.bool]),
  spacing: propTypes.exports.oneOfType([propTypes.exports.arrayOf(propTypes.exports.oneOfType([propTypes.exports.number, propTypes.exports.string])), propTypes.exports.number, propTypes.exports.object, propTypes.exports.string]),
  sx: propTypes.exports.oneOfType([propTypes.exports.arrayOf(propTypes.exports.oneOfType([propTypes.exports.func, propTypes.exports.object, propTypes.exports.bool])), propTypes.exports.func, propTypes.exports.object]),
  wrap: propTypes.exports.oneOf(["nowrap", "wrap-reverse", "wrap"]),
  xl: propTypes.exports.oneOfType([propTypes.exports.oneOf(["auto"]), propTypes.exports.number, propTypes.exports.bool]),
  xs: propTypes.exports.oneOfType([propTypes.exports.oneOf(["auto"]), propTypes.exports.number, propTypes.exports.bool]),
  zeroMinWidth: propTypes.exports.bool
} : void 0;
if (process.env.NODE_ENV !== "production") {
  const requireProp = requirePropFactory("Grid", Grid);
  Grid["propTypes"] = _extends({}, Grid.propTypes, {
    direction: requireProp("container"),
    lg: requireProp("item"),
    md: requireProp("item"),
    sm: requireProp("item"),
    spacing: requireProp("container"),
    wrap: requireProp("container"),
    xs: requireProp("item"),
    zeroMinWidth: requireProp("item")
  });
}
const Grid$1 = Grid;
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const Qs = window, tu = Qs.ShadowRoot && (Qs.ShadyCSS === void 0 || Qs.ShadyCSS.nativeShadow) && "adoptedStyleSheets" in Document.prototype && "replace" in CSSStyleSheet.prototype, eu = Symbol(), Ld = /* @__PURE__ */ new WeakMap();
class Ug {
  constructor(t, e, n) {
    if (this._$cssResult$ = true, n !== eu)
      throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");
    this.cssText = t, this.t = e;
  }
  get styleSheet() {
    let t = this.o;
    const e = this.t;
    if (tu && t === void 0) {
      const n = e !== void 0 && e.length === 1;
      n && (t = Ld.get(e)), t === void 0 && ((this.o = t = new CSSStyleSheet()).replaceSync(this.cssText), n && Ld.set(e, t));
    }
    return t;
  }
  toString() {
    return this.cssText;
  }
}
const Ga = (i) => new Ug(typeof i == "string" ? i : i + "", void 0, eu), Pp = (i, ...t) => {
  const e = i.length === 1 ? i[0] : t.reduce((n, o, r3) => n + ((s) => {
    if (s._$cssResult$ === true)
      return s.cssText;
    if (typeof s == "number")
      return s;
    throw Error("Value passed to 'css' function must be a 'css' function result: " + s + ". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.");
  })(o) + i[r3 + 1], i[0]);
  return new Ug(e, i, eu);
}, Dp = (i, t) => {
  tu ? i.adoptedStyleSheets = t.map((e) => e instanceof CSSStyleSheet ? e : e.styleSheet) : t.forEach((e) => {
    const n = document.createElement("style"), o = Qs.litNonce;
    o !== void 0 && n.setAttribute("nonce", o), n.textContent = e.cssText, i.appendChild(n);
  });
}, Od = tu ? (i) => i : (i) => i instanceof CSSStyleSheet ? ((t) => {
  let e = "";
  for (const n of t.cssRules)
    e += n.cssText;
  return Ga(e);
})(i) : i;
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var wl;
const ra = window, Fd = ra.trustedTypes, Lp = Fd ? Fd.emptyScript : "", Nd = ra.reactiveElementPolyfillSupport, dh = { toAttribute(i, t) {
  switch (t) {
    case Boolean:
      i = i ? Lp : null;
      break;
    case Object:
    case Array:
      i = i == null ? i : JSON.stringify(i);
  }
  return i;
}, fromAttribute(i, t) {
  let e = i;
  switch (t) {
    case Boolean:
      e = i !== null;
      break;
    case Number:
      e = i === null ? null : Number(i);
      break;
    case Object:
    case Array:
      try {
        e = JSON.parse(i);
      } catch {
        e = null;
      }
  }
  return e;
} }, Vg = (i, t) => t !== i && (t == t || i == i), Cl = { attribute: true, type: String, converter: dh, reflect: false, hasChanged: Vg };
class Mo extends HTMLElement {
  constructor() {
    super(), this._$Ei = /* @__PURE__ */ new Map(), this.isUpdatePending = false, this.hasUpdated = false, this._$El = null, this.u();
  }
  static addInitializer(t) {
    var e;
    (e = this.h) !== null && e !== void 0 || (this.h = []), this.h.push(t);
  }
  static get observedAttributes() {
    this.finalize();
    const t = [];
    return this.elementProperties.forEach((e, n) => {
      const o = this._$Ep(n, e);
      o !== void 0 && (this._$Ev.set(o, n), t.push(o));
    }), t;
  }
  static createProperty(t, e = Cl) {
    if (e.state && (e.attribute = false), this.finalize(), this.elementProperties.set(t, e), !e.noAccessor && !this.prototype.hasOwnProperty(t)) {
      const n = typeof t == "symbol" ? Symbol() : "__" + t, o = this.getPropertyDescriptor(t, n, e);
      o !== void 0 && Object.defineProperty(this.prototype, t, o);
    }
  }
  static getPropertyDescriptor(t, e, n) {
    return { get() {
      return this[e];
    }, set(o) {
      const r3 = this[t];
      this[e] = o, this.requestUpdate(t, r3, n);
    }, configurable: true, enumerable: true };
  }
  static getPropertyOptions(t) {
    return this.elementProperties.get(t) || Cl;
  }
  static finalize() {
    if (this.hasOwnProperty("finalized"))
      return false;
    this.finalized = true;
    const t = Object.getPrototypeOf(this);
    if (t.finalize(), this.elementProperties = new Map(t.elementProperties), this._$Ev = /* @__PURE__ */ new Map(), this.hasOwnProperty("properties")) {
      const e = this.properties, n = [...Object.getOwnPropertyNames(e), ...Object.getOwnPropertySymbols(e)];
      for (const o of n)
        this.createProperty(o, e[o]);
    }
    return this.elementStyles = this.finalizeStyles(this.styles), true;
  }
  static finalizeStyles(t) {
    const e = [];
    if (Array.isArray(t)) {
      const n = new Set(t.flat(1 / 0).reverse());
      for (const o of n)
        e.unshift(Od(o));
    } else
      t !== void 0 && e.push(Od(t));
    return e;
  }
  static _$Ep(t, e) {
    const n = e.attribute;
    return n === false ? void 0 : typeof n == "string" ? n : typeof t == "string" ? t.toLowerCase() : void 0;
  }
  u() {
    var t;
    this._$E_ = new Promise((e) => this.enableUpdating = e), this._$AL = /* @__PURE__ */ new Map(), this._$Eg(), this.requestUpdate(), (t = this.constructor.h) === null || t === void 0 || t.forEach((e) => e(this));
  }
  addController(t) {
    var e, n;
    ((e = this._$ES) !== null && e !== void 0 ? e : this._$ES = []).push(t), this.renderRoot !== void 0 && this.isConnected && ((n = t.hostConnected) === null || n === void 0 || n.call(t));
  }
  removeController(t) {
    var e;
    (e = this._$ES) === null || e === void 0 || e.splice(this._$ES.indexOf(t) >>> 0, 1);
  }
  _$Eg() {
    this.constructor.elementProperties.forEach((t, e) => {
      this.hasOwnProperty(e) && (this._$Ei.set(e, this[e]), delete this[e]);
    });
  }
  createRenderRoot() {
    var t;
    const e = (t = this.shadowRoot) !== null && t !== void 0 ? t : this.attachShadow(this.constructor.shadowRootOptions);
    return Dp(e, this.constructor.elementStyles), e;
  }
  connectedCallback() {
    var t;
    this.renderRoot === void 0 && (this.renderRoot = this.createRenderRoot()), this.enableUpdating(true), (t = this._$ES) === null || t === void 0 || t.forEach((e) => {
      var n;
      return (n = e.hostConnected) === null || n === void 0 ? void 0 : n.call(e);
    });
  }
  enableUpdating(t) {
  }
  disconnectedCallback() {
    var t;
    (t = this._$ES) === null || t === void 0 || t.forEach((e) => {
      var n;
      return (n = e.hostDisconnected) === null || n === void 0 ? void 0 : n.call(e);
    });
  }
  attributeChangedCallback(t, e, n) {
    this._$AK(t, n);
  }
  _$EO(t, e, n = Cl) {
    var o;
    const r3 = this.constructor._$Ep(t, n);
    if (r3 !== void 0 && n.reflect === true) {
      const s = (((o = n.converter) === null || o === void 0 ? void 0 : o.toAttribute) !== void 0 ? n.converter : dh).toAttribute(e, n.type);
      this._$El = t, s == null ? this.removeAttribute(r3) : this.setAttribute(r3, s), this._$El = null;
    }
  }
  _$AK(t, e) {
    var n;
    const o = this.constructor, r3 = o._$Ev.get(t);
    if (r3 !== void 0 && this._$El !== r3) {
      const s = o.getPropertyOptions(r3), a = typeof s.converter == "function" ? { fromAttribute: s.converter } : ((n = s.converter) === null || n === void 0 ? void 0 : n.fromAttribute) !== void 0 ? s.converter : dh;
      this._$El = r3, this[r3] = a.fromAttribute(e, s.type), this._$El = null;
    }
  }
  requestUpdate(t, e, n) {
    let o = true;
    t !== void 0 && (((n = n || this.constructor.getPropertyOptions(t)).hasChanged || Vg)(this[t], e) ? (this._$AL.has(t) || this._$AL.set(t, e), n.reflect === true && this._$El !== t && (this._$EC === void 0 && (this._$EC = /* @__PURE__ */ new Map()), this._$EC.set(t, n))) : o = false), !this.isUpdatePending && o && (this._$E_ = this._$Ej());
  }
  async _$Ej() {
    this.isUpdatePending = true;
    try {
      await this._$E_;
    } catch (e) {
      Promise.reject(e);
    }
    const t = this.scheduleUpdate();
    return t != null && await t, !this.isUpdatePending;
  }
  scheduleUpdate() {
    return this.performUpdate();
  }
  performUpdate() {
    var t;
    if (!this.isUpdatePending)
      return;
    this.hasUpdated, this._$Ei && (this._$Ei.forEach((o, r3) => this[r3] = o), this._$Ei = void 0);
    let e = false;
    const n = this._$AL;
    try {
      e = this.shouldUpdate(n), e ? (this.willUpdate(n), (t = this._$ES) === null || t === void 0 || t.forEach((o) => {
        var r3;
        return (r3 = o.hostUpdate) === null || r3 === void 0 ? void 0 : r3.call(o);
      }), this.update(n)) : this._$Ek();
    } catch (o) {
      throw e = false, this._$Ek(), o;
    }
    e && this._$AE(n);
  }
  willUpdate(t) {
  }
  _$AE(t) {
    var e;
    (e = this._$ES) === null || e === void 0 || e.forEach((n) => {
      var o;
      return (o = n.hostUpdated) === null || o === void 0 ? void 0 : o.call(n);
    }), this.hasUpdated || (this.hasUpdated = true, this.firstUpdated(t)), this.updated(t);
  }
  _$Ek() {
    this._$AL = /* @__PURE__ */ new Map(), this.isUpdatePending = false;
  }
  get updateComplete() {
    return this.getUpdateComplete();
  }
  getUpdateComplete() {
    return this._$E_;
  }
  shouldUpdate(t) {
    return true;
  }
  update(t) {
    this._$EC !== void 0 && (this._$EC.forEach((e, n) => this._$EO(n, this[n], e)), this._$EC = void 0), this._$Ek();
  }
  updated(t) {
  }
  firstUpdated(t) {
  }
}
Mo.finalized = true, Mo.elementProperties = /* @__PURE__ */ new Map(), Mo.elementStyles = [], Mo.shadowRootOptions = { mode: "open" }, Nd == null || Nd({ ReactiveElement: Mo }), ((wl = ra.reactiveElementVersions) !== null && wl !== void 0 ? wl : ra.reactiveElementVersions = []).push("1.4.1");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var Ml;
const sa = window, Xo = sa.trustedTypes, Gd = Xo ? Xo.createPolicy("lit-html", { createHTML: (i) => i }) : void 0, Hi = `lit$${(Math.random() + "").slice(9)}$`, qg = "?" + Hi, Op = `<${qg}>`, Uo = document, Gr = (i = "") => Uo.createComment(i), jr = (i) => i === null || typeof i != "object" && typeof i != "function", $g = Array.isArray, Fp = (i) => $g(i) || typeof (i == null ? void 0 : i[Symbol.iterator]) == "function", _r = /<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g, jd = /-->/g, Bd = />/g, Pn = RegExp(`>|[ 	
\f\r](?:([^\\s"'>=/]+)([ 	
\f\r]*=[ 	
\f\r]*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`, "g"), Wd = /'/g, Zd = /"/g, Hg = /^(?:script|style|textarea|title)$/i, Np = (i) => (t, ...e) => ({ _$litType$: i, strings: t, values: e }), Qi = Np(1), Vo = Symbol.for("lit-noChange"), oe = Symbol.for("lit-nothing"), Yd = /* @__PURE__ */ new WeakMap(), Gp = (i, t, e) => {
  var n, o;
  const r3 = (n = e == null ? void 0 : e.renderBefore) !== null && n !== void 0 ? n : t;
  let s = r3._$litPart$;
  if (s === void 0) {
    const a = (o = e == null ? void 0 : e.renderBefore) !== null && o !== void 0 ? o : null;
    r3._$litPart$ = s = new hs(t.insertBefore(Gr(), a), a, void 0, e != null ? e : {});
  }
  return s._$AI(i), s;
}, Fo = Uo.createTreeWalker(Uo, 129, null, false), jp = (i, t) => {
  const e = i.length - 1, n = [];
  let o, r3 = t === 2 ? "<svg>" : "", s = _r;
  for (let l = 0; l < e; l++) {
    const h = i[l];
    let u, d, c = -1, g = 0;
    for (; g < h.length && (s.lastIndex = g, d = s.exec(h), d !== null); )
      g = s.lastIndex, s === _r ? d[1] === "!--" ? s = jd : d[1] !== void 0 ? s = Bd : d[2] !== void 0 ? (Hg.test(d[2]) && (o = RegExp("</" + d[2], "g")), s = Pn) : d[3] !== void 0 && (s = Pn) : s === Pn ? d[0] === ">" ? (s = o != null ? o : _r, c = -1) : d[1] === void 0 ? c = -2 : (c = s.lastIndex - d[2].length, u = d[1], s = d[3] === void 0 ? Pn : d[3] === '"' ? Zd : Wd) : s === Zd || s === Wd ? s = Pn : s === jd || s === Bd ? s = _r : (s = Pn, o = void 0);
    const f = s === Pn && i[l + 1].startsWith("/>") ? " " : "";
    r3 += s === _r ? h + Op : c >= 0 ? (n.push(u), h.slice(0, c) + "$lit$" + h.slice(c) + Hi + f) : h + Hi + (c === -2 ? (n.push(void 0), l) : f);
  }
  const a = r3 + (i[e] || "<?>") + (t === 2 ? "</svg>" : "");
  if (!Array.isArray(i) || !i.hasOwnProperty("raw"))
    throw Error("invalid template strings array");
  return [Gd !== void 0 ? Gd.createHTML(a) : a, n];
};
class Br {
  constructor({ strings: t, _$litType$: e }, n) {
    let o;
    this.parts = [];
    let r3 = 0, s = 0;
    const a = t.length - 1, l = this.parts, [h, u] = jp(t, e);
    if (this.el = Br.createElement(h, n), Fo.currentNode = this.el.content, e === 2) {
      const d = this.el.content, c = d.firstChild;
      c.remove(), d.append(...c.childNodes);
    }
    for (; (o = Fo.nextNode()) !== null && l.length < a; ) {
      if (o.nodeType === 1) {
        if (o.hasAttributes()) {
          const d = [];
          for (const c of o.getAttributeNames())
            if (c.endsWith("$lit$") || c.startsWith(Hi)) {
              const g = u[s++];
              if (d.push(c), g !== void 0) {
                const f = o.getAttribute(g.toLowerCase() + "$lit$").split(Hi), m = /([.?@])?(.*)/.exec(g);
                l.push({ type: 1, index: r3, name: m[2], strings: f, ctor: m[1] === "." ? Wp : m[1] === "?" ? Yp : m[1] === "@" ? Xp : ja });
              } else
                l.push({ type: 6, index: r3 });
            }
          for (const c of d)
            o.removeAttribute(c);
        }
        if (Hg.test(o.tagName)) {
          const d = o.textContent.split(Hi), c = d.length - 1;
          if (c > 0) {
            o.textContent = Xo ? Xo.emptyScript : "";
            for (let g = 0; g < c; g++)
              o.append(d[g], Gr()), Fo.nextNode(), l.push({ type: 2, index: ++r3 });
            o.append(d[c], Gr());
          }
        }
      } else if (o.nodeType === 8)
        if (o.data === qg)
          l.push({ type: 2, index: r3 });
        else {
          let d = -1;
          for (; (d = o.data.indexOf(Hi, d + 1)) !== -1; )
            l.push({ type: 7, index: r3 }), d += Hi.length - 1;
        }
      r3++;
    }
  }
  static createElement(t, e) {
    const n = Uo.createElement("template");
    return n.innerHTML = t, n;
  }
}
function qo(i, t, e = i, n) {
  var o, r3, s, a;
  if (t === Vo)
    return t;
  let l = n !== void 0 ? (o = e._$Cl) === null || o === void 0 ? void 0 : o[n] : e._$Cu;
  const h = jr(t) ? void 0 : t._$litDirective$;
  return (l == null ? void 0 : l.constructor) !== h && ((r3 = l == null ? void 0 : l._$AO) === null || r3 === void 0 || r3.call(l, false), h === void 0 ? l = void 0 : (l = new h(i), l._$AT(i, e, n)), n !== void 0 ? ((s = (a = e)._$Cl) !== null && s !== void 0 ? s : a._$Cl = [])[n] = l : e._$Cu = l), l !== void 0 && (t = qo(i, l._$AS(i, t.values), l, n)), t;
}
class Bp {
  constructor(t, e) {
    this.v = [], this._$AN = void 0, this._$AD = t, this._$AM = e;
  }
  get parentNode() {
    return this._$AM.parentNode;
  }
  get _$AU() {
    return this._$AM._$AU;
  }
  p(t) {
    var e;
    const { el: { content: n }, parts: o } = this._$AD, r3 = ((e = t == null ? void 0 : t.creationScope) !== null && e !== void 0 ? e : Uo).importNode(n, true);
    Fo.currentNode = r3;
    let s = Fo.nextNode(), a = 0, l = 0, h = o[0];
    for (; h !== void 0; ) {
      if (a === h.index) {
        let u;
        h.type === 2 ? u = new hs(s, s.nextSibling, this, t) : h.type === 1 ? u = new h.ctor(s, h.name, h.strings, this, t) : h.type === 6 && (u = new Up(s, this, t)), this.v.push(u), h = o[++l];
      }
      a !== (h == null ? void 0 : h.index) && (s = Fo.nextNode(), a++);
    }
    return r3;
  }
  m(t) {
    let e = 0;
    for (const n of this.v)
      n !== void 0 && (n.strings !== void 0 ? (n._$AI(t, n, e), e += n.strings.length - 2) : n._$AI(t[e])), e++;
  }
}
class hs {
  constructor(t, e, n, o) {
    var r3;
    this.type = 2, this._$AH = oe, this._$AN = void 0, this._$AA = t, this._$AB = e, this._$AM = n, this.options = o, this._$C_ = (r3 = o == null ? void 0 : o.isConnected) === null || r3 === void 0 || r3;
  }
  get _$AU() {
    var t, e;
    return (e = (t = this._$AM) === null || t === void 0 ? void 0 : t._$AU) !== null && e !== void 0 ? e : this._$C_;
  }
  get parentNode() {
    let t = this._$AA.parentNode;
    const e = this._$AM;
    return e !== void 0 && t.nodeType === 11 && (t = e.parentNode), t;
  }
  get startNode() {
    return this._$AA;
  }
  get endNode() {
    return this._$AB;
  }
  _$AI(t, e = this) {
    t = qo(this, t, e), jr(t) ? t === oe || t == null || t === "" ? (this._$AH !== oe && this._$AR(), this._$AH = oe) : t !== this._$AH && t !== Vo && this.$(t) : t._$litType$ !== void 0 ? this.T(t) : t.nodeType !== void 0 ? this.k(t) : Fp(t) ? this.O(t) : this.$(t);
  }
  S(t, e = this._$AB) {
    return this._$AA.parentNode.insertBefore(t, e);
  }
  k(t) {
    this._$AH !== t && (this._$AR(), this._$AH = this.S(t));
  }
  $(t) {
    this._$AH !== oe && jr(this._$AH) ? this._$AA.nextSibling.data = t : this.k(Uo.createTextNode(t)), this._$AH = t;
  }
  T(t) {
    var e;
    const { values: n, _$litType$: o } = t, r3 = typeof o == "number" ? this._$AC(t) : (o.el === void 0 && (o.el = Br.createElement(o.h, this.options)), o);
    if (((e = this._$AH) === null || e === void 0 ? void 0 : e._$AD) === r3)
      this._$AH.m(n);
    else {
      const s = new Bp(r3, this), a = s.p(this.options);
      s.m(n), this.k(a), this._$AH = s;
    }
  }
  _$AC(t) {
    let e = Yd.get(t.strings);
    return e === void 0 && Yd.set(t.strings, e = new Br(t)), e;
  }
  O(t) {
    $g(this._$AH) || (this._$AH = [], this._$AR());
    const e = this._$AH;
    let n, o = 0;
    for (const r3 of t)
      o === e.length ? e.push(n = new hs(this.S(Gr()), this.S(Gr()), this, this.options)) : n = e[o], n._$AI(r3), o++;
    o < e.length && (this._$AR(n && n._$AB.nextSibling, o), e.length = o);
  }
  _$AR(t = this._$AA.nextSibling, e) {
    var n;
    for ((n = this._$AP) === null || n === void 0 || n.call(this, false, true, e); t && t !== this._$AB; ) {
      const o = t.nextSibling;
      t.remove(), t = o;
    }
  }
  setConnected(t) {
    var e;
    this._$AM === void 0 && (this._$C_ = t, (e = this._$AP) === null || e === void 0 || e.call(this, t));
  }
}
class ja {
  constructor(t, e, n, o, r3) {
    this.type = 1, this._$AH = oe, this._$AN = void 0, this.element = t, this.name = e, this._$AM = o, this.options = r3, n.length > 2 || n[0] !== "" || n[1] !== "" ? (this._$AH = Array(n.length - 1).fill(new String()), this.strings = n) : this._$AH = oe;
  }
  get tagName() {
    return this.element.tagName;
  }
  get _$AU() {
    return this._$AM._$AU;
  }
  _$AI(t, e = this, n, o) {
    const r3 = this.strings;
    let s = false;
    if (r3 === void 0)
      t = qo(this, t, e, 0), s = !jr(t) || t !== this._$AH && t !== Vo, s && (this._$AH = t);
    else {
      const a = t;
      let l, h;
      for (t = r3[0], l = 0; l < r3.length - 1; l++)
        h = qo(this, a[n + l], e, l), h === Vo && (h = this._$AH[l]), s || (s = !jr(h) || h !== this._$AH[l]), h === oe ? t = oe : t !== oe && (t += (h != null ? h : "") + r3[l + 1]), this._$AH[l] = h;
    }
    s && !o && this.P(t);
  }
  P(t) {
    t === oe ? this.element.removeAttribute(this.name) : this.element.setAttribute(this.name, t != null ? t : "");
  }
}
class Wp extends ja {
  constructor() {
    super(...arguments), this.type = 3;
  }
  P(t) {
    this.element[this.name] = t === oe ? void 0 : t;
  }
}
const Zp = Xo ? Xo.emptyScript : "";
class Yp extends ja {
  constructor() {
    super(...arguments), this.type = 4;
  }
  P(t) {
    t && t !== oe ? this.element.setAttribute(this.name, Zp) : this.element.removeAttribute(this.name);
  }
}
class Xp extends ja {
  constructor(t, e, n, o, r3) {
    super(t, e, n, o, r3), this.type = 5;
  }
  _$AI(t, e = this) {
    var n;
    if ((t = (n = qo(this, t, e, 0)) !== null && n !== void 0 ? n : oe) === Vo)
      return;
    const o = this._$AH, r3 = t === oe && o !== oe || t.capture !== o.capture || t.once !== o.once || t.passive !== o.passive, s = t !== oe && (o === oe || r3);
    r3 && this.element.removeEventListener(this.name, this, o), s && this.element.addEventListener(this.name, this, t), this._$AH = t;
  }
  handleEvent(t) {
    var e, n;
    typeof this._$AH == "function" ? this._$AH.call((n = (e = this.options) === null || e === void 0 ? void 0 : e.host) !== null && n !== void 0 ? n : this.element, t) : this._$AH.handleEvent(t);
  }
}
class Up {
  constructor(t, e, n) {
    this.element = t, this.type = 6, this._$AN = void 0, this._$AM = e, this.options = n;
  }
  get _$AU() {
    return this._$AM._$AU;
  }
  _$AI(t) {
    qo(this, t);
  }
}
const Xd = sa.litHtmlPolyfillSupport;
Xd == null || Xd(Br, hs), ((Ml = sa.litHtmlVersions) !== null && Ml !== void 0 ? Ml : sa.litHtmlVersions = []).push("2.3.1");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var El, Sl;
class Un extends Mo {
  constructor() {
    super(...arguments), this.renderOptions = { host: this }, this._$Do = void 0;
  }
  createRenderRoot() {
    var t, e;
    const n = super.createRenderRoot();
    return (t = (e = this.renderOptions).renderBefore) !== null && t !== void 0 || (e.renderBefore = n.firstChild), n;
  }
  update(t) {
    const e = this.render();
    this.hasUpdated || (this.renderOptions.isConnected = this.isConnected), super.update(t), this._$Do = Gp(e, this.renderRoot, this.renderOptions);
  }
  connectedCallback() {
    var t;
    super.connectedCallback(), (t = this._$Do) === null || t === void 0 || t.setConnected(true);
  }
  disconnectedCallback() {
    var t;
    super.disconnectedCallback(), (t = this._$Do) === null || t === void 0 || t.setConnected(false);
  }
  render() {
    return Vo;
  }
}
Un.finalized = true, Un._$litElement$ = true, (El = globalThis.litElementHydrateSupport) === null || El === void 0 || El.call(globalThis, { LitElement: Un });
const Ud = globalThis.litElementPolyfillSupport;
Ud == null || Ud({ LitElement: Un });
((Sl = globalThis.litElementVersions) !== null && Sl !== void 0 ? Sl : globalThis.litElementVersions = []).push("3.2.2");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const iu = (i) => (t) => typeof t == "function" ? ((e, n) => (customElements.define(e, n), n))(i, t) : ((e, n) => {
  const { kind: o, elements: r3 } = n;
  return { kind: o, elements: r3, finisher(s) {
    customElements.define(e, s);
  } };
})(i, t);
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const Vp = (i, t) => t.kind === "method" && t.descriptor && !("value" in t.descriptor) ? { ...t, finisher(e) {
  e.createProperty(t.key, i);
} } : { kind: "field", key: Symbol(), placement: "own", descriptor: {}, originalKey: t.key, initializer() {
  typeof t.initializer == "function" && (this[t.key] = t.initializer.call(this));
}, finisher(e) {
  e.createProperty(t.key, i);
} };
function K(i) {
  return (t, e) => e !== void 0 ? ((n, o, r3) => {
    o.constructor.createProperty(r3, n);
  })(i, t, e) : Vp(i, t);
}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
function Sn(i) {
  return K({ ...i, state: true });
}
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var Tl;
((Tl = window.HTMLSlotElement) === null || Tl === void 0 ? void 0 : Tl.prototype.assignedElements) != null;
class qp {
  constructor(t) {
    this.propagationStopped, this.defaultPrevented, this.type = t, this.target = null;
  }
  preventDefault() {
    this.defaultPrevented = true;
  }
  stopPropagation() {
    this.propagationStopped = true;
  }
}
const hi = qp, $o = {
  PROPERTYCHANGE: "propertychange"
};
class $p {
  constructor() {
    this.disposed = false;
  }
  dispose() {
    this.disposed || (this.disposed = true, this.disposeInternal());
  }
  disposeInternal() {
  }
}
const nu = $p;
function Hp(i, t, e) {
  let n, o;
  e = e || Kn;
  let r3 = 0, s = i.length, a = false;
  for (; r3 < s; )
    n = r3 + (s - r3 >> 1), o = +e(i[n], t), o < 0 ? r3 = n + 1 : (s = n, a = !o);
  return a ? r3 : ~r3;
}
function Kn(i, t) {
  return i > t ? 1 : i < t ? -1 : 0;
}
function ou(i, t, e) {
  const n = i.length;
  if (i[0] <= t)
    return 0;
  if (t <= i[n - 1])
    return n - 1;
  {
    let o;
    if (e > 0) {
      for (o = 1; o < n; ++o)
        if (i[o] < t)
          return o - 1;
    } else if (e < 0) {
      for (o = 1; o < n; ++o)
        if (i[o] <= t)
          return o;
    } else
      for (o = 1; o < n; ++o) {
        if (i[o] == t)
          return o;
        if (i[o] < t)
          return typeof e == "function" ? e(t, i[o - 1], i[o]) > 0 ? o - 1 : o : i[o - 1] - t < t - i[o] ? o - 1 : o;
      }
    return n - 1;
  }
}
function Kp(i, t, e) {
  for (; t < e; ) {
    const n = i[t];
    i[t] = i[e], i[e] = n, ++t, --e;
  }
}
function pi(i, t) {
  const e = Array.isArray(t) ? t : [t], n = e.length;
  for (let o = 0; o < n; o++)
    i[i.length] = e[o];
}
function Tn(i, t) {
  const e = i.length;
  if (e !== t.length)
    return false;
  for (let n = 0; n < e; n++)
    if (i[n] !== t[n])
      return false;
  return true;
}
function Jp(i, t, e) {
  const n = t || Kn;
  return i.every(function(o, r3) {
    if (r3 === 0)
      return true;
    const s = n(i[r3 - 1], o);
    return !(s > 0 || e && s === 0);
  });
}
function Jn() {
  return true;
}
function or() {
  return false;
}
function Qn() {
}
function Qp(i) {
  let t = false, e, n, o;
  return function() {
    const r3 = Array.prototype.slice.call(arguments);
    return (!t || this !== o || !Tn(r3, n)) && (t = true, o = this, n = r3, e = i.apply(this, arguments)), e;
  };
}
function us(i) {
  for (const t in i)
    delete i[t];
}
function to(i) {
  let t;
  for (t in i)
    return false;
  return !t;
}
class t0 extends nu {
  constructor(t) {
    super(), this.eventTarget_ = t, this.pendingRemovals_ = null, this.dispatching_ = null, this.listeners_ = null;
  }
  addEventListener(t, e) {
    if (!t || !e)
      return;
    const n = this.listeners_ || (this.listeners_ = {}), o = n[t] || (n[t] = []);
    o.includes(e) || o.push(e);
  }
  dispatchEvent(t) {
    const e = typeof t == "string", n = e ? t : t.type, o = this.listeners_ && this.listeners_[n];
    if (!o)
      return;
    const r3 = e ? new hi(t) : t;
    r3.target || (r3.target = this.eventTarget_ || this);
    const s = this.dispatching_ || (this.dispatching_ = {}), a = this.pendingRemovals_ || (this.pendingRemovals_ = {});
    n in s || (s[n] = 0, a[n] = 0), ++s[n];
    let l;
    for (let h = 0, u = o.length; h < u; ++h)
      if ("handleEvent" in o[h] ? l = o[h].handleEvent(r3) : l = o[h].call(this, r3), l === false || r3.propagationStopped) {
        l = false;
        break;
      }
    if (--s[n] === 0) {
      let h = a[n];
      for (delete a[n]; h--; )
        this.removeEventListener(n, Qn);
      delete s[n];
    }
    return l;
  }
  disposeInternal() {
    this.listeners_ && us(this.listeners_);
  }
  getListeners(t) {
    return this.listeners_ && this.listeners_[t] || void 0;
  }
  hasListener(t) {
    return this.listeners_ ? t ? t in this.listeners_ : Object.keys(this.listeners_).length > 0 : false;
  }
  removeEventListener(t, e) {
    const n = this.listeners_ && this.listeners_[t];
    if (n) {
      const o = n.indexOf(e);
      o !== -1 && (this.pendingRemovals_ && t in this.pendingRemovals_ ? (n[o] = Qn, ++this.pendingRemovals_[t]) : (n.splice(o, 1), n.length === 0 && delete this.listeners_[t]));
    }
  }
}
const Ba = t0, Q = {
  CHANGE: "change",
  ERROR: "error",
  BLUR: "blur",
  CLEAR: "clear",
  CONTEXTMENU: "contextmenu",
  CLICK: "click",
  DBLCLICK: "dblclick",
  DRAGENTER: "dragenter",
  DRAGOVER: "dragover",
  DROP: "drop",
  FOCUS: "focus",
  KEYDOWN: "keydown",
  KEYPRESS: "keypress",
  LOAD: "load",
  RESIZE: "resize",
  TOUCHMOVE: "touchmove",
  WHEEL: "wheel"
};
function pt(i, t, e, n, o) {
  if (n && n !== i && (e = e.bind(n)), o) {
    const s = e;
    e = function() {
      i.removeEventListener(t, e), s.apply(this, arguments);
    };
  }
  const r3 = {
    target: i,
    type: t,
    listener: e
  };
  return i.addEventListener(t, e), r3;
}
function aa(i, t, e, n) {
  return pt(i, t, e, n, true);
}
function jt(i) {
  i && i.target && (i.target.removeEventListener(i.type, i.listener), us(i));
}
class Wa extends Ba {
  constructor() {
    super(), this.on = this.onInternal, this.once = this.onceInternal, this.un = this.unInternal, this.revision_ = 0;
  }
  changed() {
    ++this.revision_, this.dispatchEvent(Q.CHANGE);
  }
  getRevision() {
    return this.revision_;
  }
  onInternal(t, e) {
    if (Array.isArray(t)) {
      const n = t.length, o = new Array(n);
      for (let r3 = 0; r3 < n; ++r3)
        o[r3] = pt(this, t[r3], e);
      return o;
    } else
      return pt(this, t, e);
  }
  onceInternal(t, e) {
    let n;
    if (Array.isArray(t)) {
      const o = t.length;
      n = new Array(o);
      for (let r3 = 0; r3 < o; ++r3)
        n[r3] = aa(this, t[r3], e);
    } else
      n = aa(this, t, e);
    return e.ol_key = n, n;
  }
  unInternal(t, e) {
    const n = e.ol_key;
    if (n)
      e0(n);
    else if (Array.isArray(t))
      for (let o = 0, r3 = t.length; o < r3; ++o)
        this.removeEventListener(t[o], e);
    else
      this.removeEventListener(t, e);
  }
}
Wa.prototype.on;
Wa.prototype.once;
Wa.prototype.un;
function e0(i) {
  if (Array.isArray(i))
    for (let t = 0, e = i.length; t < e; ++t)
      jt(i[t]);
  else
    jt(i);
}
const Kg = Wa;
function tt() {
  throw new Error("Unimplemented abstract method.");
}
let i0 = 0;
function H(i) {
  return i.ol_uid || (i.ol_uid = String(++i0));
}
const n0 = "7.0.0";
class Vd extends hi {
  constructor(t, e, n) {
    super(t), this.key = e, this.oldValue = n;
  }
}
class o0 extends Kg {
  constructor(t) {
    super(), this.on, this.once, this.un, H(this), this.values_ = null, t !== void 0 && this.setProperties(t);
  }
  get(t) {
    let e;
    return this.values_ && this.values_.hasOwnProperty(t) && (e = this.values_[t]), e;
  }
  getKeys() {
    return this.values_ && Object.keys(this.values_) || [];
  }
  getProperties() {
    return this.values_ && Object.assign({}, this.values_) || {};
  }
  hasProperties() {
    return !!this.values_;
  }
  notify(t, e) {
    let n;
    n = `change:${t}`, this.hasListener(n) && this.dispatchEvent(new Vd(n, t, e)), n = $o.PROPERTYCHANGE, this.hasListener(n) && this.dispatchEvent(new Vd(n, t, e));
  }
  addChangeListener(t, e) {
    this.addEventListener(`change:${t}`, e);
  }
  removeChangeListener(t, e) {
    this.removeEventListener(`change:${t}`, e);
  }
  set(t, e, n) {
    const o = this.values_ || (this.values_ = {});
    if (n)
      o[t] = e;
    else {
      const r3 = o[t];
      o[t] = e, r3 !== e && this.notify(t, r3);
    }
  }
  setProperties(t, e) {
    for (const n in t)
      this.set(n, t[n], e);
  }
  applyProperties(t) {
    !t.values_ || Object.assign(this.values_ || (this.values_ = {}), t.values_);
  }
  unset(t, e) {
    if (this.values_ && t in this.values_) {
      const n = this.values_[t];
      delete this.values_[t], to(this.values_) && (this.values_ = null), e || this.notify(t, n);
    }
  }
}
const ki = o0, qi = {
  POSTRENDER: "postrender",
  MOVESTART: "movestart",
  MOVEEND: "moveend",
  LOADSTART: "loadstart",
  LOADEND: "loadend"
}, fn = typeof navigator < "u" && typeof navigator.userAgent < "u" ? navigator.userAgent.toLowerCase() : "", r0 = fn.includes("firefox"), s0 = fn.includes("safari") && !fn.includes("chrom");
s0 && (fn.includes("version/15.4") || /cpu (os|iphone os) 15_4 like mac os x/.test(fn));
const a0 = fn.includes("webkit") && !fn.includes("edge"), l0 = fn.includes("macintosh"), Jg = typeof devicePixelRatio < "u" ? devicePixelRatio : 1, ru = typeof WorkerGlobalScope < "u" && typeof OffscreenCanvas < "u" && self instanceof WorkerGlobalScope, h0 = typeof Image < "u" && Image.prototype.decode, Qg = function() {
  let i = false;
  try {
    const t = Object.defineProperty({}, "passive", {
      get: function() {
        i = true;
      }
    });
    window.addEventListener("_", null, t), window.removeEventListener("_", null, t);
  } catch {
  }
  return i;
}();
function Fe(i, t, e, n) {
  let o;
  return e && e.length ? o = e.shift() : ru ? o = new OffscreenCanvas(i || 300, t || 300) : o = document.createElement("canvas"), i && (o.width = i), t && (o.height = t), o.getContext("2d", n);
}
function su(i) {
  const t = i.canvas;
  t.width = 1, t.height = 1, i.clearRect(0, 0, 1, 1);
}
function qd(i, t) {
  const e = t.parentNode;
  e && e.replaceChild(i, t);
}
function ch(i) {
  return i && i.parentNode ? i.parentNode.removeChild(i) : null;
}
function u0(i) {
  for (; i.lastChild; )
    i.removeChild(i.lastChild);
}
function d0(i, t) {
  const e = i.childNodes;
  for (let n = 0; ; ++n) {
    const o = e[n], r3 = t[n];
    if (!o && !r3)
      break;
    if (o !== r3) {
      if (!o) {
        i.appendChild(r3);
        continue;
      }
      if (!r3) {
        i.removeChild(o), --n;
        continue;
      }
      i.insertBefore(r3, o);
    }
  }
}
class c0 extends ki {
  constructor(t) {
    super();
    const e = t.element;
    e && !t.target && !e.style.pointerEvents && (e.style.pointerEvents = "auto"), this.element = e || null, this.target_ = null, this.map_ = null, this.listenerKeys = [], t.render && (this.render = t.render), t.target && this.setTarget(t.target);
  }
  disposeInternal() {
    ch(this.element), super.disposeInternal();
  }
  getMap() {
    return this.map_;
  }
  setMap(t) {
    this.map_ && ch(this.element);
    for (let e = 0, n = this.listenerKeys.length; e < n; ++e)
      jt(this.listenerKeys[e]);
    this.listenerKeys.length = 0, this.map_ = t, t && ((this.target_ ? this.target_ : t.getOverlayContainerStopEvent()).appendChild(this.element), this.render !== Qn && this.listenerKeys.push(
      pt(t, qi.POSTRENDER, this.render, this)
    ), t.render());
  }
  render(t) {
  }
  setTarget(t) {
    this.target_ = typeof t == "string" ? document.getElementById(t) : t;
  }
}
const rr = c0, zs = "ol-hidden", ds = "ol-unselectable", au = "ol-control", $d = "ol-collapsed", g0 = new RegExp(
  [
    "^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)",
    "(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)",
    "(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)",
    "(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?",
    "(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))",
    "(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",
    `?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`
  ].join(""),
  "i"
), Hd = [
  "style",
  "variant",
  "weight",
  "size",
  "lineHeight",
  "family"
], tf = function(i) {
  const t = i.match(g0);
  if (!t)
    return null;
  const e = {
    lineHeight: "normal",
    size: "1.2em",
    style: "normal",
    weight: "normal",
    variant: "normal"
  };
  for (let n = 0, o = Hd.length; n < o; ++n) {
    const r3 = t[n + 1];
    r3 !== void 0 && (e[Hd[n]] = r3);
  }
  return e.families = e.family.split(/,\s?/), e;
}, Dt = {
  OPACITY: "opacity",
  VISIBLE: "visible",
  EXTENT: "extent",
  Z_INDEX: "zIndex",
  MAX_RESOLUTION: "maxResolution",
  MIN_RESOLUTION: "minResolution",
  MAX_ZOOM: "maxZoom",
  MIN_ZOOM: "minZoom",
  SOURCE: "source",
  MAP: "map"
};
class f0 extends Error {
  constructor(t) {
    const e = "v" + n0.split("-")[0], n = "Assertion failed. See https://openlayers.org/en/" + e + "/doc/errors/#" + t + " for details.";
    super(n), this.code = t, this.name = "AssertionError", this.message = n;
  }
}
const ef = f0;
function ct(i, t) {
  if (!i)
    throw new ef(t);
}
function qt(i, t, e) {
  return Math.min(Math.max(i, t), e);
}
function m0(i, t, e, n, o, r3) {
  const s = o - e, a = r3 - n;
  if (s !== 0 || a !== 0) {
    const l = ((i - e) * s + (t - n) * a) / (s * s + a * a);
    l > 1 ? (e = o, n = r3) : l > 0 && (e += s * l, n += a * l);
  }
  return Vn(i, t, e, n);
}
function Vn(i, t, e, n) {
  const o = e - i, r3 = n - t;
  return o * o + r3 * r3;
}
function p0(i) {
  const t = i.length;
  for (let n = 0; n < t; n++) {
    let o = n, r3 = Math.abs(i[n][n]);
    for (let a = n + 1; a < t; a++) {
      const l = Math.abs(i[a][n]);
      l > r3 && (r3 = l, o = a);
    }
    if (r3 === 0)
      return null;
    const s = i[o];
    i[o] = i[n], i[n] = s;
    for (let a = n + 1; a < t; a++) {
      const l = -i[a][n] / i[n][n];
      for (let h = n; h < t + 1; h++)
        n == h ? i[a][h] = 0 : i[a][h] += l * i[n][h];
    }
  }
  const e = new Array(t);
  for (let n = t - 1; n >= 0; n--) {
    e[n] = i[n][t] / i[n][n];
    for (let o = n - 1; o >= 0; o--)
      i[o][t] -= i[o][n] * e[n];
  }
  return e;
}
function qn(i) {
  return i * Math.PI / 180;
}
function an(i, t) {
  const e = i % t;
  return e * t < 0 ? e + t : e;
}
function Ri(i, t, e) {
  return i + e * (t - i);
}
function nf(i, t) {
  const e = Math.pow(10, t);
  return Math.round(i * e) / e;
}
function Rs(i, t) {
  return Math.floor(nf(i, t));
}
function As(i, t) {
  return Math.ceil(nf(i, t));
}
class v0 extends ki {
  constructor(t) {
    super(), this.on, this.once, this.un, this.background_ = t.background;
    const e = Object.assign({}, t);
    typeof t.properties == "object" && (delete e.properties, Object.assign(e, t.properties)), e[Dt.OPACITY] = t.opacity !== void 0 ? t.opacity : 1, ct(typeof e[Dt.OPACITY] == "number", 64), e[Dt.VISIBLE] = t.visible !== void 0 ? t.visible : true, e[Dt.Z_INDEX] = t.zIndex, e[Dt.MAX_RESOLUTION] = t.maxResolution !== void 0 ? t.maxResolution : 1 / 0, e[Dt.MIN_RESOLUTION] = t.minResolution !== void 0 ? t.minResolution : 0, e[Dt.MIN_ZOOM] = t.minZoom !== void 0 ? t.minZoom : -1 / 0, e[Dt.MAX_ZOOM] = t.maxZoom !== void 0 ? t.maxZoom : 1 / 0, this.className_ = e.className !== void 0 ? e.className : "ol-layer", delete e.className, this.setProperties(e), this.state_ = null;
  }
  getBackground() {
    return this.background_;
  }
  getClassName() {
    return this.className_;
  }
  getLayerState(t) {
    const e = this.state_ || {
      layer: this,
      managed: t === void 0 ? true : t
    }, n = this.getZIndex();
    return e.opacity = qt(Math.round(this.getOpacity() * 100) / 100, 0, 1), e.visible = this.getVisible(), e.extent = this.getExtent(), e.zIndex = n === void 0 && !e.managed ? 1 / 0 : n, e.maxResolution = this.getMaxResolution(), e.minResolution = Math.max(this.getMinResolution(), 0), e.minZoom = this.getMinZoom(), e.maxZoom = this.getMaxZoom(), this.state_ = e, e;
  }
  getLayersArray(t) {
    return tt();
  }
  getLayerStatesArray(t) {
    return tt();
  }
  getExtent() {
    return this.get(Dt.EXTENT);
  }
  getMaxResolution() {
    return this.get(Dt.MAX_RESOLUTION);
  }
  getMinResolution() {
    return this.get(Dt.MIN_RESOLUTION);
  }
  getMinZoom() {
    return this.get(Dt.MIN_ZOOM);
  }
  getMaxZoom() {
    return this.get(Dt.MAX_ZOOM);
  }
  getOpacity() {
    return this.get(Dt.OPACITY);
  }
  getSourceState() {
    return tt();
  }
  getVisible() {
    return this.get(Dt.VISIBLE);
  }
  getZIndex() {
    return this.get(Dt.Z_INDEX);
  }
  setBackground(t) {
    this.background_ = t, this.changed();
  }
  setExtent(t) {
    this.set(Dt.EXTENT, t);
  }
  setMaxResolution(t) {
    this.set(Dt.MAX_RESOLUTION, t);
  }
  setMinResolution(t) {
    this.set(Dt.MIN_RESOLUTION, t);
  }
  setMaxZoom(t) {
    this.set(Dt.MAX_ZOOM, t);
  }
  setMinZoom(t) {
    this.set(Dt.MIN_ZOOM, t);
  }
  setOpacity(t) {
    ct(typeof t == "number", 64), this.set(Dt.OPACITY, t);
  }
  setVisible(t) {
    this.set(Dt.VISIBLE, t);
  }
  setZIndex(t) {
    this.set(Dt.Z_INDEX, t);
  }
  disposeInternal() {
    this.state_ && (this.state_.layer = null, this.state_ = null), super.disposeInternal();
  }
}
const of = v0, ln = {
  PRERENDER: "prerender",
  POSTRENDER: "postrender",
  PRECOMPOSE: "precompose",
  POSTCOMPOSE: "postcompose",
  RENDERCOMPLETE: "rendercomplete"
};
class _0 extends of {
  constructor(t) {
    const e = Object.assign({}, t);
    delete e.source, super(e), this.on, this.once, this.un, this.mapPrecomposeKey_ = null, this.mapRenderKey_ = null, this.sourceChangeKey_ = null, this.renderer_ = null, this.rendered = false, t.render && (this.render = t.render), t.map && this.setMap(t.map), this.addChangeListener(
      Dt.SOURCE,
      this.handleSourcePropertyChange_
    );
    const n = t.source ? t.source : null;
    this.setSource(n);
  }
  getLayersArray(t) {
    return t = t || [], t.push(this), t;
  }
  getLayerStatesArray(t) {
    return t = t || [], t.push(this.getLayerState()), t;
  }
  getSource() {
    return this.get(Dt.SOURCE) || null;
  }
  getRenderSource() {
    return this.getSource();
  }
  getSourceState() {
    const t = this.getSource();
    return t ? t.getState() : "undefined";
  }
  handleSourceChange_() {
    this.changed();
  }
  handleSourcePropertyChange_() {
    this.sourceChangeKey_ && (jt(this.sourceChangeKey_), this.sourceChangeKey_ = null);
    const t = this.getSource();
    t && (this.sourceChangeKey_ = pt(
      t,
      Q.CHANGE,
      this.handleSourceChange_,
      this
    )), this.changed();
  }
  getFeatures(t) {
    return this.renderer_ ? this.renderer_.getFeatures(t) : new Promise((e) => e([]));
  }
  getData(t) {
    return !this.renderer_ || !this.rendered ? null : this.renderer_.getData(t);
  }
  render(t, e) {
    const n = this.getRenderer();
    if (n.prepareFrame(t))
      return this.rendered = true, n.renderFrame(t, e);
  }
  unrender() {
    this.rendered = false;
  }
  setMapInternal(t) {
    t || this.unrender(), this.set(Dt.MAP, t);
  }
  getMapInternal() {
    return this.get(Dt.MAP);
  }
  setMap(t) {
    this.mapPrecomposeKey_ && (jt(this.mapPrecomposeKey_), this.mapPrecomposeKey_ = null), t || this.changed(), this.mapRenderKey_ && (jt(this.mapRenderKey_), this.mapRenderKey_ = null), t && (this.mapPrecomposeKey_ = pt(
      t,
      ln.PRECOMPOSE,
      function(e) {
        const o = e.frameState.layerStatesArray, r3 = this.getLayerState(false);
        ct(
          !o.some(function(s) {
            return s.layer === r3.layer;
          }),
          67
        ), o.push(r3);
      },
      this
    ), this.mapRenderKey_ = pt(this, Q.CHANGE, t.render, t), this.changed());
  }
  setSource(t) {
    this.set(Dt.SOURCE, t);
  }
  getRenderer() {
    return this.renderer_ || (this.renderer_ = this.createRenderer()), this.renderer_;
  }
  hasRenderer() {
    return !!this.renderer_;
  }
  createRenderer() {
    return null;
  }
  disposeInternal() {
    this.renderer_ && (this.renderer_.dispose(), delete this.renderer_), this.setSource(null), super.disposeInternal();
  }
}
function lu(i, t) {
  if (!i.visible)
    return false;
  const e = t.resolution;
  if (e < i.minResolution || e >= i.maxResolution)
    return false;
  const n = t.zoom;
  return n > i.minZoom && n <= i.maxZoom;
}
const Za = _0;
class y0 extends rr {
  constructor(t) {
    t = t || {}, super({
      element: document.createElement("div"),
      render: t.render,
      target: t.target
    }), this.ulElement_ = document.createElement("ul"), this.collapsed_ = t.collapsed !== void 0 ? t.collapsed : true, this.userCollapsed_ = this.collapsed_, this.overrideCollapsible_ = t.collapsible !== void 0, this.collapsible_ = t.collapsible !== void 0 ? t.collapsible : true, this.collapsible_ || (this.collapsed_ = false);
    const e = t.className !== void 0 ? t.className : "ol-attribution", n = t.tipLabel !== void 0 ? t.tipLabel : "Attributions", o = t.expandClassName !== void 0 ? t.expandClassName : e + "-expand", r3 = t.collapseLabel !== void 0 ? t.collapseLabel : "\u203A", s = t.collapseClassName !== void 0 ? t.collapseClassName : e + "-collapse";
    typeof r3 == "string" ? (this.collapseLabel_ = document.createElement("span"), this.collapseLabel_.textContent = r3, this.collapseLabel_.className = s) : this.collapseLabel_ = r3;
    const a = t.label !== void 0 ? t.label : "i";
    typeof a == "string" ? (this.label_ = document.createElement("span"), this.label_.textContent = a, this.label_.className = o) : this.label_ = a;
    const l = this.collapsible_ && !this.collapsed_ ? this.collapseLabel_ : this.label_;
    this.toggleButton_ = document.createElement("button"), this.toggleButton_.setAttribute("type", "button"), this.toggleButton_.setAttribute("aria-expanded", String(!this.collapsed_)), this.toggleButton_.title = n, this.toggleButton_.appendChild(l), this.toggleButton_.addEventListener(
      Q.CLICK,
      this.handleClick_.bind(this),
      false
    );
    const h = e + " " + ds + " " + au + (this.collapsed_ && this.collapsible_ ? " " + $d : "") + (this.collapsible_ ? "" : " ol-uncollapsible"), u = this.element;
    u.className = h, u.appendChild(this.toggleButton_), u.appendChild(this.ulElement_), this.renderedAttributions_ = [], this.renderedVisible_ = true;
  }
  collectSourceAttributions_(t) {
    const e = {}, n = [];
    let o = true;
    const r3 = t.layerStatesArray;
    for (let s = 0, a = r3.length; s < a; ++s) {
      const l = r3[s];
      if (!lu(l, t.viewState))
        continue;
      const h = l.layer.getSource();
      if (!h)
        continue;
      const u = h.getAttributions();
      if (!u)
        continue;
      const d = u(t);
      if (!!d)
        if (o = o && h.getAttributionsCollapsible() !== false, Array.isArray(d))
          for (let c = 0, g = d.length; c < g; ++c)
            d[c] in e || (n.push(d[c]), e[d[c]] = true);
        else
          d in e || (n.push(d), e[d] = true);
    }
    return this.overrideCollapsible_ || this.setCollapsible(o), n;
  }
  updateElement_(t) {
    if (!t) {
      this.renderedVisible_ && (this.element.style.display = "none", this.renderedVisible_ = false);
      return;
    }
    const e = this.collectSourceAttributions_(t), n = e.length > 0;
    if (this.renderedVisible_ != n && (this.element.style.display = n ? "" : "none", this.renderedVisible_ = n), !Tn(e, this.renderedAttributions_)) {
      u0(this.ulElement_);
      for (let o = 0, r3 = e.length; o < r3; ++o) {
        const s = document.createElement("li");
        s.innerHTML = e[o], this.ulElement_.appendChild(s);
      }
      this.renderedAttributions_ = e;
    }
  }
  handleClick_(t) {
    t.preventDefault(), this.handleToggle_(), this.userCollapsed_ = this.collapsed_;
  }
  handleToggle_() {
    this.element.classList.toggle($d), this.collapsed_ ? qd(this.collapseLabel_, this.label_) : qd(this.label_, this.collapseLabel_), this.collapsed_ = !this.collapsed_, this.toggleButton_.setAttribute("aria-expanded", String(!this.collapsed_));
  }
  getCollapsible() {
    return this.collapsible_;
  }
  setCollapsible(t) {
    this.collapsible_ !== t && (this.collapsible_ = t, this.element.classList.toggle("ol-uncollapsible"), this.userCollapsed_ && this.handleToggle_());
  }
  setCollapsed(t) {
    this.userCollapsed_ = t, !(!this.collapsible_ || this.collapsed_ === t) && this.handleToggle_();
  }
  getCollapsed() {
    return this.collapsed_;
  }
  render(t) {
    this.updateElement_(t.frameState);
  }
}
const x0 = y0, pe = {
  LAYERGROUP: "layergroup",
  SIZE: "size",
  TARGET: "target",
  VIEW: "view"
}, gh = {
  POINTERMOVE: "pointermove",
  POINTERDOWN: "pointerdown",
  POINTERUP: "pointerup",
  POINTEROVER: "pointerover",
  POINTEROUT: "pointerout",
  POINTERENTER: "pointerenter",
  POINTERLEAVE: "pointerleave",
  POINTERCANCEL: "pointercancel"
}, Ho = {
  radians: 6370997 / (2 * Math.PI),
  degrees: 2 * Math.PI * 6370997 / 360,
  ft: 0.3048,
  m: 1,
  "us-ft": 1200 / 3937
};
class b0 {
  constructor(t) {
    this.code_ = t.code, this.units_ = t.units, this.extent_ = t.extent !== void 0 ? t.extent : null, this.worldExtent_ = t.worldExtent !== void 0 ? t.worldExtent : null, this.axisOrientation_ = t.axisOrientation !== void 0 ? t.axisOrientation : "enu", this.global_ = t.global !== void 0 ? t.global : false, this.canWrapX_ = !!(this.global_ && this.extent_), this.getPointResolutionFunc_ = t.getPointResolution, this.defaultTileGrid_ = null, this.metersPerUnit_ = t.metersPerUnit;
  }
  canWrapX() {
    return this.canWrapX_;
  }
  getCode() {
    return this.code_;
  }
  getExtent() {
    return this.extent_;
  }
  getUnits() {
    return this.units_;
  }
  getMetersPerUnit() {
    return this.metersPerUnit_ || Ho[this.units_];
  }
  getWorldExtent() {
    return this.worldExtent_;
  }
  getAxisOrientation() {
    return this.axisOrientation_;
  }
  isGlobal() {
    return this.global_;
  }
  setGlobal(t) {
    this.global_ = t, this.canWrapX_ = !!(t && this.extent_);
  }
  getDefaultTileGrid() {
    return this.defaultTileGrid_;
  }
  setDefaultTileGrid(t) {
    this.defaultTileGrid_ = t;
  }
  setExtent(t) {
    this.extent_ = t, this.canWrapX_ = !!(this.global_ && t);
  }
  setWorldExtent(t) {
    this.worldExtent_ = t;
  }
  setGetPointResolution(t) {
    this.getPointResolutionFunc_ = t;
  }
  getPointResolutionFunc() {
    return this.getPointResolutionFunc_;
  }
}
const Ya = b0, cs = 6378137, Ao = Math.PI * cs, k0 = [-Ao, -Ao, Ao, Ao], w0 = [-180, -85, 180, 85], Ps = cs * Math.log(Math.tan(Math.PI / 2));
class _o extends Ya {
  constructor(t) {
    super({
      code: t,
      units: "m",
      extent: k0,
      global: true,
      worldExtent: w0,
      getPointResolution: function(e, n) {
        return e / Math.cosh(n[1] / cs);
      }
    });
  }
}
const Kd = [
  new _o("EPSG:3857"),
  new _o("EPSG:102100"),
  new _o("EPSG:102113"),
  new _o("EPSG:900913"),
  new _o("http://www.opengis.net/def/crs/EPSG/0/3857"),
  new _o("http://www.opengis.net/gml/srs/epsg.xml#3857")
];
function C0(i, t, e) {
  const n = i.length;
  e = e > 1 ? e : 2, t === void 0 && (e > 2 ? t = i.slice() : t = new Array(n));
  for (let o = 0; o < n; o += e) {
    t[o] = Ao * i[o] / 180;
    let r3 = cs * Math.log(Math.tan(Math.PI * (+i[o + 1] + 90) / 360));
    r3 > Ps ? r3 = Ps : r3 < -Ps && (r3 = -Ps), t[o + 1] = r3;
  }
  return t;
}
function M0(i, t, e) {
  const n = i.length;
  e = e > 1 ? e : 2, t === void 0 && (e > 2 ? t = i.slice() : t = new Array(n));
  for (let o = 0; o < n; o += e)
    t[o] = 180 * i[o] / Ao, t[o + 1] = 360 * Math.atan(Math.exp(i[o + 1] / cs)) / Math.PI - 90;
  return t;
}
const E0 = 6378137, Jd = [-180, -90, 180, 90], S0 = Math.PI * E0 / 180;
class Dn extends Ya {
  constructor(t, e) {
    super({
      code: t,
      units: "degrees",
      extent: Jd,
      axisOrientation: e,
      global: true,
      metersPerUnit: S0,
      worldExtent: Jd
    });
  }
}
const Qd = [
  new Dn("CRS:84"),
  new Dn("EPSG:4326", "neu"),
  new Dn("urn:ogc:def:crs:OGC:1.3:CRS84"),
  new Dn("urn:ogc:def:crs:OGC:2:84"),
  new Dn("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),
  new Dn("http://www.opengis.net/gml/srs/epsg.xml#4326", "neu"),
  new Dn("http://www.opengis.net/def/crs/EPSG/0/4326", "neu")
];
let fh = {};
function T0(i) {
  return fh[i] || fh[i.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/, "EPSG:$3")] || null;
}
function I0(i, t) {
  fh[i] = t;
}
let No = {};
function Ko(i, t, e) {
  const n = i.getCode(), o = t.getCode();
  n in No || (No[n] = {}), No[n][o] = e;
}
function rf(i, t) {
  let e;
  return i in No && t in No[i] && (e = No[i][t]), e;
}
const ne = {
  UNKNOWN: 0,
  INTERSECTING: 1,
  ABOVE: 2,
  RIGHT: 4,
  BELOW: 8,
  LEFT: 16
};
function Me(i) {
  const t = Xe();
  for (let e = 0, n = i.length; e < n; ++e)
    Ar(t, i[e]);
  return t;
}
function z0(i, t, e) {
  const n = Math.min.apply(null, i), o = Math.min.apply(null, t), r3 = Math.max.apply(null, i), s = Math.max.apply(null, t);
  return li(n, o, r3, s, e);
}
function vi$1(i, t, e) {
  return e ? (e[0] = i[0] - t, e[1] = i[1] - t, e[2] = i[2] + t, e[3] = i[3] + t, e) : [
    i[0] - t,
    i[1] - t,
    i[2] + t,
    i[3] + t
  ];
}
function sf(i, t) {
  return t ? (t[0] = i[0], t[1] = i[1], t[2] = i[2], t[3] = i[3], t) : i.slice();
}
function co(i, t, e) {
  let n, o;
  return t < i[0] ? n = i[0] - t : i[2] < t ? n = t - i[2] : n = 0, e < i[1] ? o = i[1] - e : i[3] < e ? o = e - i[3] : o = 0, n * n + o * o;
}
function Xa(i, t) {
  return hu(i, t[0], t[1]);
}
function Wn(i, t) {
  return i[0] <= t[0] && t[2] <= i[2] && i[1] <= t[1] && t[3] <= i[3];
}
function hu(i, t, e) {
  return i[0] <= t && t <= i[2] && i[1] <= e && e <= i[3];
}
function mh(i, t) {
  const e = i[0], n = i[1], o = i[2], r3 = i[3], s = t[0], a = t[1];
  let l = ne.UNKNOWN;
  return s < e ? l = l | ne.LEFT : s > o && (l = l | ne.RIGHT), a < n ? l = l | ne.BELOW : a > r3 && (l = l | ne.ABOVE), l === ne.UNKNOWN && (l = ne.INTERSECTING), l;
}
function Xe() {
  return [1 / 0, 1 / 0, -1 / 0, -1 / 0];
}
function li(i, t, e, n, o) {
  return o ? (o[0] = i, o[1] = t, o[2] = e, o[3] = n, o) : [i, t, e, n];
}
function gs(i) {
  return li(1 / 0, 1 / 0, -1 / 0, -1 / 0, i);
}
function Rr(i, t) {
  const e = i[0], n = i[1];
  return li(e, n, e, n, t);
}
function uu(i, t, e, n, o) {
  const r3 = gs(o);
  return lf(r3, i, t, e, n);
}
function Jo(i, t) {
  return i[0] == t[0] && i[2] == t[2] && i[1] == t[1] && i[3] == t[3];
}
function af(i, t) {
  return t[0] < i[0] && (i[0] = t[0]), t[2] > i[2] && (i[2] = t[2]), t[1] < i[1] && (i[1] = t[1]), t[3] > i[3] && (i[3] = t[3]), i;
}
function Ar(i, t) {
  t[0] < i[0] && (i[0] = t[0]), t[0] > i[2] && (i[2] = t[0]), t[1] < i[1] && (i[1] = t[1]), t[1] > i[3] && (i[3] = t[1]);
}
function lf(i, t, e, n, o) {
  for (; e < n; e += o)
    R0(i, t[e], t[e + 1]);
  return i;
}
function R0(i, t, e) {
  i[0] = Math.min(i[0], t), i[1] = Math.min(i[1], e), i[2] = Math.max(i[2], t), i[3] = Math.max(i[3], e);
}
function du(i, t) {
  let e;
  return e = t(Ua(i)), e || (e = t(Va(i)), e) || (e = t(qa(i)), e) || (e = t(In(i)), e) ? e : false;
}
function ph(i) {
  let t = 0;
  return cu(i) || (t = Gt(i) * Je(i)), t;
}
function Ua(i) {
  return [i[0], i[1]];
}
function Va(i) {
  return [i[2], i[1]];
}
function mn(i) {
  return [(i[0] + i[2]) / 2, (i[1] + i[3]) / 2];
}
function A0(i, t) {
  let e;
  return t === "bottom-left" ? e = Ua(i) : t === "bottom-right" ? e = Va(i) : t === "top-left" ? e = In(i) : t === "top-right" ? e = qa(i) : ct(false, 13), e;
}
function vh(i, t, e, n, o) {
  const [r3, s, a, l, h, u, d, c] = _h(
    i,
    t,
    e,
    n
  );
  return li(
    Math.min(r3, a, h, d),
    Math.min(s, l, u, c),
    Math.max(r3, a, h, d),
    Math.max(s, l, u, c),
    o
  );
}
function _h(i, t, e, n) {
  const o = t * n[0] / 2, r3 = t * n[1] / 2, s = Math.cos(e), a = Math.sin(e), l = o * s, h = o * a, u = r3 * s, d = r3 * a, c = i[0], g = i[1];
  return [
    c - l + d,
    g - h - u,
    c - l - d,
    g - h + u,
    c + l - d,
    g + h + u,
    c + l + d,
    g + h - u,
    c - l + d,
    g - h - u
  ];
}
function Je(i) {
  return i[3] - i[1];
}
function $n(i, t, e) {
  const n = e || Xe();
  return Ht(i, t) ? (i[0] > t[0] ? n[0] = i[0] : n[0] = t[0], i[1] > t[1] ? n[1] = i[1] : n[1] = t[1], i[2] < t[2] ? n[2] = i[2] : n[2] = t[2], i[3] < t[3] ? n[3] = i[3] : n[3] = t[3]) : gs(n), n;
}
function In(i) {
  return [i[0], i[3]];
}
function qa(i) {
  return [i[2], i[3]];
}
function Gt(i) {
  return i[2] - i[0];
}
function Ht(i, t) {
  return i[0] <= t[2] && i[2] >= t[0] && i[1] <= t[3] && i[3] >= t[1];
}
function cu(i) {
  return i[2] < i[0] || i[3] < i[1];
}
function P0(i, t) {
  return t ? (t[0] = i[0], t[1] = i[1], t[2] = i[2], t[3] = i[3], t) : i;
}
function D0(i, t, e) {
  let n = false;
  const o = mh(i, t), r3 = mh(i, e);
  if (o === ne.INTERSECTING || r3 === ne.INTERSECTING)
    n = true;
  else {
    const s = i[0], a = i[1], l = i[2], h = i[3], u = t[0], d = t[1], c = e[0], g = e[1], f = (g - d) / (c - u);
    let m, p;
    !!(r3 & ne.ABOVE) && !(o & ne.ABOVE) && (m = c - (g - h) / f, n = m >= s && m <= l), !n && !!(r3 & ne.RIGHT) && !(o & ne.RIGHT) && (p = g - (c - l) * f, n = p >= a && p <= h), !n && !!(r3 & ne.BELOW) && !(o & ne.BELOW) && (m = c - (g - a) / f, n = m >= s && m <= l), !n && !!(r3 & ne.LEFT) && !(o & ne.LEFT) && (p = g - (c - s) * f, n = p >= a && p <= h);
  }
  return n;
}
function L0(i, t, e, n) {
  let o = [];
  if (n > 1) {
    const a = i[2] - i[0], l = i[3] - i[1];
    for (let h = 0; h < n; ++h)
      o.push(
        i[0] + a * h / n,
        i[1],
        i[2],
        i[1] + l * h / n,
        i[2] - a * h / n,
        i[3],
        i[0],
        i[3] - l * h / n
      );
  } else
    o = [
      i[0],
      i[1],
      i[2],
      i[1],
      i[2],
      i[3],
      i[0],
      i[3]
    ];
  t(o, o, 2);
  const r3 = [], s = [];
  for (let a = 0, l = o.length; a < l; a += 2)
    r3.push(o[a]), s.push(o[a + 1]);
  return z0(r3, s, e);
}
function hf(i, t) {
  const e = t.getExtent(), n = mn(i);
  if (t.canWrapX() && (n[0] < e[0] || n[0] >= e[2])) {
    const o = Gt(e), s = Math.floor(
      (n[0] - e[0]) / o
    ) * o;
    i[0] -= s, i[2] -= s;
  }
  return i;
}
function O0(i, t) {
  if (t.canWrapX()) {
    const e = t.getExtent();
    if (!isFinite(i[0]) || !isFinite(i[2]))
      return [[e[0], i[1], e[2], i[3]]];
    hf(i, t);
    const n = Gt(e);
    if (Gt(i) > n)
      return [[e[0], i[1], e[2], i[3]]];
    if (i[0] < e[0])
      return [
        [i[0] + n, i[1], e[2], i[3]],
        [e[0], i[1], i[2], i[3]]
      ];
    if (i[2] > e[2])
      return [
        [i[0], i[1], e[2], i[3]],
        [e[0], i[1], i[2] - n, i[3]]
      ];
  }
  return [i];
}
function F0(i, t) {
  return i[0] += +t[0], i[1] += +t[1], i;
}
function N0(i, t) {
  const e = t.getRadius(), n = t.getCenter(), o = n[0], r3 = n[1], s = i[0], a = i[1];
  let l = s - o;
  const h = a - r3;
  l === 0 && h === 0 && (l = 1);
  const u = Math.sqrt(l * l + h * h), d = o + e * l / u, c = r3 + e * h / u;
  return [d, c];
}
function gu(i, t) {
  const e = i[0], n = i[1], o = t[0], r3 = t[1], s = o[0], a = o[1], l = r3[0], h = r3[1], u = l - s, d = h - a, c = u === 0 && d === 0 ? 0 : (u * (e - s) + d * (n - a)) / (u * u + d * d || 0);
  let g, f;
  return c <= 0 ? (g = s, f = a) : c >= 1 ? (g = l, f = h) : (g = s + c * u, f = a + c * d), [g, f];
}
function ii(i, t) {
  let e = true;
  for (let n = i.length - 1; n >= 0; --n)
    if (i[n] != t[n]) {
      e = false;
      break;
    }
  return e;
}
function fu(i, t) {
  const e = Math.cos(t), n = Math.sin(t), o = i[0] * e - i[1] * n, r3 = i[1] * e + i[0] * n;
  return i[0] = o, i[1] = r3, i;
}
function G0(i, t) {
  return i[0] *= t, i[1] *= t, i;
}
function Di(i, t) {
  const e = i[0] - t[0], n = i[1] - t[1];
  return e * e + n * n;
}
function tc(i, t) {
  return Math.sqrt(Di(i, t));
}
function j0(i, t) {
  return Di(i, gu(i, t));
}
function mu(i, t) {
  if (t.canWrapX()) {
    const e = Gt(t.getExtent()), n = uf(i, t, e);
    n && (i[0] -= n * e);
  }
  return i;
}
function uf(i, t, e) {
  const n = t.getExtent();
  let o = 0;
  return t.canWrapX() && (i[0] < n[0] || i[0] > n[2]) && (e = e || Gt(n), o = Math.floor(
    (i[0] - n[0]) / e
  )), o;
}
const df = 63710088e-1;
function ec(i, t, e) {
  e = e || df;
  const n = qn(i[1]), o = qn(t[1]), r3 = (o - n) / 2, s = qn(t[0] - i[0]) / 2, a = Math.sin(r3) * Math.sin(r3) + Math.sin(s) * Math.sin(s) * Math.cos(n) * Math.cos(o);
  return 2 * e * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
}
function Ds(i, t) {
  let e = 0;
  const n = i.length;
  let o = i[n - 1][0], r3 = i[n - 1][1];
  for (let s = 0; s < n; s++) {
    const a = i[s][0], l = i[s][1];
    e += qn(a - o) * (2 + Math.sin(qn(r3)) + Math.sin(qn(l))), o = a, r3 = l;
  }
  return e * t * t / 2;
}
function cf(i, t) {
  t = t || {};
  const e = t.radius || df, n = t.projection || "EPSG:3857", o = i.getType();
  o !== "GeometryCollection" && (i = i.clone().transform(n, "EPSG:4326"));
  let r3 = 0, s, a, l, h, u, d;
  switch (o) {
    case "Point":
    case "MultiPoint":
    case "LineString":
    case "MultiLineString":
    case "LinearRing":
      break;
    case "Polygon": {
      for (s = i.getCoordinates(), r3 = Math.abs(Ds(s[0], e)), l = 1, h = s.length; l < h; ++l)
        r3 -= Math.abs(Ds(s[l], e));
      break;
    }
    case "MultiPolygon": {
      for (s = i.getCoordinates(), l = 0, h = s.length; l < h; ++l)
        for (a = s[l], r3 += Math.abs(Ds(a[0], e)), u = 1, d = a.length; u < d; ++u)
          r3 -= Math.abs(Ds(a[u], e));
      break;
    }
    case "GeometryCollection": {
      const c = i.getGeometries();
      for (l = 0, h = c.length; l < h; ++l)
        r3 += cf(c[l], t);
      break;
    }
    default:
      throw new Error("Unsupported geometry type: " + o);
  }
  return r3;
}
let yh = true;
function B0(i) {
  yh = !(i === void 0 ? true : i);
}
function pu(i, t, e) {
  if (t !== void 0) {
    for (let n = 0, o = i.length; n < o; ++n)
      t[n] = i[n];
    t = t;
  } else
    t = i.slice();
  return t;
}
function gf(i, t, e) {
  if (t !== void 0 && i !== t) {
    for (let n = 0, o = i.length; n < o; ++n)
      t[n] = i[n];
    i = t;
  }
  return i;
}
function ff(i) {
  I0(i.getCode(), i), Ko(i, i, pu);
}
function W0(i) {
  i.forEach(ff);
}
function Bt(i) {
  return typeof i == "string" ? T0(i) : i || null;
}
function la(i, t, e, n) {
  i = Bt(i);
  let o;
  const r3 = i.getPointResolutionFunc();
  if (r3) {
    if (o = r3(t, e), n && n !== i.getUnits()) {
      const s = i.getMetersPerUnit();
      s && (o = o * s / Ho[n]);
    }
  } else {
    const s = i.getUnits();
    if (s == "degrees" && !n || n == "degrees")
      o = t;
    else {
      const a = _u(
        i,
        Bt("EPSG:4326")
      );
      if (a === gf && s !== "degrees")
        o = t * i.getMetersPerUnit();
      else {
        let h = [
          e[0] - t / 2,
          e[1],
          e[0] + t / 2,
          e[1],
          e[0],
          e[1] - t / 2,
          e[0],
          e[1] + t / 2
        ];
        h = a(h, h, 2);
        const u = ec(h.slice(0, 2), h.slice(2, 4)), d = ec(h.slice(4, 6), h.slice(6, 8));
        o = (u + d) / 2;
      }
      const l = n ? Ho[n] : i.getMetersPerUnit();
      l !== void 0 && (o /= l);
    }
  }
  return o;
}
function xh(i) {
  W0(i), i.forEach(function(t) {
    i.forEach(function(e) {
      t !== e && Ko(t, e, pu);
    });
  });
}
function Z0(i, t, e, n) {
  i.forEach(function(o) {
    t.forEach(function(r3) {
      Ko(o, r3, e), Ko(r3, o, n);
    });
  });
}
function vu(i, t) {
  return i ? typeof i == "string" ? Bt(i) : i : Bt(t);
}
function ic(i) {
  return function(t, e, n) {
    const o = t.length;
    n = n !== void 0 ? n : 2, e = e !== void 0 ? e : new Array(o);
    for (let r3 = 0; r3 < o; r3 += n) {
      const s = i(t.slice(r3, r3 + n)), a = s.length;
      for (let l = 0, h = n; l < h; ++l)
        e[r3 + l] = l >= a ? t[r3 + l] : s[l];
    }
    return e;
  };
}
function Y0(i, t, e, n) {
  const o = Bt(i), r3 = Bt(t);
  Ko(
    o,
    r3,
    ic(e)
  ), Ko(
    r3,
    o,
    ic(n)
  );
}
function X0(i, t) {
  const e = ha(
    i,
    t !== void 0 ? t : "EPSG:3857",
    "EPSG:4326"
  ), n = e[0];
  return (n < -180 || n > 180) && (e[0] = an(n + 180, 360) - 180), e;
}
function jn(i, t) {
  if (i === t)
    return true;
  const e = i.getUnits() === t.getUnits();
  return (i.getCode() === t.getCode() || _u(i, t) === pu) && e;
}
function _u(i, t) {
  const e = i.getCode(), n = t.getCode();
  let o = rf(e, n);
  return o || (o = gf), o;
}
function Wr(i, t) {
  const e = Bt(i), n = Bt(t);
  return _u(e, n);
}
function ha(i, t, e) {
  return Wr(t, e)(i, void 0, i.length);
}
function U0(i, t, e, n) {
  const o = Wr(t, e);
  return L0(i, o, void 0, n);
}
function Qo(i, t) {
  return i;
}
function Zt(i, t) {
  return yh && !ii(i, [0, 0]) && i[0] >= -180 && i[0] <= 180 && i[1] >= -90 && i[1] <= 90 && (yh = false, console.warn(
    "Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates."
  )), i;
}
function yu(i, t) {
  return i;
}
function tn(i, t) {
  return i;
}
function nc(i, t, e) {
  return function(n) {
    let o, r3;
    if (i.canWrapX()) {
      const s = i.getExtent(), a = Gt(s);
      n = n.slice(0), r3 = uf(n, i, a), r3 && (n[0] = n[0] - r3 * a), n[0] = qt(n[0], s[0], s[2]), n[1] = qt(n[1], s[1], s[3]), o = e(n);
    } else
      o = e(n);
    return r3 && t.canWrapX() && (o[0] += r3 * Gt(t.getExtent())), o;
  };
}
function V0() {
  xh(Kd), xh(Qd), Z0(
    Qd,
    Kd,
    C0,
    M0
  );
}
V0();
const re = {
  ADD: "add",
  REMOVE: "remove"
}, oc = {
  LENGTH: "length"
};
class Ls extends hi {
  constructor(t, e, n) {
    super(t), this.element = e, this.index = n;
  }
}
class q0 extends ki {
  constructor(t, e) {
    if (super(), this.on, this.once, this.un, e = e || {}, this.unique_ = !!e.unique, this.array_ = t || [], this.unique_)
      for (let n = 0, o = this.array_.length; n < o; ++n)
        this.assertUnique_(this.array_[n], n);
    this.updateLength_();
  }
  clear() {
    for (; this.getLength() > 0; )
      this.pop();
  }
  extend(t) {
    for (let e = 0, n = t.length; e < n; ++e)
      this.push(t[e]);
    return this;
  }
  forEach(t) {
    const e = this.array_;
    for (let n = 0, o = e.length; n < o; ++n)
      t(e[n], n, e);
  }
  getArray() {
    return this.array_;
  }
  item(t) {
    return this.array_[t];
  }
  getLength() {
    return this.get(oc.LENGTH);
  }
  insertAt(t, e) {
    if (t < 0 || t > this.getLength())
      throw new Error("Index out of bounds: " + t);
    this.unique_ && this.assertUnique_(e), this.array_.splice(t, 0, e), this.updateLength_(), this.dispatchEvent(
      new Ls(re.ADD, e, t)
    );
  }
  pop() {
    return this.removeAt(this.getLength() - 1);
  }
  push(t) {
    this.unique_ && this.assertUnique_(t);
    const e = this.getLength();
    return this.insertAt(e, t), this.getLength();
  }
  remove(t) {
    const e = this.array_;
    for (let n = 0, o = e.length; n < o; ++n)
      if (e[n] === t)
        return this.removeAt(n);
  }
  removeAt(t) {
    if (t < 0 || t >= this.getLength())
      return;
    const e = this.array_[t];
    return this.array_.splice(t, 1), this.updateLength_(), this.dispatchEvent(
      new Ls(re.REMOVE, e, t)
    ), e;
  }
  setAt(t, e) {
    const n = this.getLength();
    if (t >= n) {
      this.insertAt(t, e);
      return;
    }
    if (t < 0)
      throw new Error("Index out of bounds: " + t);
    this.unique_ && this.assertUnique_(e, t);
    const o = this.array_[t];
    this.array_[t] = e, this.dispatchEvent(
      new Ls(re.REMOVE, o, t)
    ), this.dispatchEvent(
      new Ls(re.ADD, e, t)
    );
  }
  updateLength_() {
    this.set(oc.LENGTH, this.array_.length);
  }
  assertUnique_(t, e) {
    for (let n = 0, o = this.array_.length; n < o; ++n)
      if (this.array_[n] === t && n !== e)
        throw new ef(58);
  }
}
const $e = q0, mf = new Array(6);
function Ke() {
  return [1, 0, 0, 1, 0, 0];
}
function rc(i) {
  return $a(i, 1, 0, 0, 1, 0, 0);
}
function xu(i, t) {
  const e = i[0], n = i[1], o = i[2], r3 = i[3], s = i[4], a = i[5], l = t[0], h = t[1], u = t[2], d = t[3], c = t[4], g = t[5];
  return i[0] = e * l + o * h, i[1] = n * l + r3 * h, i[2] = e * u + o * d, i[3] = n * u + r3 * d, i[4] = e * c + o * g + s, i[5] = n * c + r3 * g + a, i;
}
function $a(i, t, e, n, o, r3, s) {
  return i[0] = t, i[1] = e, i[2] = n, i[3] = o, i[4] = r3, i[5] = s, i;
}
function $0(i, t) {
  return i[0] = t[0], i[1] = t[1], i[2] = t[2], i[3] = t[3], i[4] = t[4], i[5] = t[5], i;
}
function Qt(i, t) {
  const e = t[0], n = t[1];
  return t[0] = i[0] * e + i[2] * n + i[4], t[1] = i[1] * e + i[3] * n + i[5], t;
}
function Il(i, t, e) {
  return xu(i, $a(mf, t, 0, 0, e, 0, 0));
}
function H0(i, t, e) {
  return $a(i, t, 0, 0, e, 0, 0);
}
function K0(i, t, e) {
  return xu(i, $a(mf, 1, 0, 0, 1, t, e));
}
function Ni(i, t, e, n, o, r3, s, a) {
  const l = Math.sin(r3), h = Math.cos(r3);
  return i[0] = n * h, i[1] = o * l, i[2] = -n * l, i[3] = o * h, i[4] = s * n * h - a * n * l + t, i[5] = s * o * l + a * o * h + e, i;
}
function bu(i, t) {
  const e = J0(t);
  ct(e !== 0, 32);
  const n = t[0], o = t[1], r3 = t[2], s = t[3], a = t[4], l = t[5];
  return i[0] = s / e, i[1] = -o / e, i[2] = -r3 / e, i[3] = n / e, i[4] = (r3 * l - s * a) / e, i[5] = -(n * l - o * a) / e, i;
}
function J0(i) {
  return i[0] * i[3] - i[1] * i[2];
}
let sc;
function pf(i) {
  const t = "matrix(" + i.join(", ") + ")";
  if (ru)
    return t;
  const e = sc || (sc = document.createElement("div"));
  return e.style.transform = t, e.style.transform;
}
const Q0 = /^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i, tv = /^([a-z]*)$|^hsla?\(.*\)$/i;
function ku(i) {
  return typeof i == "string" ? i : vf(i);
}
function ev(i) {
  const t = document.createElement("div");
  if (t.style.color = i, t.style.color !== "") {
    document.body.appendChild(t);
    const e = getComputedStyle(t).color;
    return document.body.removeChild(t), e;
  } else
    return "";
}
const iv = function() {
  const t = {};
  let e = 0;
  return function(n) {
    let o;
    if (t.hasOwnProperty(n))
      o = t[n];
    else {
      if (e >= 1024) {
        let r3 = 0;
        for (const s in t)
          (r3++ & 3) === 0 && (delete t[s], --e);
      }
      o = nv(n), t[n] = o, ++e;
    }
    return o;
  };
}();
function Zr(i) {
  return Array.isArray(i) ? i : iv(i);
}
function nv(i) {
  let t, e, n, o, r3;
  if (tv.exec(i) && (i = ev(i)), Q0.exec(i)) {
    const s = i.length - 1;
    let a;
    s <= 4 ? a = 1 : a = 2;
    const l = s === 4 || s === 8;
    t = parseInt(i.substr(1 + 0 * a, a), 16), e = parseInt(i.substr(1 + 1 * a, a), 16), n = parseInt(i.substr(1 + 2 * a, a), 16), l ? o = parseInt(i.substr(1 + 3 * a, a), 16) : o = 255, a == 1 && (t = (t << 4) + t, e = (e << 4) + e, n = (n << 4) + n, l && (o = (o << 4) + o)), r3 = [t, e, n, o / 255];
  } else
    i.startsWith("rgba(") ? (r3 = i.slice(5, -1).split(",").map(Number), ac(r3)) : i.startsWith("rgb(") ? (r3 = i.slice(4, -1).split(",").map(Number), r3.push(1), ac(r3)) : ct(false, 14);
  return r3;
}
function ac(i) {
  return i[0] = qt(i[0] + 0.5 | 0, 0, 255), i[1] = qt(i[1] + 0.5 | 0, 0, 255), i[2] = qt(i[2] + 0.5 | 0, 0, 255), i[3] = qt(i[3], 0, 1), i;
}
function vf(i) {
  let t = i[0];
  t != (t | 0) && (t = t + 0.5 | 0);
  let e = i[1];
  e != (e | 0) && (e = e + 0.5 | 0);
  let n = i[2];
  n != (n | 0) && (n = n + 0.5 | 0);
  const o = i[3] === void 0 ? 1 : Math.round(i[3] * 100) / 100;
  return "rgba(" + t + "," + e + "," + n + "," + o + ")";
}
class ov {
  constructor() {
    this.cache_ = {}, this.cacheSize_ = 0, this.maxCacheSize_ = 32;
  }
  clear() {
    this.cache_ = {}, this.cacheSize_ = 0;
  }
  canExpireCache() {
    return this.cacheSize_ > this.maxCacheSize_;
  }
  expire() {
    if (this.canExpireCache()) {
      let t = 0;
      for (const e in this.cache_) {
        const n = this.cache_[e];
        (t++ & 3) === 0 && !n.hasListener() && (delete this.cache_[e], --this.cacheSize_);
      }
    }
  }
  get(t, e, n) {
    const o = lc(t, e, n);
    return o in this.cache_ ? this.cache_[o] : null;
  }
  set(t, e, n, o) {
    const r3 = lc(t, e, n);
    this.cache_[r3] = o, ++this.cacheSize_;
  }
  setSize(t) {
    this.maxCacheSize_ = t, this.expire();
  }
}
function lc(i, t, e) {
  const n = e ? ku(e) : "null";
  return t + ":" + i + ":" + n;
}
const ua = new ov();
class rv extends nu {
  constructor(t) {
    super(), this.map_ = t;
  }
  dispatchRenderEvent(t, e) {
    tt();
  }
  calculateMatrices2D(t) {
    const e = t.viewState, n = t.coordinateToPixelTransform, o = t.pixelToCoordinateTransform;
    Ni(
      n,
      t.size[0] / 2,
      t.size[1] / 2,
      1 / e.resolution,
      -1 / e.resolution,
      -e.rotation,
      -e.center[0],
      -e.center[1]
    ), bu(o, n);
  }
  forEachFeatureAtCoordinate(t, e, n, o, r3, s, a, l) {
    let h;
    const u = e.viewState;
    function d(x, k, w, E) {
      return r3.call(s, k, x ? w : null, E);
    }
    const c = u.projection, g = mu(t.slice(), c), f = [[0, 0]];
    if (c.canWrapX() && o) {
      const x = c.getExtent(), k = Gt(x);
      f.push([-k, 0], [k, 0]);
    }
    const m = e.layerStatesArray, p = m.length, _ = [], v = [];
    for (let x = 0; x < f.length; x++)
      for (let k = p - 1; k >= 0; --k) {
        const w = m[k], E = w.layer;
        if (E.hasRenderer() && lu(w, u) && a.call(l, E)) {
          const C = E.getRenderer(), S = E.getSource();
          if (C && S) {
            const z = S.getWrapX() ? g : t, P = d.bind(
              null,
              w.managed
            );
            v[0] = z[0] + f[x][0], v[1] = z[1] + f[x][1], h = C.forEachFeatureAtCoordinate(
              v,
              e,
              n,
              P,
              _
            );
          }
          if (h)
            return h;
        }
      }
    if (_.length === 0)
      return;
    const y = 1 / _.length;
    return _.forEach((x, k) => x.distanceSq += k * y), _.sort((x, k) => x.distanceSq - k.distanceSq), _.some((x) => h = x.callback(x.feature, x.layer, x.geometry)), h;
  }
  hasFeatureAtCoordinate(t, e, n, o, r3, s) {
    return this.forEachFeatureAtCoordinate(
      t,
      e,
      n,
      o,
      Jn,
      this,
      r3,
      s
    ) !== void 0;
  }
  getMap() {
    return this.map_;
  }
  renderFrame(t) {
    tt();
  }
  scheduleExpireIconCache(t) {
    ua.canExpireCache() && t.postRenderFunctions.push(sv);
  }
}
function sv(i, t) {
  ua.expire();
}
const av = rv;
class lv extends hi {
  constructor(t, e, n, o) {
    super(t), this.inversePixelTransform = e, this.frameState = n, this.context = o;
  }
}
const _f = lv, yf = "10px sans-serif", Li = "#000", da = "round", Yr = [], Xr = 0, tr = "round", Ur = 10, Vr = "#000", qr = "center", ca = "middle", Zn = [0, 0, 0, 0], $r = 1, Ii = new ki();
let Eo = null, bh;
const kh = {}, hv = function() {
  const t = "32px ", e = ["monospace", "serif"], n = e.length, o = "wmytzilWMYTZIL@#/&?$%10\uF013";
  let r3, s;
  function a(h, u, d) {
    let c = true;
    for (let g = 0; g < n; ++g) {
      const f = e[g];
      if (s = ga(
        h + " " + u + " " + t + f,
        o
      ), d != f) {
        const m = ga(
          h + " " + u + " " + t + d + "," + f,
          o
        );
        c = c && m != s;
      }
    }
    return !!c;
  }
  function l() {
    let h = true;
    const u = Ii.getKeys();
    for (let d = 0, c = u.length; d < c; ++d) {
      const g = u[d];
      Ii.get(g) < 100 && (a.apply(this, g.split(`
`)) ? (us(kh), Eo = null, bh = void 0, Ii.set(g, 100)) : (Ii.set(g, Ii.get(g) + 1, true), h = false));
    }
    h && (clearInterval(r3), r3 = void 0);
  }
  return function(h) {
    const u = tf(h);
    if (!u)
      return;
    const d = u.families;
    for (let c = 0, g = d.length; c < g; ++c) {
      const f = d[c], m = u.style + `
` + u.weight + `
` + f;
      Ii.get(m) === void 0 && (Ii.set(m, 100, true), a(u.style, u.weight, f) || (Ii.set(m, 0, true), r3 === void 0 && (r3 = setInterval(l, 32))));
    }
  };
}(), uv = function() {
  let i;
  return function(t) {
    let e = kh[t];
    if (e == null) {
      if (ru) {
        const n = tf(t), o = xf(t, "\u017Dg");
        e = (isNaN(Number(n.lineHeight)) ? 1.2 : Number(n.lineHeight)) * (o.actualBoundingBoxAscent + o.actualBoundingBoxDescent);
      } else
        i || (i = document.createElement("div"), i.innerHTML = "M", i.style.minHeight = "0", i.style.maxHeight = "none", i.style.height = "auto", i.style.padding = "0", i.style.border = "none", i.style.position = "absolute", i.style.display = "block", i.style.left = "-99999px"), i.style.font = t, document.body.appendChild(i), e = i.offsetHeight, document.body.removeChild(i);
      kh[t] = e;
    }
    return e;
  };
}();
function xf(i, t) {
  return Eo || (Eo = Fe(1, 1)), i != bh && (Eo.font = i, bh = Eo.font), Eo.measureText(t);
}
function ga(i, t) {
  return xf(i, t).width;
}
function hc(i, t, e) {
  if (t in e)
    return e[t];
  const n = t.split(`
`).reduce((o, r3) => Math.max(o, ga(i, r3)), 0);
  return e[t] = n, n;
}
function dv(i, t) {
  const e = [], n = [], o = [];
  let r3 = 0, s = 0, a = 0, l = 0;
  for (let h = 0, u = t.length; h <= u; h += 2) {
    const d = t[h];
    if (d === `
` || h === u) {
      r3 = Math.max(r3, s), o.push(s), s = 0, a += l;
      continue;
    }
    const c = t[h + 1] || i.font, g = ga(c, d);
    e.push(g), s += g;
    const f = uv(c);
    n.push(f), l = Math.max(l, f);
  }
  return { width: r3, height: a, widths: e, heights: n, lineWidths: o };
}
function cv(i, t, e, n, o, r3, s, a, l, h, u) {
  i.save(), e !== 1 && (i.globalAlpha *= e), t && i.setTransform.apply(i, t), n.contextInstructions ? (i.translate(l, h), i.scale(u[0], u[1]), gv(n, i)) : u[0] < 0 || u[1] < 0 ? (i.translate(l, h), i.scale(u[0], u[1]), i.drawImage(
    n,
    o,
    r3,
    s,
    a,
    0,
    0,
    s,
    a
  )) : i.drawImage(
    n,
    o,
    r3,
    s,
    a,
    l,
    h,
    s * u[0],
    a * u[1]
  ), i.restore();
}
function gv(i, t) {
  const e = i.contextInstructions;
  for (let n = 0, o = e.length; n < o; n += 2)
    Array.isArray(e[n + 1]) ? t[e[n]].apply(
      t,
      e[n + 1]
    ) : t[e[n]] = e[n + 1];
}
class fv extends av {
  constructor(t) {
    super(t), this.fontChangeListenerKey_ = pt(
      Ii,
      $o.PROPERTYCHANGE,
      t.redrawText.bind(t)
    ), this.element_ = document.createElement("div");
    const e = this.element_.style;
    e.position = "absolute", e.width = "100%", e.height = "100%", e.zIndex = "0", this.element_.className = ds + " ol-layers";
    const n = t.getViewport();
    n.insertBefore(this.element_, n.firstChild || null), this.children_ = [], this.renderedVisible_ = true;
  }
  dispatchRenderEvent(t, e) {
    const n = this.getMap();
    if (n.hasListener(t)) {
      const o = new _f(t, void 0, e);
      n.dispatchEvent(o);
    }
  }
  disposeInternal() {
    jt(this.fontChangeListenerKey_), this.element_.parentNode.removeChild(this.element_), super.disposeInternal();
  }
  renderFrame(t) {
    if (!t) {
      this.renderedVisible_ && (this.element_.style.display = "none", this.renderedVisible_ = false);
      return;
    }
    this.calculateMatrices2D(t), this.dispatchRenderEvent(ln.PRECOMPOSE, t);
    const e = t.layerStatesArray.sort(function(s, a) {
      return s.zIndex - a.zIndex;
    }), n = t.viewState;
    this.children_.length = 0;
    const o = [];
    let r3 = null;
    for (let s = 0, a = e.length; s < a; ++s) {
      const l = e[s];
      t.layerIndex = s;
      const h = l.layer, u = h.getSourceState();
      if (!lu(l, n) || u != "ready" && u != "undefined") {
        h.unrender();
        continue;
      }
      const d = h.render(t, r3);
      !d || (d !== r3 && (this.children_.push(d), r3 = d), "getDeclutter" in h && o.push(
        h
      ));
    }
    for (let s = o.length - 1; s >= 0; --s)
      o[s].renderDeclutter(t);
    d0(this.element_, this.children_), this.dispatchRenderEvent(ln.POSTCOMPOSE, t), this.renderedVisible_ || (this.element_.style.display = "", this.renderedVisible_ = true), this.scheduleExpireIconCache(t);
  }
}
const mv = fv;
class $i extends hi {
  constructor(t, e) {
    super(t), this.layer = e;
  }
}
const zl = {
  LAYERS: "layers"
};
class wu extends of {
  constructor(t) {
    t = t || {};
    const e = Object.assign({}, t);
    delete e.layers;
    let n = t.layers;
    super(e), this.on, this.once, this.un, this.layersListenerKeys_ = [], this.listenerKeys_ = {}, this.addChangeListener(zl.LAYERS, this.handleLayersChanged_), n ? Array.isArray(n) ? n = new $e(n.slice(), { unique: true }) : ct(typeof n.getArray == "function", 43) : n = new $e(void 0, { unique: true }), this.setLayers(n);
  }
  handleLayerChange_() {
    this.changed();
  }
  handleLayersChanged_() {
    this.layersListenerKeys_.forEach(jt), this.layersListenerKeys_.length = 0;
    const t = this.getLayers();
    this.layersListenerKeys_.push(
      pt(t, re.ADD, this.handleLayersAdd_, this),
      pt(t, re.REMOVE, this.handleLayersRemove_, this)
    );
    for (const n in this.listenerKeys_)
      this.listenerKeys_[n].forEach(jt);
    us(this.listenerKeys_);
    const e = t.getArray();
    for (let n = 0, o = e.length; n < o; n++) {
      const r3 = e[n];
      this.registerLayerListeners_(r3), this.dispatchEvent(new $i("addlayer", r3));
    }
    this.changed();
  }
  registerLayerListeners_(t) {
    const e = [
      pt(
        t,
        $o.PROPERTYCHANGE,
        this.handleLayerChange_,
        this
      ),
      pt(t, Q.CHANGE, this.handleLayerChange_, this)
    ];
    t instanceof wu && e.push(
      pt(t, "addlayer", this.handleLayerGroupAdd_, this),
      pt(t, "removelayer", this.handleLayerGroupRemove_, this)
    ), this.listenerKeys_[H(t)] = e;
  }
  handleLayerGroupAdd_(t) {
    this.dispatchEvent(new $i("addlayer", t.layer));
  }
  handleLayerGroupRemove_(t) {
    this.dispatchEvent(new $i("removelayer", t.layer));
  }
  handleLayersAdd_(t) {
    const e = t.element;
    this.registerLayerListeners_(e), this.dispatchEvent(new $i("addlayer", e)), this.changed();
  }
  handleLayersRemove_(t) {
    const e = t.element, n = H(e);
    this.listenerKeys_[n].forEach(jt), delete this.listenerKeys_[n], this.dispatchEvent(new $i("removelayer", e)), this.changed();
  }
  getLayers() {
    return this.get(zl.LAYERS);
  }
  setLayers(t) {
    const e = this.getLayers();
    if (e) {
      const n = e.getArray();
      for (let o = 0, r3 = n.length; o < r3; ++o)
        this.dispatchEvent(new $i("removelayer", n[o]));
    }
    this.set(zl.LAYERS, t);
  }
  getLayersArray(t) {
    return t = t !== void 0 ? t : [], this.getLayers().forEach(function(e) {
      e.getLayersArray(t);
    }), t;
  }
  getLayerStatesArray(t) {
    const e = t !== void 0 ? t : [], n = e.length;
    this.getLayers().forEach(function(s) {
      s.getLayerStatesArray(e);
    });
    const o = this.getLayerState();
    let r3 = o.zIndex;
    !t && o.zIndex === void 0 && (r3 = 0);
    for (let s = n, a = e.length; s < a; s++) {
      const l = e[s];
      l.opacity *= o.opacity, l.visible = l.visible && o.visible, l.maxResolution = Math.min(
        l.maxResolution,
        o.maxResolution
      ), l.minResolution = Math.max(
        l.minResolution,
        o.minResolution
      ), l.minZoom = Math.max(l.minZoom, o.minZoom), l.maxZoom = Math.min(l.maxZoom, o.maxZoom), o.extent !== void 0 && (l.extent !== void 0 ? l.extent = $n(
        l.extent,
        o.extent
      ) : l.extent = o.extent), l.zIndex === void 0 && (l.zIndex = r3);
    }
    return e;
  }
  getSourceState() {
    return "ready";
  }
}
const Ha = wu;
class pv extends hi {
  constructor(t, e, n) {
    super(t), this.map = e, this.frameState = n !== void 0 ? n : null;
  }
}
const So = pv;
class vv extends So {
  constructor(t, e, n, o, r3, s) {
    super(t, e, r3), this.originalEvent = n, this.pixel_ = null, this.coordinate_ = null, this.dragging = o !== void 0 ? o : false, this.activePointers = s;
  }
  get pixel() {
    return this.pixel_ || (this.pixel_ = this.map.getEventPixel(this.originalEvent)), this.pixel_;
  }
  set pixel(t) {
    this.pixel_ = t;
  }
  get coordinate() {
    return this.coordinate_ || (this.coordinate_ = this.map.getCoordinateFromPixel(this.pixel)), this.coordinate_;
  }
  set coordinate(t) {
    this.coordinate_ = t;
  }
  preventDefault() {
    super.preventDefault(), "preventDefault" in this.originalEvent && this.originalEvent.preventDefault();
  }
  stopPropagation() {
    super.stopPropagation(), "stopPropagation" in this.originalEvent && this.originalEvent.stopPropagation();
  }
}
const zi = vv, Mt = {
  SINGLECLICK: "singleclick",
  CLICK: Q.CLICK,
  DBLCLICK: Q.DBLCLICK,
  POINTERDRAG: "pointerdrag",
  POINTERMOVE: "pointermove",
  POINTERDOWN: "pointerdown",
  POINTERUP: "pointerup",
  POINTEROVER: "pointerover",
  POINTEROUT: "pointerout",
  POINTERENTER: "pointerenter",
  POINTERLEAVE: "pointerleave",
  POINTERCANCEL: "pointercancel"
};
class _v extends Ba {
  constructor(t, e) {
    super(t), this.map_ = t, this.clickTimeoutId_, this.emulateClicks_ = false, this.dragging_ = false, this.dragListenerKeys_ = [], this.moveTolerance_ = e === void 0 ? 1 : e, this.down_ = null;
    const n = this.map_.getViewport();
    this.activePointers_ = [], this.trackedTouches_ = {}, this.element_ = n, this.pointerdownListenerKey_ = pt(
      n,
      gh.POINTERDOWN,
      this.handlePointerDown_,
      this
    ), this.originalPointerMoveEvent_, this.relayedListenerKey_ = pt(
      n,
      gh.POINTERMOVE,
      this.relayMoveEvent_,
      this
    ), this.boundHandleTouchMove_ = this.handleTouchMove_.bind(this), this.element_.addEventListener(
      Q.TOUCHMOVE,
      this.boundHandleTouchMove_,
      Qg ? { passive: false } : false
    );
  }
  emulateClick_(t) {
    let e = new zi(
      Mt.CLICK,
      this.map_,
      t
    );
    this.dispatchEvent(e), this.clickTimeoutId_ !== void 0 ? (clearTimeout(this.clickTimeoutId_), this.clickTimeoutId_ = void 0, e = new zi(
      Mt.DBLCLICK,
      this.map_,
      t
    ), this.dispatchEvent(e)) : this.clickTimeoutId_ = setTimeout(
      function() {
        this.clickTimeoutId_ = void 0;
        const n = new zi(
          Mt.SINGLECLICK,
          this.map_,
          t
        );
        this.dispatchEvent(n);
      }.bind(this),
      250
    );
  }
  updateActivePointers_(t) {
    const e = t, n = e.pointerId;
    if (e.type == Mt.POINTERUP || e.type == Mt.POINTERCANCEL) {
      delete this.trackedTouches_[n];
      for (const o in this.trackedTouches_)
        if (this.trackedTouches_[o].target !== e.target) {
          delete this.trackedTouches_[o];
          break;
        }
    } else
      (e.type == Mt.POINTERDOWN || e.type == Mt.POINTERMOVE) && (this.trackedTouches_[n] = e);
    this.activePointers_ = Object.values(this.trackedTouches_);
  }
  handlePointerUp_(t) {
    this.updateActivePointers_(t);
    const e = new zi(
      Mt.POINTERUP,
      this.map_,
      t,
      void 0,
      void 0,
      this.activePointers_
    );
    this.dispatchEvent(e), this.emulateClicks_ && !e.defaultPrevented && !this.dragging_ && this.isMouseActionButton_(t) && this.emulateClick_(this.down_), this.activePointers_.length === 0 && (this.dragListenerKeys_.forEach(jt), this.dragListenerKeys_.length = 0, this.dragging_ = false, this.down_ = null);
  }
  isMouseActionButton_(t) {
    return t.button === 0;
  }
  handlePointerDown_(t) {
    this.emulateClicks_ = this.activePointers_.length === 0, this.updateActivePointers_(t);
    const e = new zi(
      Mt.POINTERDOWN,
      this.map_,
      t,
      void 0,
      void 0,
      this.activePointers_
    );
    this.dispatchEvent(e), this.down_ = {};
    for (const n in t) {
      const o = t[n];
      this.down_[n] = typeof o == "function" ? Qn : o;
    }
    if (this.dragListenerKeys_.length === 0) {
      const n = this.map_.getOwnerDocument();
      this.dragListenerKeys_.push(
        pt(
          n,
          Mt.POINTERMOVE,
          this.handlePointerMove_,
          this
        ),
        pt(n, Mt.POINTERUP, this.handlePointerUp_, this),
        pt(
          this.element_,
          Mt.POINTERCANCEL,
          this.handlePointerUp_,
          this
        )
      ), this.element_.getRootNode && this.element_.getRootNode() !== n && this.dragListenerKeys_.push(
        pt(
          this.element_.getRootNode(),
          Mt.POINTERUP,
          this.handlePointerUp_,
          this
        )
      );
    }
  }
  handlePointerMove_(t) {
    if (this.isMoving_(t)) {
      this.updateActivePointers_(t), this.dragging_ = true;
      const e = new zi(
        Mt.POINTERDRAG,
        this.map_,
        t,
        this.dragging_,
        void 0,
        this.activePointers_
      );
      this.dispatchEvent(e);
    }
  }
  relayMoveEvent_(t) {
    this.originalPointerMoveEvent_ = t;
    const e = !!(this.down_ && this.isMoving_(t));
    this.dispatchEvent(
      new zi(
        Mt.POINTERMOVE,
        this.map_,
        t,
        e
      )
    );
  }
  handleTouchMove_(t) {
    const e = this.originalPointerMoveEvent_;
    (!e || e.defaultPrevented) && (typeof t.cancelable != "boolean" || t.cancelable === true) && t.preventDefault();
  }
  isMoving_(t) {
    return this.dragging_ || Math.abs(t.clientX - this.down_.clientX) > this.moveTolerance_ || Math.abs(t.clientY - this.down_.clientY) > this.moveTolerance_;
  }
  disposeInternal() {
    this.relayedListenerKey_ && (jt(this.relayedListenerKey_), this.relayedListenerKey_ = null), this.element_.removeEventListener(
      Q.TOUCHMOVE,
      this.boundHandleTouchMove_
    ), this.pointerdownListenerKey_ && (jt(this.pointerdownListenerKey_), this.pointerdownListenerKey_ = null), this.dragListenerKeys_.forEach(jt), this.dragListenerKeys_.length = 0, this.element_ = null, super.disposeInternal();
  }
}
const yv = _v, fa = 1 / 0;
class xv {
  constructor(t, e) {
    this.priorityFunction_ = t, this.keyFunction_ = e, this.elements_ = [], this.priorities_ = [], this.queuedElements_ = {};
  }
  clear() {
    this.elements_.length = 0, this.priorities_.length = 0, us(this.queuedElements_);
  }
  dequeue() {
    const t = this.elements_, e = this.priorities_, n = t[0];
    t.length == 1 ? (t.length = 0, e.length = 0) : (t[0] = t.pop(), e[0] = e.pop(), this.siftUp_(0));
    const o = this.keyFunction_(n);
    return delete this.queuedElements_[o], n;
  }
  enqueue(t) {
    ct(!(this.keyFunction_(t) in this.queuedElements_), 31);
    const e = this.priorityFunction_(t);
    return e != fa ? (this.elements_.push(t), this.priorities_.push(e), this.queuedElements_[this.keyFunction_(t)] = true, this.siftDown_(0, this.elements_.length - 1), true) : false;
  }
  getCount() {
    return this.elements_.length;
  }
  getLeftChildIndex_(t) {
    return t * 2 + 1;
  }
  getRightChildIndex_(t) {
    return t * 2 + 2;
  }
  getParentIndex_(t) {
    return t - 1 >> 1;
  }
  heapify_() {
    let t;
    for (t = (this.elements_.length >> 1) - 1; t >= 0; t--)
      this.siftUp_(t);
  }
  isEmpty() {
    return this.elements_.length === 0;
  }
  isKeyQueued(t) {
    return t in this.queuedElements_;
  }
  isQueued(t) {
    return this.isKeyQueued(this.keyFunction_(t));
  }
  siftUp_(t) {
    const e = this.elements_, n = this.priorities_, o = e.length, r3 = e[t], s = n[t], a = t;
    for (; t < o >> 1; ) {
      const l = this.getLeftChildIndex_(t), h = this.getRightChildIndex_(t), u = h < o && n[h] < n[l] ? h : l;
      e[t] = e[u], n[t] = n[u], t = u;
    }
    e[t] = r3, n[t] = s, this.siftDown_(a, t);
  }
  siftDown_(t, e) {
    const n = this.elements_, o = this.priorities_, r3 = n[e], s = o[e];
    for (; e > t; ) {
      const a = this.getParentIndex_(e);
      if (o[a] > s)
        n[e] = n[a], o[e] = o[a], e = a;
      else
        break;
    }
    n[e] = r3, o[e] = s;
  }
  reprioritize() {
    const t = this.priorityFunction_, e = this.elements_, n = this.priorities_;
    let o = 0;
    const r3 = e.length;
    let s, a, l;
    for (a = 0; a < r3; ++a)
      s = e[a], l = t(s), l == fa ? delete this.queuedElements_[this.keyFunction_(s)] : (n[o] = l, e[o++] = s);
    e.length = o, n.length = o, this.heapify_();
  }
}
const bv = xv, G = {
  IDLE: 0,
  LOADING: 1,
  LOADED: 2,
  ERROR: 3,
  EMPTY: 4
};
class kv extends bv {
  constructor(t, e) {
    super(
      function(n) {
        return t.apply(null, n);
      },
      function(n) {
        return n[0].getKey();
      }
    ), this.boundHandleTileChange_ = this.handleTileChange.bind(this), this.tileChangeCallback_ = e, this.tilesLoading_ = 0, this.tilesLoadingKeys_ = {};
  }
  enqueue(t) {
    const e = super.enqueue(t);
    return e && t[0].addEventListener(Q.CHANGE, this.boundHandleTileChange_), e;
  }
  getTilesLoading() {
    return this.tilesLoading_;
  }
  handleTileChange(t) {
    const e = t.target, n = e.getState();
    if (n === G.LOADED || n === G.ERROR || n === G.EMPTY) {
      n !== G.ERROR && e.removeEventListener(Q.CHANGE, this.boundHandleTileChange_);
      const o = e.getKey();
      o in this.tilesLoadingKeys_ && (delete this.tilesLoadingKeys_[o], --this.tilesLoading_), this.tileChangeCallback_();
    }
  }
  loadMoreTiles(t, e) {
    let n = 0, o, r3, s;
    for (; this.tilesLoading_ < t && n < e && this.getCount() > 0; )
      r3 = this.dequeue()[0], s = r3.getKey(), o = r3.getState(), o === G.IDLE && !(s in this.tilesLoadingKeys_) && (this.tilesLoadingKeys_[s] = true, ++this.tilesLoading_, ++n, r3.load());
  }
}
const wv = kv;
function Cv(i, t, e, n, o) {
  if (!i || !(e in i.wantedTiles) || !i.wantedTiles[e][t.getKey()])
    return fa;
  const r3 = i.viewState.center, s = n[0] - r3[0], a = n[1] - r3[1];
  return 65536 * Math.log(o) + Math.sqrt(s * s + a * a) / o;
}
const Vt = {
  ANIMATING: 0,
  INTERACTING: 1
}, ei = {
  CENTER: "center",
  RESOLUTION: "resolution",
  ROTATION: "rotation"
}, bf = 42, Cu = 256;
function uc(i, t, e) {
  return function(n, o, r3, s, a) {
    if (!n)
      return;
    if (!o && !t)
      return n;
    const l = t ? 0 : r3[0] * o, h = t ? 0 : r3[1] * o, u = a ? a[0] : 0, d = a ? a[1] : 0;
    let c = i[0] + l / 2 + u, g = i[2] - l / 2 + u, f = i[1] + h / 2 + d, m = i[3] - h / 2 + d;
    c > g && (c = (g + c) / 2, g = c), f > m && (f = (m + f) / 2, m = f);
    let p = qt(n[0], c, g), _ = qt(n[1], f, m);
    if (s && e && o) {
      const v = 30 * o;
      p += -v * Math.log(1 + Math.max(0, c - n[0]) / v) + v * Math.log(1 + Math.max(0, n[0] - g) / v), _ += -v * Math.log(1 + Math.max(0, f - n[1]) / v) + v * Math.log(1 + Math.max(0, n[1] - m) / v);
    }
    return [p, _];
  };
}
function Mv(i) {
  return i;
}
function Mu(i, t, e, n) {
  const o = Gt(t) / e[0], r3 = Je(t) / e[1];
  return n ? Math.min(i, Math.max(o, r3)) : Math.min(i, Math.min(o, r3));
}
function Eu(i, t, e) {
  let n = Math.min(i, t);
  const o = 50;
  return n *= Math.log(1 + o * Math.max(0, i / t - 1)) / o + 1, e && (n = Math.max(n, e), n /= Math.log(1 + o * Math.max(0, e / i - 1)) / o + 1), qt(n, e / 2, t * 2);
}
function Ev(i, t, e, n) {
  return t = t !== void 0 ? t : true, function(o, r3, s, a) {
    if (o !== void 0) {
      const l = i[0], h = i[i.length - 1], u = e ? Mu(
        l,
        e,
        s,
        n
      ) : l;
      if (a)
        return t ? Eu(
          o,
          u,
          h
        ) : qt(o, h, u);
      const d = Math.min(u, o), c = Math.floor(ou(i, d, r3));
      return i[c] > u && c < i.length - 1 ? i[c + 1] : i[c];
    } else
      return;
  };
}
function Sv(i, t, e, n, o, r3) {
  return n = n !== void 0 ? n : true, e = e !== void 0 ? e : 0, function(s, a, l, h) {
    if (s !== void 0) {
      const u = o ? Mu(
        t,
        o,
        l,
        r3
      ) : t;
      if (h)
        return n ? Eu(
          s,
          u,
          e
        ) : qt(s, e, u);
      const d = 1e-9, c = Math.ceil(
        Math.log(t / u) / Math.log(i) - d
      ), g = -a * (0.5 - d) + 0.5, f = Math.min(u, s), m = Math.floor(
        Math.log(t / f) / Math.log(i) + g
      ), p = Math.max(c, m), _ = t / Math.pow(i, p);
      return qt(_, e, u);
    } else
      return;
  };
}
function dc(i, t, e, n, o) {
  return e = e !== void 0 ? e : true, function(r3, s, a, l) {
    if (r3 !== void 0) {
      const h = n ? Mu(
        i,
        n,
        a,
        o
      ) : i;
      return !e || !l ? qt(r3, t, h) : Eu(
        r3,
        h,
        t
      );
    } else
      return;
  };
}
function Su(i) {
  if (i !== void 0)
    return 0;
}
function cc(i) {
  if (i !== void 0)
    return i;
}
function Tv(i) {
  const t = 2 * Math.PI / i;
  return function(e, n) {
    if (n)
      return e;
    if (e !== void 0)
      return e = Math.floor(e / t + 0.5) * t, e;
  };
}
function Iv(i) {
  return i = i || qn(5), function(t, e) {
    if (e)
      return t;
    if (t !== void 0)
      return Math.abs(t) <= i ? 0 : t;
  };
}
function kf(i) {
  return Math.pow(i, 3);
}
function sr(i) {
  return 1 - kf(1 - i);
}
function zv(i) {
  return 3 * i * i - 2 * i * i * i;
}
function Rv(i) {
  return i;
}
function hn(i, t, e, n, o, r3) {
  r3 = r3 || [];
  let s = 0;
  for (let a = t; a < e; a += n) {
    const l = i[a], h = i[a + 1];
    r3[s++] = o[0] * l + o[2] * h + o[4], r3[s++] = o[1] * l + o[3] * h + o[5];
  }
  return r3 && r3.length != s && (r3.length = s), r3;
}
function Tu(i, t, e, n, o, r3, s) {
  s = s || [];
  const a = Math.cos(o), l = Math.sin(o), h = r3[0], u = r3[1];
  let d = 0;
  for (let c = t; c < e; c += n) {
    const g = i[c] - h, f = i[c + 1] - u;
    s[d++] = h + g * a - f * l, s[d++] = u + g * l + f * a;
    for (let m = c + 2; m < c + n; ++m)
      s[d++] = i[m];
  }
  return s && s.length != d && (s.length = d), s;
}
function Av(i, t, e, n, o, r3, s, a) {
  a = a || [];
  const l = s[0], h = s[1];
  let u = 0;
  for (let d = t; d < e; d += n) {
    const c = i[d] - l, g = i[d + 1] - h;
    a[u++] = l + o * c, a[u++] = h + r3 * g;
    for (let f = d + 2; f < d + n; ++f)
      a[u++] = i[f];
  }
  return a && a.length != u && (a.length = u), a;
}
function wf(i, t, e, n, o, r3, s) {
  s = s || [];
  let a = 0;
  for (let l = t; l < e; l += n) {
    s[a++] = i[l] + o, s[a++] = i[l + 1] + r3;
    for (let h = l + 2; h < l + n; ++h)
      s[a++] = i[h];
  }
  return s && s.length != a && (s.length = a), s;
}
const gc = Ke();
class Pv extends ki {
  constructor() {
    super(), this.extent_ = Xe(), this.extentRevision_ = -1, this.simplifiedGeometryMaxMinSquaredTolerance = 0, this.simplifiedGeometryRevision = 0, this.simplifyTransformedInternal = Qp(function(t, e, n) {
      if (!n)
        return this.getSimplifiedGeometry(e);
      const o = this.clone();
      return o.applyTransform(n), o.getSimplifiedGeometry(e);
    });
  }
  simplifyTransformed(t, e) {
    return this.simplifyTransformedInternal(
      this.getRevision(),
      t,
      e
    );
  }
  clone() {
    return tt();
  }
  closestPointXY(t, e, n, o) {
    return tt();
  }
  containsXY(t, e) {
    const n = this.getClosestPoint([t, e]);
    return n[0] === t && n[1] === e;
  }
  getClosestPoint(t, e) {
    return e = e || [NaN, NaN], this.closestPointXY(t[0], t[1], e, 1 / 0), e;
  }
  intersectsCoordinate(t) {
    return this.containsXY(t[0], t[1]);
  }
  computeExtent(t) {
    return tt();
  }
  getExtent(t) {
    if (this.extentRevision_ != this.getRevision()) {
      const e = this.computeExtent(this.extent_);
      (isNaN(e[0]) || isNaN(e[1])) && gs(e), this.extentRevision_ = this.getRevision();
    }
    return P0(this.extent_, t);
  }
  rotate(t, e) {
    tt();
  }
  scale(t, e, n) {
    tt();
  }
  simplify(t) {
    return this.getSimplifiedGeometry(t * t);
  }
  getSimplifiedGeometry(t) {
    return tt();
  }
  getType() {
    return tt();
  }
  applyTransform(t) {
    tt();
  }
  intersectsExtent(t) {
    return tt();
  }
  translate(t, e) {
    tt();
  }
  transform(t, e) {
    const n = Bt(t), o = n.getUnits() == "tile-pixels" ? function(r3, s, a) {
      const l = n.getExtent(), h = n.getWorldExtent(), u = Je(h) / Je(l);
      return Ni(
        gc,
        h[0],
        h[3],
        u,
        -u,
        0,
        0,
        0
      ), hn(
        r3,
        0,
        r3.length,
        a,
        gc,
        s
      ), Wr(n, e)(
        r3,
        s,
        a
      );
    } : Wr(n, e);
    return this.applyTransform(o), this;
  }
}
const Cf = Pv;
class Dv extends Cf {
  constructor() {
    super(), this.layout = "XY", this.stride = 2, this.flatCoordinates = null;
  }
  computeExtent(t) {
    return uu(
      this.flatCoordinates,
      0,
      this.flatCoordinates.length,
      this.stride,
      t
    );
  }
  getCoordinates() {
    return tt();
  }
  getFirstCoordinate() {
    return this.flatCoordinates.slice(0, this.stride);
  }
  getFlatCoordinates() {
    return this.flatCoordinates;
  }
  getLastCoordinate() {
    return this.flatCoordinates.slice(
      this.flatCoordinates.length - this.stride
    );
  }
  getLayout() {
    return this.layout;
  }
  getSimplifiedGeometry(t) {
    if (this.simplifiedGeometryRevision !== this.getRevision() && (this.simplifiedGeometryMaxMinSquaredTolerance = 0, this.simplifiedGeometryRevision = this.getRevision()), t < 0 || this.simplifiedGeometryMaxMinSquaredTolerance !== 0 && t <= this.simplifiedGeometryMaxMinSquaredTolerance)
      return this;
    const e = this.getSimplifiedGeometryInternal(t);
    return e.getFlatCoordinates().length < this.flatCoordinates.length ? e : (this.simplifiedGeometryMaxMinSquaredTolerance = t, this);
  }
  getSimplifiedGeometryInternal(t) {
    return this;
  }
  getStride() {
    return this.stride;
  }
  setFlatCoordinates(t, e) {
    this.stride = ma(t), this.layout = t, this.flatCoordinates = e;
  }
  setCoordinates(t, e) {
    tt();
  }
  setLayout(t, e, n) {
    let o;
    if (t)
      o = ma(t);
    else {
      for (let r3 = 0; r3 < n; ++r3)
        if (e.length === 0) {
          this.layout = "XY", this.stride = 2;
          return;
        } else
          e = e[0];
      o = e.length, t = Lv(o);
    }
    this.layout = t, this.stride = o;
  }
  applyTransform(t) {
    this.flatCoordinates && (t(this.flatCoordinates, this.flatCoordinates, this.stride), this.changed());
  }
  rotate(t, e) {
    const n = this.getFlatCoordinates();
    if (n) {
      const o = this.getStride();
      Tu(
        n,
        0,
        n.length,
        o,
        t,
        e,
        n
      ), this.changed();
    }
  }
  scale(t, e, n) {
    e === void 0 && (e = t), n || (n = mn(this.getExtent()));
    const o = this.getFlatCoordinates();
    if (o) {
      const r3 = this.getStride();
      Av(
        o,
        0,
        o.length,
        r3,
        t,
        e,
        n,
        o
      ), this.changed();
    }
  }
  translate(t, e) {
    const n = this.getFlatCoordinates();
    if (n) {
      const o = this.getStride();
      wf(
        n,
        0,
        n.length,
        o,
        t,
        e,
        n
      ), this.changed();
    }
  }
}
function Lv(i) {
  let t;
  return i == 2 ? t = "XY" : i == 3 ? t = "XYZ" : i == 4 && (t = "XYZM"), t;
}
function ma(i) {
  let t;
  return i == "XY" ? t = 2 : i == "XYZ" || i == "XYM" ? t = 3 : i == "XYZM" && (t = 4), t;
}
function Ov(i, t, e) {
  const n = i.getFlatCoordinates();
  if (n) {
    const o = i.getStride();
    return hn(
      n,
      0,
      n.length,
      o,
      t,
      e
    );
  } else
    return null;
}
const zn = Dv;
function fc(i, t, e, n, o, r3, s) {
  const a = i[t], l = i[t + 1], h = i[e] - a, u = i[e + 1] - l;
  let d;
  if (h === 0 && u === 0)
    d = t;
  else {
    const c = ((o - a) * h + (r3 - l) * u) / (h * h + u * u);
    if (c > 1)
      d = e;
    else if (c > 0) {
      for (let g = 0; g < n; ++g)
        s[g] = Ri(
          i[t + g],
          i[e + g],
          c
        );
      s.length = n;
      return;
    } else
      d = t;
  }
  for (let c = 0; c < n; ++c)
    s[c] = i[d + c];
  s.length = n;
}
function Iu(i, t, e, n, o) {
  let r3 = i[t], s = i[t + 1];
  for (t += n; t < e; t += n) {
    const a = i[t], l = i[t + 1], h = Vn(r3, s, a, l);
    h > o && (o = h), r3 = a, s = l;
  }
  return o;
}
function zu(i, t, e, n, o) {
  for (let r3 = 0, s = e.length; r3 < s; ++r3) {
    const a = e[r3];
    o = Iu(i, t, a, n, o), t = a;
  }
  return o;
}
function Fv(i, t, e, n, o) {
  for (let r3 = 0, s = e.length; r3 < s; ++r3) {
    const a = e[r3];
    o = zu(i, t, a, n, o), t = a[a.length - 1];
  }
  return o;
}
function Ru(i, t, e, n, o, r3, s, a, l, h, u) {
  if (t == e)
    return h;
  let d, c;
  if (o === 0)
    if (c = Vn(
      s,
      a,
      i[t],
      i[t + 1]
    ), c < h) {
      for (d = 0; d < n; ++d)
        l[d] = i[t + d];
      return l.length = n, c;
    } else
      return h;
  u = u || [NaN, NaN];
  let g = t + n;
  for (; g < e; )
    if (fc(
      i,
      g - n,
      g,
      n,
      s,
      a,
      u
    ), c = Vn(s, a, u[0], u[1]), c < h) {
      for (h = c, d = 0; d < n; ++d)
        l[d] = u[d];
      l.length = n, g += n;
    } else
      g += n * Math.max(
        (Math.sqrt(c) - Math.sqrt(h)) / o | 0,
        1
      );
  if (r3 && (fc(
    i,
    e - n,
    t,
    n,
    s,
    a,
    u
  ), c = Vn(s, a, u[0], u[1]), c < h)) {
    for (h = c, d = 0; d < n; ++d)
      l[d] = u[d];
    l.length = n;
  }
  return h;
}
function Au(i, t, e, n, o, r3, s, a, l, h, u) {
  u = u || [NaN, NaN];
  for (let d = 0, c = e.length; d < c; ++d) {
    const g = e[d];
    h = Ru(
      i,
      t,
      g,
      n,
      o,
      r3,
      s,
      a,
      l,
      h,
      u
    ), t = g;
  }
  return h;
}
function Nv(i, t, e, n, o, r3, s, a, l, h, u) {
  u = u || [NaN, NaN];
  for (let d = 0, c = e.length; d < c; ++d) {
    const g = e[d];
    h = Au(
      i,
      t,
      g,
      n,
      o,
      r3,
      s,
      a,
      l,
      h,
      u
    ), t = g[g.length - 1];
  }
  return h;
}
function Mf(i, t, e, n) {
  for (let o = 0, r3 = e.length; o < r3; ++o)
    i[t++] = e[o];
  return t;
}
function Ka(i, t, e, n) {
  for (let o = 0, r3 = e.length; o < r3; ++o) {
    const s = e[o];
    for (let a = 0; a < n; ++a)
      i[t++] = s[a];
  }
  return t;
}
function Pu(i, t, e, n, o) {
  o = o || [];
  let r3 = 0;
  for (let s = 0, a = e.length; s < a; ++s) {
    const l = Ka(
      i,
      t,
      e[s],
      n
    );
    o[r3++] = l, t = l;
  }
  return o.length = r3, o;
}
function Gv(i, t, e, n, o) {
  o = o || [];
  let r3 = 0;
  for (let s = 0, a = e.length; s < a; ++s) {
    const l = Pu(
      i,
      t,
      e[s],
      n,
      o[r3]
    );
    l.length === 0 && (l[0] = t), o[r3++] = l, t = l[l.length - 1];
  }
  return o.length = r3, o;
}
function Du(i, t, e, n, o, r3, s) {
  const a = (e - t) / n;
  if (a < 3) {
    for (; t < e; t += n)
      r3[s++] = i[t], r3[s++] = i[t + 1];
    return s;
  }
  const l = new Array(a);
  l[0] = 1, l[a - 1] = 1;
  const h = [t, e - n];
  let u = 0;
  for (; h.length > 0; ) {
    const d = h.pop(), c = h.pop();
    let g = 0;
    const f = i[c], m = i[c + 1], p = i[d], _ = i[d + 1];
    for (let v = c + n; v < d; v += n) {
      const y = i[v], x = i[v + 1], k = m0(y, x, f, m, p, _);
      k > g && (u = v, g = k);
    }
    g > o && (l[(u - t) / n] = 1, c + n < u && h.push(c, u), u + n < d && h.push(u, d));
  }
  for (let d = 0; d < a; ++d)
    l[d] && (r3[s++] = i[t + d * n], r3[s++] = i[t + d * n + 1]);
  return s;
}
function jv(i, t, e, n, o, r3, s, a) {
  for (let l = 0, h = e.length; l < h; ++l) {
    const u = e[l];
    s = Du(
      i,
      t,
      u,
      n,
      o,
      r3,
      s
    ), a.push(s), t = u;
  }
  return s;
}
function Gn(i, t) {
  return t * Math.round(i / t);
}
function Bv(i, t, e, n, o, r3, s) {
  if (t == e)
    return s;
  let a = Gn(i[t], o), l = Gn(i[t + 1], o);
  t += n, r3[s++] = a, r3[s++] = l;
  let h, u;
  do
    if (h = Gn(i[t], o), u = Gn(i[t + 1], o), t += n, t == e)
      return r3[s++] = h, r3[s++] = u, s;
  while (h == a && u == l);
  for (; t < e; ) {
    const d = Gn(i[t], o), c = Gn(i[t + 1], o);
    if (t += n, d == h && c == u)
      continue;
    const g = h - a, f = u - l, m = d - a, p = c - l;
    if (g * p == f * m && (g < 0 && m < g || g == m || g > 0 && m > g) && (f < 0 && p < f || f == p || f > 0 && p > f)) {
      h = d, u = c;
      continue;
    }
    r3[s++] = h, r3[s++] = u, a = h, l = u, h = d, u = c;
  }
  return r3[s++] = h, r3[s++] = u, s;
}
function Ef(i, t, e, n, o, r3, s, a) {
  for (let l = 0, h = e.length; l < h; ++l) {
    const u = e[l];
    s = Bv(
      i,
      t,
      u,
      n,
      o,
      r3,
      s
    ), a.push(s), t = u;
  }
  return s;
}
function Wv(i, t, e, n, o, r3, s, a) {
  for (let l = 0, h = e.length; l < h; ++l) {
    const u = e[l], d = [];
    s = Ef(
      i,
      t,
      u,
      n,
      o,
      r3,
      s,
      d
    ), a.push(d), t = u[u.length - 1];
  }
  return s;
}
function en(i, t, e, n, o) {
  o = o !== void 0 ? o : [];
  let r3 = 0;
  for (let s = t; s < e; s += n)
    o[r3++] = i.slice(s, s + n);
  return o.length = r3, o;
}
function Hr(i, t, e, n, o) {
  o = o !== void 0 ? o : [];
  let r3 = 0;
  for (let s = 0, a = e.length; s < a; ++s) {
    const l = e[s];
    o[r3++] = en(
      i,
      t,
      l,
      n,
      o[r3]
    ), t = l;
  }
  return o.length = r3, o;
}
function wh(i, t, e, n, o) {
  o = o !== void 0 ? o : [];
  let r3 = 0;
  for (let s = 0, a = e.length; s < a; ++s) {
    const l = e[s];
    o[r3++] = l.length === 1 && l[0] === t ? [] : Hr(
      i,
      t,
      l,
      n,
      o[r3]
    ), t = l[l.length - 1];
  }
  return o.length = r3, o;
}
function Sf(i, t, e, n) {
  let o = 0, r3 = i[e - n], s = i[e - n + 1];
  for (; t < e; t += n) {
    const a = i[t], l = i[t + 1];
    o += s * a - r3 * l, r3 = a, s = l;
  }
  return o / 2;
}
function Tf(i, t, e, n) {
  let o = 0;
  for (let r3 = 0, s = e.length; r3 < s; ++r3) {
    const a = e[r3];
    o += Sf(i, t, a, n), t = a;
  }
  return o;
}
function Zv(i, t, e, n) {
  let o = 0;
  for (let r3 = 0, s = e.length; r3 < s; ++r3) {
    const a = e[r3];
    o += Tf(i, t, a, n), t = a[a.length - 1];
  }
  return o;
}
class pa extends zn {
  constructor(t, e) {
    super(), this.maxDelta_ = -1, this.maxDeltaRevision_ = -1, e !== void 0 && !Array.isArray(t[0]) ? this.setFlatCoordinates(
      e,
      t
    ) : this.setCoordinates(
      t,
      e
    );
  }
  clone() {
    return new pa(this.flatCoordinates.slice(), this.layout);
  }
  closestPointXY(t, e, n, o) {
    return o < co(this.getExtent(), t, e) ? o : (this.maxDeltaRevision_ != this.getRevision() && (this.maxDelta_ = Math.sqrt(
      Iu(
        this.flatCoordinates,
        0,
        this.flatCoordinates.length,
        this.stride,
        0
      )
    ), this.maxDeltaRevision_ = this.getRevision()), Ru(
      this.flatCoordinates,
      0,
      this.flatCoordinates.length,
      this.stride,
      this.maxDelta_,
      true,
      t,
      e,
      n,
      o
    ));
  }
  getArea() {
    return Sf(
      this.flatCoordinates,
      0,
      this.flatCoordinates.length,
      this.stride
    );
  }
  getCoordinates() {
    return en(
      this.flatCoordinates,
      0,
      this.flatCoordinates.length,
      this.stride
    );
  }
  getSimplifiedGeometryInternal(t) {
    const e = [];
    return e.length = Du(
      this.flatCoordinates,
      0,
      this.flatCoordinates.length,
      this.stride,
      t,
      e,
      0
    ), new pa(e, "XY");
  }
  getType() {
    return "LinearRing";
  }
  intersectsExtent(t) {
    return false;
  }
  setCoordinates(t, e) {
    this.setLayout(e, t, 1), this.flatCoordinates || (this.flatCoordinates = []), this.flatCoordinates.length = Ka(
      this.flatCoordinates,
      0,
      t,
      this.stride
    ), this.changed();
  }
}
const mc = pa;
class Lu extends zn {
  constructor(t, e) {
    super(), this.setCoordinates(t, e);
  }
  clone() {
    const t = new Lu(this.flatCoordinates.slice(), this.layout);
    return t.applyProperties(this), t;
  }
  closestPointXY(t, e, n, o) {
    const r3 = this.flatCoordinates, s = Vn(
      t,
      e,
      r3[0],
      r3[1]
    );
    if (s < o) {
      const a = this.stride;
      for (let l = 0; l < a; ++l)
        n[l] = r3[l];
      return n.length = a, s;
    } else
      return o;
  }
  getCoordinates() {
    return this.flatCoordinates ? this.flatCoordinates.slice() : [];
  }
  computeExtent(t) {
    return Rr(this.flatCoordinates, t);
  }
  getType() {
    return "Point";
  }
  intersectsExtent(t) {
    return hu(t, this.flatCoordinates[0], this.flatCoordinates[1]);
  }
  setCoordinates(t, e) {
    this.setLayout(e, t, 0), this.flatCoordinates || (this.flatCoordinates = []), this.flatCoordinates.length = Mf(
      this.flatCoordinates,
      0,
      t,
      this.stride
    ), this.changed();
  }
}
const si = Lu;
function Yv(i, t, e, n, o) {
  return !du(
    o,
    function(s) {
      return !Yn(
        i,
        t,
        e,
        n,
        s[0],
        s[1]
      );
    }
  );
}
function Yn(i, t, e, n, o, r3) {
  let s = 0, a = i[e - n], l = i[e - n + 1];
  for (; t < e; t += n) {
    const h = i[t], u = i[t + 1];
    l <= r3 ? u > r3 && (h - a) * (r3 - l) - (o - a) * (u - l) > 0 && s++ : u <= r3 && (h - a) * (r3 - l) - (o - a) * (u - l) < 0 && s--, a = h, l = u;
  }
  return s !== 0;
}
function Ou(i, t, e, n, o, r3) {
  if (e.length === 0 || !Yn(i, t, e[0], n, o, r3))
    return false;
  for (let s = 1, a = e.length; s < a; ++s)
    if (Yn(i, e[s - 1], e[s], n, o, r3))
      return false;
  return true;
}
function Xv(i, t, e, n, o, r3) {
  if (e.length === 0)
    return false;
  for (let s = 0, a = e.length; s < a; ++s) {
    const l = e[s];
    if (Ou(i, t, l, n, o, r3))
      return true;
    t = l[l.length - 1];
  }
  return false;
}
function Fu(i, t, e, n, o, r3, s) {
  let a, l, h, u, d, c, g;
  const f = o[r3 + 1], m = [];
  for (let v = 0, y = e.length; v < y; ++v) {
    const x = e[v];
    for (u = i[x - n], c = i[x - n + 1], a = t; a < x; a += n)
      d = i[a], g = i[a + 1], (f <= c && g <= f || c <= f && f <= g) && (h = (f - c) / (g - c) * (d - u) + u, m.push(h)), u = d, c = g;
  }
  let p = NaN, _ = -1 / 0;
  for (m.sort(Kn), u = m[0], a = 1, l = m.length; a < l; ++a) {
    d = m[a];
    const v = Math.abs(d - u);
    v > _ && (h = (u + d) / 2, Ou(i, t, e, n, h, f) && (p = h, _ = v)), u = d;
  }
  return isNaN(p) && (p = o[r3]), s ? (s.push(p, f, _), s) : [p, f, _];
}
function If(i, t, e, n, o) {
  let r3 = [];
  for (let s = 0, a = e.length; s < a; ++s) {
    const l = e[s];
    r3 = Fu(
      i,
      t,
      l,
      n,
      o,
      2 * s,
      r3
    ), t = l[l.length - 1];
  }
  return r3;
}
function zf(i, t, e, n, o) {
  let r3;
  for (t += n; t < e; t += n)
    if (r3 = o(
      i.slice(t - n, t),
      i.slice(t, t + n)
    ), r3)
      return r3;
  return false;
}
function Ja(i, t, e, n, o) {
  const r3 = lf(
    Xe(),
    i,
    t,
    e,
    n
  );
  return Ht(o, r3) ? Wn(o, r3) || r3[0] >= o[0] && r3[2] <= o[2] || r3[1] >= o[1] && r3[3] <= o[3] ? true : zf(
    i,
    t,
    e,
    n,
    function(s, a) {
      return D0(o, s, a);
    }
  ) : false;
}
function Uv(i, t, e, n, o) {
  for (let r3 = 0, s = e.length; r3 < s; ++r3) {
    if (Ja(i, t, e[r3], n, o))
      return true;
    t = e[r3];
  }
  return false;
}
function Rf(i, t, e, n, o) {
  return !!(Ja(i, t, e, n, o) || Yn(
    i,
    t,
    e,
    n,
    o[0],
    o[1]
  ) || Yn(
    i,
    t,
    e,
    n,
    o[0],
    o[3]
  ) || Yn(
    i,
    t,
    e,
    n,
    o[2],
    o[1]
  ) || Yn(
    i,
    t,
    e,
    n,
    o[2],
    o[3]
  ));
}
function Af(i, t, e, n, o) {
  if (!Rf(i, t, e[0], n, o))
    return false;
  if (e.length === 1)
    return true;
  for (let r3 = 1, s = e.length; r3 < s; ++r3)
    if (Yv(
      i,
      e[r3 - 1],
      e[r3],
      n,
      o
    ) && !Ja(
      i,
      e[r3 - 1],
      e[r3],
      n,
      o
    ))
      return false;
  return true;
}
function Vv(i, t, e, n, o) {
  for (let r3 = 0, s = e.length; r3 < s; ++r3) {
    const a = e[r3];
    if (Af(i, t, a, n, o))
      return true;
    t = a[a.length - 1];
  }
  return false;
}
function qv(i, t, e, n) {
  for (; t < e - n; ) {
    for (let o = 0; o < n; ++o) {
      const r3 = i[t + o];
      i[t + o] = i[e - n + o], i[e - n + o] = r3;
    }
    t += n, e -= n;
  }
}
function Nu(i, t, e, n) {
  let o = 0, r3 = i[e - n], s = i[e - n + 1];
  for (; t < e; t += n) {
    const a = i[t], l = i[t + 1];
    o += (a - r3) * (l + s), r3 = a, s = l;
  }
  return o === 0 ? void 0 : o > 0;
}
function Pf(i, t, e, n, o) {
  o = o !== void 0 ? o : false;
  for (let r3 = 0, s = e.length; r3 < s; ++r3) {
    const a = e[r3], l = Nu(
      i,
      t,
      a,
      n
    );
    if (r3 === 0) {
      if (o && l || !o && !l)
        return false;
    } else if (o && !l || !o && l)
      return false;
    t = a;
  }
  return true;
}
function $v(i, t, e, n, o) {
  for (let r3 = 0, s = e.length; r3 < s; ++r3) {
    const a = e[r3];
    if (!Pf(i, t, a, n, o))
      return false;
    a.length && (t = a[a.length - 1]);
  }
  return true;
}
function Ch(i, t, e, n, o) {
  o = o !== void 0 ? o : false;
  for (let r3 = 0, s = e.length; r3 < s; ++r3) {
    const a = e[r3], l = Nu(
      i,
      t,
      a,
      n
    );
    (r3 === 0 ? o && l || !o && !l : o && !l || !o && l) && qv(i, t, a, n), t = a;
  }
  return t;
}
function pc(i, t, e, n, o) {
  for (let r3 = 0, s = e.length; r3 < s; ++r3)
    t = Ch(
      i,
      t,
      e[r3],
      n,
      o
    );
  return t;
}
function Hv(i, t) {
  const e = [];
  let n = 0, o = 0;
  for (let r3 = 0, s = t.length; r3 < s; ++r3) {
    const a = t[r3];
    if (!Nu(i, n, a, 2))
      e.push(t.slice(o, r3 + 1));
    else {
      if (e.length === 0)
        continue;
      e[e.length - 1].push(t[o]);
    }
    o = r3 + 1, n = a;
  }
  return e;
}
class er extends zn {
  constructor(t, e, n) {
    super(), this.ends_ = [], this.flatInteriorPointRevision_ = -1, this.flatInteriorPoint_ = null, this.maxDelta_ = -1, this.maxDeltaRevision_ = -1, this.orientedRevision_ = -1, this.orientedFlatCoordinates_ = null, e !== void 0 && n ? (this.setFlatCoordinates(
      e,
      t
    ), this.ends_ = n) : this.setCoordinates(
      t,
      e
    );
  }
  appendLinearRing(t) {
    this.flatCoordinates ? pi(this.flatCoordinates, t.getFlatCoordinates()) : this.flatCoordinates = t.getFlatCoordinates().slice(), this.ends_.push(this.flatCoordinates.length), this.changed();
  }
  clone() {
    const t = new er(
      this.flatCoordinates.slice(),
      this.layout,
      this.ends_.slice()
    );
    return t.applyProperties(this), t;
  }
  closestPointXY(t, e, n, o) {
    return o < co(this.getExtent(), t, e) ? o : (this.maxDeltaRevision_ != this.getRevision() && (this.maxDelta_ = Math.sqrt(
      zu(
        this.flatCoordinates,
        0,
        this.ends_,
        this.stride,
        0
      )
    ), this.maxDeltaRevision_ = this.getRevision()), Au(
      this.flatCoordinates,
      0,
      this.ends_,
      this.stride,
      this.maxDelta_,
      true,
      t,
      e,
      n,
      o
    ));
  }
  containsXY(t, e) {
    return Ou(
      this.getOrientedFlatCoordinates(),
      0,
      this.ends_,
      this.stride,
      t,
      e
    );
  }
  getArea() {
    return Tf(
      this.getOrientedFlatCoordinates(),
      0,
      this.ends_,
      this.stride
    );
  }
  getCoordinates(t) {
    let e;
    return t !== void 0 ? (e = this.getOrientedFlatCoordinates().slice(), Ch(e, 0, this.ends_, this.stride, t)) : e = this.flatCoordinates, Hr(e, 0, this.ends_, this.stride);
  }
  getEnds() {
    return this.ends_;
  }
  getFlatInteriorPoint() {
    if (this.flatInteriorPointRevision_ != this.getRevision()) {
      const t = mn(this.getExtent());
      this.flatInteriorPoint_ = Fu(
        this.getOrientedFlatCoordinates(),
        0,
        this.ends_,
        this.stride,
        t,
        0
      ), this.flatInteriorPointRevision_ = this.getRevision();
    }
    return this.flatInteriorPoint_;
  }
  getInteriorPoint() {
    return new si(this.getFlatInteriorPoint(), "XYM");
  }
  getLinearRingCount() {
    return this.ends_.length;
  }
  getLinearRing(t) {
    return t < 0 || this.ends_.length <= t ? null : new mc(
      this.flatCoordinates.slice(
        t === 0 ? 0 : this.ends_[t - 1],
        this.ends_[t]
      ),
      this.layout
    );
  }
  getLinearRings() {
    const t = this.layout, e = this.flatCoordinates, n = this.ends_, o = [];
    let r3 = 0;
    for (let s = 0, a = n.length; s < a; ++s) {
      const l = n[s], h = new mc(
        e.slice(r3, l),
        t
      );
      o.push(h), r3 = l;
    }
    return o;
  }
  getOrientedFlatCoordinates() {
    if (this.orientedRevision_ != this.getRevision()) {
      const t = this.flatCoordinates;
      Pf(t, 0, this.ends_, this.stride) ? this.orientedFlatCoordinates_ = t : (this.orientedFlatCoordinates_ = t.slice(), this.orientedFlatCoordinates_.length = Ch(
        this.orientedFlatCoordinates_,
        0,
        this.ends_,
        this.stride
      )), this.orientedRevision_ = this.getRevision();
    }
    return this.orientedFlatCoordinates_;
  }
  getSimplifiedGeometryInternal(t) {
    const e = [], n = [];
    return e.length = Ef(
      this.flatCoordinates,
      0,
      this.ends_,
      this.stride,
      Math.sqrt(t),
      e,
      0,
      n
    ), new er(e, "XY", n);
  }
  getType() {
    return "Polygon";
  }
  intersectsExtent(t) {
    return Af(
      this.getOrientedFlatCoordinates(),
      0,
      this.ends_,
      this.stride,
      t
    );
  }
  setCoordinates(t, e) {
    this.setLayout(e, t, 2), this.flatCoordinates || (this.flatCoordinates = []);
    const n = Pu(
      this.flatCoordinates,
      0,
      t,
      this.stride,
      this.ends_
    );
    this.flatCoordinates.length = n.length === 0 ? 0 : n[n.length - 1], this.changed();
  }
}
const eo = er;
function vc(i) {
  const t = i[0], e = i[1], n = i[2], o = i[3], r3 = [
    t,
    e,
    t,
    o,
    n,
    o,
    n,
    e,
    t,
    e
  ];
  return new er(r3, "XY", [r3.length]);
}
function Kv(i, t, e) {
  t = t || 32;
  const n = i.getStride(), o = i.getLayout(), r3 = i.getCenter(), s = n * (t + 1), a = new Array(s);
  for (let u = 0; u < s; u += n) {
    a[u] = 0, a[u + 1] = 0;
    for (let d = 2; d < n; d++)
      a[u + d] = r3[d];
  }
  const l = [a.length], h = new er(a, o, l);
  return Jv(h, r3, i.getRadius(), e), h;
}
function Jv(i, t, e, n) {
  const o = i.getFlatCoordinates(), r3 = i.getStride(), s = o.length / r3 - 1, a = n || 0;
  for (let l = 0; l <= s; ++l) {
    const h = l * r3, u = a + an(l, s) * 2 * Math.PI / s;
    o[h] = t[0] + e * Math.cos(u), o[h + 1] = t[1] + e * Math.sin(u);
  }
  i.changed();
}
const Rl = 0;
class Qv extends ki {
  constructor(t) {
    super(), this.on, this.once, this.un, t = Object.assign({}, t), this.hints_ = [0, 0], this.animations_ = [], this.updateAnimationKey_, this.projection_ = vu(t.projection, "EPSG:3857"), this.viewportSize_ = [100, 100], this.targetCenter_ = null, this.targetResolution_, this.targetRotation_, this.nextCenter_ = null, this.nextResolution_, this.nextRotation_, this.cancelAnchor_ = void 0, t.projection && B0(), t.center && (t.center = Zt(t.center, this.projection_)), t.extent && (t.extent = tn(t.extent, this.projection_)), this.applyOptions_(t);
  }
  applyOptions_(t) {
    const e = Object.assign({}, t);
    for (const a in ei)
      delete e[a];
    this.setProperties(e, true);
    const n = e_(t);
    this.maxResolution_ = n.maxResolution, this.minResolution_ = n.minResolution, this.zoomFactor_ = n.zoomFactor, this.resolutions_ = t.resolutions, this.padding_ = t.padding, this.minZoom_ = n.minZoom;
    const o = t_(t), r3 = n.constraint, s = i_(t);
    this.constraints_ = {
      center: o,
      resolution: r3,
      rotation: s
    }, this.setRotation(t.rotation !== void 0 ? t.rotation : 0), this.setCenterInternal(
      t.center !== void 0 ? t.center : null
    ), t.resolution !== void 0 ? this.setResolution(t.resolution) : t.zoom !== void 0 && this.setZoom(t.zoom);
  }
  get padding() {
    return this.padding_;
  }
  set padding(t) {
    let e = this.padding_;
    this.padding_ = t;
    const n = this.getCenter();
    if (n) {
      const o = t || [0, 0, 0, 0];
      e = e || [0, 0, 0, 0];
      const r3 = this.getResolution(), s = r3 / 2 * (o[3] - e[3] + e[1] - o[1]), a = r3 / 2 * (o[0] - e[0] + e[2] - o[2]);
      this.setCenterInternal([n[0] + s, n[1] - a]);
    }
  }
  getUpdatedOptions_(t) {
    const e = this.getProperties();
    return e.resolution !== void 0 ? e.resolution = this.getResolution() : e.zoom = this.getZoom(), e.center = this.getCenterInternal(), e.rotation = this.getRotation(), Object.assign({}, e, t);
  }
  animate(t) {
    this.isDef() && !this.getAnimating() && this.resolveConstraints(0);
    const e = new Array(arguments.length);
    for (let n = 0; n < e.length; ++n) {
      let o = arguments[n];
      o.center && (o = Object.assign({}, o), o.center = Zt(
        o.center,
        this.getProjection()
      )), o.anchor && (o = Object.assign({}, o), o.anchor = Zt(
        o.anchor,
        this.getProjection()
      )), e[n] = o;
    }
    this.animateInternal.apply(this, e);
  }
  animateInternal(t) {
    let e = arguments.length, n;
    e > 1 && typeof arguments[e - 1] == "function" && (n = arguments[e - 1], --e);
    let o = 0;
    for (; o < e && !this.isDef(); ++o) {
      const u = arguments[o];
      u.center && this.setCenterInternal(u.center), u.zoom !== void 0 ? this.setZoom(u.zoom) : u.resolution && this.setResolution(u.resolution), u.rotation !== void 0 && this.setRotation(u.rotation);
    }
    if (o === e) {
      n && Os(n, true);
      return;
    }
    let r3 = Date.now(), s = this.targetCenter_.slice(), a = this.targetResolution_, l = this.targetRotation_;
    const h = [];
    for (; o < e; ++o) {
      const u = arguments[o], d = {
        start: r3,
        complete: false,
        anchor: u.anchor,
        duration: u.duration !== void 0 ? u.duration : 1e3,
        easing: u.easing || zv,
        callback: n
      };
      if (u.center && (d.sourceCenter = s, d.targetCenter = u.center.slice(), s = d.targetCenter), u.zoom !== void 0 ? (d.sourceResolution = a, d.targetResolution = this.getResolutionForZoom(u.zoom), a = d.targetResolution) : u.resolution && (d.sourceResolution = a, d.targetResolution = u.resolution, a = d.targetResolution), u.rotation !== void 0) {
        d.sourceRotation = l;
        const c = an(u.rotation - l + Math.PI, 2 * Math.PI) - Math.PI;
        d.targetRotation = l + c, l = d.targetRotation;
      }
      n_(d) ? d.complete = true : r3 += d.duration, h.push(d);
    }
    this.animations_.push(h), this.setHint(Vt.ANIMATING, 1), this.updateAnimations_();
  }
  getAnimating() {
    return this.hints_[Vt.ANIMATING] > 0;
  }
  getInteracting() {
    return this.hints_[Vt.INTERACTING] > 0;
  }
  cancelAnimations() {
    this.setHint(Vt.ANIMATING, -this.hints_[Vt.ANIMATING]);
    let t;
    for (let e = 0, n = this.animations_.length; e < n; ++e) {
      const o = this.animations_[e];
      if (o[0].callback && Os(o[0].callback, false), !t)
        for (let r3 = 0, s = o.length; r3 < s; ++r3) {
          const a = o[r3];
          if (!a.complete) {
            t = a.anchor;
            break;
          }
        }
    }
    this.animations_.length = 0, this.cancelAnchor_ = t, this.nextCenter_ = null, this.nextResolution_ = NaN, this.nextRotation_ = NaN;
  }
  updateAnimations_() {
    if (this.updateAnimationKey_ !== void 0 && (cancelAnimationFrame(this.updateAnimationKey_), this.updateAnimationKey_ = void 0), !this.getAnimating())
      return;
    const t = Date.now();
    let e = false;
    for (let n = this.animations_.length - 1; n >= 0; --n) {
      const o = this.animations_[n];
      let r3 = true;
      for (let s = 0, a = o.length; s < a; ++s) {
        const l = o[s];
        if (l.complete)
          continue;
        const h = t - l.start;
        let u = l.duration > 0 ? h / l.duration : 1;
        u >= 1 ? (l.complete = true, u = 1) : r3 = false;
        const d = l.easing(u);
        if (l.sourceCenter) {
          const c = l.sourceCenter[0], g = l.sourceCenter[1], f = l.targetCenter[0], m = l.targetCenter[1];
          this.nextCenter_ = l.targetCenter;
          const p = c + d * (f - c), _ = g + d * (m - g);
          this.targetCenter_ = [p, _];
        }
        if (l.sourceResolution && l.targetResolution) {
          const c = d === 1 ? l.targetResolution : l.sourceResolution + d * (l.targetResolution - l.sourceResolution);
          if (l.anchor) {
            const g = this.getViewportSize_(this.getRotation()), f = this.constraints_.resolution(
              c,
              0,
              g,
              true
            );
            this.targetCenter_ = this.calculateCenterZoom(
              f,
              l.anchor
            );
          }
          this.nextResolution_ = l.targetResolution, this.targetResolution_ = c, this.applyTargetState_(true);
        }
        if (l.sourceRotation !== void 0 && l.targetRotation !== void 0) {
          const c = d === 1 ? an(l.targetRotation + Math.PI, 2 * Math.PI) - Math.PI : l.sourceRotation + d * (l.targetRotation - l.sourceRotation);
          if (l.anchor) {
            const g = this.constraints_.rotation(
              c,
              true
            );
            this.targetCenter_ = this.calculateCenterRotate(
              g,
              l.anchor
            );
          }
          this.nextRotation_ = l.targetRotation, this.targetRotation_ = c;
        }
        if (this.applyTargetState_(true), e = true, !l.complete)
          break;
      }
      if (r3) {
        this.animations_[n] = null, this.setHint(Vt.ANIMATING, -1), this.nextCenter_ = null, this.nextResolution_ = NaN, this.nextRotation_ = NaN;
        const s = o[0].callback;
        s && Os(s, true);
      }
    }
    this.animations_ = this.animations_.filter(Boolean), e && this.updateAnimationKey_ === void 0 && (this.updateAnimationKey_ = requestAnimationFrame(
      this.updateAnimations_.bind(this)
    ));
  }
  calculateCenterRotate(t, e) {
    let n;
    const o = this.getCenterInternal();
    return o !== void 0 && (n = [o[0] - e[0], o[1] - e[1]], fu(n, t - this.getRotation()), F0(n, e)), n;
  }
  calculateCenterZoom(t, e) {
    let n;
    const o = this.getCenterInternal(), r3 = this.getResolution();
    if (o !== void 0 && r3 !== void 0) {
      const s = e[0] - t * (e[0] - o[0]) / r3, a = e[1] - t * (e[1] - o[1]) / r3;
      n = [s, a];
    }
    return n;
  }
  getViewportSize_(t) {
    const e = this.viewportSize_;
    if (t) {
      const n = e[0], o = e[1];
      return [
        Math.abs(n * Math.cos(t)) + Math.abs(o * Math.sin(t)),
        Math.abs(n * Math.sin(t)) + Math.abs(o * Math.cos(t))
      ];
    } else
      return e;
  }
  setViewportSize(t) {
    this.viewportSize_ = Array.isArray(t) ? t.slice() : [100, 100], this.getAnimating() || this.resolveConstraints(0);
  }
  getCenter() {
    const t = this.getCenterInternal();
    return t && Qo(t, this.getProjection());
  }
  getCenterInternal() {
    return this.get(ei.CENTER);
  }
  getConstraints() {
    return this.constraints_;
  }
  getConstrainResolution() {
    return this.get("constrainResolution");
  }
  getHints(t) {
    return t !== void 0 ? (t[0] = this.hints_[0], t[1] = this.hints_[1], t) : this.hints_.slice();
  }
  calculateExtent(t) {
    const e = this.calculateExtentInternal(t);
    return yu(e, this.getProjection());
  }
  calculateExtentInternal(t) {
    t = t || this.getViewportSizeMinusPadding_();
    const e = this.getCenterInternal();
    ct(e, 1);
    const n = this.getResolution();
    ct(n !== void 0, 2);
    const o = this.getRotation();
    return ct(o !== void 0, 3), vh(e, n, o, t);
  }
  getMaxResolution() {
    return this.maxResolution_;
  }
  getMinResolution() {
    return this.minResolution_;
  }
  getMaxZoom() {
    return this.getZoomForResolution(this.minResolution_);
  }
  setMaxZoom(t) {
    this.applyOptions_(this.getUpdatedOptions_({ maxZoom: t }));
  }
  getMinZoom() {
    return this.getZoomForResolution(this.maxResolution_);
  }
  setMinZoom(t) {
    this.applyOptions_(this.getUpdatedOptions_({ minZoom: t }));
  }
  setConstrainResolution(t) {
    this.applyOptions_(this.getUpdatedOptions_({ constrainResolution: t }));
  }
  getProjection() {
    return this.projection_;
  }
  getResolution() {
    return this.get(ei.RESOLUTION);
  }
  getResolutions() {
    return this.resolutions_;
  }
  getResolutionForExtent(t, e) {
    return this.getResolutionForExtentInternal(
      tn(t, this.getProjection()),
      e
    );
  }
  getResolutionForExtentInternal(t, e) {
    e = e || this.getViewportSizeMinusPadding_();
    const n = Gt(t) / e[0], o = Je(t) / e[1];
    return Math.max(n, o);
  }
  getResolutionForValueFunction(t) {
    t = t || 2;
    const e = this.getConstrainedResolution(this.maxResolution_), n = this.minResolution_, o = Math.log(e / n) / Math.log(t);
    return function(r3) {
      return e / Math.pow(t, r3 * o);
    };
  }
  getRotation() {
    return this.get(ei.ROTATION);
  }
  getValueForResolutionFunction(t) {
    const e = Math.log(t || 2), n = this.getConstrainedResolution(this.maxResolution_), o = this.minResolution_, r3 = Math.log(n / o) / e;
    return function(s) {
      return Math.log(n / s) / e / r3;
    };
  }
  getViewportSizeMinusPadding_(t) {
    let e = this.getViewportSize_(t);
    const n = this.padding_;
    return n && (e = [
      e[0] - n[1] - n[3],
      e[1] - n[0] - n[2]
    ]), e;
  }
  getState() {
    const t = this.getProjection(), e = this.getResolution(), n = this.getRotation();
    let o = this.getCenterInternal();
    const r3 = this.padding_;
    if (r3) {
      const s = this.getViewportSizeMinusPadding_();
      o = Al(
        o,
        this.getViewportSize_(),
        [s[0] / 2 + r3[3], s[1] / 2 + r3[0]],
        e,
        n
      );
    }
    return {
      center: o.slice(0),
      projection: t !== void 0 ? t : null,
      resolution: e,
      nextCenter: this.nextCenter_,
      nextResolution: this.nextResolution_,
      nextRotation: this.nextRotation_,
      rotation: n,
      zoom: this.getZoom()
    };
  }
  getZoom() {
    let t;
    const e = this.getResolution();
    return e !== void 0 && (t = this.getZoomForResolution(e)), t;
  }
  getZoomForResolution(t) {
    let e = this.minZoom_ || 0, n, o;
    if (this.resolutions_) {
      const r3 = ou(this.resolutions_, t, 1);
      e = r3, n = this.resolutions_[r3], r3 == this.resolutions_.length - 1 ? o = 2 : o = n / this.resolutions_[r3 + 1];
    } else
      n = this.maxResolution_, o = this.zoomFactor_;
    return e + Math.log(n / t) / Math.log(o);
  }
  getResolutionForZoom(t) {
    if (this.resolutions_) {
      if (this.resolutions_.length <= 1)
        return 0;
      const e = qt(
        Math.floor(t),
        0,
        this.resolutions_.length - 2
      ), n = this.resolutions_[e] / this.resolutions_[e + 1];
      return this.resolutions_[e] / Math.pow(n, qt(t - e, 0, 1));
    } else
      return this.maxResolution_ / Math.pow(this.zoomFactor_, t - this.minZoom_);
  }
  fit(t, e) {
    let n;
    if (ct(
      Array.isArray(t) || typeof t.getSimplifiedGeometry == "function",
      24
    ), Array.isArray(t)) {
      ct(!cu(t), 25);
      const o = tn(t, this.getProjection());
      n = vc(o);
    } else if (t.getType() === "Circle") {
      const o = tn(
        t.getExtent(),
        this.getProjection()
      );
      n = vc(o), n.rotate(this.getRotation(), mn(o));
    } else
      n = t;
    this.fitInternal(n, e);
  }
  rotatedExtentForGeometry(t) {
    const e = this.getRotation(), n = Math.cos(e), o = Math.sin(-e), r3 = t.getFlatCoordinates(), s = t.getStride();
    let a = 1 / 0, l = 1 / 0, h = -1 / 0, u = -1 / 0;
    for (let d = 0, c = r3.length; d < c; d += s) {
      const g = r3[d] * n - r3[d + 1] * o, f = r3[d] * o + r3[d + 1] * n;
      a = Math.min(a, g), l = Math.min(l, f), h = Math.max(h, g), u = Math.max(u, f);
    }
    return [a, l, h, u];
  }
  fitInternal(t, e) {
    e = e || {};
    let n = e.size;
    n || (n = this.getViewportSizeMinusPadding_());
    const o = e.padding !== void 0 ? e.padding : [0, 0, 0, 0], r3 = e.nearest !== void 0 ? e.nearest : false;
    let s;
    e.minResolution !== void 0 ? s = e.minResolution : e.maxZoom !== void 0 ? s = this.getResolutionForZoom(e.maxZoom) : s = 0;
    const a = this.rotatedExtentForGeometry(t);
    let l = this.getResolutionForExtentInternal(a, [
      n[0] - o[1] - o[3],
      n[1] - o[0] - o[2]
    ]);
    l = isNaN(l) ? s : Math.max(l, s), l = this.getConstrainedResolution(l, r3 ? 0 : 1);
    const h = this.getRotation(), u = Math.sin(h), d = Math.cos(h), c = mn(a);
    c[0] += (o[1] - o[3]) / 2 * l, c[1] += (o[0] - o[2]) / 2 * l;
    const g = c[0] * d - c[1] * u, f = c[1] * d + c[0] * u, m = this.getConstrainedCenter([g, f], l), p = e.callback ? e.callback : Qn;
    e.duration !== void 0 ? this.animateInternal(
      {
        resolution: l,
        center: m,
        duration: e.duration,
        easing: e.easing
      },
      p
    ) : (this.targetResolution_ = l, this.targetCenter_ = m, this.applyTargetState_(false, true), Os(p, true));
  }
  centerOn(t, e, n) {
    this.centerOnInternal(
      Zt(t, this.getProjection()),
      e,
      n
    );
  }
  centerOnInternal(t, e, n) {
    this.setCenterInternal(
      Al(
        t,
        e,
        n,
        this.getResolution(),
        this.getRotation()
      )
    );
  }
  calculateCenterShift(t, e, n, o) {
    let r3;
    const s = this.padding_;
    if (s && t) {
      const a = this.getViewportSizeMinusPadding_(-n), l = Al(
        t,
        o,
        [a[0] / 2 + s[3], a[1] / 2 + s[0]],
        e,
        n
      );
      r3 = [
        t[0] - l[0],
        t[1] - l[1]
      ];
    }
    return r3;
  }
  isDef() {
    return !!this.getCenterInternal() && this.getResolution() !== void 0;
  }
  adjustCenter(t) {
    const e = Qo(this.targetCenter_, this.getProjection());
    this.setCenter([
      e[0] + t[0],
      e[1] + t[1]
    ]);
  }
  adjustCenterInternal(t) {
    const e = this.targetCenter_;
    this.setCenterInternal([
      e[0] + t[0],
      e[1] + t[1]
    ]);
  }
  adjustResolution(t, e) {
    e = e && Zt(e, this.getProjection()), this.adjustResolutionInternal(t, e);
  }
  adjustResolutionInternal(t, e) {
    const n = this.getAnimating() || this.getInteracting(), o = this.getViewportSize_(this.getRotation()), r3 = this.constraints_.resolution(
      this.targetResolution_ * t,
      0,
      o,
      n
    );
    e && (this.targetCenter_ = this.calculateCenterZoom(r3, e)), this.targetResolution_ *= t, this.applyTargetState_();
  }
  adjustZoom(t, e) {
    this.adjustResolution(Math.pow(this.zoomFactor_, -t), e);
  }
  adjustRotation(t, e) {
    e && (e = Zt(e, this.getProjection())), this.adjustRotationInternal(t, e);
  }
  adjustRotationInternal(t, e) {
    const n = this.getAnimating() || this.getInteracting(), o = this.constraints_.rotation(
      this.targetRotation_ + t,
      n
    );
    e && (this.targetCenter_ = this.calculateCenterRotate(o, e)), this.targetRotation_ += t, this.applyTargetState_();
  }
  setCenter(t) {
    this.setCenterInternal(
      t && Zt(t, this.getProjection())
    );
  }
  setCenterInternal(t) {
    this.targetCenter_ = t, this.applyTargetState_();
  }
  setHint(t, e) {
    return this.hints_[t] += e, this.changed(), this.hints_[t];
  }
  setResolution(t) {
    this.targetResolution_ = t, this.applyTargetState_();
  }
  setRotation(t) {
    this.targetRotation_ = t, this.applyTargetState_();
  }
  setZoom(t) {
    this.setResolution(this.getResolutionForZoom(t));
  }
  applyTargetState_(t, e) {
    const n = this.getAnimating() || this.getInteracting() || e, o = this.constraints_.rotation(
      this.targetRotation_,
      n
    ), r3 = this.getViewportSize_(o), s = this.constraints_.resolution(
      this.targetResolution_,
      0,
      r3,
      n
    ), a = this.constraints_.center(
      this.targetCenter_,
      s,
      r3,
      n,
      this.calculateCenterShift(
        this.targetCenter_,
        s,
        o,
        r3
      )
    );
    this.get(ei.ROTATION) !== o && this.set(ei.ROTATION, o), this.get(ei.RESOLUTION) !== s && (this.set(ei.RESOLUTION, s), this.set("zoom", this.getZoom(), true)), (!a || !this.get(ei.CENTER) || !ii(this.get(ei.CENTER), a)) && this.set(ei.CENTER, a), this.getAnimating() && !t && this.cancelAnimations(), this.cancelAnchor_ = void 0;
  }
  resolveConstraints(t, e, n) {
    t = t !== void 0 ? t : 200;
    const o = e || 0, r3 = this.constraints_.rotation(this.targetRotation_), s = this.getViewportSize_(r3), a = this.constraints_.resolution(
      this.targetResolution_,
      o,
      s
    ), l = this.constraints_.center(
      this.targetCenter_,
      a,
      s,
      false,
      this.calculateCenterShift(
        this.targetCenter_,
        a,
        r3,
        s
      )
    );
    if (t === 0 && !this.cancelAnchor_) {
      this.targetResolution_ = a, this.targetRotation_ = r3, this.targetCenter_ = l, this.applyTargetState_();
      return;
    }
    n = n || (t === 0 ? this.cancelAnchor_ : void 0), this.cancelAnchor_ = void 0, (this.getResolution() !== a || this.getRotation() !== r3 || !this.getCenterInternal() || !ii(this.getCenterInternal(), l)) && (this.getAnimating() && this.cancelAnimations(), this.animateInternal({
      rotation: r3,
      center: l,
      resolution: a,
      duration: t,
      easing: sr,
      anchor: n
    }));
  }
  beginInteraction() {
    this.resolveConstraints(0), this.setHint(Vt.INTERACTING, 1);
  }
  endInteraction(t, e, n) {
    n = n && Zt(n, this.getProjection()), this.endInteractionInternal(t, e, n);
  }
  endInteractionInternal(t, e, n) {
    this.setHint(Vt.INTERACTING, -1), this.resolveConstraints(t, e, n);
  }
  getConstrainedCenter(t, e) {
    const n = this.getViewportSize_(this.getRotation());
    return this.constraints_.center(
      t,
      e || this.getResolution(),
      n
    );
  }
  getConstrainedZoom(t, e) {
    const n = this.getResolutionForZoom(t);
    return this.getZoomForResolution(
      this.getConstrainedResolution(n, e)
    );
  }
  getConstrainedResolution(t, e) {
    e = e || 0;
    const n = this.getViewportSize_(this.getRotation());
    return this.constraints_.resolution(t, e, n);
  }
}
function Os(i, t) {
  setTimeout(function() {
    i(t);
  }, 0);
}
function t_(i) {
  if (i.extent !== void 0) {
    const e = i.smoothExtentConstraint !== void 0 ? i.smoothExtentConstraint : true;
    return uc(i.extent, i.constrainOnlyCenter, e);
  }
  const t = vu(i.projection, "EPSG:3857");
  if (i.multiWorld !== true && t.isGlobal()) {
    const e = t.getExtent().slice();
    return e[0] = -1 / 0, e[2] = 1 / 0, uc(e, false, false);
  }
  return Mv;
}
function e_(i) {
  let t, e, n, s = i.minZoom !== void 0 ? i.minZoom : Rl, a = i.maxZoom !== void 0 ? i.maxZoom : 28;
  const l = i.zoomFactor !== void 0 ? i.zoomFactor : 2, h = i.multiWorld !== void 0 ? i.multiWorld : false, u = i.smoothResolutionConstraint !== void 0 ? i.smoothResolutionConstraint : true, d = i.showFullExtent !== void 0 ? i.showFullExtent : false, c = vu(i.projection, "EPSG:3857"), g = c.getExtent();
  let f = i.constrainOnlyCenter, m = i.extent;
  if (!h && !m && c.isGlobal() && (f = false, m = g), i.resolutions !== void 0) {
    const p = i.resolutions;
    e = p[s], n = p[a] !== void 0 ? p[a] : p[p.length - 1], i.constrainResolution ? t = Ev(
      p,
      u,
      !f && m,
      d
    ) : t = dc(
      e,
      n,
      u,
      !f && m,
      d
    );
  } else {
    const _ = (g ? Math.max(Gt(g), Je(g)) : 360 * Ho.degrees / c.getMetersPerUnit()) / Cu / Math.pow(2, Rl), v = _ / Math.pow(2, 28 - Rl);
    e = i.maxResolution, e !== void 0 ? s = 0 : e = _ / Math.pow(l, s), n = i.minResolution, n === void 0 && (i.maxZoom !== void 0 ? i.maxResolution !== void 0 ? n = e / Math.pow(l, a) : n = _ / Math.pow(l, a) : n = v), a = s + Math.floor(
      Math.log(e / n) / Math.log(l)
    ), n = e / Math.pow(l, a - s), i.constrainResolution ? t = Sv(
      l,
      e,
      n,
      u,
      !f && m,
      d
    ) : t = dc(
      e,
      n,
      u,
      !f && m,
      d
    );
  }
  return {
    constraint: t,
    maxResolution: e,
    minResolution: n,
    minZoom: s,
    zoomFactor: l
  };
}
function i_(i) {
  if (i.enableRotation !== void 0 ? i.enableRotation : true) {
    const e = i.constrainRotation;
    return e === void 0 || e === true ? Iv() : e === false ? cc : typeof e == "number" ? Tv(e) : cc;
  } else
    return Su;
}
function n_(i) {
  return !(i.sourceCenter && i.targetCenter && !ii(i.sourceCenter, i.targetCenter) || i.sourceResolution !== i.targetResolution || i.sourceRotation !== i.targetRotation);
}
function Al(i, t, e, n, o) {
  const r3 = Math.cos(-o);
  let s = Math.sin(-o), a = i[0] * r3 - i[1] * s, l = i[1] * r3 + i[0] * s;
  a += (t[0] / 2 - e[0]) * n, l += (e[1] - t[1] / 2) * n, s = -s;
  const h = a * r3 - l * s, u = l * r3 + a * s;
  return [h, u];
}
const Ki = Qv;
class o_ extends rr {
  constructor(t) {
    t = t || {}, super({
      element: document.createElement("div"),
      render: t.render,
      target: t.target
    });
    const e = t.className !== void 0 ? t.className : "ol-rotate", n = t.label !== void 0 ? t.label : "\u21E7", o = t.compassClassName !== void 0 ? t.compassClassName : "ol-compass";
    this.label_ = null, typeof n == "string" ? (this.label_ = document.createElement("span"), this.label_.className = o, this.label_.textContent = n) : (this.label_ = n, this.label_.classList.add(o));
    const r3 = t.tipLabel ? t.tipLabel : "Reset rotation", s = document.createElement("button");
    s.className = e + "-reset", s.setAttribute("type", "button"), s.title = r3, s.appendChild(this.label_), s.addEventListener(
      Q.CLICK,
      this.handleClick_.bind(this),
      false
    );
    const a = e + " " + ds + " " + au, l = this.element;
    l.className = a, l.appendChild(s), this.callResetNorth_ = t.resetNorth ? t.resetNorth : void 0, this.duration_ = t.duration !== void 0 ? t.duration : 250, this.autoHide_ = t.autoHide !== void 0 ? t.autoHide : true, this.rotation_ = void 0, this.autoHide_ && this.element.classList.add(zs);
  }
  handleClick_(t) {
    t.preventDefault(), this.callResetNorth_ !== void 0 ? this.callResetNorth_() : this.resetNorth_();
  }
  resetNorth_() {
    const e = this.getMap().getView();
    if (!e)
      return;
    const n = e.getRotation();
    n !== void 0 && (this.duration_ > 0 && n % (2 * Math.PI) !== 0 ? e.animate({
      rotation: 0,
      duration: this.duration_,
      easing: sr
    }) : e.setRotation(0));
  }
  render(t) {
    const e = t.frameState;
    if (!e)
      return;
    const n = e.viewState.rotation;
    if (n != this.rotation_) {
      const o = "rotate(" + n + "rad)";
      if (this.autoHide_) {
        const r3 = this.element.classList.contains(zs);
        !r3 && n === 0 ? this.element.classList.add(zs) : r3 && n !== 0 && this.element.classList.remove(zs);
      }
      this.label_.style.transform = o;
    }
    this.rotation_ = n;
  }
}
const r_ = o_;
class s_ extends rr {
  constructor(t) {
    t = t || {}, super({
      element: document.createElement("div"),
      target: t.target
    });
    const e = t.className !== void 0 ? t.className : "ol-zoom", n = t.delta !== void 0 ? t.delta : 1, o = t.zoomInClassName !== void 0 ? t.zoomInClassName : e + "-in", r3 = t.zoomOutClassName !== void 0 ? t.zoomOutClassName : e + "-out", s = t.zoomInLabel !== void 0 ? t.zoomInLabel : "+", a = t.zoomOutLabel !== void 0 ? t.zoomOutLabel : "\u2013", l = t.zoomInTipLabel !== void 0 ? t.zoomInTipLabel : "Zoom in", h = t.zoomOutTipLabel !== void 0 ? t.zoomOutTipLabel : "Zoom out", u = document.createElement("button");
    u.className = o, u.setAttribute("type", "button"), u.title = l, u.appendChild(
      typeof s == "string" ? document.createTextNode(s) : s
    ), u.addEventListener(
      Q.CLICK,
      this.handleClick_.bind(this, n),
      false
    );
    const d = document.createElement("button");
    d.className = r3, d.setAttribute("type", "button"), d.title = h, d.appendChild(
      typeof a == "string" ? document.createTextNode(a) : a
    ), d.addEventListener(
      Q.CLICK,
      this.handleClick_.bind(this, -n),
      false
    );
    const c = e + " " + ds + " " + au, g = this.element;
    g.className = c, g.appendChild(u), g.appendChild(d), this.duration_ = t.duration !== void 0 ? t.duration : 250;
  }
  handleClick_(t, e) {
    e.preventDefault(), this.zoomByDelta_(t);
  }
  zoomByDelta_(t) {
    const n = this.getMap().getView();
    if (!n)
      return;
    const o = n.getZoom();
    if (o !== void 0) {
      const r3 = n.getConstrainedZoom(o + t);
      this.duration_ > 0 ? (n.getAnimating() && n.cancelAnimations(), n.animate({
        zoom: r3,
        duration: this.duration_,
        easing: sr
      })) : n.setZoom(r3);
    }
  }
}
const a_ = s_;
function Df(i) {
  i = i || {};
  const t = new $e();
  return (i.zoom !== void 0 ? i.zoom : true) && t.push(new a_(i.zoomOptions)), (i.rotate !== void 0 ? i.rotate : true) && t.push(new r_(i.rotateOptions)), (i.attribution !== void 0 ? i.attribution : true) && t.push(new x0(i.attributionOptions)), t;
}
const Mh = {
  ACTIVE: "active"
};
class l_ extends ki {
  constructor(t) {
    super(), this.on, this.once, this.un, t && t.handleEvent && (this.handleEvent = t.handleEvent), this.map_ = null, this.setActive(true);
  }
  getActive() {
    return this.get(Mh.ACTIVE);
  }
  getMap() {
    return this.map_;
  }
  handleEvent(t) {
    return true;
  }
  setActive(t) {
    this.set(Mh.ACTIVE, t);
  }
  setMap(t) {
    this.map_ = t;
  }
}
function h_(i, t, e) {
  const n = i.getCenterInternal();
  if (n) {
    const o = [n[0] + t[0], n[1] + t[1]];
    i.animateInternal({
      duration: e !== void 0 ? e : 250,
      easing: Rv,
      center: i.getConstrainedCenter(o)
    });
  }
}
function Gu(i, t, e, n) {
  const o = i.getZoom();
  if (o === void 0)
    return;
  const r3 = i.getConstrainedZoom(o + t), s = i.getResolutionForZoom(r3);
  i.getAnimating() && i.cancelAnimations(), i.animate({
    resolution: s,
    anchor: e,
    duration: n !== void 0 ? n : 250,
    easing: sr
  });
}
const fs = l_;
class u_ extends fs {
  constructor(t) {
    super(), t = t || {}, this.delta_ = t.delta ? t.delta : 1, this.duration_ = t.duration !== void 0 ? t.duration : 250;
  }
  handleEvent(t) {
    let e = false;
    if (t.type == Mt.DBLCLICK) {
      const n = t.originalEvent, o = t.map, r3 = t.coordinate, s = n.shiftKey ? -this.delta_ : this.delta_, a = o.getView();
      Gu(a, s, r3, this.duration_), n.preventDefault(), e = true;
    }
    return !e;
  }
}
const d_ = u_;
class c_ extends fs {
  constructor(t) {
    t = t || {}, super(
      t
    ), t.handleDownEvent && (this.handleDownEvent = t.handleDownEvent), t.handleDragEvent && (this.handleDragEvent = t.handleDragEvent), t.handleMoveEvent && (this.handleMoveEvent = t.handleMoveEvent), t.handleUpEvent && (this.handleUpEvent = t.handleUpEvent), t.stopDown && (this.stopDown = t.stopDown), this.handlingDownUpSequence = false, this.targetPointers = [];
  }
  getPointerCount() {
    return this.targetPointers.length;
  }
  handleDownEvent(t) {
    return false;
  }
  handleDragEvent(t) {
  }
  handleEvent(t) {
    if (!t.originalEvent)
      return true;
    let e = false;
    if (this.updateTrackedPointers_(t), this.handlingDownUpSequence) {
      if (t.type == Mt.POINTERDRAG)
        this.handleDragEvent(t), t.originalEvent.preventDefault();
      else if (t.type == Mt.POINTERUP) {
        const n = this.handleUpEvent(t);
        this.handlingDownUpSequence = n && this.targetPointers.length > 0;
      }
    } else if (t.type == Mt.POINTERDOWN) {
      const n = this.handleDownEvent(t);
      this.handlingDownUpSequence = n, e = this.stopDown(n);
    } else
      t.type == Mt.POINTERMOVE && this.handleMoveEvent(t);
    return !e;
  }
  handleMoveEvent(t) {
  }
  handleUpEvent(t) {
    return false;
  }
  stopDown(t) {
    return t;
  }
  updateTrackedPointers_(t) {
    t.activePointers && (this.targetPointers = t.activePointers);
  }
}
function ju(i) {
  const t = i.length;
  let e = 0, n = 0;
  for (let o = 0; o < t; o++)
    e += i[o].clientX, n += i[o].clientY;
  return [e / t, n / t];
}
const Rn = c_;
function Eh(i) {
  const t = arguments;
  return function(e) {
    let n = true;
    for (let o = 0, r3 = t.length; o < r3 && (n = n && t[o](e), !!n); ++o)
      ;
    return n;
  };
}
const g_ = function(i) {
  const t = i.originalEvent;
  return t.altKey && !(t.metaKey || t.ctrlKey) && !t.shiftKey;
}, f_ = function(i) {
  const t = i.originalEvent;
  return t.altKey && !(t.metaKey || t.ctrlKey) && t.shiftKey;
}, m_ = function(i) {
  const t = i.map.getTargetElement(), e = i.map.getOwnerDocument().activeElement;
  return t.contains(e);
}, Lf = function(i) {
  return i.map.getTargetElement().hasAttribute("tabindex") ? m_(i) : true;
}, Bu = Jn, Of = function(i) {
  const t = i.originalEvent;
  return t.button == 0 && !(a0 && l0 && t.ctrlKey);
}, p_ = function(i) {
  return i.type == Mt.SINGLECLICK;
}, Wu = function(i) {
  const t = i.originalEvent;
  return !t.altKey && !(t.metaKey || t.ctrlKey) && !t.shiftKey;
}, Ff = function(i) {
  const t = i.originalEvent;
  return !t.altKey && !(t.metaKey || t.ctrlKey) && t.shiftKey;
}, Nf = function(i) {
  const t = i.originalEvent, e = t.target.tagName;
  return e !== "INPUT" && e !== "SELECT" && e !== "TEXTAREA" && !t.target.isContentEditable;
}, Pl = function(i) {
  const t = i.originalEvent;
  return ct(t !== void 0, 56), t.pointerType == "mouse";
}, Gf = function(i) {
  const t = i.originalEvent;
  return ct(t !== void 0, 56), t.isPrimary && t.button === 0;
};
class v_ extends Rn {
  constructor(t) {
    super({
      stopDown: or
    }), t = t || {}, this.kinetic_ = t.kinetic, this.lastCentroid = null, this.lastPointersCount_, this.panning_ = false;
    const e = t.condition ? t.condition : Eh(Wu, Gf);
    this.condition_ = t.onFocusOnly ? Eh(Lf, e) : e, this.noKinetic_ = false;
  }
  handleDragEvent(t) {
    this.panning_ || (this.panning_ = true, this.getMap().getView().beginInteraction());
    const e = this.targetPointers, n = ju(e);
    if (e.length == this.lastPointersCount_) {
      if (this.kinetic_ && this.kinetic_.update(n[0], n[1]), this.lastCentroid) {
        const o = [
          this.lastCentroid[0] - n[0],
          n[1] - this.lastCentroid[1]
        ], s = t.map.getView();
        G0(o, s.getResolution()), fu(o, s.getRotation()), s.adjustCenterInternal(o);
      }
    } else
      this.kinetic_ && this.kinetic_.begin();
    this.lastCentroid = n, this.lastPointersCount_ = e.length, t.originalEvent.preventDefault();
  }
  handleUpEvent(t) {
    const e = t.map, n = e.getView();
    if (this.targetPointers.length === 0) {
      if (!this.noKinetic_ && this.kinetic_ && this.kinetic_.end()) {
        const o = this.kinetic_.getDistance(), r3 = this.kinetic_.getAngle(), s = n.getCenterInternal(), a = e.getPixelFromCoordinateInternal(s), l = e.getCoordinateFromPixelInternal([
          a[0] - o * Math.cos(r3),
          a[1] - o * Math.sin(r3)
        ]);
        n.animateInternal({
          center: n.getConstrainedCenter(l),
          duration: 500,
          easing: sr
        });
      }
      return this.panning_ && (this.panning_ = false, n.endInteraction()), false;
    } else
      return this.kinetic_ && this.kinetic_.begin(), this.lastCentroid = null, true;
  }
  handleDownEvent(t) {
    if (this.targetPointers.length > 0 && this.condition_(t)) {
      const n = t.map.getView();
      return this.lastCentroid = null, n.getAnimating() && n.cancelAnimations(), this.kinetic_ && this.kinetic_.begin(), this.noKinetic_ = this.targetPointers.length > 1, true;
    } else
      return false;
  }
}
const __ = v_;
class y_ extends Rn {
  constructor(t) {
    t = t || {}, super({
      stopDown: or
    }), this.condition_ = t.condition ? t.condition : f_, this.lastAngle_ = void 0, this.duration_ = t.duration !== void 0 ? t.duration : 250;
  }
  handleDragEvent(t) {
    if (!Pl(t))
      return;
    const e = t.map, n = e.getView();
    if (n.getConstraints().rotation === Su)
      return;
    const o = e.getSize(), r3 = t.pixel, s = Math.atan2(o[1] / 2 - r3[1], r3[0] - o[0] / 2);
    if (this.lastAngle_ !== void 0) {
      const a = s - this.lastAngle_;
      n.adjustRotationInternal(-a);
    }
    this.lastAngle_ = s;
  }
  handleUpEvent(t) {
    return Pl(t) ? (t.map.getView().endInteraction(this.duration_), false) : true;
  }
  handleDownEvent(t) {
    return Pl(t) && Of(t) && this.condition_(t) ? (t.map.getView().beginInteraction(), this.lastAngle_ = void 0, true) : false;
  }
}
const x_ = y_;
class b_ extends nu {
  constructor(t) {
    super(), this.geometry_ = null, this.element_ = document.createElement("div"), this.element_.style.position = "absolute", this.element_.style.pointerEvents = "auto", this.element_.className = "ol-box " + t, this.map_ = null, this.startPixel_ = null, this.endPixel_ = null;
  }
  disposeInternal() {
    this.setMap(null);
  }
  render_() {
    const t = this.startPixel_, e = this.endPixel_, n = "px", o = this.element_.style;
    o.left = Math.min(t[0], e[0]) + n, o.top = Math.min(t[1], e[1]) + n, o.width = Math.abs(e[0] - t[0]) + n, o.height = Math.abs(e[1] - t[1]) + n;
  }
  setMap(t) {
    if (this.map_) {
      this.map_.getOverlayContainer().removeChild(this.element_);
      const e = this.element_.style;
      e.left = "inherit", e.top = "inherit", e.width = "inherit", e.height = "inherit";
    }
    this.map_ = t, this.map_ && this.map_.getOverlayContainer().appendChild(this.element_);
  }
  setPixels(t, e) {
    this.startPixel_ = t, this.endPixel_ = e, this.createOrUpdateGeometry(), this.render_();
  }
  createOrUpdateGeometry() {
    const t = this.startPixel_, e = this.endPixel_, o = [
      t,
      [t[0], e[1]],
      e,
      [e[0], t[1]]
    ].map(
      this.map_.getCoordinateFromPixelInternal,
      this.map_
    );
    o[4] = o[0].slice(), this.geometry_ ? this.geometry_.setCoordinates([o]) : this.geometry_ = new eo([o]);
  }
  getGeometry() {
    return this.geometry_;
  }
}
const k_ = b_, Fs = {
  BOXSTART: "boxstart",
  BOXDRAG: "boxdrag",
  BOXEND: "boxend",
  BOXCANCEL: "boxcancel"
};
class Dl extends hi {
  constructor(t, e, n) {
    super(t), this.coordinate = e, this.mapBrowserEvent = n;
  }
}
class w_ extends Rn {
  constructor(t) {
    super(), this.on, this.once, this.un, t = t || {}, this.box_ = new k_(t.className || "ol-dragbox"), this.minArea_ = t.minArea !== void 0 ? t.minArea : 64, t.onBoxEnd && (this.onBoxEnd = t.onBoxEnd), this.startPixel_ = null, this.condition_ = t.condition ? t.condition : Of, this.boxEndCondition_ = t.boxEndCondition ? t.boxEndCondition : this.defaultBoxEndCondition;
  }
  defaultBoxEndCondition(t, e, n) {
    const o = n[0] - e[0], r3 = n[1] - e[1];
    return o * o + r3 * r3 >= this.minArea_;
  }
  getGeometry() {
    return this.box_.getGeometry();
  }
  handleDragEvent(t) {
    this.box_.setPixels(this.startPixel_, t.pixel), this.dispatchEvent(
      new Dl(
        Fs.BOXDRAG,
        t.coordinate,
        t
      )
    );
  }
  handleUpEvent(t) {
    this.box_.setMap(null);
    const e = this.boxEndCondition_(
      t,
      this.startPixel_,
      t.pixel
    );
    return e && this.onBoxEnd(t), this.dispatchEvent(
      new Dl(
        e ? Fs.BOXEND : Fs.BOXCANCEL,
        t.coordinate,
        t
      )
    ), false;
  }
  handleDownEvent(t) {
    return this.condition_(t) ? (this.startPixel_ = t.pixel, this.box_.setMap(t.map), this.box_.setPixels(this.startPixel_, this.startPixel_), this.dispatchEvent(
      new Dl(
        Fs.BOXSTART,
        t.coordinate,
        t
      )
    ), true) : false;
  }
  onBoxEnd(t) {
  }
}
const C_ = w_;
class M_ extends C_ {
  constructor(t) {
    t = t || {};
    const e = t.condition ? t.condition : Ff;
    super({
      condition: e,
      className: t.className || "ol-dragzoom",
      minArea: t.minArea
    }), this.duration_ = t.duration !== void 0 ? t.duration : 200, this.out_ = t.out !== void 0 ? t.out : false;
  }
  onBoxEnd(t) {
    const n = this.getMap().getView();
    let o = this.getGeometry();
    if (this.out_) {
      const r3 = n.rotatedExtentForGeometry(o), s = n.getResolutionForExtentInternal(r3), a = n.getResolution() / s;
      o = o.clone(), o.scale(a * a);
    }
    n.fitInternal(o, {
      duration: this.duration_,
      easing: sr
    });
  }
}
const E_ = M_, Ln = {
  LEFT: 37,
  UP: 38,
  RIGHT: 39,
  DOWN: 40
};
class S_ extends fs {
  constructor(t) {
    super(), t = t || {}, this.defaultCondition_ = function(e) {
      return Wu(e) && Nf(e);
    }, this.condition_ = t.condition !== void 0 ? t.condition : this.defaultCondition_, this.duration_ = t.duration !== void 0 ? t.duration : 100, this.pixelDelta_ = t.pixelDelta !== void 0 ? t.pixelDelta : 128;
  }
  handleEvent(t) {
    let e = false;
    if (t.type == Q.KEYDOWN) {
      const n = t.originalEvent, o = n.keyCode;
      if (this.condition_(t) && (o == Ln.DOWN || o == Ln.LEFT || o == Ln.RIGHT || o == Ln.UP)) {
        const s = t.map.getView(), a = s.getResolution() * this.pixelDelta_;
        let l = 0, h = 0;
        o == Ln.DOWN ? h = -a : o == Ln.LEFT ? l = -a : o == Ln.RIGHT ? l = a : h = a;
        const u = [l, h];
        fu(u, s.getRotation()), h_(s, u, this.duration_), n.preventDefault(), e = true;
      }
    }
    return !e;
  }
}
const T_ = S_;
class I_ extends fs {
  constructor(t) {
    super(), t = t || {}, this.condition_ = t.condition ? t.condition : Nf, this.delta_ = t.delta ? t.delta : 1, this.duration_ = t.duration !== void 0 ? t.duration : 100;
  }
  handleEvent(t) {
    let e = false;
    if (t.type == Q.KEYDOWN || t.type == Q.KEYPRESS) {
      const n = t.originalEvent, o = n.charCode;
      if (this.condition_(t) && (o == "+".charCodeAt(0) || o == "-".charCodeAt(0))) {
        const r3 = t.map, s = o == "+".charCodeAt(0) ? this.delta_ : -this.delta_, a = r3.getView();
        Gu(a, s, void 0, this.duration_), n.preventDefault(), e = true;
      }
    }
    return !e;
  }
}
const z_ = I_;
class R_ {
  constructor(t, e, n) {
    this.decay_ = t, this.minVelocity_ = e, this.delay_ = n, this.points_ = [], this.angle_ = 0, this.initialVelocity_ = 0;
  }
  begin() {
    this.points_.length = 0, this.angle_ = 0, this.initialVelocity_ = 0;
  }
  update(t, e) {
    this.points_.push(t, e, Date.now());
  }
  end() {
    if (this.points_.length < 6)
      return false;
    const t = Date.now() - this.delay_, e = this.points_.length - 3;
    if (this.points_[e + 2] < t)
      return false;
    let n = e - 3;
    for (; n > 0 && this.points_[n + 2] > t; )
      n -= 3;
    const o = this.points_[e + 2] - this.points_[n + 2];
    if (o < 1e3 / 60)
      return false;
    const r3 = this.points_[e] - this.points_[n], s = this.points_[e + 1] - this.points_[n + 1];
    return this.angle_ = Math.atan2(s, r3), this.initialVelocity_ = Math.sqrt(r3 * r3 + s * s) / o, this.initialVelocity_ > this.minVelocity_;
  }
  getDistance() {
    return (this.minVelocity_ - this.initialVelocity_) / this.decay_;
  }
  getAngle() {
    return this.angle_;
  }
}
const A_ = R_;
class P_ extends fs {
  constructor(t) {
    t = t || {}, super(
      t
    ), this.totalDelta_ = 0, this.lastDelta_ = 0, this.maxDelta_ = t.maxDelta !== void 0 ? t.maxDelta : 1, this.duration_ = t.duration !== void 0 ? t.duration : 250, this.timeout_ = t.timeout !== void 0 ? t.timeout : 80, this.useAnchor_ = t.useAnchor !== void 0 ? t.useAnchor : true, this.constrainResolution_ = t.constrainResolution !== void 0 ? t.constrainResolution : false;
    const e = t.condition ? t.condition : Bu;
    this.condition_ = t.onFocusOnly ? Eh(Lf, e) : e, this.lastAnchor_ = null, this.startTime_ = void 0, this.timeoutId_, this.mode_ = void 0, this.trackpadEventGap_ = 400, this.trackpadTimeoutId_, this.deltaPerZoom_ = 300;
  }
  endInteraction_() {
    this.trackpadTimeoutId_ = void 0;
    const t = this.getMap();
    if (!t)
      return;
    t.getView().endInteraction(
      void 0,
      this.lastDelta_ ? this.lastDelta_ > 0 ? 1 : -1 : 0,
      this.lastAnchor_
    );
  }
  handleEvent(t) {
    if (!this.condition_(t) || t.type !== Q.WHEEL)
      return true;
    const n = t.map, o = t.originalEvent;
    o.preventDefault(), this.useAnchor_ && (this.lastAnchor_ = t.coordinate);
    let r3;
    if (t.type == Q.WHEEL && (r3 = o.deltaY, r0 && o.deltaMode === WheelEvent.DOM_DELTA_PIXEL && (r3 /= Jg), o.deltaMode === WheelEvent.DOM_DELTA_LINE && (r3 *= 40)), r3 === 0)
      return false;
    this.lastDelta_ = r3;
    const s = Date.now();
    this.startTime_ === void 0 && (this.startTime_ = s), (!this.mode_ || s - this.startTime_ > this.trackpadEventGap_) && (this.mode_ = Math.abs(r3) < 4 ? "trackpad" : "wheel");
    const a = n.getView();
    if (this.mode_ === "trackpad" && !(a.getConstrainResolution() || this.constrainResolution_))
      return this.trackpadTimeoutId_ ? clearTimeout(this.trackpadTimeoutId_) : (a.getAnimating() && a.cancelAnimations(), a.beginInteraction()), this.trackpadTimeoutId_ = setTimeout(
        this.endInteraction_.bind(this),
        this.timeout_
      ), a.adjustZoom(-r3 / this.deltaPerZoom_, this.lastAnchor_), this.startTime_ = s, false;
    this.totalDelta_ += r3;
    const l = Math.max(this.timeout_ - (s - this.startTime_), 0);
    return clearTimeout(this.timeoutId_), this.timeoutId_ = setTimeout(
      this.handleWheelZoom_.bind(this, n),
      l
    ), false;
  }
  handleWheelZoom_(t) {
    const e = t.getView();
    e.getAnimating() && e.cancelAnimations();
    let n = -qt(
      this.totalDelta_,
      -this.maxDelta_ * this.deltaPerZoom_,
      this.maxDelta_ * this.deltaPerZoom_
    ) / this.deltaPerZoom_;
    (e.getConstrainResolution() || this.constrainResolution_) && (n = n ? n > 0 ? 1 : -1 : 0), Gu(e, n, this.lastAnchor_, this.duration_), this.mode_ = void 0, this.totalDelta_ = 0, this.lastAnchor_ = null, this.startTime_ = void 0, this.timeoutId_ = void 0;
  }
  setMouseAnchor(t) {
    this.useAnchor_ = t, t || (this.lastAnchor_ = null);
  }
}
const D_ = P_;
class L_ extends Rn {
  constructor(t) {
    t = t || {};
    const e = t;
    e.stopDown || (e.stopDown = or), super(e), this.anchor_ = null, this.lastAngle_ = void 0, this.rotating_ = false, this.rotationDelta_ = 0, this.threshold_ = t.threshold !== void 0 ? t.threshold : 0.3, this.duration_ = t.duration !== void 0 ? t.duration : 250;
  }
  handleDragEvent(t) {
    let e = 0;
    const n = this.targetPointers[0], o = this.targetPointers[1], r3 = Math.atan2(
      o.clientY - n.clientY,
      o.clientX - n.clientX
    );
    if (this.lastAngle_ !== void 0) {
      const u = r3 - this.lastAngle_;
      this.rotationDelta_ += u, !this.rotating_ && Math.abs(this.rotationDelta_) > this.threshold_ && (this.rotating_ = true), e = u;
    }
    this.lastAngle_ = r3;
    const s = t.map, a = s.getView();
    if (a.getConstraints().rotation === Su)
      return;
    const l = s.getViewport().getBoundingClientRect(), h = ju(this.targetPointers);
    h[0] -= l.left, h[1] -= l.top, this.anchor_ = s.getCoordinateFromPixelInternal(h), this.rotating_ && (s.render(), a.adjustRotationInternal(e, this.anchor_));
  }
  handleUpEvent(t) {
    return this.targetPointers.length < 2 ? (t.map.getView().endInteraction(this.duration_), false) : true;
  }
  handleDownEvent(t) {
    if (this.targetPointers.length >= 2) {
      const e = t.map;
      return this.anchor_ = null, this.lastAngle_ = void 0, this.rotating_ = false, this.rotationDelta_ = 0, this.handlingDownUpSequence || e.getView().beginInteraction(), true;
    } else
      return false;
  }
}
const O_ = L_;
class F_ extends Rn {
  constructor(t) {
    t = t || {};
    const e = t;
    e.stopDown || (e.stopDown = or), super(e), this.anchor_ = null, this.duration_ = t.duration !== void 0 ? t.duration : 400, this.lastDistance_ = void 0, this.lastScaleDelta_ = 1;
  }
  handleDragEvent(t) {
    let e = 1;
    const n = this.targetPointers[0], o = this.targetPointers[1], r3 = n.clientX - o.clientX, s = n.clientY - o.clientY, a = Math.sqrt(r3 * r3 + s * s);
    this.lastDistance_ !== void 0 && (e = this.lastDistance_ / a), this.lastDistance_ = a;
    const l = t.map, h = l.getView();
    e != 1 && (this.lastScaleDelta_ = e);
    const u = l.getViewport().getBoundingClientRect(), d = ju(this.targetPointers);
    d[0] -= u.left, d[1] -= u.top, this.anchor_ = l.getCoordinateFromPixelInternal(d), l.render(), h.adjustResolutionInternal(e, this.anchor_);
  }
  handleUpEvent(t) {
    if (this.targetPointers.length < 2) {
      const n = t.map.getView(), o = this.lastScaleDelta_ > 1 ? 1 : -1;
      return n.endInteraction(this.duration_, o), false;
    } else
      return true;
  }
  handleDownEvent(t) {
    if (this.targetPointers.length >= 2) {
      const e = t.map;
      return this.anchor_ = null, this.lastDistance_ = void 0, this.lastScaleDelta_ = 1, this.handlingDownUpSequence || e.getView().beginInteraction(), true;
    } else
      return false;
  }
}
const N_ = F_;
function jf(i) {
  i = i || {};
  const t = new $e(), e = new A_(-5e-3, 0.05, 100);
  return (i.altShiftDragRotate !== void 0 ? i.altShiftDragRotate : true) && t.push(new x_()), (i.doubleClickZoom !== void 0 ? i.doubleClickZoom : true) && t.push(
    new d_({
      delta: i.zoomDelta,
      duration: i.zoomDuration
    })
  ), (i.dragPan !== void 0 ? i.dragPan : true) && t.push(
    new __({
      onFocusOnly: i.onFocusOnly,
      kinetic: e
    })
  ), (i.pinchRotate !== void 0 ? i.pinchRotate : true) && t.push(new O_()), (i.pinchZoom !== void 0 ? i.pinchZoom : true) && t.push(
    new N_({
      duration: i.zoomDuration
    })
  ), (i.keyboard !== void 0 ? i.keyboard : true) && (t.push(new T_()), t.push(
    new z_({
      delta: i.zoomDelta,
      duration: i.zoomDuration
    })
  )), (i.mouseWheelZoom !== void 0 ? i.mouseWheelZoom : true) && t.push(
    new D_({
      onFocusOnly: i.onFocusOnly,
      duration: i.zoomDuration
    })
  ), (i.shiftDragZoom !== void 0 ? i.shiftDragZoom : true) && t.push(
    new E_({
      duration: i.zoomDuration
    })
  ), t;
}
function _c(i) {
  return i[0] > 0 && i[1] > 0;
}
function G_(i, t, e) {
  return e === void 0 && (e = [0, 0]), e[0] = i[0] * t + 0.5 | 0, e[1] = i[1] * t + 0.5 | 0, e;
}
function Ee(i, t) {
  return Array.isArray(i) ? i : (t === void 0 ? t = [i, i] : (t[0] = i, t[1] = i), t);
}
function Bf(i) {
  if (i instanceof Za) {
    i.setMapInternal(null);
    return;
  }
  i instanceof Ha && i.getLayers().forEach(Bf);
}
function Wf(i, t) {
  if (i instanceof Za) {
    i.setMapInternal(t);
    return;
  }
  if (i instanceof Ha) {
    const e = i.getLayers().getArray();
    for (let n = 0, o = e.length; n < o; ++n)
      Wf(e[n], t);
  }
}
class j_ extends ki {
  constructor(t) {
    super(), t = t || {}, this.on, this.once, this.un;
    const e = B_(t);
    this.renderComplete_, this.loaded_ = true, this.boundHandleBrowserEvent_ = this.handleBrowserEvent.bind(this), this.maxTilesLoading_ = t.maxTilesLoading !== void 0 ? t.maxTilesLoading : 16, this.pixelRatio_ = t.pixelRatio !== void 0 ? t.pixelRatio : Jg, this.postRenderTimeoutHandle_, this.animationDelayKey_, this.animationDelay_ = this.animationDelay_.bind(this), this.coordinateToPixelTransform_ = Ke(), this.pixelToCoordinateTransform_ = Ke(), this.frameIndex_ = 0, this.frameState_ = null, this.previousExtent_ = null, this.viewPropertyListenerKey_ = null, this.viewChangeListenerKey_ = null, this.layerGroupPropertyListenerKeys_ = null, this.viewport_ = document.createElement("div"), this.viewport_.className = "ol-viewport" + ("ontouchstart" in window ? " ol-touch" : ""), this.viewport_.style.position = "relative", this.viewport_.style.overflow = "hidden", this.viewport_.style.width = "100%", this.viewport_.style.height = "100%", this.overlayContainer_ = document.createElement("div"), this.overlayContainer_.style.position = "absolute", this.overlayContainer_.style.zIndex = "0", this.overlayContainer_.style.width = "100%", this.overlayContainer_.style.height = "100%", this.overlayContainer_.style.pointerEvents = "none", this.overlayContainer_.className = "ol-overlaycontainer", this.viewport_.appendChild(this.overlayContainer_), this.overlayContainerStopEvent_ = document.createElement("div"), this.overlayContainerStopEvent_.style.position = "absolute", this.overlayContainerStopEvent_.style.zIndex = "0", this.overlayContainerStopEvent_.style.width = "100%", this.overlayContainerStopEvent_.style.height = "100%", this.overlayContainerStopEvent_.style.pointerEvents = "none", this.overlayContainerStopEvent_.className = "ol-overlaycontainer-stopevent", this.viewport_.appendChild(this.overlayContainerStopEvent_), this.mapBrowserEventHandler_ = null, this.moveTolerance_ = t.moveTolerance, this.keyboardEventTarget_ = e.keyboardEventTarget, this.targetChangeHandlerKeys_ = null, this.controls = e.controls || Df(), this.interactions = e.interactions || jf({
      onFocusOnly: true
    }), this.overlays_ = e.overlays, this.overlayIdIndex_ = {}, this.renderer_ = null, this.postRenderFunctions_ = [], this.tileQueue_ = new wv(
      this.getTilePriority.bind(this),
      this.handleTileChange_.bind(this)
    ), this.addChangeListener(
      pe.LAYERGROUP,
      this.handleLayerGroupChanged_
    ), this.addChangeListener(pe.VIEW, this.handleViewChanged_), this.addChangeListener(pe.SIZE, this.handleSizeChanged_), this.addChangeListener(pe.TARGET, this.handleTargetChanged_), this.setProperties(e.values);
    const n = this;
    t.view && !(t.view instanceof Ki) && t.view.then(function(o) {
      n.setView(new Ki(o));
    }), this.controls.addEventListener(
      re.ADD,
      function(o) {
        o.element.setMap(this);
      }.bind(this)
    ), this.controls.addEventListener(
      re.REMOVE,
      function(o) {
        o.element.setMap(null);
      }.bind(this)
    ), this.interactions.addEventListener(
      re.ADD,
      function(o) {
        o.element.setMap(this);
      }.bind(this)
    ), this.interactions.addEventListener(
      re.REMOVE,
      function(o) {
        o.element.setMap(null);
      }.bind(this)
    ), this.overlays_.addEventListener(
      re.ADD,
      function(o) {
        this.addOverlayInternal_(o.element);
      }.bind(this)
    ), this.overlays_.addEventListener(
      re.REMOVE,
      function(o) {
        const r3 = o.element.getId();
        r3 !== void 0 && delete this.overlayIdIndex_[r3.toString()], o.element.setMap(null);
      }.bind(this)
    ), this.controls.forEach(
      function(o) {
        o.setMap(this);
      }.bind(this)
    ), this.interactions.forEach(
      function(o) {
        o.setMap(this);
      }.bind(this)
    ), this.overlays_.forEach(this.addOverlayInternal_.bind(this));
  }
  addControl(t) {
    this.getControls().push(t);
  }
  addInteraction(t) {
    this.getInteractions().push(t);
  }
  addLayer(t) {
    this.getLayerGroup().getLayers().push(t);
  }
  handleLayerAdd_(t) {
    Wf(t.layer, this);
  }
  addOverlay(t) {
    this.getOverlays().push(t);
  }
  addOverlayInternal_(t) {
    const e = t.getId();
    e !== void 0 && (this.overlayIdIndex_[e.toString()] = t), t.setMap(this);
  }
  disposeInternal() {
    this.controls.clear(), this.interactions.clear(), this.overlays_.clear(), this.setTarget(null), super.disposeInternal();
  }
  forEachFeatureAtPixel(t, e, n) {
    if (!this.frameState_ || !this.renderer_)
      return;
    const o = this.getCoordinateFromPixelInternal(t);
    n = n !== void 0 ? n : {};
    const r3 = n.hitTolerance !== void 0 ? n.hitTolerance : 0, s = n.layerFilter !== void 0 ? n.layerFilter : Jn, a = n.checkWrapped !== false;
    return this.renderer_.forEachFeatureAtCoordinate(
      o,
      this.frameState_,
      r3,
      a,
      e,
      null,
      s,
      null
    );
  }
  getFeaturesAtPixel(t, e) {
    const n = [];
    return this.forEachFeatureAtPixel(
      t,
      function(o) {
        n.push(o);
      },
      e
    ), n;
  }
  getAllLayers() {
    const t = [];
    function e(n) {
      n.forEach(function(o) {
        o instanceof Ha ? e(o.getLayers()) : t.push(o);
      });
    }
    return e(this.getLayers()), t;
  }
  hasFeatureAtPixel(t, e) {
    if (!this.frameState_ || !this.renderer_)
      return false;
    const n = this.getCoordinateFromPixelInternal(t);
    e = e !== void 0 ? e : {};
    const o = e.layerFilter !== void 0 ? e.layerFilter : Jn, r3 = e.hitTolerance !== void 0 ? e.hitTolerance : 0, s = e.checkWrapped !== false;
    return this.renderer_.hasFeatureAtCoordinate(
      n,
      this.frameState_,
      r3,
      s,
      o,
      null
    );
  }
  getEventCoordinate(t) {
    return this.getCoordinateFromPixel(this.getEventPixel(t));
  }
  getEventCoordinateInternal(t) {
    return this.getCoordinateFromPixelInternal(this.getEventPixel(t));
  }
  getEventPixel(t) {
    const e = this.viewport_.getBoundingClientRect(), n = "changedTouches" in t ? t.changedTouches[0] : t;
    return [
      n.clientX - e.left,
      n.clientY - e.top
    ];
  }
  getTarget() {
    return this.get(pe.TARGET);
  }
  getTargetElement() {
    const t = this.getTarget();
    return t !== void 0 ? typeof t == "string" ? document.getElementById(t) : t : null;
  }
  getCoordinateFromPixel(t) {
    return Qo(
      this.getCoordinateFromPixelInternal(t),
      this.getView().getProjection()
    );
  }
  getCoordinateFromPixelInternal(t) {
    const e = this.frameState_;
    return e ? Qt(
      e.pixelToCoordinateTransform,
      t.slice()
    ) : null;
  }
  getControls() {
    return this.controls;
  }
  getOverlays() {
    return this.overlays_;
  }
  getOverlayById(t) {
    const e = this.overlayIdIndex_[t.toString()];
    return e !== void 0 ? e : null;
  }
  getInteractions() {
    return this.interactions;
  }
  getLayerGroup() {
    return this.get(pe.LAYERGROUP);
  }
  setLayers(t) {
    const e = this.getLayerGroup();
    if (t instanceof $e) {
      e.setLayers(t);
      return;
    }
    const n = e.getLayers();
    n.clear(), n.extend(t);
  }
  getLayers() {
    return this.getLayerGroup().getLayers();
  }
  getLoadingOrNotReady() {
    const t = this.getLayerGroup().getLayerStatesArray();
    for (let e = 0, n = t.length; e < n; ++e) {
      const o = t[e];
      if (!o.visible)
        continue;
      const r3 = o.layer.getRenderer();
      if (r3 && !r3.ready)
        return true;
      const s = o.layer.getSource();
      if (s && s.loading)
        return true;
    }
    return false;
  }
  getPixelFromCoordinate(t) {
    const e = Zt(
      t,
      this.getView().getProjection()
    );
    return this.getPixelFromCoordinateInternal(e);
  }
  getPixelFromCoordinateInternal(t) {
    const e = this.frameState_;
    return e ? Qt(
      e.coordinateToPixelTransform,
      t.slice(0, 2)
    ) : null;
  }
  getRenderer() {
    return this.renderer_;
  }
  getSize() {
    return this.get(pe.SIZE);
  }
  getView() {
    return this.get(pe.VIEW);
  }
  getViewport() {
    return this.viewport_;
  }
  getOverlayContainer() {
    return this.overlayContainer_;
  }
  getOverlayContainerStopEvent() {
    return this.overlayContainerStopEvent_;
  }
  getOwnerDocument() {
    const t = this.getTargetElement();
    return t ? t.ownerDocument : document;
  }
  getTilePriority(t, e, n, o) {
    return Cv(
      this.frameState_,
      t,
      e,
      n,
      o
    );
  }
  handleBrowserEvent(t, e) {
    e = e || t.type;
    const n = new zi(e, this, t);
    this.handleMapBrowserEvent(n);
  }
  handleMapBrowserEvent(t) {
    if (!this.frameState_)
      return;
    const e = t.originalEvent, n = e.type;
    if (n === gh.POINTERDOWN || n === Q.WHEEL || n === Q.KEYDOWN) {
      const o = this.getOwnerDocument(), r3 = this.viewport_.getRootNode ? this.viewport_.getRootNode() : o, s = e.target;
      if (this.overlayContainerStopEvent_.contains(s) || !(r3 === o ? o.documentElement : r3).contains(s))
        return;
    }
    if (t.frameState = this.frameState_, this.dispatchEvent(t) !== false) {
      const o = this.getInteractions().getArray().slice();
      for (let r3 = o.length - 1; r3 >= 0; r3--) {
        const s = o[r3];
        if (s.getMap() !== this || !s.getActive() || !this.getTargetElement())
          continue;
        if (!s.handleEvent(t) || t.propagationStopped)
          break;
      }
    }
  }
  handlePostRender() {
    const t = this.frameState_, e = this.tileQueue_;
    if (!e.isEmpty()) {
      let o = this.maxTilesLoading_, r3 = o;
      if (t) {
        const s = t.viewHints;
        if (s[Vt.ANIMATING] || s[Vt.INTERACTING]) {
          const a = Date.now() - t.time > 8;
          o = a ? 0 : 8, r3 = a ? 0 : 2;
        }
      }
      e.getTilesLoading() < o && (e.reprioritize(), e.loadMoreTiles(o, r3));
    }
    t && this.renderer_ && !t.animate && (this.renderComplete_ === true ? (this.hasListener(ln.RENDERCOMPLETE) && this.renderer_.dispatchRenderEvent(
      ln.RENDERCOMPLETE,
      t
    ), this.loaded_ === false && (this.loaded_ = true, this.dispatchEvent(
      new So(qi.LOADEND, this, t)
    ))) : this.loaded_ === true && (this.loaded_ = false, this.dispatchEvent(
      new So(qi.LOADSTART, this, t)
    )));
    const n = this.postRenderFunctions_;
    for (let o = 0, r3 = n.length; o < r3; ++o)
      n[o](this, t);
    n.length = 0;
  }
  handleSizeChanged_() {
    this.getView() && !this.getView().getAnimating() && this.getView().resolveConstraints(0), this.render();
  }
  handleTargetChanged_() {
    if (this.mapBrowserEventHandler_) {
      for (let e = 0, n = this.targetChangeHandlerKeys_.length; e < n; ++e)
        jt(this.targetChangeHandlerKeys_[e]);
      this.targetChangeHandlerKeys_ = null, this.viewport_.removeEventListener(
        Q.CONTEXTMENU,
        this.boundHandleBrowserEvent_
      ), this.viewport_.removeEventListener(
        Q.WHEEL,
        this.boundHandleBrowserEvent_
      ), this.mapBrowserEventHandler_.dispose(), this.mapBrowserEventHandler_ = null, ch(this.viewport_);
    }
    const t = this.getTargetElement();
    if (!t)
      this.renderer_ && (clearTimeout(this.postRenderTimeoutHandle_), this.postRenderTimeoutHandle_ = void 0, this.postRenderFunctions_.length = 0, this.renderer_.dispose(), this.renderer_ = null), this.animationDelayKey_ && (cancelAnimationFrame(this.animationDelayKey_), this.animationDelayKey_ = void 0);
    else {
      t.appendChild(this.viewport_), this.renderer_ || (this.renderer_ = new mv(this)), this.mapBrowserEventHandler_ = new yv(
        this,
        this.moveTolerance_
      );
      for (const o in Mt)
        this.mapBrowserEventHandler_.addEventListener(
          Mt[o],
          this.handleMapBrowserEvent.bind(this)
        );
      this.viewport_.addEventListener(
        Q.CONTEXTMENU,
        this.boundHandleBrowserEvent_,
        false
      ), this.viewport_.addEventListener(
        Q.WHEEL,
        this.boundHandleBrowserEvent_,
        Qg ? { passive: false } : false
      );
      const e = this.getOwnerDocument().defaultView, n = this.keyboardEventTarget_ ? this.keyboardEventTarget_ : t;
      this.targetChangeHandlerKeys_ = [
        pt(
          n,
          Q.KEYDOWN,
          this.handleBrowserEvent,
          this
        ),
        pt(
          n,
          Q.KEYPRESS,
          this.handleBrowserEvent,
          this
        ),
        pt(e, Q.RESIZE, this.updateSize, this)
      ];
    }
    this.updateSize();
  }
  handleTileChange_() {
    this.render();
  }
  handleViewPropertyChanged_() {
    this.render();
  }
  handleViewChanged_() {
    this.viewPropertyListenerKey_ && (jt(this.viewPropertyListenerKey_), this.viewPropertyListenerKey_ = null), this.viewChangeListenerKey_ && (jt(this.viewChangeListenerKey_), this.viewChangeListenerKey_ = null);
    const t = this.getView();
    t && (this.updateViewportSize_(), this.viewPropertyListenerKey_ = pt(
      t,
      $o.PROPERTYCHANGE,
      this.handleViewPropertyChanged_,
      this
    ), this.viewChangeListenerKey_ = pt(
      t,
      Q.CHANGE,
      this.handleViewPropertyChanged_,
      this
    ), t.resolveConstraints(0)), this.render();
  }
  handleLayerGroupChanged_() {
    this.layerGroupPropertyListenerKeys_ && (this.layerGroupPropertyListenerKeys_.forEach(jt), this.layerGroupPropertyListenerKeys_ = null);
    const t = this.getLayerGroup();
    t && (this.handleLayerAdd_(new $i("addlayer", t)), this.layerGroupPropertyListenerKeys_ = [
      pt(t, $o.PROPERTYCHANGE, this.render, this),
      pt(t, Q.CHANGE, this.render, this),
      pt(t, "addlayer", this.handleLayerAdd_, this),
      pt(t, "removelayer", this.handleLayerRemove_, this)
    ]), this.render();
  }
  isRendered() {
    return !!this.frameState_;
  }
  animationDelay_() {
    this.animationDelayKey_ = void 0, this.renderFrame_(Date.now());
  }
  renderSync() {
    this.animationDelayKey_ && cancelAnimationFrame(this.animationDelayKey_), this.animationDelay_();
  }
  redrawText() {
    const t = this.getLayerGroup().getLayerStatesArray();
    for (let e = 0, n = t.length; e < n; ++e) {
      const o = t[e].layer;
      o.hasRenderer() && o.getRenderer().handleFontsChanged();
    }
  }
  render() {
    this.renderer_ && this.animationDelayKey_ === void 0 && (this.animationDelayKey_ = requestAnimationFrame(this.animationDelay_));
  }
  removeControl(t) {
    return this.getControls().remove(t);
  }
  removeInteraction(t) {
    return this.getInteractions().remove(t);
  }
  removeLayer(t) {
    return this.getLayerGroup().getLayers().remove(t);
  }
  handleLayerRemove_(t) {
    Bf(t.layer);
  }
  removeOverlay(t) {
    return this.getOverlays().remove(t);
  }
  renderFrame_(t) {
    const e = this.getSize(), n = this.getView(), o = this.frameState_;
    let r3 = null;
    if (e !== void 0 && _c(e) && n && n.isDef()) {
      const s = n.getHints(
        this.frameState_ ? this.frameState_.viewHints : void 0
      ), a = n.getState();
      if (r3 = {
        animate: false,
        coordinateToPixelTransform: this.coordinateToPixelTransform_,
        declutterTree: null,
        extent: vh(
          a.center,
          a.resolution,
          a.rotation,
          e
        ),
        index: this.frameIndex_++,
        layerIndex: 0,
        layerStatesArray: this.getLayerGroup().getLayerStatesArray(),
        pixelRatio: this.pixelRatio_,
        pixelToCoordinateTransform: this.pixelToCoordinateTransform_,
        postRenderFunctions: [],
        size: e,
        tileQueue: this.tileQueue_,
        time: t,
        usedTiles: {},
        viewState: a,
        viewHints: s,
        wantedTiles: {},
        mapId: H(this),
        renderTargets: {}
      }, a.nextCenter && a.nextResolution) {
        const l = isNaN(a.nextRotation) ? a.rotation : a.nextRotation;
        r3.nextExtent = vh(
          a.nextCenter,
          a.nextResolution,
          l,
          e
        );
      }
    }
    this.frameState_ = r3, this.renderer_.renderFrame(r3), r3 && (r3.animate && this.render(), Array.prototype.push.apply(
      this.postRenderFunctions_,
      r3.postRenderFunctions
    ), o && (!this.previousExtent_ || !cu(this.previousExtent_) && !Jo(r3.extent, this.previousExtent_)) && (this.dispatchEvent(
      new So(qi.MOVESTART, this, o)
    ), this.previousExtent_ = gs(this.previousExtent_)), this.previousExtent_ && !r3.viewHints[Vt.ANIMATING] && !r3.viewHints[Vt.INTERACTING] && !Jo(r3.extent, this.previousExtent_) && (this.dispatchEvent(
      new So(qi.MOVEEND, this, r3)
    ), sf(r3.extent, this.previousExtent_))), this.dispatchEvent(new So(qi.POSTRENDER, this, r3)), this.renderComplete_ = this.hasListener(qi.LOADSTART) || this.hasListener(qi.LOADEND) || this.hasListener(ln.RENDERCOMPLETE) ? !this.tileQueue_.getTilesLoading() && !this.tileQueue_.getCount() && !this.getLoadingOrNotReady() : void 0, this.postRenderTimeoutHandle_ || (this.postRenderTimeoutHandle_ = setTimeout(() => {
      this.postRenderTimeoutHandle_ = void 0, this.handlePostRender();
    }, 0));
  }
  setLayerGroup(t) {
    const e = this.getLayerGroup();
    e && this.handleLayerRemove_(new $i("removelayer", e)), this.set(pe.LAYERGROUP, t);
  }
  setSize(t) {
    this.set(pe.SIZE, t);
  }
  setTarget(t) {
    this.set(pe.TARGET, t);
  }
  setView(t) {
    if (!t || t instanceof Ki) {
      this.set(pe.VIEW, t);
      return;
    }
    this.set(pe.VIEW, new Ki());
    const e = this;
    t.then(function(n) {
      e.setView(new Ki(n));
    });
  }
  updateSize() {
    const t = this.getTargetElement();
    let e;
    if (t) {
      const n = getComputedStyle(t), o = t.offsetWidth - parseFloat(n.borderLeftWidth) - parseFloat(n.paddingLeft) - parseFloat(n.paddingRight) - parseFloat(n.borderRightWidth), r3 = t.offsetHeight - parseFloat(n.borderTopWidth) - parseFloat(n.paddingTop) - parseFloat(n.paddingBottom) - parseFloat(n.borderBottomWidth);
      !isNaN(o) && !isNaN(r3) && (e = [o, r3], !_c(e) && !!(t.offsetWidth || t.offsetHeight || t.getClientRects().length) && console.warn(
        "No map visible because the map container's width or height are 0."
      ));
    }
    this.setSize(e), this.updateViewportSize_();
  }
  updateViewportSize_() {
    const t = this.getView();
    if (t) {
      let e;
      const n = getComputedStyle(this.viewport_);
      n.width && n.height && (e = [
        parseInt(n.width, 10),
        parseInt(n.height, 10)
      ]), t.setViewportSize(e);
    }
  }
}
function B_(i) {
  let t = null;
  i.keyboardEventTarget !== void 0 && (t = typeof i.keyboardEventTarget == "string" ? document.getElementById(i.keyboardEventTarget) : i.keyboardEventTarget);
  const e = {}, n = i.layers && typeof i.layers.getLayers == "function" ? i.layers : new Ha({
    layers: i.layers
  });
  e[pe.LAYERGROUP] = n, e[pe.TARGET] = i.target, e[pe.VIEW] = i.view instanceof Ki ? i.view : new Ki();
  let o;
  i.controls !== void 0 && (Array.isArray(i.controls) ? o = new $e(i.controls.slice()) : (ct(
    typeof i.controls.getArray == "function",
    47
  ), o = i.controls));
  let r3;
  i.interactions !== void 0 && (Array.isArray(i.interactions) ? r3 = new $e(i.interactions.slice()) : (ct(
    typeof i.interactions.getArray == "function",
    48
  ), r3 = i.interactions));
  let s;
  return i.overlays !== void 0 ? Array.isArray(i.overlays) ? s = new $e(i.overlays.slice()) : (ct(
    typeof i.overlays.getArray == "function",
    49
  ), s = i.overlays) : s = new $e(), {
    controls: o,
    interactions: r3,
    keyboardEventTarget: t,
    overlays: s,
    values: e
  };
}
const W_ = j_, Ll = "units", Z_ = [1, 2, 5], yr = 25.4 / 0.28;
class Y_ extends rr {
  constructor(t) {
    t = t || {};
    const e = document.createElement("div");
    e.style.pointerEvents = "none", super({
      element: e,
      render: t.render,
      target: t.target
    }), this.on, this.once, this.un;
    const n = t.className !== void 0 ? t.className : t.bar ? "ol-scale-bar" : "ol-scale-line";
    this.innerElement_ = document.createElement("div"), this.innerElement_.className = n + "-inner", this.element.className = n + " " + ds, this.element.appendChild(this.innerElement_), this.viewState_ = null, this.minWidth_ = t.minWidth !== void 0 ? t.minWidth : 64, this.maxWidth_ = t.maxWidth, this.renderedVisible_ = false, this.renderedWidth_ = void 0, this.renderedHTML_ = "", this.addChangeListener(Ll, this.handleUnitsChanged_), this.setUnits(t.units || "metric"), this.scaleBar_ = t.bar || false, this.scaleBarSteps_ = t.steps || 4, this.scaleBarText_ = t.text || false, this.dpi_ = t.dpi || void 0;
  }
  getUnits() {
    return this.get(Ll);
  }
  handleUnitsChanged_() {
    this.updateElement_();
  }
  setUnits(t) {
    this.set(Ll, t);
  }
  setDpi(t) {
    this.dpi_ = t;
  }
  updateElement_() {
    const t = this.viewState_;
    if (!t) {
      this.renderedVisible_ && (this.element.style.display = "none", this.renderedVisible_ = false);
      return;
    }
    const e = t.center, n = t.projection, o = this.getUnits(), r3 = o == "degrees" ? "degrees" : "m";
    let s = la(
      n,
      t.resolution,
      e,
      r3
    );
    const a = this.minWidth_ * (this.dpi_ || yr) / yr, l = this.maxWidth_ !== void 0 ? this.maxWidth_ * (this.dpi_ || yr) / yr : void 0;
    let h = a * s, u = "";
    if (o == "degrees") {
      const y = Ho.degrees;
      h *= y, h < y / 60 ? (u = "\u2033", s *= 3600) : h < y ? (u = "\u2032", s *= 60) : u = "\xB0";
    } else
      o == "imperial" ? h < 0.9144 ? (u = "in", s /= 0.0254) : h < 1609.344 ? (u = "ft", s /= 0.3048) : (u = "mi", s /= 1609.344) : o == "nautical" ? (s /= 1852, u = "NM") : o == "metric" ? h < 1e-3 ? (u = "\u03BCm", s *= 1e6) : h < 1 ? (u = "mm", s *= 1e3) : h < 1e3 ? u = "m" : (u = "km", s /= 1e3) : o == "us" ? h < 0.9144 ? (u = "in", s *= 39.37) : h < 1609.344 ? (u = "ft", s /= 0.30480061) : (u = "mi", s /= 1609.3472) : ct(false, 33);
    let d = 3 * Math.floor(Math.log(a * s) / Math.log(10)), c, g, f, m, p, _;
    for (; ; ) {
      f = Math.floor(d / 3);
      const y = Math.pow(10, f);
      if (c = Z_[(d % 3 + 3) % 3] * y, g = Math.round(c / s), isNaN(g)) {
        this.element.style.display = "none", this.renderedVisible_ = false;
        return;
      }
      if (l !== void 0 && g >= l) {
        c = m, g = p, f = _;
        break;
      } else if (g >= a)
        break;
      m = c, p = g, _ = f, ++d;
    }
    const v = this.scaleBar_ ? this.createScaleBar(g, c, u) : c.toFixed(f < 0 ? -f : 0) + " " + u;
    this.renderedHTML_ != v && (this.innerElement_.innerHTML = v, this.renderedHTML_ = v), this.renderedWidth_ != g && (this.innerElement_.style.width = g + "px", this.renderedWidth_ = g), this.renderedVisible_ || (this.element.style.display = "", this.renderedVisible_ = true);
  }
  createScaleBar(t, e, n) {
    const o = this.getScaleForResolution(), r3 = o < 1 ? Math.round(1 / o).toLocaleString() + " : 1" : "1 : " + Math.round(o).toLocaleString(), s = this.scaleBarSteps_, a = t / s, l = [this.createMarker("absolute")];
    for (let u = 0; u < s; ++u) {
      const d = u % 2 === 0 ? "ol-scale-singlebar-odd" : "ol-scale-singlebar-even";
      l.push(
        `<div><div class="ol-scale-singlebar ${d}" style="width: ${a}px;"></div>` + this.createMarker("relative") + (u % 2 === 0 || s === 2 ? this.createStepText(u, t, false, e, n) : "") + "</div>"
      );
    }
    return l.push(this.createStepText(s, t, true, e, n)), (this.scaleBarText_ ? `<div class="ol-scale-text" style="width: ${t}px;">` + r3 + "</div>" : "") + l.join("");
  }
  createMarker(t) {
    return `<div class="ol-scale-step-marker" style="position: ${t}; top: ${t === "absolute" ? 3 : -10}px;"></div>`;
  }
  createStepText(t, e, n, o, r3) {
    const a = (t === 0 ? 0 : Math.round(o / this.scaleBarSteps_ * t * 100) / 100) + (t === 0 ? "" : " " + r3), l = t === 0 ? -3 : e / this.scaleBarSteps_ * -1, h = t === 0 ? 0 : e / this.scaleBarSteps_ * 2;
    return `<div class="ol-scale-step-text" style="margin-left: ${l}px;text-align: ${t === 0 ? "left" : "center"};min-width: ${h}px;left: ${n ? e + "px" : "unset"};">` + a + "</div>";
  }
  getScaleForResolution() {
    const t = la(
      this.viewState_.projection,
      this.viewState_.resolution,
      this.viewState_.center,
      "m"
    ), e = this.dpi_ || yr, n = 1e3 / 25.4;
    return t * n * e;
  }
  render(t) {
    const e = t.frameState;
    e ? this.viewState_ = e.viewState : this.viewState_ = null, this.updateElement_();
  }
}
const X_ = Y_;
class Zu extends ki {
  constructor(t) {
    if (super(), this.on, this.once, this.un, this.id_ = void 0, this.geometryName_ = "geometry", this.style_ = null, this.styleFunction_ = void 0, this.geometryChangeKey_ = null, this.addChangeListener(this.geometryName_, this.handleGeometryChanged_), t)
      if (typeof t.getSimplifiedGeometry == "function") {
        const e = t;
        this.setGeometry(e);
      } else {
        const e = t;
        this.setProperties(e);
      }
  }
  clone() {
    const t = new Zu(this.hasProperties() ? this.getProperties() : null);
    t.setGeometryName(this.getGeometryName());
    const e = this.getGeometry();
    e && t.setGeometry(e.clone());
    const n = this.getStyle();
    return n && t.setStyle(n), t;
  }
  getGeometry() {
    return this.get(this.geometryName_);
  }
  getId() {
    return this.id_;
  }
  getGeometryName() {
    return this.geometryName_;
  }
  getStyle() {
    return this.style_;
  }
  getStyleFunction() {
    return this.styleFunction_;
  }
  handleGeometryChange_() {
    this.changed();
  }
  handleGeometryChanged_() {
    this.geometryChangeKey_ && (jt(this.geometryChangeKey_), this.geometryChangeKey_ = null);
    const t = this.getGeometry();
    t && (this.geometryChangeKey_ = pt(
      t,
      Q.CHANGE,
      this.handleGeometryChange_,
      this
    )), this.changed();
  }
  setGeometry(t) {
    this.set(this.geometryName_, t);
  }
  setStyle(t) {
    this.style_ = t, this.styleFunction_ = t ? U_(t) : void 0, this.changed();
  }
  setId(t) {
    this.id_ = t, this.changed();
  }
  setGeometryName(t) {
    this.removeChangeListener(this.geometryName_, this.handleGeometryChanged_), this.geometryName_ = t, this.addChangeListener(this.geometryName_, this.handleGeometryChanged_), this.handleGeometryChanged_();
  }
}
function U_(i) {
  if (typeof i == "function")
    return i;
  {
    let t;
    return Array.isArray(i) ? t = i : (ct(typeof i.getZIndex == "function", 41), t = [i]), function() {
      return t;
    };
  }
}
const Pi = Zu;
class Zf {
  constructor() {
    this.dataProjection = void 0, this.defaultFeatureProjection = void 0, this.supportedMediaTypes = null;
  }
  getReadOptions(t, e) {
    if (e) {
      let n = e.dataProjection ? Bt(e.dataProjection) : this.readProjection(t);
      e.extent && n && n.getUnits() === "tile-pixels" && (n = Bt(n), n.setWorldExtent(e.extent)), e = {
        dataProjection: n,
        featureProjection: e.featureProjection
      };
    }
    return this.adaptOptions(e);
  }
  adaptOptions(t) {
    return Object.assign(
      {
        dataProjection: this.dataProjection,
        featureProjection: this.defaultFeatureProjection
      },
      t
    );
  }
  getType() {
    return tt();
  }
  readFeature(t, e) {
    return tt();
  }
  readFeatures(t, e) {
    return tt();
  }
  readGeometry(t, e) {
    return tt();
  }
  readProjection(t) {
    return tt();
  }
  writeFeature(t, e) {
    return tt();
  }
  writeFeatures(t, e) {
    return tt();
  }
  writeGeometry(t, e) {
    return tt();
  }
}
function Yu(i, t, e) {
  const n = e ? Bt(e.featureProjection) : null, o = e ? Bt(e.dataProjection) : null;
  let r3;
  if (n && o && !jn(n, o) ? r3 = (t ? i.clone() : i).transform(
    t ? n : o,
    t ? o : n
  ) : r3 = i, t && e && e.decimals !== void 0) {
    const s = Math.pow(10, e.decimals), a = function(l) {
      for (let h = 0, u = l.length; h < u; ++h)
        l[h] = Math.round(l[h] * s) / s;
      return l;
    };
    r3 === i && (r3 = i.clone()), r3.applyTransform(a);
  }
  return r3;
}
class V_ extends Zf {
  constructor() {
    super();
  }
  getType() {
    return "json";
  }
  readFeature(t, e) {
    return this.readFeatureFromObject(
      Ns(t),
      this.getReadOptions(t, e)
    );
  }
  readFeatures(t, e) {
    return this.readFeaturesFromObject(
      Ns(t),
      this.getReadOptions(t, e)
    );
  }
  readFeatureFromObject(t, e) {
    return tt();
  }
  readFeaturesFromObject(t, e) {
    return tt();
  }
  readGeometry(t, e) {
    return this.readGeometryFromObject(
      Ns(t),
      this.getReadOptions(t, e)
    );
  }
  readGeometryFromObject(t, e) {
    return tt();
  }
  readProjection(t) {
    return this.readProjectionFromObject(Ns(t));
  }
  readProjectionFromObject(t) {
    return tt();
  }
  writeFeature(t, e) {
    return JSON.stringify(this.writeFeatureObject(t, e));
  }
  writeFeatureObject(t, e) {
    return tt();
  }
  writeFeatures(t, e) {
    return JSON.stringify(this.writeFeaturesObject(t, e));
  }
  writeFeaturesObject(t, e) {
    return tt();
  }
  writeGeometry(t, e) {
    return JSON.stringify(this.writeGeometryObject(t, e));
  }
  writeGeometryObject(t, e) {
    return tt();
  }
}
function Ns(i) {
  if (typeof i == "string") {
    const t = JSON.parse(i);
    return t || null;
  } else
    return i !== null ? i : null;
}
const q_ = V_;
function va(i, t, e, n, o, r3, s) {
  let a, l;
  const h = (e - t) / n;
  if (h === 1)
    a = t;
  else if (h === 2)
    a = t, l = o;
  else if (h !== 0) {
    let u = i[t], d = i[t + 1], c = 0;
    const g = [0];
    for (let p = t + n; p < e; p += n) {
      const _ = i[p], v = i[p + 1];
      c += Math.sqrt((_ - u) * (_ - u) + (v - d) * (v - d)), g.push(c), u = _, d = v;
    }
    const f = o * c, m = Hp(g, f);
    m < 0 ? (l = (f - g[-m - 2]) / (g[-m - 1] - g[-m - 2]), a = t + (-m - 2) * n) : a = t + m * n;
  }
  s = s > 1 ? s : 2, r3 = r3 || new Array(s);
  for (let u = 0; u < s; ++u)
    r3[u] = a === void 0 ? NaN : l === void 0 ? i[a + u] : Ri(i[a + u], i[a + n + u], l);
  return r3;
}
function Sh(i, t, e, n, o, r3) {
  if (e == t)
    return null;
  let s;
  if (o < i[t + n - 1])
    return r3 ? (s = i.slice(t, t + n), s[n - 1] = o, s) : null;
  if (i[e - 1] < o)
    return r3 ? (s = i.slice(e - n, e), s[n - 1] = o, s) : null;
  if (o == i[t + n - 1])
    return i.slice(t, t + n);
  let a = t / n, l = e / n;
  for (; a < l; ) {
    const c = a + l >> 1;
    o < i[(c + 1) * n - 1] ? l = c : a = c + 1;
  }
  const h = i[a * n - 1];
  if (o == h)
    return i.slice((a - 1) * n, (a - 1) * n + n);
  const u = i[(a + 1) * n - 1], d = (o - h) / (u - h);
  s = [];
  for (let c = 0; c < n - 1; ++c)
    s.push(
      Ri(
        i[(a - 1) * n + c],
        i[a * n + c],
        d
      )
    );
  return s.push(o), s;
}
function $_(i, t, e, n, o, r3, s) {
  if (s)
    return Sh(
      i,
      t,
      e[e.length - 1],
      n,
      o,
      r3
    );
  let a;
  if (o < i[n - 1])
    return r3 ? (a = i.slice(0, n), a[n - 1] = o, a) : null;
  if (i[i.length - 1] < o)
    return r3 ? (a = i.slice(i.length - n), a[n - 1] = o, a) : null;
  for (let l = 0, h = e.length; l < h; ++l) {
    const u = e[l];
    if (t != u) {
      if (o < i[t + n - 1])
        return null;
      if (o <= i[u - 1])
        return Sh(
          i,
          t,
          u,
          n,
          o,
          false
        );
      t = u;
    }
  }
  return null;
}
function Yf(i, t, e, n) {
  let o = i[t], r3 = i[t + 1], s = 0;
  for (let a = t + n; a < e; a += n) {
    const l = i[a], h = i[a + 1];
    s += Math.sqrt((l - o) * (l - o) + (h - r3) * (h - r3)), o = l, r3 = h;
  }
  return s;
}
class _a extends zn {
  constructor(t, e) {
    super(), this.flatMidpoint_ = null, this.flatMidpointRevision_ = -1, this.maxDelta_ = -1, this.maxDeltaRevision_ = -1, e !== void 0 && !Array.isArray(t[0]) ? this.setFlatCoordinates(
      e,
      t
    ) : this.setCoordinates(
      t,
      e
    );
  }
  appendCoordinate(t) {
    this.flatCoordinates ? pi(this.flatCoordinates, t) : this.flatCoordinates = t.slice(), this.changed();
  }
  clone() {
    const t = new _a(
      this.flatCoordinates.slice(),
      this.layout
    );
    return t.applyProperties(this), t;
  }
  closestPointXY(t, e, n, o) {
    return o < co(this.getExtent(), t, e) ? o : (this.maxDeltaRevision_ != this.getRevision() && (this.maxDelta_ = Math.sqrt(
      Iu(
        this.flatCoordinates,
        0,
        this.flatCoordinates.length,
        this.stride,
        0
      )
    ), this.maxDeltaRevision_ = this.getRevision()), Ru(
      this.flatCoordinates,
      0,
      this.flatCoordinates.length,
      this.stride,
      this.maxDelta_,
      false,
      t,
      e,
      n,
      o
    ));
  }
  forEachSegment(t) {
    return zf(
      this.flatCoordinates,
      0,
      this.flatCoordinates.length,
      this.stride,
      t
    );
  }
  getCoordinateAtM(t, e) {
    return this.layout != "XYM" && this.layout != "XYZM" ? null : (e = e !== void 0 ? e : false, Sh(
      this.flatCoordinates,
      0,
      this.flatCoordinates.length,
      this.stride,
      t,
      e
    ));
  }
  getCoordinates() {
    return en(
      this.flatCoordinates,
      0,
      this.flatCoordinates.length,
      this.stride
    );
  }
  getCoordinateAt(t, e) {
    return va(
      this.flatCoordinates,
      0,
      this.flatCoordinates.length,
      this.stride,
      t,
      e,
      this.stride
    );
  }
  getLength() {
    return Yf(
      this.flatCoordinates,
      0,
      this.flatCoordinates.length,
      this.stride
    );
  }
  getFlatMidpoint() {
    return this.flatMidpointRevision_ != this.getRevision() && (this.flatMidpoint_ = this.getCoordinateAt(0.5, this.flatMidpoint_), this.flatMidpointRevision_ = this.getRevision()), this.flatMidpoint_;
  }
  getSimplifiedGeometryInternal(t) {
    const e = [];
    return e.length = Du(
      this.flatCoordinates,
      0,
      this.flatCoordinates.length,
      this.stride,
      t,
      e,
      0
    ), new _a(e, "XY");
  }
  getType() {
    return "LineString";
  }
  intersectsExtent(t) {
    return Ja(
      this.flatCoordinates,
      0,
      this.flatCoordinates.length,
      this.stride,
      t
    );
  }
  setCoordinates(t, e) {
    this.setLayout(e, t, 1), this.flatCoordinates || (this.flatCoordinates = []), this.flatCoordinates.length = Ka(
      this.flatCoordinates,
      0,
      t,
      this.stride
    ), this.changed();
  }
}
const Hn = _a;
class ya extends zn {
  constructor(t, e, n) {
    if (super(), this.ends_ = [], this.maxDelta_ = -1, this.maxDeltaRevision_ = -1, Array.isArray(t[0]))
      this.setCoordinates(
        t,
        e
      );
    else if (e !== void 0 && n)
      this.setFlatCoordinates(
        e,
        t
      ), this.ends_ = n;
    else {
      let o = this.getLayout();
      const r3 = t, s = [], a = [];
      for (let l = 0, h = r3.length; l < h; ++l) {
        const u = r3[l];
        l === 0 && (o = u.getLayout()), pi(s, u.getFlatCoordinates()), a.push(s.length);
      }
      this.setFlatCoordinates(o, s), this.ends_ = a;
    }
  }
  appendLineString(t) {
    this.flatCoordinates ? pi(this.flatCoordinates, t.getFlatCoordinates().slice()) : this.flatCoordinates = t.getFlatCoordinates().slice(), this.ends_.push(this.flatCoordinates.length), this.changed();
  }
  clone() {
    const t = new ya(
      this.flatCoordinates.slice(),
      this.layout,
      this.ends_.slice()
    );
    return t.applyProperties(this), t;
  }
  closestPointXY(t, e, n, o) {
    return o < co(this.getExtent(), t, e) ? o : (this.maxDeltaRevision_ != this.getRevision() && (this.maxDelta_ = Math.sqrt(
      zu(
        this.flatCoordinates,
        0,
        this.ends_,
        this.stride,
        0
      )
    ), this.maxDeltaRevision_ = this.getRevision()), Au(
      this.flatCoordinates,
      0,
      this.ends_,
      this.stride,
      this.maxDelta_,
      false,
      t,
      e,
      n,
      o
    ));
  }
  getCoordinateAtM(t, e, n) {
    return this.layout != "XYM" && this.layout != "XYZM" || this.flatCoordinates.length === 0 ? null : (e = e !== void 0 ? e : false, n = n !== void 0 ? n : false, $_(
      this.flatCoordinates,
      0,
      this.ends_,
      this.stride,
      t,
      e,
      n
    ));
  }
  getCoordinates() {
    return Hr(
      this.flatCoordinates,
      0,
      this.ends_,
      this.stride
    );
  }
  getEnds() {
    return this.ends_;
  }
  getLineString(t) {
    return t < 0 || this.ends_.length <= t ? null : new Hn(
      this.flatCoordinates.slice(
        t === 0 ? 0 : this.ends_[t - 1],
        this.ends_[t]
      ),
      this.layout
    );
  }
  getLineStrings() {
    const t = this.flatCoordinates, e = this.ends_, n = this.layout, o = [];
    let r3 = 0;
    for (let s = 0, a = e.length; s < a; ++s) {
      const l = e[s], h = new Hn(
        t.slice(r3, l),
        n
      );
      o.push(h), r3 = l;
    }
    return o;
  }
  getFlatMidpoints() {
    const t = [], e = this.flatCoordinates;
    let n = 0;
    const o = this.ends_, r3 = this.stride;
    for (let s = 0, a = o.length; s < a; ++s) {
      const l = o[s], h = va(
        e,
        n,
        l,
        r3,
        0.5
      );
      pi(t, h), n = l;
    }
    return t;
  }
  getSimplifiedGeometryInternal(t) {
    const e = [], n = [];
    return e.length = jv(
      this.flatCoordinates,
      0,
      this.ends_,
      this.stride,
      t,
      e,
      0,
      n
    ), new ya(e, "XY", n);
  }
  getType() {
    return "MultiLineString";
  }
  intersectsExtent(t) {
    return Uv(
      this.flatCoordinates,
      0,
      this.ends_,
      this.stride,
      t
    );
  }
  setCoordinates(t, e) {
    this.setLayout(e, t, 2), this.flatCoordinates || (this.flatCoordinates = []);
    const n = Pu(
      this.flatCoordinates,
      0,
      t,
      this.stride,
      this.ends_
    );
    this.flatCoordinates.length = n.length === 0 ? 0 : n[n.length - 1], this.changed();
  }
}
const Xu = ya;
class Uu extends zn {
  constructor(t, e) {
    super(), e && !Array.isArray(t[0]) ? this.setFlatCoordinates(
      e,
      t
    ) : this.setCoordinates(
      t,
      e
    );
  }
  appendPoint(t) {
    this.flatCoordinates ? pi(this.flatCoordinates, t.getFlatCoordinates()) : this.flatCoordinates = t.getFlatCoordinates().slice(), this.changed();
  }
  clone() {
    const t = new Uu(
      this.flatCoordinates.slice(),
      this.layout
    );
    return t.applyProperties(this), t;
  }
  closestPointXY(t, e, n, o) {
    if (o < co(this.getExtent(), t, e))
      return o;
    const r3 = this.flatCoordinates, s = this.stride;
    for (let a = 0, l = r3.length; a < l; a += s) {
      const h = Vn(
        t,
        e,
        r3[a],
        r3[a + 1]
      );
      if (h < o) {
        o = h;
        for (let u = 0; u < s; ++u)
          n[u] = r3[a + u];
        n.length = s;
      }
    }
    return o;
  }
  getCoordinates() {
    return en(
      this.flatCoordinates,
      0,
      this.flatCoordinates.length,
      this.stride
    );
  }
  getPoint(t) {
    const e = this.flatCoordinates ? this.flatCoordinates.length / this.stride : 0;
    return t < 0 || e <= t ? null : new si(
      this.flatCoordinates.slice(
        t * this.stride,
        (t + 1) * this.stride
      ),
      this.layout
    );
  }
  getPoints() {
    const t = this.flatCoordinates, e = this.layout, n = this.stride, o = [];
    for (let r3 = 0, s = t.length; r3 < s; r3 += n) {
      const a = new si(t.slice(r3, r3 + n), e);
      o.push(a);
    }
    return o;
  }
  getType() {
    return "MultiPoint";
  }
  intersectsExtent(t) {
    const e = this.flatCoordinates, n = this.stride;
    for (let o = 0, r3 = e.length; o < r3; o += n) {
      const s = e[o], a = e[o + 1];
      if (hu(t, s, a))
        return true;
    }
    return false;
  }
  setCoordinates(t, e) {
    this.setLayout(e, t, 1), this.flatCoordinates || (this.flatCoordinates = []), this.flatCoordinates.length = Ka(
      this.flatCoordinates,
      0,
      t,
      this.stride
    ), this.changed();
  }
}
const ms = Uu;
function Xf(i, t, e, n) {
  const o = [];
  let r3 = Xe();
  for (let s = 0, a = e.length; s < a; ++s) {
    const l = e[s];
    r3 = uu(
      i,
      t,
      l[0],
      n
    ), o.push((r3[0] + r3[2]) / 2, (r3[1] + r3[3]) / 2), t = l[l.length - 1];
  }
  return o;
}
class xa extends zn {
  constructor(t, e, n) {
    if (super(), this.endss_ = [], this.flatInteriorPointsRevision_ = -1, this.flatInteriorPoints_ = null, this.maxDelta_ = -1, this.maxDeltaRevision_ = -1, this.orientedRevision_ = -1, this.orientedFlatCoordinates_ = null, !n && !Array.isArray(t[0])) {
      let o = this.getLayout();
      const r3 = t, s = [], a = [];
      for (let l = 0, h = r3.length; l < h; ++l) {
        const u = r3[l];
        l === 0 && (o = u.getLayout());
        const d = s.length, c = u.getEnds();
        for (let g = 0, f = c.length; g < f; ++g)
          c[g] += d;
        pi(s, u.getFlatCoordinates()), a.push(c);
      }
      e = o, t = s, n = a;
    }
    e !== void 0 && n ? (this.setFlatCoordinates(
      e,
      t
    ), this.endss_ = n) : this.setCoordinates(
      t,
      e
    );
  }
  appendPolygon(t) {
    let e;
    if (!this.flatCoordinates)
      this.flatCoordinates = t.getFlatCoordinates().slice(), e = t.getEnds().slice(), this.endss_.push();
    else {
      const n = this.flatCoordinates.length;
      pi(this.flatCoordinates, t.getFlatCoordinates()), e = t.getEnds().slice();
      for (let o = 0, r3 = e.length; o < r3; ++o)
        e[o] += n;
    }
    this.endss_.push(e), this.changed();
  }
  clone() {
    const t = this.endss_.length, e = new Array(t);
    for (let o = 0; o < t; ++o)
      e[o] = this.endss_[o].slice();
    const n = new xa(
      this.flatCoordinates.slice(),
      this.layout,
      e
    );
    return n.applyProperties(this), n;
  }
  closestPointXY(t, e, n, o) {
    return o < co(this.getExtent(), t, e) ? o : (this.maxDeltaRevision_ != this.getRevision() && (this.maxDelta_ = Math.sqrt(
      Fv(
        this.flatCoordinates,
        0,
        this.endss_,
        this.stride,
        0
      )
    ), this.maxDeltaRevision_ = this.getRevision()), Nv(
      this.getOrientedFlatCoordinates(),
      0,
      this.endss_,
      this.stride,
      this.maxDelta_,
      true,
      t,
      e,
      n,
      o
    ));
  }
  containsXY(t, e) {
    return Xv(
      this.getOrientedFlatCoordinates(),
      0,
      this.endss_,
      this.stride,
      t,
      e
    );
  }
  getArea() {
    return Zv(
      this.getOrientedFlatCoordinates(),
      0,
      this.endss_,
      this.stride
    );
  }
  getCoordinates(t) {
    let e;
    return t !== void 0 ? (e = this.getOrientedFlatCoordinates().slice(), pc(
      e,
      0,
      this.endss_,
      this.stride,
      t
    )) : e = this.flatCoordinates, wh(
      e,
      0,
      this.endss_,
      this.stride
    );
  }
  getEndss() {
    return this.endss_;
  }
  getFlatInteriorPoints() {
    if (this.flatInteriorPointsRevision_ != this.getRevision()) {
      const t = Xf(
        this.flatCoordinates,
        0,
        this.endss_,
        this.stride
      );
      this.flatInteriorPoints_ = If(
        this.getOrientedFlatCoordinates(),
        0,
        this.endss_,
        this.stride,
        t
      ), this.flatInteriorPointsRevision_ = this.getRevision();
    }
    return this.flatInteriorPoints_;
  }
  getInteriorPoints() {
    return new ms(this.getFlatInteriorPoints().slice(), "XYM");
  }
  getOrientedFlatCoordinates() {
    if (this.orientedRevision_ != this.getRevision()) {
      const t = this.flatCoordinates;
      $v(t, 0, this.endss_, this.stride) ? this.orientedFlatCoordinates_ = t : (this.orientedFlatCoordinates_ = t.slice(), this.orientedFlatCoordinates_.length = pc(
        this.orientedFlatCoordinates_,
        0,
        this.endss_,
        this.stride
      )), this.orientedRevision_ = this.getRevision();
    }
    return this.orientedFlatCoordinates_;
  }
  getSimplifiedGeometryInternal(t) {
    const e = [], n = [];
    return e.length = Wv(
      this.flatCoordinates,
      0,
      this.endss_,
      this.stride,
      Math.sqrt(t),
      e,
      0,
      n
    ), new xa(e, "XY", n);
  }
  getPolygon(t) {
    if (t < 0 || this.endss_.length <= t)
      return null;
    let e;
    if (t === 0)
      e = 0;
    else {
      const r3 = this.endss_[t - 1];
      e = r3[r3.length - 1];
    }
    const n = this.endss_[t].slice(), o = n[n.length - 1];
    if (e !== 0)
      for (let r3 = 0, s = n.length; r3 < s; ++r3)
        n[r3] -= e;
    return new eo(
      this.flatCoordinates.slice(e, o),
      this.layout,
      n
    );
  }
  getPolygons() {
    const t = this.layout, e = this.flatCoordinates, n = this.endss_, o = [];
    let r3 = 0;
    for (let s = 0, a = n.length; s < a; ++s) {
      const l = n[s].slice(), h = l[l.length - 1];
      if (r3 !== 0)
        for (let d = 0, c = l.length; d < c; ++d)
          l[d] -= r3;
      const u = new eo(
        e.slice(r3, h),
        t,
        l
      );
      o.push(u), r3 = h;
    }
    return o;
  }
  getType() {
    return "MultiPolygon";
  }
  intersectsExtent(t) {
    return Vv(
      this.getOrientedFlatCoordinates(),
      0,
      this.endss_,
      this.stride,
      t
    );
  }
  setCoordinates(t, e) {
    this.setLayout(e, t, 3), this.flatCoordinates || (this.flatCoordinates = []);
    const n = Gv(
      this.flatCoordinates,
      0,
      t,
      this.stride,
      this.endss_
    );
    if (n.length === 0)
      this.flatCoordinates.length = 0;
    else {
      const o = n[n.length - 1];
      this.flatCoordinates.length = o.length === 0 ? 0 : o[o.length - 1];
    }
    this.changed();
  }
}
const Vu = xa;
class ba extends Cf {
  constructor(t) {
    super(), this.geometries_ = t || null, this.changeEventsKeys_ = [], this.listenGeometriesChange_();
  }
  unlistenGeometriesChange_() {
    this.changeEventsKeys_.forEach(jt), this.changeEventsKeys_.length = 0;
  }
  listenGeometriesChange_() {
    if (!!this.geometries_)
      for (let t = 0, e = this.geometries_.length; t < e; ++t)
        this.changeEventsKeys_.push(
          pt(this.geometries_[t], Q.CHANGE, this.changed, this)
        );
  }
  clone() {
    const t = new ba(null);
    return t.setGeometries(this.geometries_), t.applyProperties(this), t;
  }
  closestPointXY(t, e, n, o) {
    if (o < co(this.getExtent(), t, e))
      return o;
    const r3 = this.geometries_;
    for (let s = 0, a = r3.length; s < a; ++s)
      o = r3[s].closestPointXY(
        t,
        e,
        n,
        o
      );
    return o;
  }
  containsXY(t, e) {
    const n = this.geometries_;
    for (let o = 0, r3 = n.length; o < r3; ++o)
      if (n[o].containsXY(t, e))
        return true;
    return false;
  }
  computeExtent(t) {
    gs(t);
    const e = this.geometries_;
    for (let n = 0, o = e.length; n < o; ++n)
      af(t, e[n].getExtent());
    return t;
  }
  getGeometries() {
    return yc(this.geometries_);
  }
  getGeometriesArray() {
    return this.geometries_;
  }
  getGeometriesArrayRecursive() {
    let t = [];
    const e = this.geometries_;
    for (let n = 0, o = e.length; n < o; ++n)
      e[n].getType() === this.getType() ? t = t.concat(
        e[n].getGeometriesArrayRecursive()
      ) : t.push(e[n]);
    return t;
  }
  getSimplifiedGeometry(t) {
    if (this.simplifiedGeometryRevision !== this.getRevision() && (this.simplifiedGeometryMaxMinSquaredTolerance = 0, this.simplifiedGeometryRevision = this.getRevision()), t < 0 || this.simplifiedGeometryMaxMinSquaredTolerance !== 0 && t < this.simplifiedGeometryMaxMinSquaredTolerance)
      return this;
    const e = [], n = this.geometries_;
    let o = false;
    for (let r3 = 0, s = n.length; r3 < s; ++r3) {
      const a = n[r3], l = a.getSimplifiedGeometry(t);
      e.push(l), l !== a && (o = true);
    }
    if (o) {
      const r3 = new ba(null);
      return r3.setGeometriesArray(e), r3;
    } else
      return this.simplifiedGeometryMaxMinSquaredTolerance = t, this;
  }
  getType() {
    return "GeometryCollection";
  }
  intersectsExtent(t) {
    const e = this.geometries_;
    for (let n = 0, o = e.length; n < o; ++n)
      if (e[n].intersectsExtent(t))
        return true;
    return false;
  }
  isEmpty() {
    return this.geometries_.length === 0;
  }
  rotate(t, e) {
    const n = this.geometries_;
    for (let o = 0, r3 = n.length; o < r3; ++o)
      n[o].rotate(t, e);
    this.changed();
  }
  scale(t, e, n) {
    n || (n = mn(this.getExtent()));
    const o = this.geometries_;
    for (let r3 = 0, s = o.length; r3 < s; ++r3)
      o[r3].scale(t, e, n);
    this.changed();
  }
  setGeometries(t) {
    this.setGeometriesArray(yc(t));
  }
  setGeometriesArray(t) {
    this.unlistenGeometriesChange_(), this.geometries_ = t, this.listenGeometriesChange_(), this.changed();
  }
  applyTransform(t) {
    const e = this.geometries_;
    for (let n = 0, o = e.length; n < o; ++n)
      e[n].applyTransform(t);
    this.changed();
  }
  translate(t, e) {
    const n = this.geometries_;
    for (let o = 0, r3 = n.length; o < r3; ++o)
      n[o].translate(t, e);
    this.changed();
  }
  disposeInternal() {
    this.unlistenGeometriesChange_(), super.disposeInternal();
  }
}
function yc(i) {
  const t = [];
  for (let e = 0, n = i.length; e < n; ++e)
    t.push(i[e].clone());
  return t;
}
const H_ = ba;
class K_ extends q_ {
  constructor(t) {
    t = t || {}, super(), this.dataProjection = Bt(
      t.dataProjection ? t.dataProjection : "EPSG:4326"
    ), t.featureProjection && (this.defaultFeatureProjection = Bt(t.featureProjection)), this.geometryName_ = t.geometryName, this.extractGeometryName_ = t.extractGeometryName, this.supportedMediaTypes = [
      "application/geo+json",
      "application/vnd.geo+json"
    ];
  }
  readFeatureFromObject(t, e) {
    let n = null;
    t.type === "Feature" ? n = t : n = {
      type: "Feature",
      geometry: t,
      properties: null
    };
    const o = Th(n.geometry, e), r3 = new Pi();
    return this.geometryName_ ? r3.setGeometryName(this.geometryName_) : this.extractGeometryName_ && "geometry_name" in n !== void 0 && r3.setGeometryName(n.geometry_name), r3.setGeometry(o), "id" in n && r3.setId(n.id), n.properties && r3.setProperties(n.properties, true), r3;
  }
  readFeaturesFromObject(t, e) {
    const n = t;
    let o = null;
    if (n.type === "FeatureCollection") {
      const r3 = t;
      o = [];
      const s = r3.features;
      for (let a = 0, l = s.length; a < l; ++a)
        o.push(this.readFeatureFromObject(s[a], e));
    } else
      o = [this.readFeatureFromObject(t, e)];
    return o;
  }
  readGeometryFromObject(t, e) {
    return Th(t, e);
  }
  readProjectionFromObject(t) {
    const e = t.crs;
    let n;
    return e ? e.type == "name" ? n = Bt(e.properties.name) : e.type === "EPSG" ? n = Bt("EPSG:" + e.properties.code) : ct(false, 36) : n = this.dataProjection, n;
  }
  writeFeatureObject(t, e) {
    e = this.adaptOptions(e);
    const n = {
      type: "Feature",
      geometry: null,
      properties: null
    }, o = t.getId();
    if (o !== void 0 && (n.id = o), !t.hasProperties())
      return n;
    const r3 = t.getProperties(), s = t.getGeometry();
    return s && (n.geometry = Ih(s, e), delete r3[t.getGeometryName()]), to(r3) || (n.properties = r3), n;
  }
  writeFeaturesObject(t, e) {
    e = this.adaptOptions(e);
    const n = [];
    for (let o = 0, r3 = t.length; o < r3; ++o)
      n.push(this.writeFeatureObject(t[o], e));
    return {
      type: "FeatureCollection",
      features: n
    };
  }
  writeGeometryObject(t, e) {
    return Ih(t, this.adaptOptions(e));
  }
}
function Th(i, t) {
  if (!i)
    return null;
  let e;
  switch (i.type) {
    case "Point": {
      e = Q_(i);
      break;
    }
    case "LineString": {
      e = t1(
        i
      );
      break;
    }
    case "Polygon": {
      e = o1(i);
      break;
    }
    case "MultiPoint": {
      e = i1(
        i
      );
      break;
    }
    case "MultiLineString": {
      e = e1(
        i
      );
      break;
    }
    case "MultiPolygon": {
      e = n1(
        i
      );
      break;
    }
    case "GeometryCollection": {
      e = J_(
        i
      );
      break;
    }
    default:
      throw new Error("Unsupported GeoJSON type: " + i.type);
  }
  return Yu(e, false, t);
}
function J_(i, t) {
  const e = i.geometries.map(
    function(n) {
      return Th(n, t);
    }
  );
  return new H_(e);
}
function Q_(i) {
  return new si(i.coordinates);
}
function t1(i) {
  return new Hn(i.coordinates);
}
function e1(i) {
  return new Xu(i.coordinates);
}
function i1(i) {
  return new ms(i.coordinates);
}
function n1(i) {
  return new Vu(i.coordinates);
}
function o1(i) {
  return new eo(i.coordinates);
}
function Ih(i, t) {
  i = Yu(i, true, t);
  const e = i.getType();
  let n;
  switch (e) {
    case "Point": {
      n = u1(i);
      break;
    }
    case "LineString": {
      n = s1(
        i
      );
      break;
    }
    case "Polygon": {
      n = d1(
        i,
        t
      );
      break;
    }
    case "MultiPoint": {
      n = l1(
        i
      );
      break;
    }
    case "MultiLineString": {
      n = a1(
        i
      );
      break;
    }
    case "MultiPolygon": {
      n = h1(
        i,
        t
      );
      break;
    }
    case "GeometryCollection": {
      n = r1(
        i,
        t
      );
      break;
    }
    case "Circle": {
      n = {
        type: "GeometryCollection",
        geometries: []
      };
      break;
    }
    default:
      throw new Error("Unsupported geometry type: " + e);
  }
  return n;
}
function r1(i, t) {
  t = Object.assign({}, t), delete t.featureProjection;
  const e = i.getGeometriesArray().map(function(n) {
    return Ih(n, t);
  });
  return {
    type: "GeometryCollection",
    geometries: e
  };
}
function s1(i, t) {
  return {
    type: "LineString",
    coordinates: i.getCoordinates()
  };
}
function a1(i, t) {
  return {
    type: "MultiLineString",
    coordinates: i.getCoordinates()
  };
}
function l1(i, t) {
  return {
    type: "MultiPoint",
    coordinates: i.getCoordinates()
  };
}
function h1(i, t) {
  let e;
  return t && (e = t.rightHanded), {
    type: "MultiPolygon",
    coordinates: i.getCoordinates(e)
  };
}
function u1(i, t) {
  return {
    type: "Point",
    coordinates: i.getCoordinates()
  };
}
function d1(i, t) {
  let e;
  return t && (e = t.rightHanded), {
    type: "Polygon",
    coordinates: i.getCoordinates(e)
  };
}
const Bn = K_;
class qu {
  constructor(t) {
    t = t || {}, this.color_ = t.color !== void 0 ? t.color : null;
  }
  clone() {
    const t = this.getColor();
    return new qu({
      color: Array.isArray(t) ? t.slice() : t || void 0
    });
  }
  getColor() {
    return this.color_;
  }
  setColor(t) {
    this.color_ = t;
  }
}
const _e = qu, te = {
  IDLE: 0,
  LOADING: 1,
  LOADED: 2,
  ERROR: 3,
  EMPTY: 4
};
class $u {
  constructor(t) {
    this.opacity_ = t.opacity, this.rotateWithView_ = t.rotateWithView, this.rotation_ = t.rotation, this.scale_ = t.scale, this.scaleArray_ = Ee(t.scale), this.displacement_ = t.displacement, this.declutterMode_ = t.declutterMode;
  }
  clone() {
    const t = this.getScale();
    return new $u({
      opacity: this.getOpacity(),
      scale: Array.isArray(t) ? t.slice() : t,
      rotation: this.getRotation(),
      rotateWithView: this.getRotateWithView(),
      displacement: this.getDisplacement().slice(),
      declutterMode: this.getDeclutterMode()
    });
  }
  getOpacity() {
    return this.opacity_;
  }
  getRotateWithView() {
    return this.rotateWithView_;
  }
  getRotation() {
    return this.rotation_;
  }
  getScale() {
    return this.scale_;
  }
  getScaleArray() {
    return this.scaleArray_;
  }
  getDisplacement() {
    return this.displacement_;
  }
  getDeclutterMode() {
    return this.declutterMode_;
  }
  getAnchor() {
    return tt();
  }
  getImage(t) {
    return tt();
  }
  getHitDetectionImage() {
    return tt();
  }
  getPixelRatio(t) {
    return 1;
  }
  getImageState() {
    return tt();
  }
  getImageSize() {
    return tt();
  }
  getOrigin() {
    return tt();
  }
  getSize() {
    return tt();
  }
  setDisplacement(t) {
    this.displacement_ = t;
  }
  setOpacity(t) {
    this.opacity_ = t;
  }
  setRotateWithView(t) {
    this.rotateWithView_ = t;
  }
  setRotation(t) {
    this.rotation_ = t;
  }
  setScale(t) {
    this.scale_ = t, this.scaleArray_ = Ee(t);
  }
  listenImageChange(t) {
    tt();
  }
  load() {
    tt();
  }
  unlistenImageChange(t) {
    tt();
  }
}
const Uf = $u;
function Vf(i, t, e) {
  const n = i;
  let o = true, r3 = false, s = false;
  const a = [
    aa(n, Q.LOAD, function() {
      s = true, r3 || t();
    })
  ];
  return n.src && h0 ? (r3 = true, n.decode().then(function() {
    o && t();
  }).catch(function(l) {
    o && (s ? t() : e());
  })) : a.push(aa(n, Q.ERROR, e)), function() {
    o = false, a.forEach(jt);
  };
}
let xr = null;
class c1 extends Ba {
  constructor(t, e, n, o, r3, s) {
    super(), this.hitDetectionImage_ = null, this.image_ = t, this.crossOrigin_ = o, this.canvas_ = {}, this.color_ = s, this.unlisten_ = null, this.imageState_ = r3, this.size_ = n, this.src_ = e, this.tainted_;
  }
  initializeImage_() {
    this.image_ = new Image(), this.crossOrigin_ !== null && (this.image_.crossOrigin = this.crossOrigin_);
  }
  isTainted_() {
    if (this.tainted_ === void 0 && this.imageState_ === te.LOADED) {
      xr || (xr = Fe(1, 1)), xr.drawImage(this.image_, 0, 0);
      try {
        xr.getImageData(0, 0, 1, 1), this.tainted_ = false;
      } catch {
        xr = null, this.tainted_ = true;
      }
    }
    return this.tainted_ === true;
  }
  dispatchChangeEvent_() {
    this.dispatchEvent(Q.CHANGE);
  }
  handleImageError_() {
    this.imageState_ = te.ERROR, this.unlistenImage_(), this.dispatchChangeEvent_();
  }
  handleImageLoad_() {
    this.imageState_ = te.LOADED, this.size_ ? (this.image_.width = this.size_[0], this.image_.height = this.size_[1]) : this.size_ = [this.image_.width, this.image_.height], this.unlistenImage_(), this.dispatchChangeEvent_();
  }
  getImage(t) {
    return this.image_ || this.initializeImage_(), this.replaceColor_(t), this.canvas_[t] ? this.canvas_[t] : this.image_;
  }
  getPixelRatio(t) {
    return this.replaceColor_(t), this.canvas_[t] ? t : 1;
  }
  getImageState() {
    return this.imageState_;
  }
  getHitDetectionImage() {
    if (this.image_ || this.initializeImage_(), !this.hitDetectionImage_)
      if (this.isTainted_()) {
        const t = this.size_[0], e = this.size_[1], n = Fe(t, e);
        n.fillRect(0, 0, t, e), this.hitDetectionImage_ = n.canvas;
      } else
        this.hitDetectionImage_ = this.image_;
    return this.hitDetectionImage_;
  }
  getSize() {
    return this.size_;
  }
  getSrc() {
    return this.src_;
  }
  load() {
    if (this.imageState_ === te.IDLE) {
      this.image_ || this.initializeImage_(), this.imageState_ = te.LOADING;
      try {
        this.image_.src = this.src_;
      } catch {
        this.handleImageError_();
      }
      this.unlisten_ = Vf(
        this.image_,
        this.handleImageLoad_.bind(this),
        this.handleImageError_.bind(this)
      );
    }
  }
  replaceColor_(t) {
    if (!this.color_ || this.canvas_[t] || this.imageState_ !== te.LOADED)
      return;
    const e = this.image_, n = document.createElement("canvas");
    n.width = Math.ceil(e.width * t), n.height = Math.ceil(e.height * t);
    const o = n.getContext("2d");
    o.scale(t, t), o.drawImage(e, 0, 0), o.globalCompositeOperation = "multiply", o.fillStyle = ku(this.color_), o.fillRect(0, 0, n.width / t, n.height / t), o.globalCompositeOperation = "destination-in", o.drawImage(e, 0, 0), this.canvas_[t] = n;
  }
  unlistenImage_() {
    this.unlisten_ && (this.unlisten_(), this.unlisten_ = null);
  }
}
function g1(i, t, e, n, o, r3) {
  let s = ua.get(t, n, r3);
  return s || (s = new c1(i, t, e, n, o, r3), ua.set(t, n, r3, s)), s;
}
class Hu extends Uf {
  constructor(t) {
    t = t || {};
    const e = t.opacity !== void 0 ? t.opacity : 1, n = t.rotation !== void 0 ? t.rotation : 0, o = t.scale !== void 0 ? t.scale : 1, r3 = t.rotateWithView !== void 0 ? t.rotateWithView : false;
    super({
      opacity: e,
      rotation: n,
      scale: o,
      displacement: t.displacement !== void 0 ? t.displacement : [0, 0],
      rotateWithView: r3,
      declutterMode: t.declutterMode
    }), this.anchor_ = t.anchor !== void 0 ? t.anchor : [0.5, 0.5], this.normalizedAnchor_ = null, this.anchorOrigin_ = t.anchorOrigin !== void 0 ? t.anchorOrigin : "top-left", this.anchorXUnits_ = t.anchorXUnits !== void 0 ? t.anchorXUnits : "fraction", this.anchorYUnits_ = t.anchorYUnits !== void 0 ? t.anchorYUnits : "fraction", this.crossOrigin_ = t.crossOrigin !== void 0 ? t.crossOrigin : null;
    const s = t.img !== void 0 ? t.img : null;
    this.imgSize_ = t.imgSize;
    let a = t.src;
    ct(!(a !== void 0 && s), 4), ct(!s || s && this.imgSize_, 5), (a === void 0 || a.length === 0) && s && (a = s.src || H(s)), ct(a !== void 0 && a.length > 0, 6);
    const l = t.src !== void 0 ? te.IDLE : te.LOADED;
    this.color_ = t.color !== void 0 ? Zr(t.color) : null, this.iconImage_ = g1(
      s,
      a,
      this.imgSize_ !== void 0 ? this.imgSize_ : null,
      this.crossOrigin_,
      l,
      this.color_
    ), this.offset_ = t.offset !== void 0 ? t.offset : [0, 0], this.offsetOrigin_ = t.offsetOrigin !== void 0 ? t.offsetOrigin : "top-left", this.origin_ = null, this.size_ = t.size !== void 0 ? t.size : null;
  }
  clone() {
    const t = this.getScale();
    return new Hu({
      anchor: this.anchor_.slice(),
      anchorOrigin: this.anchorOrigin_,
      anchorXUnits: this.anchorXUnits_,
      anchorYUnits: this.anchorYUnits_,
      color: this.color_ && this.color_.slice ? this.color_.slice() : this.color_ || void 0,
      crossOrigin: this.crossOrigin_,
      imgSize: this.imgSize_,
      offset: this.offset_.slice(),
      offsetOrigin: this.offsetOrigin_,
      opacity: this.getOpacity(),
      rotateWithView: this.getRotateWithView(),
      rotation: this.getRotation(),
      scale: Array.isArray(t) ? t.slice() : t,
      size: this.size_ !== null ? this.size_.slice() : void 0,
      src: this.getSrc(),
      displacement: this.getDisplacement().slice(),
      declutterMode: this.getDeclutterMode()
    });
  }
  getAnchor() {
    let t = this.normalizedAnchor_;
    if (!t) {
      t = this.anchor_;
      const o = this.getSize();
      if (this.anchorXUnits_ == "fraction" || this.anchorYUnits_ == "fraction") {
        if (!o)
          return null;
        t = this.anchor_.slice(), this.anchorXUnits_ == "fraction" && (t[0] *= o[0]), this.anchorYUnits_ == "fraction" && (t[1] *= o[1]);
      }
      if (this.anchorOrigin_ != "top-left") {
        if (!o)
          return null;
        t === this.anchor_ && (t = this.anchor_.slice()), (this.anchorOrigin_ == "top-right" || this.anchorOrigin_ == "bottom-right") && (t[0] = -t[0] + o[0]), (this.anchorOrigin_ == "bottom-left" || this.anchorOrigin_ == "bottom-right") && (t[1] = -t[1] + o[1]);
      }
      this.normalizedAnchor_ = t;
    }
    const e = this.getDisplacement(), n = this.getScaleArray();
    return [
      t[0] - e[0] / n[0],
      t[1] + e[1] / n[1]
    ];
  }
  setAnchor(t) {
    this.anchor_ = t, this.normalizedAnchor_ = null;
  }
  getColor() {
    return this.color_;
  }
  getImage(t) {
    return this.iconImage_.getImage(t);
  }
  getPixelRatio(t) {
    return this.iconImage_.getPixelRatio(t);
  }
  getImageSize() {
    return this.iconImage_.getSize();
  }
  getImageState() {
    return this.iconImage_.getImageState();
  }
  getHitDetectionImage() {
    return this.iconImage_.getHitDetectionImage();
  }
  getOrigin() {
    if (this.origin_)
      return this.origin_;
    let t = this.offset_;
    if (this.offsetOrigin_ != "top-left") {
      const e = this.getSize(), n = this.iconImage_.getSize();
      if (!e || !n)
        return null;
      t = t.slice(), (this.offsetOrigin_ == "top-right" || this.offsetOrigin_ == "bottom-right") && (t[0] = n[0] - e[0] - t[0]), (this.offsetOrigin_ == "bottom-left" || this.offsetOrigin_ == "bottom-right") && (t[1] = n[1] - e[1] - t[1]);
    }
    return this.origin_ = t, this.origin_;
  }
  getSrc() {
    return this.iconImage_.getSrc();
  }
  getSize() {
    return this.size_ ? this.size_ : this.iconImage_.getSize();
  }
  listenImageChange(t) {
    this.iconImage_.addEventListener(Q.CHANGE, t);
  }
  load() {
    this.iconImage_.load();
  }
  unlistenImageChange(t) {
    this.iconImage_.removeEventListener(Q.CHANGE, t);
  }
}
const Qa = Hu;
class Ku {
  constructor(t) {
    t = t || {}, this.color_ = t.color !== void 0 ? t.color : null, this.lineCap_ = t.lineCap, this.lineDash_ = t.lineDash !== void 0 ? t.lineDash : null, this.lineDashOffset_ = t.lineDashOffset, this.lineJoin_ = t.lineJoin, this.miterLimit_ = t.miterLimit, this.width_ = t.width;
  }
  clone() {
    const t = this.getColor();
    return new Ku({
      color: Array.isArray(t) ? t.slice() : t || void 0,
      lineCap: this.getLineCap(),
      lineDash: this.getLineDash() ? this.getLineDash().slice() : void 0,
      lineDashOffset: this.getLineDashOffset(),
      lineJoin: this.getLineJoin(),
      miterLimit: this.getMiterLimit(),
      width: this.getWidth()
    });
  }
  getColor() {
    return this.color_;
  }
  getLineCap() {
    return this.lineCap_;
  }
  getLineDash() {
    return this.lineDash_;
  }
  getLineDashOffset() {
    return this.lineDashOffset_;
  }
  getLineJoin() {
    return this.lineJoin_;
  }
  getMiterLimit() {
    return this.miterLimit_;
  }
  getWidth() {
    return this.width_;
  }
  setColor(t) {
    this.color_ = t;
  }
  setLineCap(t) {
    this.lineCap_ = t;
  }
  setLineDash(t) {
    this.lineDash_ = t;
  }
  setLineDashOffset(t) {
    this.lineDashOffset_ = t;
  }
  setLineJoin(t) {
    this.lineJoin_ = t;
  }
  setMiterLimit(t) {
    this.miterLimit_ = t;
  }
  setWidth(t) {
    this.width_ = t;
  }
}
const Te = Ku;
function fi(i) {
  return Array.isArray(i) ? vf(i) : i;
}
class Ju extends Uf {
  constructor(t) {
    const e = t.rotateWithView !== void 0 ? t.rotateWithView : false;
    super({
      opacity: 1,
      rotateWithView: e,
      rotation: t.rotation !== void 0 ? t.rotation : 0,
      scale: t.scale !== void 0 ? t.scale : 1,
      displacement: t.displacement !== void 0 ? t.displacement : [0, 0],
      declutterMode: t.declutterMode
    }), this.canvas_ = void 0, this.hitDetectionCanvas_ = null, this.fill_ = t.fill !== void 0 ? t.fill : null, this.origin_ = [0, 0], this.points_ = t.points, this.radius_ = t.radius !== void 0 ? t.radius : t.radius1, this.radius2_ = t.radius2, this.angle_ = t.angle !== void 0 ? t.angle : 0, this.stroke_ = t.stroke !== void 0 ? t.stroke : null, this.size_ = null, this.renderOptions_ = null, this.render();
  }
  clone() {
    const t = this.getScale(), e = new Ju({
      fill: this.getFill() ? this.getFill().clone() : void 0,
      points: this.getPoints(),
      radius: this.getRadius(),
      radius2: this.getRadius2(),
      angle: this.getAngle(),
      stroke: this.getStroke() ? this.getStroke().clone() : void 0,
      rotation: this.getRotation(),
      rotateWithView: this.getRotateWithView(),
      scale: Array.isArray(t) ? t.slice() : t,
      displacement: this.getDisplacement().slice(),
      declutterMode: this.getDeclutterMode()
    });
    return e.setOpacity(this.getOpacity()), e;
  }
  getAnchor() {
    const t = this.size_;
    if (!t)
      return null;
    const e = this.getDisplacement(), n = this.getScaleArray();
    return [
      t[0] / 2 - e[0] / n[0],
      t[1] / 2 + e[1] / n[1]
    ];
  }
  getAngle() {
    return this.angle_;
  }
  getFill() {
    return this.fill_;
  }
  setFill(t) {
    this.fill_ = t, this.render();
  }
  getHitDetectionImage() {
    return this.hitDetectionCanvas_ || this.createHitDetectionCanvas_(this.renderOptions_), this.hitDetectionCanvas_;
  }
  getImage(t) {
    let e = this.canvas_[t];
    if (!e) {
      const n = this.renderOptions_, o = Fe(
        n.size * t,
        n.size * t
      );
      this.draw_(n, o, t), e = o.canvas, this.canvas_[t] = e;
    }
    return e;
  }
  getPixelRatio(t) {
    return t;
  }
  getImageSize() {
    return this.size_;
  }
  getImageState() {
    return te.LOADED;
  }
  getOrigin() {
    return this.origin_;
  }
  getPoints() {
    return this.points_;
  }
  getRadius() {
    return this.radius_;
  }
  getRadius2() {
    return this.radius2_;
  }
  getSize() {
    return this.size_;
  }
  getStroke() {
    return this.stroke_;
  }
  setStroke(t) {
    this.stroke_ = t, this.render();
  }
  listenImageChange(t) {
  }
  load() {
  }
  unlistenImageChange(t) {
  }
  calculateLineJoinSize_(t, e, n) {
    if (e === 0 || this.points_ === 1 / 0 || t !== "bevel" && t !== "miter")
      return e;
    let o = this.radius_, r3 = this.radius2_ === void 0 ? o : this.radius2_;
    if (o < r3) {
      const w = o;
      o = r3, r3 = w;
    }
    const s = this.radius2_ === void 0 ? this.points_ : this.points_ * 2, a = 2 * Math.PI / s, l = r3 * Math.sin(a), h = Math.sqrt(r3 * r3 - l * l), u = o - h, d = Math.sqrt(l * l + u * u), c = d / l;
    if (t === "miter" && c <= n)
      return c * e;
    const g = e / 2 / c, f = e / 2 * (u / d), p = Math.sqrt((o + g) * (o + g) + f * f) - o;
    if (this.radius2_ === void 0 || t === "bevel")
      return p * 2;
    const _ = o * Math.sin(a), v = Math.sqrt(o * o - _ * _), y = r3 - v, k = Math.sqrt(_ * _ + y * y) / _;
    if (k <= n) {
      const w = k * e / 2 - r3 - o;
      return 2 * Math.max(p, w);
    }
    return p * 2;
  }
  createRenderOptions() {
    let t = tr, e = 0, n = null, o = 0, r3, s = 0;
    this.stroke_ && (r3 = this.stroke_.getColor(), r3 === null && (r3 = Vr), r3 = fi(r3), s = this.stroke_.getWidth(), s === void 0 && (s = $r), n = this.stroke_.getLineDash(), o = this.stroke_.getLineDashOffset(), t = this.stroke_.getLineJoin(), t === void 0 && (t = tr), e = this.stroke_.getMiterLimit(), e === void 0 && (e = Ur));
    const a = this.calculateLineJoinSize_(t, s, e), l = Math.max(this.radius_, this.radius2_ || 0), h = Math.ceil(2 * l + a);
    return {
      strokeStyle: r3,
      strokeWidth: s,
      size: h,
      lineDash: n,
      lineDashOffset: o,
      lineJoin: t,
      miterLimit: e
    };
  }
  render() {
    this.renderOptions_ = this.createRenderOptions();
    const t = this.renderOptions_.size;
    this.canvas_ = {}, this.size_ = [t, t];
  }
  draw_(t, e, n) {
    if (e.scale(n, n), e.translate(t.size / 2, t.size / 2), this.createPath_(e), this.fill_) {
      let o = this.fill_.getColor();
      o === null && (o = Li), e.fillStyle = fi(o), e.fill();
    }
    this.stroke_ && (e.strokeStyle = t.strokeStyle, e.lineWidth = t.strokeWidth, t.lineDash && (e.setLineDash(t.lineDash), e.lineDashOffset = t.lineDashOffset), e.lineJoin = t.lineJoin, e.miterLimit = t.miterLimit, e.stroke());
  }
  createHitDetectionCanvas_(t) {
    if (this.fill_) {
      let e = this.fill_.getColor(), n = 0;
      if (typeof e == "string" && (e = Zr(e)), e === null ? n = 1 : Array.isArray(e) && (n = e.length === 4 ? e[3] : 1), n === 0) {
        const o = Fe(
          t.size,
          t.size
        );
        this.hitDetectionCanvas_ = o.canvas, this.drawHitDetectionCanvas_(t, o);
      }
    }
    this.hitDetectionCanvas_ || (this.hitDetectionCanvas_ = this.getImage(1));
  }
  createPath_(t) {
    let e = this.points_;
    const n = this.radius_;
    if (e === 1 / 0)
      t.arc(0, 0, n, 0, 2 * Math.PI);
    else {
      const o = this.radius2_ === void 0 ? n : this.radius2_;
      this.radius2_ !== void 0 && (e *= 2);
      const r3 = this.angle_ - Math.PI / 2, s = 2 * Math.PI / e;
      for (let a = 0; a < e; a++) {
        const l = r3 + a * s, h = a % 2 === 0 ? n : o;
        t.lineTo(h * Math.cos(l), h * Math.sin(l));
      }
      t.closePath();
    }
  }
  drawHitDetectionCanvas_(t, e) {
    e.translate(t.size / 2, t.size / 2), this.createPath_(e), e.fillStyle = Li, e.fill(), this.stroke_ && (e.strokeStyle = t.strokeStyle, e.lineWidth = t.strokeWidth, t.lineDash && (e.setLineDash(t.lineDash), e.lineDashOffset = t.lineDashOffset), e.lineJoin = t.lineJoin, e.miterLimit = t.miterLimit, e.stroke());
  }
}
const tl = Ju;
class Qu extends tl {
  constructor(t) {
    t = t || { radius: 5 }, super({
      points: 1 / 0,
      fill: t.fill,
      radius: t.radius,
      stroke: t.stroke,
      scale: t.scale !== void 0 ? t.scale : 1,
      rotation: t.rotation !== void 0 ? t.rotation : 0,
      rotateWithView: t.rotateWithView !== void 0 ? t.rotateWithView : false,
      displacement: t.displacement !== void 0 ? t.displacement : [0, 0],
      declutterMode: t.declutterMode
    });
  }
  clone() {
    const t = this.getScale(), e = new Qu({
      fill: this.getFill() ? this.getFill().clone() : void 0,
      stroke: this.getStroke() ? this.getStroke().clone() : void 0,
      radius: this.getRadius(),
      scale: Array.isArray(t) ? t.slice() : t,
      rotation: this.getRotation(),
      rotateWithView: this.getRotateWithView(),
      displacement: this.getDisplacement().slice(),
      declutterMode: this.getDeclutterMode()
    });
    return e.setOpacity(this.getOpacity()), e;
  }
  setRadius(t) {
    this.radius_ = t, this.render();
  }
}
const go = Qu;
class nn {
  constructor(t) {
    t = t || {}, this.geometry_ = null, this.geometryFunction_ = xc, t.geometry !== void 0 && this.setGeometry(t.geometry), this.fill_ = t.fill !== void 0 ? t.fill : null, this.image_ = t.image !== void 0 ? t.image : null, this.renderer_ = t.renderer !== void 0 ? t.renderer : null, this.hitDetectionRenderer_ = t.hitDetectionRenderer !== void 0 ? t.hitDetectionRenderer : null, this.stroke_ = t.stroke !== void 0 ? t.stroke : null, this.text_ = t.text !== void 0 ? t.text : null, this.zIndex_ = t.zIndex;
  }
  clone() {
    let t = this.getGeometry();
    return t && typeof t == "object" && (t = t.clone()), new nn({
      geometry: t,
      fill: this.getFill() ? this.getFill().clone() : void 0,
      image: this.getImage() ? this.getImage().clone() : void 0,
      renderer: this.getRenderer(),
      stroke: this.getStroke() ? this.getStroke().clone() : void 0,
      text: this.getText() ? this.getText().clone() : void 0,
      zIndex: this.getZIndex()
    });
  }
  getRenderer() {
    return this.renderer_;
  }
  setRenderer(t) {
    this.renderer_ = t;
  }
  setHitDetectionRenderer(t) {
    this.hitDetectionRenderer_ = t;
  }
  getHitDetectionRenderer() {
    return this.hitDetectionRenderer_;
  }
  getGeometry() {
    return this.geometry_;
  }
  getGeometryFunction() {
    return this.geometryFunction_;
  }
  getFill() {
    return this.fill_;
  }
  setFill(t) {
    this.fill_ = t;
  }
  getImage() {
    return this.image_;
  }
  setImage(t) {
    this.image_ = t;
  }
  getStroke() {
    return this.stroke_;
  }
  setStroke(t) {
    this.stroke_ = t;
  }
  getText() {
    return this.text_;
  }
  setText(t) {
    this.text_ = t;
  }
  getZIndex() {
    return this.zIndex_;
  }
  setGeometry(t) {
    typeof t == "function" ? this.geometryFunction_ = t : typeof t == "string" ? this.geometryFunction_ = function(e) {
      return e.get(t);
    } : t ? t !== void 0 && (this.geometryFunction_ = function() {
      return t;
    }) : this.geometryFunction_ = xc, this.geometry_ = t;
  }
  setZIndex(t) {
    this.zIndex_ = t;
  }
}
function f1(i) {
  let t;
  if (typeof i == "function")
    t = i;
  else {
    let e;
    Array.isArray(i) ? e = i : (ct(typeof i.getZIndex == "function", 41), e = [i]), t = function() {
      return e;
    };
  }
  return t;
}
let Ol = null;
function m1(i, t) {
  if (!Ol) {
    const e = new _e({
      color: "rgba(255,255,255,0.4)"
    }), n = new Te({
      color: "#3399CC",
      width: 1.25
    });
    Ol = [
      new nn({
        image: new go({
          fill: e,
          stroke: n,
          radius: 5
        }),
        fill: e,
        stroke: n
      })
    ];
  }
  return Ol;
}
function qf() {
  const i = {}, t = [255, 255, 255, 1], e = [0, 153, 255, 1], n = 3;
  return i.Polygon = [
    new nn({
      fill: new _e({
        color: [255, 255, 255, 0.5]
      })
    })
  ], i.MultiPolygon = i.Polygon, i.LineString = [
    new nn({
      stroke: new Te({
        color: t,
        width: n + 2
      })
    }),
    new nn({
      stroke: new Te({
        color: e,
        width: n
      })
    })
  ], i.MultiLineString = i.LineString, i.Circle = i.Polygon.concat(i.LineString), i.Point = [
    new nn({
      image: new go({
        radius: n * 2,
        fill: new _e({
          color: e
        }),
        stroke: new Te({
          color: t,
          width: n / 2
        })
      }),
      zIndex: 1 / 0
    })
  ], i.MultiPoint = i.Point, i.GeometryCollection = i.Polygon.concat(
    i.LineString,
    i.Point
  ), i;
}
function xc(i) {
  return i.getGeometry();
}
const ce = nn, p1 = "#333";
class td {
  constructor(t) {
    t = t || {}, this.font_ = t.font, this.rotation_ = t.rotation, this.rotateWithView_ = t.rotateWithView, this.scale_ = t.scale, this.scaleArray_ = Ee(t.scale !== void 0 ? t.scale : 1), this.text_ = t.text, this.textAlign_ = t.textAlign, this.justify_ = t.justify, this.textBaseline_ = t.textBaseline, this.fill_ = t.fill !== void 0 ? t.fill : new _e({ color: p1 }), this.maxAngle_ = t.maxAngle !== void 0 ? t.maxAngle : Math.PI / 4, this.placement_ = t.placement !== void 0 ? t.placement : "point", this.overflow_ = !!t.overflow, this.stroke_ = t.stroke !== void 0 ? t.stroke : null, this.offsetX_ = t.offsetX !== void 0 ? t.offsetX : 0, this.offsetY_ = t.offsetY !== void 0 ? t.offsetY : 0, this.backgroundFill_ = t.backgroundFill ? t.backgroundFill : null, this.backgroundStroke_ = t.backgroundStroke ? t.backgroundStroke : null, this.padding_ = t.padding === void 0 ? null : t.padding;
  }
  clone() {
    const t = this.getScale();
    return new td({
      font: this.getFont(),
      placement: this.getPlacement(),
      maxAngle: this.getMaxAngle(),
      overflow: this.getOverflow(),
      rotation: this.getRotation(),
      rotateWithView: this.getRotateWithView(),
      scale: Array.isArray(t) ? t.slice() : t,
      text: this.getText(),
      textAlign: this.getTextAlign(),
      justify: this.getJustify(),
      textBaseline: this.getTextBaseline(),
      fill: this.getFill() ? this.getFill().clone() : void 0,
      stroke: this.getStroke() ? this.getStroke().clone() : void 0,
      offsetX: this.getOffsetX(),
      offsetY: this.getOffsetY(),
      backgroundFill: this.getBackgroundFill() ? this.getBackgroundFill().clone() : void 0,
      backgroundStroke: this.getBackgroundStroke() ? this.getBackgroundStroke().clone() : void 0,
      padding: this.getPadding() || void 0
    });
  }
  getOverflow() {
    return this.overflow_;
  }
  getFont() {
    return this.font_;
  }
  getMaxAngle() {
    return this.maxAngle_;
  }
  getPlacement() {
    return this.placement_;
  }
  getOffsetX() {
    return this.offsetX_;
  }
  getOffsetY() {
    return this.offsetY_;
  }
  getFill() {
    return this.fill_;
  }
  getRotateWithView() {
    return this.rotateWithView_;
  }
  getRotation() {
    return this.rotation_;
  }
  getScale() {
    return this.scale_;
  }
  getScaleArray() {
    return this.scaleArray_;
  }
  getStroke() {
    return this.stroke_;
  }
  getText() {
    return this.text_;
  }
  getTextAlign() {
    return this.textAlign_;
  }
  getJustify() {
    return this.justify_;
  }
  getTextBaseline() {
    return this.textBaseline_;
  }
  getBackgroundFill() {
    return this.backgroundFill_;
  }
  getBackgroundStroke() {
    return this.backgroundStroke_;
  }
  getPadding() {
    return this.padding_;
  }
  setOverflow(t) {
    this.overflow_ = t;
  }
  setFont(t) {
    this.font_ = t;
  }
  setMaxAngle(t) {
    this.maxAngle_ = t;
  }
  setOffsetX(t) {
    this.offsetX_ = t;
  }
  setOffsetY(t) {
    this.offsetY_ = t;
  }
  setPlacement(t) {
    this.placement_ = t;
  }
  setRotateWithView(t) {
    this.rotateWithView_ = t;
  }
  setFill(t) {
    this.fill_ = t;
  }
  setRotation(t) {
    this.rotation_ = t;
  }
  setScale(t) {
    this.scale_ = t, this.scaleArray_ = Ee(t !== void 0 ? t : 1);
  }
  setStroke(t) {
    this.stroke_ = t;
  }
  setText(t) {
    this.text_ = t;
  }
  setTextAlign(t) {
    this.textAlign_ = t;
  }
  setJustify(t) {
    this.justify_ = t;
  }
  setTextBaseline(t) {
    this.textBaseline_ = t;
  }
  setBackgroundFill(t) {
    this.backgroundFill_ = t;
  }
  setBackgroundStroke(t) {
    this.backgroundStroke_ = t;
  }
  setPadding(t) {
    this.padding_ = t;
  }
}
const $f = td;
function v1(i) {
  return i && i.__esModule && Object.prototype.hasOwnProperty.call(i, "default") ? i.default : i;
}
var ed = {};
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
ed.read = function(i, t, e, n, o) {
  var r3, s, a = o * 8 - n - 1, l = (1 << a) - 1, h = l >> 1, u = -7, d = e ? o - 1 : 0, c = e ? -1 : 1, g = i[t + d];
  for (d += c, r3 = g & (1 << -u) - 1, g >>= -u, u += a; u > 0; r3 = r3 * 256 + i[t + d], d += c, u -= 8)
    ;
  for (s = r3 & (1 << -u) - 1, r3 >>= -u, u += n; u > 0; s = s * 256 + i[t + d], d += c, u -= 8)
    ;
  if (r3 === 0)
    r3 = 1 - h;
  else {
    if (r3 === l)
      return s ? NaN : (g ? -1 : 1) * (1 / 0);
    s = s + Math.pow(2, n), r3 = r3 - h;
  }
  return (g ? -1 : 1) * s * Math.pow(2, r3 - n);
};
ed.write = function(i, t, e, n, o, r3) {
  var s, a, l, h = r3 * 8 - o - 1, u = (1 << h) - 1, d = u >> 1, c = o === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0, g = n ? 0 : r3 - 1, f = n ? 1 : -1, m = t < 0 || t === 0 && 1 / t < 0 ? 1 : 0;
  for (t = Math.abs(t), isNaN(t) || t === 1 / 0 ? (a = isNaN(t) ? 1 : 0, s = u) : (s = Math.floor(Math.log(t) / Math.LN2), t * (l = Math.pow(2, -s)) < 1 && (s--, l *= 2), s + d >= 1 ? t += c / l : t += c * Math.pow(2, 1 - d), t * l >= 2 && (s++, l /= 2), s + d >= u ? (a = 0, s = u) : s + d >= 1 ? (a = (t * l - 1) * Math.pow(2, o), s = s + d) : (a = t * Math.pow(2, d - 1) * Math.pow(2, o), s = 0)); o >= 8; i[e + g] = a & 255, g += f, a /= 256, o -= 8)
    ;
  for (s = s << o | a, h += o; h > 0; i[e + g] = s & 255, g += f, s /= 256, h -= 8)
    ;
  i[e + g - f] |= m * 128;
};
var _1 = It, Gs = ed;
function It(i) {
  this.buf = ArrayBuffer.isView && ArrayBuffer.isView(i) ? i : new Uint8Array(i || 0), this.pos = 0, this.type = 0, this.length = this.buf.length;
}
It.Varint = 0;
It.Fixed64 = 1;
It.Bytes = 2;
It.Fixed32 = 5;
var zh = (1 << 16) * (1 << 16), bc = 1 / zh, y1 = 12, Hf = typeof TextDecoder > "u" ? null : new TextDecoder("utf8");
It.prototype = {
  destroy: function() {
    this.buf = null;
  },
  readFields: function(i, t, e) {
    for (e = e || this.length; this.pos < e; ) {
      var n = this.readVarint(), o = n >> 3, r3 = this.pos;
      this.type = n & 7, i(o, t, this), this.pos === r3 && this.skip(n);
    }
    return t;
  },
  readMessage: function(i, t) {
    return this.readFields(i, t, this.readVarint() + this.pos);
  },
  readFixed32: function() {
    var i = js(this.buf, this.pos);
    return this.pos += 4, i;
  },
  readSFixed32: function() {
    var i = wc(this.buf, this.pos);
    return this.pos += 4, i;
  },
  readFixed64: function() {
    var i = js(this.buf, this.pos) + js(this.buf, this.pos + 4) * zh;
    return this.pos += 8, i;
  },
  readSFixed64: function() {
    var i = js(this.buf, this.pos) + wc(this.buf, this.pos + 4) * zh;
    return this.pos += 8, i;
  },
  readFloat: function() {
    var i = Gs.read(this.buf, this.pos, true, 23, 4);
    return this.pos += 4, i;
  },
  readDouble: function() {
    var i = Gs.read(this.buf, this.pos, true, 52, 8);
    return this.pos += 8, i;
  },
  readVarint: function(i) {
    var t = this.buf, e, n;
    return n = t[this.pos++], e = n & 127, n < 128 || (n = t[this.pos++], e |= (n & 127) << 7, n < 128) || (n = t[this.pos++], e |= (n & 127) << 14, n < 128) || (n = t[this.pos++], e |= (n & 127) << 21, n < 128) ? e : (n = t[this.pos], e |= (n & 15) << 28, x1(e, i, this));
  },
  readVarint64: function() {
    return this.readVarint(true);
  },
  readSVarint: function() {
    var i = this.readVarint();
    return i % 2 === 1 ? (i + 1) / -2 : i / 2;
  },
  readBoolean: function() {
    return Boolean(this.readVarint());
  },
  readString: function() {
    var i = this.readVarint() + this.pos, t = this.pos;
    return this.pos = i, i - t >= y1 && Hf ? D1(this.buf, t, i) : P1(this.buf, t, i);
  },
  readBytes: function() {
    var i = this.readVarint() + this.pos, t = this.buf.subarray(this.pos, i);
    return this.pos = i, t;
  },
  readPackedVarint: function(i, t) {
    if (this.type !== It.Bytes)
      return i.push(this.readVarint(t));
    var e = Mi(this);
    for (i = i || []; this.pos < e; )
      i.push(this.readVarint(t));
    return i;
  },
  readPackedSVarint: function(i) {
    if (this.type !== It.Bytes)
      return i.push(this.readSVarint());
    var t = Mi(this);
    for (i = i || []; this.pos < t; )
      i.push(this.readSVarint());
    return i;
  },
  readPackedBoolean: function(i) {
    if (this.type !== It.Bytes)
      return i.push(this.readBoolean());
    var t = Mi(this);
    for (i = i || []; this.pos < t; )
      i.push(this.readBoolean());
    return i;
  },
  readPackedFloat: function(i) {
    if (this.type !== It.Bytes)
      return i.push(this.readFloat());
    var t = Mi(this);
    for (i = i || []; this.pos < t; )
      i.push(this.readFloat());
    return i;
  },
  readPackedDouble: function(i) {
    if (this.type !== It.Bytes)
      return i.push(this.readDouble());
    var t = Mi(this);
    for (i = i || []; this.pos < t; )
      i.push(this.readDouble());
    return i;
  },
  readPackedFixed32: function(i) {
    if (this.type !== It.Bytes)
      return i.push(this.readFixed32());
    var t = Mi(this);
    for (i = i || []; this.pos < t; )
      i.push(this.readFixed32());
    return i;
  },
  readPackedSFixed32: function(i) {
    if (this.type !== It.Bytes)
      return i.push(this.readSFixed32());
    var t = Mi(this);
    for (i = i || []; this.pos < t; )
      i.push(this.readSFixed32());
    return i;
  },
  readPackedFixed64: function(i) {
    if (this.type !== It.Bytes)
      return i.push(this.readFixed64());
    var t = Mi(this);
    for (i = i || []; this.pos < t; )
      i.push(this.readFixed64());
    return i;
  },
  readPackedSFixed64: function(i) {
    if (this.type !== It.Bytes)
      return i.push(this.readSFixed64());
    var t = Mi(this);
    for (i = i || []; this.pos < t; )
      i.push(this.readSFixed64());
    return i;
  },
  skip: function(i) {
    var t = i & 7;
    if (t === It.Varint)
      for (; this.buf[this.pos++] > 127; )
        ;
    else if (t === It.Bytes)
      this.pos = this.readVarint() + this.pos;
    else if (t === It.Fixed32)
      this.pos += 4;
    else if (t === It.Fixed64)
      this.pos += 8;
    else
      throw new Error("Unimplemented type: " + t);
  },
  writeTag: function(i, t) {
    this.writeVarint(i << 3 | t);
  },
  realloc: function(i) {
    for (var t = this.length || 16; t < this.pos + i; )
      t *= 2;
    if (t !== this.length) {
      var e = new Uint8Array(t);
      e.set(this.buf), this.buf = e, this.length = t;
    }
  },
  finish: function() {
    return this.length = this.pos, this.pos = 0, this.buf.subarray(0, this.length);
  },
  writeFixed32: function(i) {
    this.realloc(4), xo(this.buf, i, this.pos), this.pos += 4;
  },
  writeSFixed32: function(i) {
    this.realloc(4), xo(this.buf, i, this.pos), this.pos += 4;
  },
  writeFixed64: function(i) {
    this.realloc(8), xo(this.buf, i & -1, this.pos), xo(this.buf, Math.floor(i * bc), this.pos + 4), this.pos += 8;
  },
  writeSFixed64: function(i) {
    this.realloc(8), xo(this.buf, i & -1, this.pos), xo(this.buf, Math.floor(i * bc), this.pos + 4), this.pos += 8;
  },
  writeVarint: function(i) {
    if (i = +i || 0, i > 268435455 || i < 0) {
      b1(i, this);
      return;
    }
    this.realloc(4), this.buf[this.pos++] = i & 127 | (i > 127 ? 128 : 0), !(i <= 127) && (this.buf[this.pos++] = (i >>>= 7) & 127 | (i > 127 ? 128 : 0), !(i <= 127) && (this.buf[this.pos++] = (i >>>= 7) & 127 | (i > 127 ? 128 : 0), !(i <= 127) && (this.buf[this.pos++] = i >>> 7 & 127)));
  },
  writeSVarint: function(i) {
    this.writeVarint(i < 0 ? -i * 2 - 1 : i * 2);
  },
  writeBoolean: function(i) {
    this.writeVarint(Boolean(i));
  },
  writeString: function(i) {
    i = String(i), this.realloc(i.length * 4), this.pos++;
    var t = this.pos;
    this.pos = L1(this.buf, i, this.pos);
    var e = this.pos - t;
    e >= 128 && kc(t, e, this), this.pos = t - 1, this.writeVarint(e), this.pos += e;
  },
  writeFloat: function(i) {
    this.realloc(4), Gs.write(this.buf, i, this.pos, true, 23, 4), this.pos += 4;
  },
  writeDouble: function(i) {
    this.realloc(8), Gs.write(this.buf, i, this.pos, true, 52, 8), this.pos += 8;
  },
  writeBytes: function(i) {
    var t = i.length;
    this.writeVarint(t), this.realloc(t);
    for (var e = 0; e < t; e++)
      this.buf[this.pos++] = i[e];
  },
  writeRawMessage: function(i, t) {
    this.pos++;
    var e = this.pos;
    i(t, this);
    var n = this.pos - e;
    n >= 128 && kc(e, n, this), this.pos = e - 1, this.writeVarint(n), this.pos += n;
  },
  writeMessage: function(i, t, e) {
    this.writeTag(i, It.Bytes), this.writeRawMessage(t, e);
  },
  writePackedVarint: function(i, t) {
    t.length && this.writeMessage(i, C1, t);
  },
  writePackedSVarint: function(i, t) {
    t.length && this.writeMessage(i, M1, t);
  },
  writePackedBoolean: function(i, t) {
    t.length && this.writeMessage(i, T1, t);
  },
  writePackedFloat: function(i, t) {
    t.length && this.writeMessage(i, E1, t);
  },
  writePackedDouble: function(i, t) {
    t.length && this.writeMessage(i, S1, t);
  },
  writePackedFixed32: function(i, t) {
    t.length && this.writeMessage(i, I1, t);
  },
  writePackedSFixed32: function(i, t) {
    t.length && this.writeMessage(i, z1, t);
  },
  writePackedFixed64: function(i, t) {
    t.length && this.writeMessage(i, R1, t);
  },
  writePackedSFixed64: function(i, t) {
    t.length && this.writeMessage(i, A1, t);
  },
  writeBytesField: function(i, t) {
    this.writeTag(i, It.Bytes), this.writeBytes(t);
  },
  writeFixed32Field: function(i, t) {
    this.writeTag(i, It.Fixed32), this.writeFixed32(t);
  },
  writeSFixed32Field: function(i, t) {
    this.writeTag(i, It.Fixed32), this.writeSFixed32(t);
  },
  writeFixed64Field: function(i, t) {
    this.writeTag(i, It.Fixed64), this.writeFixed64(t);
  },
  writeSFixed64Field: function(i, t) {
    this.writeTag(i, It.Fixed64), this.writeSFixed64(t);
  },
  writeVarintField: function(i, t) {
    this.writeTag(i, It.Varint), this.writeVarint(t);
  },
  writeSVarintField: function(i, t) {
    this.writeTag(i, It.Varint), this.writeSVarint(t);
  },
  writeStringField: function(i, t) {
    this.writeTag(i, It.Bytes), this.writeString(t);
  },
  writeFloatField: function(i, t) {
    this.writeTag(i, It.Fixed32), this.writeFloat(t);
  },
  writeDoubleField: function(i, t) {
    this.writeTag(i, It.Fixed64), this.writeDouble(t);
  },
  writeBooleanField: function(i, t) {
    this.writeVarintField(i, Boolean(t));
  }
};
function x1(i, t, e) {
  var n = e.buf, o, r3;
  if (r3 = n[e.pos++], o = (r3 & 112) >> 4, r3 < 128 || (r3 = n[e.pos++], o |= (r3 & 127) << 3, r3 < 128) || (r3 = n[e.pos++], o |= (r3 & 127) << 10, r3 < 128) || (r3 = n[e.pos++], o |= (r3 & 127) << 17, r3 < 128) || (r3 = n[e.pos++], o |= (r3 & 127) << 24, r3 < 128) || (r3 = n[e.pos++], o |= (r3 & 1) << 31, r3 < 128))
    return yo(i, o, t);
  throw new Error("Expected varint not more than 10 bytes");
}
function Mi(i) {
  return i.type === It.Bytes ? i.readVarint() + i.pos : i.pos + 1;
}
function yo(i, t, e) {
  return e ? t * 4294967296 + (i >>> 0) : (t >>> 0) * 4294967296 + (i >>> 0);
}
function b1(i, t) {
  var e, n;
  if (i >= 0 ? (e = i % 4294967296 | 0, n = i / 4294967296 | 0) : (e = ~(-i % 4294967296), n = ~(-i / 4294967296), e ^ 4294967295 ? e = e + 1 | 0 : (e = 0, n = n + 1 | 0)), i >= 18446744073709552e3 || i < -18446744073709552e3)
    throw new Error("Given varint doesn't fit into 10 bytes");
  t.realloc(10), k1(e, n, t), w1(n, t);
}
function k1(i, t, e) {
  e.buf[e.pos++] = i & 127 | 128, i >>>= 7, e.buf[e.pos++] = i & 127 | 128, i >>>= 7, e.buf[e.pos++] = i & 127 | 128, i >>>= 7, e.buf[e.pos++] = i & 127 | 128, i >>>= 7, e.buf[e.pos] = i & 127;
}
function w1(i, t) {
  var e = (i & 7) << 4;
  t.buf[t.pos++] |= e | ((i >>>= 3) ? 128 : 0), i && (t.buf[t.pos++] = i & 127 | ((i >>>= 7) ? 128 : 0), i && (t.buf[t.pos++] = i & 127 | ((i >>>= 7) ? 128 : 0), i && (t.buf[t.pos++] = i & 127 | ((i >>>= 7) ? 128 : 0), i && (t.buf[t.pos++] = i & 127 | ((i >>>= 7) ? 128 : 0), i && (t.buf[t.pos++] = i & 127)))));
}
function kc(i, t, e) {
  var n = t <= 16383 ? 1 : t <= 2097151 ? 2 : t <= 268435455 ? 3 : Math.floor(Math.log(t) / (Math.LN2 * 7));
  e.realloc(n);
  for (var o = e.pos - 1; o >= i; o--)
    e.buf[o + n] = e.buf[o];
}
function C1(i, t) {
  for (var e = 0; e < i.length; e++)
    t.writeVarint(i[e]);
}
function M1(i, t) {
  for (var e = 0; e < i.length; e++)
    t.writeSVarint(i[e]);
}
function E1(i, t) {
  for (var e = 0; e < i.length; e++)
    t.writeFloat(i[e]);
}
function S1(i, t) {
  for (var e = 0; e < i.length; e++)
    t.writeDouble(i[e]);
}
function T1(i, t) {
  for (var e = 0; e < i.length; e++)
    t.writeBoolean(i[e]);
}
function I1(i, t) {
  for (var e = 0; e < i.length; e++)
    t.writeFixed32(i[e]);
}
function z1(i, t) {
  for (var e = 0; e < i.length; e++)
    t.writeSFixed32(i[e]);
}
function R1(i, t) {
  for (var e = 0; e < i.length; e++)
    t.writeFixed64(i[e]);
}
function A1(i, t) {
  for (var e = 0; e < i.length; e++)
    t.writeSFixed64(i[e]);
}
function js(i, t) {
  return (i[t] | i[t + 1] << 8 | i[t + 2] << 16) + i[t + 3] * 16777216;
}
function xo(i, t, e) {
  i[e] = t, i[e + 1] = t >>> 8, i[e + 2] = t >>> 16, i[e + 3] = t >>> 24;
}
function wc(i, t) {
  return (i[t] | i[t + 1] << 8 | i[t + 2] << 16) + (i[t + 3] << 24);
}
function P1(i, t, e) {
  for (var n = "", o = t; o < e; ) {
    var r3 = i[o], s = null, a = r3 > 239 ? 4 : r3 > 223 ? 3 : r3 > 191 ? 2 : 1;
    if (o + a > e)
      break;
    var l, h, u;
    a === 1 ? r3 < 128 && (s = r3) : a === 2 ? (l = i[o + 1], (l & 192) === 128 && (s = (r3 & 31) << 6 | l & 63, s <= 127 && (s = null))) : a === 3 ? (l = i[o + 1], h = i[o + 2], (l & 192) === 128 && (h & 192) === 128 && (s = (r3 & 15) << 12 | (l & 63) << 6 | h & 63, (s <= 2047 || s >= 55296 && s <= 57343) && (s = null))) : a === 4 && (l = i[o + 1], h = i[o + 2], u = i[o + 3], (l & 192) === 128 && (h & 192) === 128 && (u & 192) === 128 && (s = (r3 & 15) << 18 | (l & 63) << 12 | (h & 63) << 6 | u & 63, (s <= 65535 || s >= 1114112) && (s = null))), s === null ? (s = 65533, a = 1) : s > 65535 && (s -= 65536, n += String.fromCharCode(s >>> 10 & 1023 | 55296), s = 56320 | s & 1023), n += String.fromCharCode(s), o += a;
  }
  return n;
}
function D1(i, t, e) {
  return Hf.decode(i.subarray(t, e));
}
function L1(i, t, e) {
  for (var n = 0, o, r3; n < t.length; n++) {
    if (o = t.charCodeAt(n), o > 55295 && o < 57344)
      if (r3)
        if (o < 56320) {
          i[e++] = 239, i[e++] = 191, i[e++] = 189, r3 = o;
          continue;
        } else
          o = r3 - 55296 << 10 | o - 56320 | 65536, r3 = null;
      else {
        o > 56319 || n + 1 === t.length ? (i[e++] = 239, i[e++] = 191, i[e++] = 189) : r3 = o;
        continue;
      }
    else
      r3 && (i[e++] = 239, i[e++] = 191, i[e++] = 189, r3 = null);
    o < 128 ? i[e++] = o : (o < 2048 ? i[e++] = o >> 6 | 192 : (o < 65536 ? i[e++] = o >> 12 | 224 : (i[e++] = o >> 18 | 240, i[e++] = o >> 12 & 63 | 128), i[e++] = o >> 6 & 63 | 128), i[e++] = o & 63 | 128);
  }
  return e;
}
class el extends zn {
  constructor(t, e, n) {
    super(), n !== void 0 && e === void 0 ? this.setFlatCoordinates(n, t) : (e = e || 0, this.setCenterAndRadius(t, e, n));
  }
  clone() {
    const t = new el(
      this.flatCoordinates.slice(),
      void 0,
      this.layout
    );
    return t.applyProperties(this), t;
  }
  closestPointXY(t, e, n, o) {
    const r3 = this.flatCoordinates, s = t - r3[0], a = e - r3[1], l = s * s + a * a;
    if (l < o) {
      if (l === 0)
        for (let h = 0; h < this.stride; ++h)
          n[h] = r3[h];
      else {
        const h = this.getRadius() / Math.sqrt(l);
        n[0] = r3[0] + h * s, n[1] = r3[1] + h * a;
        for (let u = 2; u < this.stride; ++u)
          n[u] = r3[u];
      }
      return n.length = this.stride, l;
    } else
      return o;
  }
  containsXY(t, e) {
    const n = this.flatCoordinates, o = t - n[0], r3 = e - n[1];
    return o * o + r3 * r3 <= this.getRadiusSquared_();
  }
  getCenter() {
    return this.flatCoordinates.slice(0, this.stride);
  }
  computeExtent(t) {
    const e = this.flatCoordinates, n = e[this.stride] - e[0];
    return li(
      e[0] - n,
      e[1] - n,
      e[0] + n,
      e[1] + n,
      t
    );
  }
  getRadius() {
    return Math.sqrt(this.getRadiusSquared_());
  }
  getRadiusSquared_() {
    const t = this.flatCoordinates[this.stride] - this.flatCoordinates[0], e = this.flatCoordinates[this.stride + 1] - this.flatCoordinates[1];
    return t * t + e * e;
  }
  getType() {
    return "Circle";
  }
  intersectsExtent(t) {
    const e = this.getExtent();
    if (Ht(t, e)) {
      const n = this.getCenter();
      return t[0] <= n[0] && t[2] >= n[0] || t[1] <= n[1] && t[3] >= n[1] ? true : du(t, this.intersectsCoordinate.bind(this));
    }
    return false;
  }
  setCenter(t) {
    const e = this.stride, n = this.flatCoordinates[e] - this.flatCoordinates[0], o = t.slice();
    o[e] = o[0] + n;
    for (let r3 = 1; r3 < e; ++r3)
      o[e + r3] = t[r3];
    this.setFlatCoordinates(this.layout, o), this.changed();
  }
  setCenterAndRadius(t, e, n) {
    this.setLayout(n, t, 0), this.flatCoordinates || (this.flatCoordinates = []);
    const o = this.flatCoordinates;
    let r3 = Mf(o, 0, t, this.stride);
    o[r3++] = o[0] + e;
    for (let s = 1, a = this.stride; s < a; ++s)
      o[r3++] = o[s];
    o.length = r3, this.changed();
  }
  getCoordinates() {
    return null;
  }
  setCoordinates(t, e) {
  }
  setRadius(t) {
    this.flatCoordinates[this.stride] = this.flatCoordinates[0] + t, this.changed();
  }
  rotate(t, e) {
    const n = this.getCenter(), o = this.getStride();
    this.setCenter(
      Tu(n, 0, n.length, o, t, e, n)
    ), this.changed();
  }
  translate(t, e) {
    const n = this.getCenter(), o = this.getStride();
    this.setCenter(
      wf(n, 0, n.length, o, t, e, n)
    ), this.changed();
  }
}
el.prototype.transform;
const O1 = el, Cc = Ke();
class Kr {
  constructor(t, e, n, o, r3) {
    this.styleFunction, this.extent_, this.id_ = r3, this.type_ = t, this.flatCoordinates_ = e, this.flatInteriorPoints_ = null, this.flatMidpoints_ = null, this.ends_ = n, this.properties_ = o;
  }
  get(t) {
    return this.properties_[t];
  }
  getExtent() {
    return this.extent_ || (this.extent_ = this.type_ === "Point" ? Rr(this.flatCoordinates_) : uu(
      this.flatCoordinates_,
      0,
      this.flatCoordinates_.length,
      2
    )), this.extent_;
  }
  getFlatInteriorPoint() {
    if (!this.flatInteriorPoints_) {
      const t = mn(this.getExtent());
      this.flatInteriorPoints_ = Fu(
        this.flatCoordinates_,
        0,
        this.ends_,
        2,
        t,
        0
      );
    }
    return this.flatInteriorPoints_;
  }
  getFlatInteriorPoints() {
    if (!this.flatInteriorPoints_) {
      const t = Xf(
        this.flatCoordinates_,
        0,
        this.ends_,
        2
      );
      this.flatInteriorPoints_ = If(
        this.flatCoordinates_,
        0,
        this.ends_,
        2,
        t
      );
    }
    return this.flatInteriorPoints_;
  }
  getFlatMidpoint() {
    return this.flatMidpoints_ || (this.flatMidpoints_ = va(
      this.flatCoordinates_,
      0,
      this.flatCoordinates_.length,
      2,
      0.5
    )), this.flatMidpoints_;
  }
  getFlatMidpoints() {
    if (!this.flatMidpoints_) {
      this.flatMidpoints_ = [];
      const t = this.flatCoordinates_;
      let e = 0;
      const n = this.ends_;
      for (let o = 0, r3 = n.length; o < r3; ++o) {
        const s = n[o], a = va(t, e, s, 2, 0.5);
        pi(this.flatMidpoints_, a), e = s;
      }
    }
    return this.flatMidpoints_;
  }
  getId() {
    return this.id_;
  }
  getOrientedFlatCoordinates() {
    return this.flatCoordinates_;
  }
  getGeometry() {
    return this;
  }
  getSimplifiedGeometry(t) {
    return this;
  }
  simplifyTransformed(t, e) {
    return this;
  }
  getProperties() {
    return this.properties_;
  }
  getStride() {
    return 2;
  }
  getStyleFunction() {
    return this.styleFunction;
  }
  getType() {
    return this.type_;
  }
  transform(t) {
    t = Bt(t);
    const e = t.getExtent(), n = t.getWorldExtent();
    if (e && n) {
      const o = Je(n) / Je(e);
      Ni(
        Cc,
        n[0],
        n[3],
        o,
        -o,
        0,
        0,
        0
      ), hn(
        this.flatCoordinates_,
        0,
        this.flatCoordinates_.length,
        2,
        Cc,
        this.flatCoordinates_
      );
    }
  }
  getEnds() {
    return this.ends_;
  }
}
Kr.prototype.getEndss = Kr.prototype.getEnds;
Kr.prototype.getFlatCoordinates = Kr.prototype.getOrientedFlatCoordinates;
const Rh = Kr;
class F1 extends Zf {
  constructor(t) {
    super(), t = t || {}, this.dataProjection = new Ya({
      code: "",
      units: "tile-pixels"
    }), this.featureClass_ = t.featureClass ? t.featureClass : Rh, this.geometryName_ = t.geometryName, this.layerName_ = t.layerName ? t.layerName : "layer", this.layers_ = t.layers ? t.layers : null, this.idProperty_ = t.idProperty, this.supportedMediaTypes = [
      "application/vnd.mapbox-vector-tile",
      "application/x-protobuf"
    ];
  }
  readRawGeometry_(t, e, n, o) {
    t.pos = e.geometry;
    const r3 = t.readVarint() + t.pos;
    let s = 1, a = 0, l = 0, h = 0, u = 0, d = 0;
    for (; t.pos < r3; ) {
      if (!a) {
        const c = t.readVarint();
        s = c & 7, a = c >> 3;
      }
      a--, s === 1 || s === 2 ? (l += t.readSVarint(), h += t.readSVarint(), s === 1 && u > d && (o.push(u), d = u), n.push(l, h), u += 2) : s === 7 ? u > d && (n.push(
        n[d],
        n[d + 1]
      ), u += 2) : ct(false, 59);
    }
    u > d && (o.push(u), d = u);
  }
  createFeature_(t, e, n) {
    const o = e.type;
    if (o === 0)
      return null;
    let r3;
    const s = e.properties;
    let a;
    this.idProperty_ ? (a = s[this.idProperty_], delete s[this.idProperty_]) : a = e.id, s[this.layerName_] = e.layer.name;
    const l = [], h = [];
    this.readRawGeometry_(t, e, l, h);
    const u = W1(o, h.length);
    if (this.featureClass_ === Rh)
      r3 = new this.featureClass_(
        u,
        l,
        h,
        s,
        a
      ), r3.transform(n.dataProjection);
    else {
      let d;
      if (u == "Polygon") {
        const f = Hv(l, h);
        d = f.length > 1 ? new Vu(l, "XY", f) : new eo(l, "XY", h);
      } else
        d = u === "Point" ? new si(l, "XY") : u === "LineString" ? new Hn(l, "XY") : u === "MultiPoint" ? new ms(l, "XY") : u === "MultiLineString" ? new Xu(l, "XY", h) : null;
      const c = this.featureClass_;
      r3 = new c(), this.geometryName_ && r3.setGeometryName(this.geometryName_);
      const g = Yu(d, false, n);
      r3.setGeometry(g), a !== void 0 && r3.setId(a), r3.setProperties(s, true);
    }
    return r3;
  }
  getType() {
    return "arraybuffer";
  }
  readFeatures(t, e) {
    const n = this.layers_;
    e = this.adaptOptions(e);
    const o = Bt(e.dataProjection);
    o.setWorldExtent(e.extent), e.dataProjection = o;
    const r3 = new _1(t), s = r3.readFields(N1, {}), a = [];
    for (const l in s) {
      if (n && !n.includes(l))
        continue;
      const h = s[l], u = h ? [0, 0, h.extent, h.extent] : null;
      o.setExtent(u);
      for (let d = 0, c = h.length; d < c; ++d) {
        const g = B1(r3, h, d), f = this.createFeature_(r3, g, e);
        f !== null && a.push(f);
      }
    }
    return a;
  }
  readProjection(t) {
    return this.dataProjection;
  }
  setLayers(t) {
    this.layers_ = t;
  }
}
function N1(i, t, e) {
  if (i === 3) {
    const n = {
      keys: [],
      values: [],
      features: []
    }, o = e.readVarint() + e.pos;
    e.readFields(G1, n, o), n.length = n.features.length, n.length && (t[n.name] = n);
  }
}
function G1(i, t, e) {
  if (i === 15)
    t.version = e.readVarint();
  else if (i === 1)
    t.name = e.readString();
  else if (i === 5)
    t.extent = e.readVarint();
  else if (i === 2)
    t.features.push(e.pos);
  else if (i === 3)
    t.keys.push(e.readString());
  else if (i === 4) {
    let n = null;
    const o = e.readVarint() + e.pos;
    for (; e.pos < o; )
      i = e.readVarint() >> 3, n = i === 1 ? e.readString() : i === 2 ? e.readFloat() : i === 3 ? e.readDouble() : i === 4 ? e.readVarint64() : i === 5 ? e.readVarint() : i === 6 ? e.readSVarint() : i === 7 ? e.readBoolean() : null;
    t.values.push(n);
  }
}
function j1(i, t, e) {
  if (i == 1)
    t.id = e.readVarint();
  else if (i == 2) {
    const n = e.readVarint() + e.pos;
    for (; e.pos < n; ) {
      const o = t.layer.keys[e.readVarint()], r3 = t.layer.values[e.readVarint()];
      t.properties[o] = r3;
    }
  } else
    i == 3 ? t.type = e.readVarint() : i == 4 && (t.geometry = e.pos);
}
function B1(i, t, e) {
  i.pos = t.features[e];
  const n = i.readVarint() + i.pos, o = {
    layer: t,
    type: 0,
    properties: {}
  };
  return i.readFields(j1, o, n), o;
}
function W1(i, t) {
  let e;
  return i === 1 ? e = t === 1 ? "Point" : "MultiPoint" : i === 2 ? e = t === 1 ? "LineString" : "MultiLineString" : i === 3 && (e = "Polygon"), e;
}
const Z1 = F1;
function Y1(i, t, e, n, o) {
  Kf(i, t, e || 0, n || i.length - 1, o || X1);
}
function Kf(i, t, e, n, o) {
  for (; n > e; ) {
    if (n - e > 600) {
      var r3 = n - e + 1, s = t - e + 1, a = Math.log(r3), l = 0.5 * Math.exp(2 * a / 3), h = 0.5 * Math.sqrt(a * l * (r3 - l) / r3) * (s - r3 / 2 < 0 ? -1 : 1), u = Math.max(e, Math.floor(t - s * l / r3 + h)), d = Math.min(n, Math.floor(t + (r3 - s) * l / r3 + h));
      Kf(i, t, u, d, o);
    }
    var c = i[t], g = e, f = n;
    for (br(i, e, t), o(i[n], c) > 0 && br(i, e, n); g < f; ) {
      for (br(i, g, f), g++, f--; o(i[g], c) < 0; )
        g++;
      for (; o(i[f], c) > 0; )
        f--;
    }
    o(i[e], c) === 0 ? br(i, e, f) : (f++, br(i, f, n)), f <= t && (e = f + 1), t <= f && (n = f - 1);
  }
}
function br(i, t, e) {
  var n = i[t];
  i[t] = i[e], i[e] = n;
}
function X1(i, t) {
  return i < t ? -1 : i > t ? 1 : 0;
}
class Jf {
  constructor(t = 9) {
    this._maxEntries = Math.max(4, t), this._minEntries = Math.max(2, Math.ceil(this._maxEntries * 0.4)), this.clear();
  }
  all() {
    return this._all(this.data, []);
  }
  search(t) {
    let e = this.data;
    const n = [];
    if (!Ws(t, e))
      return n;
    const o = this.toBBox, r3 = [];
    for (; e; ) {
      for (let s = 0; s < e.children.length; s++) {
        const a = e.children[s], l = e.leaf ? o(a) : a;
        Ws(t, l) && (e.leaf ? n.push(a) : Nl(t, l) ? this._all(a, n) : r3.push(a));
      }
      e = r3.pop();
    }
    return n;
  }
  collides(t) {
    let e = this.data;
    if (!Ws(t, e))
      return false;
    const n = [];
    for (; e; ) {
      for (let o = 0; o < e.children.length; o++) {
        const r3 = e.children[o], s = e.leaf ? this.toBBox(r3) : r3;
        if (Ws(t, s)) {
          if (e.leaf || Nl(t, s))
            return true;
          n.push(r3);
        }
      }
      e = n.pop();
    }
    return false;
  }
  load(t) {
    if (!(t && t.length))
      return this;
    if (t.length < this._minEntries) {
      for (let n = 0; n < t.length; n++)
        this.insert(t[n]);
      return this;
    }
    let e = this._build(t.slice(), 0, t.length - 1, 0);
    if (!this.data.children.length)
      this.data = e;
    else if (this.data.height === e.height)
      this._splitRoot(this.data, e);
    else {
      if (this.data.height < e.height) {
        const n = this.data;
        this.data = e, e = n;
      }
      this._insert(e, this.data.height - e.height - 1, true);
    }
    return this;
  }
  insert(t) {
    return t && this._insert(t, this.data.height - 1), this;
  }
  clear() {
    return this.data = To([]), this;
  }
  remove(t, e) {
    if (!t)
      return this;
    let n = this.data;
    const o = this.toBBox(t), r3 = [], s = [];
    let a, l, h;
    for (; n || r3.length; ) {
      if (n || (n = r3.pop(), l = r3[r3.length - 1], a = s.pop(), h = true), n.leaf) {
        const u = U1(t, n.children, e);
        if (u !== -1)
          return n.children.splice(u, 1), r3.push(n), this._condense(r3), this;
      }
      !h && !n.leaf && Nl(n, o) ? (r3.push(n), s.push(a), a = 0, l = n, n = n.children[0]) : l ? (a++, n = l.children[a], h = false) : n = null;
    }
    return this;
  }
  toBBox(t) {
    return t;
  }
  compareMinX(t, e) {
    return t.minX - e.minX;
  }
  compareMinY(t, e) {
    return t.minY - e.minY;
  }
  toJSON() {
    return this.data;
  }
  fromJSON(t) {
    return this.data = t, this;
  }
  _all(t, e) {
    const n = [];
    for (; t; )
      t.leaf ? e.push(...t.children) : n.push(...t.children), t = n.pop();
    return e;
  }
  _build(t, e, n, o) {
    const r3 = n - e + 1;
    let s = this._maxEntries, a;
    if (r3 <= s)
      return a = To(t.slice(e, n + 1)), bo(a, this.toBBox), a;
    o || (o = Math.ceil(Math.log(r3) / Math.log(s)), s = Math.ceil(r3 / Math.pow(s, o - 1))), a = To([]), a.leaf = false, a.height = o;
    const l = Math.ceil(r3 / s), h = l * Math.ceil(Math.sqrt(s));
    Mc(t, e, n, h, this.compareMinX);
    for (let u = e; u <= n; u += h) {
      const d = Math.min(u + h - 1, n);
      Mc(t, u, d, l, this.compareMinY);
      for (let c = u; c <= d; c += l) {
        const g = Math.min(c + l - 1, d);
        a.children.push(this._build(t, c, g, o - 1));
      }
    }
    return bo(a, this.toBBox), a;
  }
  _chooseSubtree(t, e, n, o) {
    for (; o.push(e), !(e.leaf || o.length - 1 === n); ) {
      let r3 = 1 / 0, s = 1 / 0, a;
      for (let l = 0; l < e.children.length; l++) {
        const h = e.children[l], u = Fl(h), d = $1(t, h) - u;
        d < s ? (s = d, r3 = u < r3 ? u : r3, a = h) : d === s && u < r3 && (r3 = u, a = h);
      }
      e = a || e.children[0];
    }
    return e;
  }
  _insert(t, e, n) {
    const o = n ? t : this.toBBox(t), r3 = [], s = this._chooseSubtree(o, this.data, e, r3);
    for (s.children.push(t), Sr(s, o); e >= 0 && r3[e].children.length > this._maxEntries; )
      this._split(r3, e), e--;
    this._adjustParentBBoxes(o, r3, e);
  }
  _split(t, e) {
    const n = t[e], o = n.children.length, r3 = this._minEntries;
    this._chooseSplitAxis(n, r3, o);
    const s = this._chooseSplitIndex(n, r3, o), a = To(n.children.splice(s, n.children.length - s));
    a.height = n.height, a.leaf = n.leaf, bo(n, this.toBBox), bo(a, this.toBBox), e ? t[e - 1].children.push(a) : this._splitRoot(n, a);
  }
  _splitRoot(t, e) {
    this.data = To([t, e]), this.data.height = t.height + 1, this.data.leaf = false, bo(this.data, this.toBBox);
  }
  _chooseSplitIndex(t, e, n) {
    let o, r3 = 1 / 0, s = 1 / 0;
    for (let a = e; a <= n - e; a++) {
      const l = Er(t, 0, a, this.toBBox), h = Er(t, a, n, this.toBBox), u = H1(l, h), d = Fl(l) + Fl(h);
      u < r3 ? (r3 = u, o = a, s = d < s ? d : s) : u === r3 && d < s && (s = d, o = a);
    }
    return o || n - e;
  }
  _chooseSplitAxis(t, e, n) {
    const o = t.leaf ? this.compareMinX : V1, r3 = t.leaf ? this.compareMinY : q1, s = this._allDistMargin(t, e, n, o), a = this._allDistMargin(t, e, n, r3);
    s < a && t.children.sort(o);
  }
  _allDistMargin(t, e, n, o) {
    t.children.sort(o);
    const r3 = this.toBBox, s = Er(t, 0, e, r3), a = Er(t, n - e, n, r3);
    let l = Bs(s) + Bs(a);
    for (let h = e; h < n - e; h++) {
      const u = t.children[h];
      Sr(s, t.leaf ? r3(u) : u), l += Bs(s);
    }
    for (let h = n - e - 1; h >= e; h--) {
      const u = t.children[h];
      Sr(a, t.leaf ? r3(u) : u), l += Bs(a);
    }
    return l;
  }
  _adjustParentBBoxes(t, e, n) {
    for (let o = n; o >= 0; o--)
      Sr(e[o], t);
  }
  _condense(t) {
    for (let e = t.length - 1, n; e >= 0; e--)
      t[e].children.length === 0 ? e > 0 ? (n = t[e - 1].children, n.splice(n.indexOf(t[e]), 1)) : this.clear() : bo(t[e], this.toBBox);
  }
}
function U1(i, t, e) {
  if (!e)
    return t.indexOf(i);
  for (let n = 0; n < t.length; n++)
    if (e(i, t[n]))
      return n;
  return -1;
}
function bo(i, t) {
  Er(i, 0, i.children.length, t, i);
}
function Er(i, t, e, n, o) {
  o || (o = To(null)), o.minX = 1 / 0, o.minY = 1 / 0, o.maxX = -1 / 0, o.maxY = -1 / 0;
  for (let r3 = t; r3 < e; r3++) {
    const s = i.children[r3];
    Sr(o, i.leaf ? n(s) : s);
  }
  return o;
}
function Sr(i, t) {
  return i.minX = Math.min(i.minX, t.minX), i.minY = Math.min(i.minY, t.minY), i.maxX = Math.max(i.maxX, t.maxX), i.maxY = Math.max(i.maxY, t.maxY), i;
}
function V1(i, t) {
  return i.minX - t.minX;
}
function q1(i, t) {
  return i.minY - t.minY;
}
function Fl(i) {
  return (i.maxX - i.minX) * (i.maxY - i.minY);
}
function Bs(i) {
  return i.maxX - i.minX + (i.maxY - i.minY);
}
function $1(i, t) {
  return (Math.max(t.maxX, i.maxX) - Math.min(t.minX, i.minX)) * (Math.max(t.maxY, i.maxY) - Math.min(t.minY, i.minY));
}
function H1(i, t) {
  const e = Math.max(i.minX, t.minX), n = Math.max(i.minY, t.minY), o = Math.min(i.maxX, t.maxX), r3 = Math.min(i.maxY, t.maxY);
  return Math.max(0, o - e) * Math.max(0, r3 - n);
}
function Nl(i, t) {
  return i.minX <= t.minX && i.minY <= t.minY && t.maxX <= i.maxX && t.maxY <= i.maxY;
}
function Ws(i, t) {
  return t.minX <= i.maxX && t.minY <= i.maxY && t.maxX >= i.minX && t.maxY >= i.minY;
}
function To(i) {
  return {
    children: i,
    height: 1,
    leaf: true,
    minX: 1 / 0,
    minY: 1 / 0,
    maxX: -1 / 0,
    maxY: -1 / 0
  };
}
function Mc(i, t, e, n, o) {
  const r3 = [t, e];
  for (; r3.length; ) {
    if (e = r3.pop(), t = r3.pop(), e - t <= n)
      continue;
    const s = t + Math.ceil((e - t) / n / 2) * n;
    Y1(i, s, t, e, o), r3.push(t, s, s, e);
  }
}
function Ec(i) {
  return new ce({
    fill: Jr(i, ""),
    stroke: Qr(i, ""),
    text: K1(i),
    image: J1(i)
  });
}
function Jr(i, t) {
  const e = i[t + "fill-color"];
  if (!!e)
    return new _e({ color: e });
}
function Qr(i, t) {
  const e = i[t + "stroke-width"], n = i[t + "stroke-color"];
  if (!(!e && !n))
    return new Te({
      width: e,
      color: n,
      lineCap: i[t + "stroke-line-cap"],
      lineJoin: i[t + "stroke-line-join"],
      lineDash: i[t + "stroke-line-dash"],
      lineDashOffset: i[t + "stroke-line-dash-offset"],
      miterLimit: i[t + "stroke-miter-limit"]
    });
}
function K1(i) {
  const t = i["text-value"];
  return t ? new $f({
    text: t,
    font: i["text-font"],
    maxAngle: i["text-max-angle"],
    offsetX: i["text-offset-x"],
    offsetY: i["text-offset-y"],
    overflow: i["text-overflow"],
    placement: i["text-placement"],
    scale: i["text-scale"],
    rotateWithView: i["text-rotate-with-view"],
    rotation: i["text-rotation"],
    textAlign: i["text-align"],
    justify: i["text-justify"],
    textBaseline: i["text-baseline"],
    padding: i["text-padding"],
    fill: Jr(i, "text-"),
    backgroundFill: Jr(i, "text-background-"),
    stroke: Qr(i, "text-"),
    backgroundStroke: Qr(i, "text-background-")
  }) : void 0;
}
function J1(i) {
  const t = i["icon-src"], e = i["icon-img"];
  if (t || e)
    return new Qa({
      src: t,
      img: e,
      imgSize: i["icon-img-size"],
      anchor: i["icon-anchor"],
      anchorOrigin: i["icon-anchor-origin"],
      anchorXUnits: i["icon-anchor-x-units"],
      anchorYUnits: i["icon-anchor-y-units"],
      color: i["icon-color"],
      crossOrigin: i["icon-cross-origin"],
      offset: i["icon-offset"],
      displacement: i["icon-displacement"],
      opacity: i["icon-opacity"],
      scale: i["icon-scale"],
      rotation: i["icon-rotation"],
      rotateWithView: i["icon-rotate-with-view"],
      size: i["icon-size"],
      declutterMode: i["icon-declutter-mode"]
    });
  const n = i["shape-points"];
  if (n) {
    const r3 = "shape-";
    return new tl({
      points: n,
      fill: Jr(i, r3),
      stroke: Qr(i, r3),
      radius: i["shape-radius"],
      radius1: i["shape-radius1"],
      radius2: i["shape-radius2"],
      angle: i["shape-angle"],
      displacement: i["shape-displacement"],
      rotation: i["shape-rotation"],
      rotateWithView: i["shape-rotate-with-view"],
      scale: i["shape-scale"],
      declutterMode: i["shape-declutter-mode"]
    });
  }
  const o = i["circle-radius"];
  if (o) {
    const r3 = "circle-";
    return new go({
      radius: o,
      fill: Jr(i, r3),
      stroke: Qr(i, r3),
      displacement: i["circle-displacement"],
      scale: i["circle-scale"],
      rotation: i["circle-rotation"],
      rotateWithView: i["circle-rotate-with-view"],
      declutterMode: i["circle-declutter-mode"]
    });
  }
}
const Sc = {
  RENDER_ORDER: "renderOrder"
};
class Q1 extends Za {
  constructor(t) {
    t = t || {};
    const e = Object.assign({}, t);
    delete e.style, delete e.renderBuffer, delete e.updateWhileAnimating, delete e.updateWhileInteracting, super(e), this.declutter_ = t.declutter !== void 0 ? t.declutter : false, this.renderBuffer_ = t.renderBuffer !== void 0 ? t.renderBuffer : 100, this.style_ = null, this.styleFunction_ = void 0, this.setStyle(t.style), this.updateWhileAnimating_ = t.updateWhileAnimating !== void 0 ? t.updateWhileAnimating : false, this.updateWhileInteracting_ = t.updateWhileInteracting !== void 0 ? t.updateWhileInteracting : false;
  }
  getDeclutter() {
    return this.declutter_;
  }
  getFeatures(t) {
    return super.getFeatures(t);
  }
  getRenderBuffer() {
    return this.renderBuffer_;
  }
  getRenderOrder() {
    return this.get(Sc.RENDER_ORDER);
  }
  getStyle() {
    return this.style_;
  }
  getStyleFunction() {
    return this.styleFunction_;
  }
  getUpdateWhileAnimating() {
    return this.updateWhileAnimating_;
  }
  getUpdateWhileInteracting() {
    return this.updateWhileInteracting_;
  }
  renderDeclutter(t) {
    t.declutterTree || (t.declutterTree = new Jf(9)), this.getRenderer().renderDeclutter(t);
  }
  setRenderOrder(t) {
    this.set(Sc.RENDER_ORDER, t);
  }
  setStyle(t) {
    let e;
    if (t === void 0)
      e = m1;
    else if (t === null)
      e = null;
    else if (typeof t == "function")
      e = t;
    else if (t instanceof ce)
      e = t;
    else if (Array.isArray(t)) {
      const n = t.length, o = new Array(n);
      for (let r3 = 0; r3 < n; ++r3) {
        const s = t[r3];
        s instanceof ce ? o[r3] = s : o[r3] = Ec(s);
      }
      e = o;
    } else
      e = Ec(t);
    this.style_ = e, this.styleFunction_ = t === null ? void 0 : f1(this.style_), this.changed();
  }
}
const Qf = Q1, ps = {
  BEGIN_GEOMETRY: 0,
  BEGIN_PATH: 1,
  CIRCLE: 2,
  CLOSE_PATH: 3,
  CUSTOM: 4,
  DRAW_CHARS: 5,
  DRAW_IMAGE: 6,
  END_GEOMETRY: 7,
  FILL: 8,
  MOVE_TO_LINE_TO: 9,
  SET_FILL_STYLE: 10,
  SET_STROKE_STYLE: 11,
  STROKE: 12
}, Zs = [ps.FILL], on = [ps.STROKE], Xn = [ps.BEGIN_PATH], Tc = [ps.CLOSE_PATH], J = ps;
class ty {
  drawCustom(t, e, n, o) {
  }
  drawGeometry(t) {
  }
  setStyle(t) {
  }
  drawCircle(t, e) {
  }
  drawFeature(t, e) {
  }
  drawGeometryCollection(t, e) {
  }
  drawLineString(t, e) {
  }
  drawMultiLineString(t, e) {
  }
  drawMultiPoint(t, e) {
  }
  drawMultiPolygon(t, e) {
  }
  drawPoint(t, e) {
  }
  drawPolygon(t, e) {
  }
  drawText(t, e) {
  }
  setFillStrokeStyle(t, e) {
  }
  setImageStyle(t, e) {
  }
  setTextStyle(t, e) {
  }
}
const tm = ty;
class ey extends tm {
  constructor(t, e, n, o) {
    super(), this.tolerance = t, this.maxExtent = e, this.pixelRatio = o, this.maxLineWidth = 0, this.resolution = n, this.beginGeometryInstruction1_ = null, this.beginGeometryInstruction2_ = null, this.bufferedMaxExtent_ = null, this.instructions = [], this.coordinates = [], this.tmpCoordinate_ = [], this.hitDetectionInstructions = [], this.state = {};
  }
  applyPixelRatio(t) {
    const e = this.pixelRatio;
    return e == 1 ? t : t.map(function(n) {
      return n * e;
    });
  }
  appendFlatPointCoordinates(t, e) {
    const n = this.getBufferedMaxExtent(), o = this.tmpCoordinate_, r3 = this.coordinates;
    let s = r3.length;
    for (let a = 0, l = t.length; a < l; a += e)
      o[0] = t[a], o[1] = t[a + 1], Xa(n, o) && (r3[s++] = o[0], r3[s++] = o[1]);
    return s;
  }
  appendFlatLineCoordinates(t, e, n, o, r3, s) {
    const a = this.coordinates;
    let l = a.length;
    const h = this.getBufferedMaxExtent();
    s && (e += o);
    let u = t[e], d = t[e + 1];
    const c = this.tmpCoordinate_;
    let g = true, f, m, p;
    for (f = e + o; f < n; f += o)
      c[0] = t[f], c[1] = t[f + 1], p = mh(h, c), p !== m ? (g && (a[l++] = u, a[l++] = d, g = false), a[l++] = c[0], a[l++] = c[1]) : p === ne.INTERSECTING ? (a[l++] = c[0], a[l++] = c[1], g = false) : g = true, u = c[0], d = c[1], m = p;
    return (r3 && g || f === e + o) && (a[l++] = u, a[l++] = d), l;
  }
  drawCustomCoordinates_(t, e, n, o, r3) {
    for (let s = 0, a = n.length; s < a; ++s) {
      const l = n[s], h = this.appendFlatLineCoordinates(
        t,
        e,
        l,
        o,
        false,
        false
      );
      r3.push(h), e = l;
    }
    return e;
  }
  drawCustom(t, e, n, o) {
    this.beginGeometry(t, e);
    const r3 = t.getType(), s = t.getStride(), a = this.coordinates.length;
    let l, h, u, d, c;
    switch (r3) {
      case "MultiPolygon":
        l = t.getOrientedFlatCoordinates(), d = [];
        const g = t.getEndss();
        c = 0;
        for (let f = 0, m = g.length; f < m; ++f) {
          const p = [];
          c = this.drawCustomCoordinates_(
            l,
            c,
            g[f],
            s,
            p
          ), d.push(p);
        }
        this.instructions.push([
          J.CUSTOM,
          a,
          d,
          t,
          n,
          wh
        ]), this.hitDetectionInstructions.push([
          J.CUSTOM,
          a,
          d,
          t,
          o || n,
          wh
        ]);
        break;
      case "Polygon":
      case "MultiLineString":
        u = [], l = r3 == "Polygon" ? t.getOrientedFlatCoordinates() : t.getFlatCoordinates(), c = this.drawCustomCoordinates_(
          l,
          0,
          t.getEnds(),
          s,
          u
        ), this.instructions.push([
          J.CUSTOM,
          a,
          u,
          t,
          n,
          Hr
        ]), this.hitDetectionInstructions.push([
          J.CUSTOM,
          a,
          u,
          t,
          o || n,
          Hr
        ]);
        break;
      case "LineString":
      case "Circle":
        l = t.getFlatCoordinates(), h = this.appendFlatLineCoordinates(
          l,
          0,
          l.length,
          s,
          false,
          false
        ), this.instructions.push([
          J.CUSTOM,
          a,
          h,
          t,
          n,
          en
        ]), this.hitDetectionInstructions.push([
          J.CUSTOM,
          a,
          h,
          t,
          o || n,
          en
        ]);
        break;
      case "MultiPoint":
        l = t.getFlatCoordinates(), h = this.appendFlatPointCoordinates(l, s), h > a && (this.instructions.push([
          J.CUSTOM,
          a,
          h,
          t,
          n,
          en
        ]), this.hitDetectionInstructions.push([
          J.CUSTOM,
          a,
          h,
          t,
          o || n,
          en
        ]));
        break;
      case "Point":
        l = t.getFlatCoordinates(), this.coordinates.push(l[0], l[1]), h = this.coordinates.length, this.instructions.push([
          J.CUSTOM,
          a,
          h,
          t,
          n
        ]), this.hitDetectionInstructions.push([
          J.CUSTOM,
          a,
          h,
          t,
          o || n
        ]);
        break;
    }
    this.endGeometry(e);
  }
  beginGeometry(t, e) {
    this.beginGeometryInstruction1_ = [
      J.BEGIN_GEOMETRY,
      e,
      0,
      t
    ], this.instructions.push(this.beginGeometryInstruction1_), this.beginGeometryInstruction2_ = [
      J.BEGIN_GEOMETRY,
      e,
      0,
      t
    ], this.hitDetectionInstructions.push(this.beginGeometryInstruction2_);
  }
  finish() {
    return {
      instructions: this.instructions,
      hitDetectionInstructions: this.hitDetectionInstructions,
      coordinates: this.coordinates
    };
  }
  reverseHitDetectionInstructions() {
    const t = this.hitDetectionInstructions;
    t.reverse();
    let e;
    const n = t.length;
    let o, r3, s = -1;
    for (e = 0; e < n; ++e)
      o = t[e], r3 = o[0], r3 == J.END_GEOMETRY ? s = e : r3 == J.BEGIN_GEOMETRY && (o[2] = e, Kp(this.hitDetectionInstructions, s, e), s = -1);
  }
  setFillStrokeStyle(t, e) {
    const n = this.state;
    if (t) {
      const o = t.getColor();
      n.fillStyle = fi(
        o || Li
      );
    } else
      n.fillStyle = void 0;
    if (e) {
      const o = e.getColor();
      n.strokeStyle = fi(
        o || Vr
      );
      const r3 = e.getLineCap();
      n.lineCap = r3 !== void 0 ? r3 : da;
      const s = e.getLineDash();
      n.lineDash = s ? s.slice() : Yr;
      const a = e.getLineDashOffset();
      n.lineDashOffset = a || Xr;
      const l = e.getLineJoin();
      n.lineJoin = l !== void 0 ? l : tr;
      const h = e.getWidth();
      n.lineWidth = h !== void 0 ? h : $r;
      const u = e.getMiterLimit();
      n.miterLimit = u !== void 0 ? u : Ur, n.lineWidth > this.maxLineWidth && (this.maxLineWidth = n.lineWidth, this.bufferedMaxExtent_ = null);
    } else
      n.strokeStyle = void 0, n.lineCap = void 0, n.lineDash = null, n.lineDashOffset = void 0, n.lineJoin = void 0, n.lineWidth = void 0, n.miterLimit = void 0;
  }
  createFill(t) {
    const e = t.fillStyle, n = [J.SET_FILL_STYLE, e];
    return typeof e != "string" && n.push(true), n;
  }
  applyStroke(t) {
    this.instructions.push(this.createStroke(t));
  }
  createStroke(t) {
    return [
      J.SET_STROKE_STYLE,
      t.strokeStyle,
      t.lineWidth * this.pixelRatio,
      t.lineCap,
      t.lineJoin,
      t.miterLimit,
      this.applyPixelRatio(t.lineDash),
      t.lineDashOffset * this.pixelRatio
    ];
  }
  updateFillStyle(t, e) {
    const n = t.fillStyle;
    (typeof n != "string" || t.currentFillStyle != n) && (n !== void 0 && this.instructions.push(e.call(this, t)), t.currentFillStyle = n);
  }
  updateStrokeStyle(t, e) {
    const n = t.strokeStyle, o = t.lineCap, r3 = t.lineDash, s = t.lineDashOffset, a = t.lineJoin, l = t.lineWidth, h = t.miterLimit;
    (t.currentStrokeStyle != n || t.currentLineCap != o || r3 != t.currentLineDash && !Tn(t.currentLineDash, r3) || t.currentLineDashOffset != s || t.currentLineJoin != a || t.currentLineWidth != l || t.currentMiterLimit != h) && (n !== void 0 && e.call(this, t), t.currentStrokeStyle = n, t.currentLineCap = o, t.currentLineDash = r3, t.currentLineDashOffset = s, t.currentLineJoin = a, t.currentLineWidth = l, t.currentMiterLimit = h);
  }
  endGeometry(t) {
    this.beginGeometryInstruction1_[2] = this.instructions.length, this.beginGeometryInstruction1_ = null, this.beginGeometryInstruction2_[2] = this.hitDetectionInstructions.length, this.beginGeometryInstruction2_ = null;
    const e = [J.END_GEOMETRY, t];
    this.instructions.push(e), this.hitDetectionInstructions.push(e);
  }
  getBufferedMaxExtent() {
    if (!this.bufferedMaxExtent_ && (this.bufferedMaxExtent_ = sf(this.maxExtent), this.maxLineWidth > 0)) {
      const t = this.resolution * (this.maxLineWidth + 1) / 2;
      vi$1(this.bufferedMaxExtent_, t, this.bufferedMaxExtent_);
    }
    return this.bufferedMaxExtent_;
  }
}
const vs = ey;
class iy extends vs {
  constructor(t, e, n, o) {
    super(t, e, n, o), this.hitDetectionImage_ = null, this.image_ = null, this.imagePixelRatio_ = void 0, this.anchorX_ = void 0, this.anchorY_ = void 0, this.height_ = void 0, this.opacity_ = void 0, this.originX_ = void 0, this.originY_ = void 0, this.rotateWithView_ = void 0, this.rotation_ = void 0, this.scale_ = void 0, this.width_ = void 0, this.declutterMode_ = void 0, this.declutterImageWithText_ = void 0;
  }
  drawPoint(t, e) {
    if (!this.image_)
      return;
    this.beginGeometry(t, e);
    const n = t.getFlatCoordinates(), o = t.getStride(), r3 = this.coordinates.length, s = this.appendFlatPointCoordinates(n, o);
    this.instructions.push([
      J.DRAW_IMAGE,
      r3,
      s,
      this.image_,
      this.anchorX_ * this.imagePixelRatio_,
      this.anchorY_ * this.imagePixelRatio_,
      Math.ceil(this.height_ * this.imagePixelRatio_),
      this.opacity_,
      this.originX_ * this.imagePixelRatio_,
      this.originY_ * this.imagePixelRatio_,
      this.rotateWithView_,
      this.rotation_,
      [
        this.scale_[0] * this.pixelRatio / this.imagePixelRatio_,
        this.scale_[1] * this.pixelRatio / this.imagePixelRatio_
      ],
      Math.ceil(this.width_ * this.imagePixelRatio_),
      this.declutterMode_,
      this.declutterImageWithText_
    ]), this.hitDetectionInstructions.push([
      J.DRAW_IMAGE,
      r3,
      s,
      this.hitDetectionImage_,
      this.anchorX_,
      this.anchorY_,
      this.height_,
      this.opacity_,
      this.originX_,
      this.originY_,
      this.rotateWithView_,
      this.rotation_,
      this.scale_,
      this.width_,
      this.declutterMode_,
      this.declutterImageWithText_
    ]), this.endGeometry(e);
  }
  drawMultiPoint(t, e) {
    if (!this.image_)
      return;
    this.beginGeometry(t, e);
    const n = t.getFlatCoordinates(), o = t.getStride(), r3 = this.coordinates.length, s = this.appendFlatPointCoordinates(n, o);
    this.instructions.push([
      J.DRAW_IMAGE,
      r3,
      s,
      this.image_,
      this.anchorX_ * this.imagePixelRatio_,
      this.anchorY_ * this.imagePixelRatio_,
      Math.ceil(this.height_ * this.imagePixelRatio_),
      this.opacity_,
      this.originX_ * this.imagePixelRatio_,
      this.originY_ * this.imagePixelRatio_,
      this.rotateWithView_,
      this.rotation_,
      [
        this.scale_[0] * this.pixelRatio / this.imagePixelRatio_,
        this.scale_[1] * this.pixelRatio / this.imagePixelRatio_
      ],
      Math.ceil(this.width_ * this.imagePixelRatio_),
      this.declutterMode_,
      this.declutterImageWithText_
    ]), this.hitDetectionInstructions.push([
      J.DRAW_IMAGE,
      r3,
      s,
      this.hitDetectionImage_,
      this.anchorX_,
      this.anchorY_,
      this.height_,
      this.opacity_,
      this.originX_,
      this.originY_,
      this.rotateWithView_,
      this.rotation_,
      this.scale_,
      this.width_,
      this.declutterMode_,
      this.declutterImageWithText_
    ]), this.endGeometry(e);
  }
  finish() {
    return this.reverseHitDetectionInstructions(), this.anchorX_ = void 0, this.anchorY_ = void 0, this.hitDetectionImage_ = null, this.image_ = null, this.imagePixelRatio_ = void 0, this.height_ = void 0, this.scale_ = void 0, this.opacity_ = void 0, this.originX_ = void 0, this.originY_ = void 0, this.rotateWithView_ = void 0, this.rotation_ = void 0, this.width_ = void 0, super.finish();
  }
  setImageStyle(t, e) {
    const n = t.getAnchor(), o = t.getSize(), r3 = t.getOrigin();
    this.imagePixelRatio_ = t.getPixelRatio(this.pixelRatio), this.anchorX_ = n[0], this.anchorY_ = n[1], this.hitDetectionImage_ = t.getHitDetectionImage(), this.image_ = t.getImage(this.pixelRatio), this.height_ = o[1], this.opacity_ = t.getOpacity(), this.originX_ = r3[0], this.originY_ = r3[1], this.rotateWithView_ = t.getRotateWithView(), this.rotation_ = t.getRotation(), this.scale_ = t.getScaleArray(), this.width_ = o[0], this.declutterMode_ = t.getDeclutterMode(), this.declutterImageWithText_ = e;
  }
}
const ny = iy;
class oy extends vs {
  constructor(t, e, n, o) {
    super(t, e, n, o);
  }
  drawFlatCoordinates_(t, e, n, o) {
    const r3 = this.coordinates.length, s = this.appendFlatLineCoordinates(
      t,
      e,
      n,
      o,
      false,
      false
    ), a = [
      J.MOVE_TO_LINE_TO,
      r3,
      s
    ];
    return this.instructions.push(a), this.hitDetectionInstructions.push(a), n;
  }
  drawLineString(t, e) {
    const n = this.state, o = n.strokeStyle, r3 = n.lineWidth;
    if (o === void 0 || r3 === void 0)
      return;
    this.updateStrokeStyle(n, this.applyStroke), this.beginGeometry(t, e), this.hitDetectionInstructions.push(
      [
        J.SET_STROKE_STYLE,
        n.strokeStyle,
        n.lineWidth,
        n.lineCap,
        n.lineJoin,
        n.miterLimit,
        Yr,
        Xr
      ],
      Xn
    );
    const s = t.getFlatCoordinates(), a = t.getStride();
    this.drawFlatCoordinates_(
      s,
      0,
      s.length,
      a
    ), this.hitDetectionInstructions.push(on), this.endGeometry(e);
  }
  drawMultiLineString(t, e) {
    const n = this.state, o = n.strokeStyle, r3 = n.lineWidth;
    if (o === void 0 || r3 === void 0)
      return;
    this.updateStrokeStyle(n, this.applyStroke), this.beginGeometry(t, e), this.hitDetectionInstructions.push(
      [
        J.SET_STROKE_STYLE,
        n.strokeStyle,
        n.lineWidth,
        n.lineCap,
        n.lineJoin,
        n.miterLimit,
        n.lineDash,
        n.lineDashOffset
      ],
      Xn
    );
    const s = t.getEnds(), a = t.getFlatCoordinates(), l = t.getStride();
    let h = 0;
    for (let u = 0, d = s.length; u < d; ++u)
      h = this.drawFlatCoordinates_(
        a,
        h,
        s[u],
        l
      );
    this.hitDetectionInstructions.push(on), this.endGeometry(e);
  }
  finish() {
    const t = this.state;
    return t.lastStroke != null && t.lastStroke != this.coordinates.length && this.instructions.push(on), this.reverseHitDetectionInstructions(), this.state = null, super.finish();
  }
  applyStroke(t) {
    t.lastStroke != null && t.lastStroke != this.coordinates.length && (this.instructions.push(on), t.lastStroke = this.coordinates.length), t.lastStroke = 0, super.applyStroke(t), this.instructions.push(Xn);
  }
}
const ry = oy;
class sy extends vs {
  constructor(t, e, n, o) {
    super(t, e, n, o);
  }
  drawFlatCoordinatess_(t, e, n, o) {
    const r3 = this.state, s = r3.fillStyle !== void 0, a = r3.strokeStyle !== void 0, l = n.length;
    this.instructions.push(Xn), this.hitDetectionInstructions.push(Xn);
    for (let h = 0; h < l; ++h) {
      const u = n[h], d = this.coordinates.length, c = this.appendFlatLineCoordinates(
        t,
        e,
        u,
        o,
        true,
        !a
      ), g = [
        J.MOVE_TO_LINE_TO,
        d,
        c
      ];
      this.instructions.push(g), this.hitDetectionInstructions.push(g), a && (this.instructions.push(Tc), this.hitDetectionInstructions.push(Tc)), e = u;
    }
    return s && (this.instructions.push(Zs), this.hitDetectionInstructions.push(Zs)), a && (this.instructions.push(on), this.hitDetectionInstructions.push(on)), e;
  }
  drawCircle(t, e) {
    const n = this.state, o = n.fillStyle, r3 = n.strokeStyle;
    if (o === void 0 && r3 === void 0)
      return;
    this.setFillStrokeStyles_(), this.beginGeometry(t, e), n.fillStyle !== void 0 && this.hitDetectionInstructions.push([
      J.SET_FILL_STYLE,
      Li
    ]), n.strokeStyle !== void 0 && this.hitDetectionInstructions.push([
      J.SET_STROKE_STYLE,
      n.strokeStyle,
      n.lineWidth,
      n.lineCap,
      n.lineJoin,
      n.miterLimit,
      n.lineDash,
      n.lineDashOffset
    ]);
    const s = t.getFlatCoordinates(), a = t.getStride(), l = this.coordinates.length;
    this.appendFlatLineCoordinates(
      s,
      0,
      s.length,
      a,
      false,
      false
    );
    const h = [J.CIRCLE, l];
    this.instructions.push(Xn, h), this.hitDetectionInstructions.push(Xn, h), n.fillStyle !== void 0 && (this.instructions.push(Zs), this.hitDetectionInstructions.push(Zs)), n.strokeStyle !== void 0 && (this.instructions.push(on), this.hitDetectionInstructions.push(on)), this.endGeometry(e);
  }
  drawPolygon(t, e) {
    const n = this.state, o = n.fillStyle, r3 = n.strokeStyle;
    if (o === void 0 && r3 === void 0)
      return;
    this.setFillStrokeStyles_(), this.beginGeometry(t, e), n.fillStyle !== void 0 && this.hitDetectionInstructions.push([
      J.SET_FILL_STYLE,
      Li
    ]), n.strokeStyle !== void 0 && this.hitDetectionInstructions.push([
      J.SET_STROKE_STYLE,
      n.strokeStyle,
      n.lineWidth,
      n.lineCap,
      n.lineJoin,
      n.miterLimit,
      n.lineDash,
      n.lineDashOffset
    ]);
    const s = t.getEnds(), a = t.getOrientedFlatCoordinates(), l = t.getStride();
    this.drawFlatCoordinatess_(
      a,
      0,
      s,
      l
    ), this.endGeometry(e);
  }
  drawMultiPolygon(t, e) {
    const n = this.state, o = n.fillStyle, r3 = n.strokeStyle;
    if (o === void 0 && r3 === void 0)
      return;
    this.setFillStrokeStyles_(), this.beginGeometry(t, e), n.fillStyle !== void 0 && this.hitDetectionInstructions.push([
      J.SET_FILL_STYLE,
      Li
    ]), n.strokeStyle !== void 0 && this.hitDetectionInstructions.push([
      J.SET_STROKE_STYLE,
      n.strokeStyle,
      n.lineWidth,
      n.lineCap,
      n.lineJoin,
      n.miterLimit,
      n.lineDash,
      n.lineDashOffset
    ]);
    const s = t.getEndss(), a = t.getOrientedFlatCoordinates(), l = t.getStride();
    let h = 0;
    for (let u = 0, d = s.length; u < d; ++u)
      h = this.drawFlatCoordinatess_(
        a,
        h,
        s[u],
        l
      );
    this.endGeometry(e);
  }
  finish() {
    this.reverseHitDetectionInstructions(), this.state = null;
    const t = this.tolerance;
    if (t !== 0) {
      const e = this.coordinates;
      for (let n = 0, o = e.length; n < o; ++n)
        e[n] = Gn(e[n], t);
    }
    return super.finish();
  }
  setFillStrokeStyles_() {
    const t = this.state;
    t.fillStyle !== void 0 && this.updateFillStyle(t, this.createFill), t.strokeStyle !== void 0 && this.updateStrokeStyle(t, this.applyStroke);
  }
}
const Ic = sy;
function ay(i, t, e, n, o) {
  let r3 = e, s = e, a = 0, l = 0, h = e, u, d, c, g, f, m, p, _, v, y;
  for (d = e; d < n; d += o) {
    const x = t[d], k = t[d + 1];
    f !== void 0 && (v = x - f, y = k - m, g = Math.sqrt(v * v + y * y), p !== void 0 && (l += c, u = Math.acos((p * v + _ * y) / (c * g)), u > i && (l > a && (a = l, r3 = h, s = d), l = 0, h = d - o)), c = g, p = v, _ = y), f = x, m = k;
  }
  return l += g, l > a ? [h, d] : [r3, s];
}
const Pr = {
  left: 0,
  end: 0,
  center: 0.5,
  right: 1,
  start: 1,
  top: 0,
  middle: 0.5,
  hanging: 0.2,
  alphabetic: 0.8,
  ideographic: 0.8,
  bottom: 1
};
class ly extends vs {
  constructor(t, e, n, o) {
    super(t, e, n, o), this.labels_ = null, this.text_ = "", this.textOffsetX_ = 0, this.textOffsetY_ = 0, this.textRotateWithView_ = void 0, this.textRotation_ = 0, this.textFillState_ = null, this.fillStates = {}, this.textStrokeState_ = null, this.strokeStates = {}, this.textState_ = {}, this.textStates = {}, this.textKey_ = "", this.fillKey_ = "", this.strokeKey_ = "", this.declutterImageWithText_ = void 0;
  }
  finish() {
    const t = super.finish();
    return t.textStates = this.textStates, t.fillStates = this.fillStates, t.strokeStates = this.strokeStates, t;
  }
  drawText(t, e) {
    const n = this.textFillState_, o = this.textStrokeState_, r3 = this.textState_;
    if (this.text_ === "" || !r3 || !n && !o)
      return;
    const s = this.coordinates;
    let a = s.length;
    const l = t.getType();
    let h = null, u = t.getStride();
    if (r3.placement === "line" && (l == "LineString" || l == "MultiLineString" || l == "Polygon" || l == "MultiPolygon")) {
      if (!Ht(this.getBufferedMaxExtent(), t.getExtent()))
        return;
      let d;
      if (h = t.getFlatCoordinates(), l == "LineString")
        d = [h.length];
      else if (l == "MultiLineString")
        d = t.getEnds();
      else if (l == "Polygon")
        d = t.getEnds().slice(0, 1);
      else if (l == "MultiPolygon") {
        const m = t.getEndss();
        d = [];
        for (let p = 0, _ = m.length; p < _; ++p)
          d.push(m[p][0]);
      }
      this.beginGeometry(t, e);
      const c = r3.textAlign;
      let g = 0, f;
      for (let m = 0, p = d.length; m < p; ++m) {
        if (c == null) {
          const v = ay(
            r3.maxAngle,
            h,
            g,
            d[m],
            u
          );
          g = v[0], f = v[1];
        } else
          f = d[m];
        for (let v = g; v < f; v += u)
          s.push(h[v], h[v + 1]);
        const _ = s.length;
        g = d[m], this.drawChars_(a, _), a = _;
      }
      this.endGeometry(e);
    } else {
      let d = r3.overflow ? null : [];
      switch (l) {
        case "Point":
        case "MultiPoint":
          h = t.getFlatCoordinates();
          break;
        case "LineString":
          h = t.getFlatMidpoint();
          break;
        case "Circle":
          h = t.getCenter();
          break;
        case "MultiLineString":
          h = t.getFlatMidpoints(), u = 2;
          break;
        case "Polygon":
          h = t.getFlatInteriorPoint(), r3.overflow || d.push(h[2] / this.resolution), u = 3;
          break;
        case "MultiPolygon":
          const p = t.getFlatInteriorPoints();
          h = [];
          for (let _ = 0, v = p.length; _ < v; _ += 3)
            r3.overflow || d.push(p[_ + 2] / this.resolution), h.push(p[_], p[_ + 1]);
          if (h.length === 0)
            return;
          u = 2;
          break;
      }
      const c = this.appendFlatPointCoordinates(h, u);
      if (c === a)
        return;
      if (d && (c - a) / 2 !== h.length / u) {
        let p = a / 2;
        d = d.filter((_, v) => {
          const y = s[(p + v) * 2] === h[v * u] && s[(p + v) * 2 + 1] === h[v * u + 1];
          return y || --p, y;
        });
      }
      this.saveTextStates_(), (r3.backgroundFill || r3.backgroundStroke) && (this.setFillStrokeStyle(
        r3.backgroundFill,
        r3.backgroundStroke
      ), r3.backgroundFill && (this.updateFillStyle(this.state, this.createFill), this.hitDetectionInstructions.push(this.createFill(this.state))), r3.backgroundStroke && (this.updateStrokeStyle(this.state, this.applyStroke), this.hitDetectionInstructions.push(this.createStroke(this.state)))), this.beginGeometry(t, e);
      let g = r3.padding;
      if (g != Zn && (r3.scale[0] < 0 || r3.scale[1] < 0)) {
        let p = r3.padding[0], _ = r3.padding[1], v = r3.padding[2], y = r3.padding[3];
        r3.scale[0] < 0 && (_ = -_, y = -y), r3.scale[1] < 0 && (p = -p, v = -v), g = [p, _, v, y];
      }
      const f = this.pixelRatio;
      this.instructions.push([
        J.DRAW_IMAGE,
        a,
        c,
        null,
        NaN,
        NaN,
        NaN,
        1,
        0,
        0,
        this.textRotateWithView_,
        this.textRotation_,
        [1, 1],
        NaN,
        void 0,
        this.declutterImageWithText_,
        g == Zn ? Zn : g.map(function(p) {
          return p * f;
        }),
        !!r3.backgroundFill,
        !!r3.backgroundStroke,
        this.text_,
        this.textKey_,
        this.strokeKey_,
        this.fillKey_,
        this.textOffsetX_,
        this.textOffsetY_,
        d
      ]);
      const m = 1 / f;
      this.hitDetectionInstructions.push([
        J.DRAW_IMAGE,
        a,
        c,
        null,
        NaN,
        NaN,
        NaN,
        1,
        0,
        0,
        this.textRotateWithView_,
        this.textRotation_,
        [m, m],
        NaN,
        void 0,
        this.declutterImageWithText_,
        g,
        !!r3.backgroundFill,
        !!r3.backgroundStroke,
        this.text_,
        this.textKey_,
        this.strokeKey_,
        this.fillKey_,
        this.textOffsetX_,
        this.textOffsetY_,
        d
      ]), this.endGeometry(e);
    }
  }
  saveTextStates_() {
    const t = this.textStrokeState_, e = this.textState_, n = this.textFillState_, o = this.strokeKey_;
    t && (o in this.strokeStates || (this.strokeStates[o] = {
      strokeStyle: t.strokeStyle,
      lineCap: t.lineCap,
      lineDashOffset: t.lineDashOffset,
      lineWidth: t.lineWidth,
      lineJoin: t.lineJoin,
      miterLimit: t.miterLimit,
      lineDash: t.lineDash
    }));
    const r3 = this.textKey_;
    r3 in this.textStates || (this.textStates[r3] = {
      font: e.font,
      textAlign: e.textAlign || qr,
      justify: e.justify,
      textBaseline: e.textBaseline || ca,
      scale: e.scale
    });
    const s = this.fillKey_;
    n && (s in this.fillStates || (this.fillStates[s] = {
      fillStyle: n.fillStyle
    }));
  }
  drawChars_(t, e) {
    const n = this.textStrokeState_, o = this.textState_, r3 = this.strokeKey_, s = this.textKey_, a = this.fillKey_;
    this.saveTextStates_();
    const l = this.pixelRatio, h = Pr[o.textBaseline], u = this.textOffsetY_ * l, d = this.text_, c = n ? n.lineWidth * Math.abs(o.scale[0]) / 2 : 0;
    this.instructions.push([
      J.DRAW_CHARS,
      t,
      e,
      h,
      o.overflow,
      a,
      o.maxAngle,
      l,
      u,
      r3,
      c * l,
      d,
      s,
      1
    ]), this.hitDetectionInstructions.push([
      J.DRAW_CHARS,
      t,
      e,
      h,
      o.overflow,
      a,
      o.maxAngle,
      1,
      u,
      r3,
      c,
      d,
      s,
      1 / l
    ]);
  }
  setTextStyle(t, e) {
    let n, o, r3;
    if (!t)
      this.text_ = "";
    else {
      const s = t.getFill();
      s ? (o = this.textFillState_, o || (o = {}, this.textFillState_ = o), o.fillStyle = fi(
        s.getColor() || Li
      )) : (o = null, this.textFillState_ = o);
      const a = t.getStroke();
      if (!a)
        r3 = null, this.textStrokeState_ = r3;
      else {
        r3 = this.textStrokeState_, r3 || (r3 = {}, this.textStrokeState_ = r3);
        const f = a.getLineDash(), m = a.getLineDashOffset(), p = a.getWidth(), _ = a.getMiterLimit();
        r3.lineCap = a.getLineCap() || da, r3.lineDash = f ? f.slice() : Yr, r3.lineDashOffset = m === void 0 ? Xr : m, r3.lineJoin = a.getLineJoin() || tr, r3.lineWidth = p === void 0 ? $r : p, r3.miterLimit = _ === void 0 ? Ur : _, r3.strokeStyle = fi(
          a.getColor() || Vr
        );
      }
      n = this.textState_;
      const l = t.getFont() || yf;
      hv(l);
      const h = t.getScaleArray();
      n.overflow = t.getOverflow(), n.font = l, n.maxAngle = t.getMaxAngle(), n.placement = t.getPlacement(), n.textAlign = t.getTextAlign(), n.justify = t.getJustify(), n.textBaseline = t.getTextBaseline() || ca, n.backgroundFill = t.getBackgroundFill(), n.backgroundStroke = t.getBackgroundStroke(), n.padding = t.getPadding() || Zn, n.scale = h === void 0 ? [1, 1] : h;
      const u = t.getOffsetX(), d = t.getOffsetY(), c = t.getRotateWithView(), g = t.getRotation();
      this.text_ = t.getText() || "", this.textOffsetX_ = u === void 0 ? 0 : u, this.textOffsetY_ = d === void 0 ? 0 : d, this.textRotateWithView_ = c === void 0 ? false : c, this.textRotation_ = g === void 0 ? 0 : g, this.strokeKey_ = r3 ? (typeof r3.strokeStyle == "string" ? r3.strokeStyle : H(r3.strokeStyle)) + r3.lineCap + r3.lineDashOffset + "|" + r3.lineWidth + r3.lineJoin + r3.miterLimit + "[" + r3.lineDash.join() + "]" : "", this.textKey_ = n.font + n.scale + (n.textAlign || "?") + (n.justify || "?") + (n.textBaseline || "?"), this.fillKey_ = o ? typeof o.fillStyle == "string" ? o.fillStyle : "|" + H(o.fillStyle) : "";
    }
    this.declutterImageWithText_ = e;
  }
}
const hy = {
  Circle: Ic,
  Default: vs,
  Image: ny,
  LineString: ry,
  Polygon: Ic,
  Text: ly
};
class uy {
  constructor(t, e, n, o) {
    this.tolerance_ = t, this.maxExtent_ = e, this.pixelRatio_ = o, this.resolution_ = n, this.buildersByZIndex_ = {};
  }
  finish() {
    const t = {};
    for (const e in this.buildersByZIndex_) {
      t[e] = t[e] || {};
      const n = this.buildersByZIndex_[e];
      for (const o in n) {
        const r3 = n[o].finish();
        t[e][o] = r3;
      }
    }
    return t;
  }
  getBuilder(t, e) {
    const n = t !== void 0 ? t.toString() : "0";
    let o = this.buildersByZIndex_[n];
    o === void 0 && (o = {}, this.buildersByZIndex_[n] = o);
    let r3 = o[e];
    if (r3 === void 0) {
      const s = hy[e];
      r3 = new s(
        this.tolerance_,
        this.maxExtent_,
        this.resolution_,
        this.pixelRatio_
      ), o[e] = r3;
    }
    return r3;
  }
}
const ka = uy;
class dy extends Kg {
  constructor(t) {
    super(), this.ready = true, this.boundHandleImageChange_ = this.handleImageChange_.bind(this), this.layer_ = t, this.declutterExecutorGroup = null;
  }
  getFeatures(t) {
    return tt();
  }
  getData(t) {
    return null;
  }
  prepareFrame(t) {
    return tt();
  }
  renderFrame(t, e) {
    return tt();
  }
  loadedTileCallback(t, e, n) {
    t[e] || (t[e] = {}), t[e][n.tileCoord.toString()] = n;
  }
  createLoadedTileFinder(t, e, n) {
    return function(o, r3) {
      const s = this.loadedTileCallback.bind(this, n, o);
      return t.forEachLoadedTile(e, o, r3, s);
    }.bind(this);
  }
  forEachFeatureAtCoordinate(t, e, n, o, r3) {
  }
  getLayer() {
    return this.layer_;
  }
  handleFontsChanged() {
  }
  handleImageChange_(t) {
    t.target.getState() === te.LOADED && this.renderIfReadyAndVisible();
  }
  loadImage(t) {
    let e = t.getState();
    return e != te.LOADED && e != te.ERROR && t.addEventListener(Q.CHANGE, this.boundHandleImageChange_), e == te.IDLE && (t.load(), e = t.getState()), e == te.LOADED;
  }
  renderIfReadyAndVisible() {
    const t = this.getLayer();
    t && t.getVisible() && t.getSourceState() === "ready" && t.changed();
  }
  disposeInternal() {
    delete this.layer_, super.disposeInternal();
  }
}
const cy = dy, zc = [];
let Io = null;
function gy() {
  const i = document.createElement("canvas");
  i.width = 1, i.height = 1, Io = i.getContext("2d");
}
class fy extends cy {
  constructor(t) {
    super(t), this.container = null, this.renderedResolution, this.tempTransform = Ke(), this.pixelTransform = Ke(), this.inversePixelTransform = Ke(), this.context = null, this.containerReused = false, this.pixelContext_ = null, this.frameState = null;
  }
  getImageData(t, e, n) {
    Io || gy(), Io.clearRect(0, 0, 1, 1);
    let o;
    try {
      Io.drawImage(t, e, n, 1, 1, 0, 0, 1, 1), o = Io.getImageData(0, 0, 1, 1).data;
    } catch {
      return Io = null, null;
    }
    return o;
  }
  getBackground(t) {
    let n = this.getLayer().getBackground();
    return typeof n == "function" && (n = n(t.viewState.resolution)), n || void 0;
  }
  useContainer(t, e, n) {
    const o = this.getLayer().getClassName();
    let r3, s;
    if (t && t.className === o && (!n || t && t.style.backgroundColor && Tn(
      Zr(t.style.backgroundColor),
      Zr(n)
    ))) {
      const a = t.firstElementChild;
      a instanceof HTMLCanvasElement && (s = a.getContext("2d"));
    }
    if (s && s.canvas.style.transform === e ? (this.container = t, this.context = s, this.containerReused = true) : this.containerReused && (this.container = null, this.context = null, this.containerReused = false), !this.container) {
      r3 = document.createElement("div"), r3.className = o;
      let a = r3.style;
      a.position = "absolute", a.width = "100%", a.height = "100%", s = Fe();
      const l = s.canvas;
      r3.appendChild(l), a = l.style, a.position = "absolute", a.left = "0", a.transformOrigin = "top left", this.container = r3, this.context = s;
    }
    !this.containerReused && n && !this.container.style.backgroundColor && (this.container.style.backgroundColor = n);
  }
  clipUnrotated(t, e, n) {
    const o = In(n), r3 = qa(n), s = Va(n), a = Ua(n);
    Qt(e.coordinateToPixelTransform, o), Qt(e.coordinateToPixelTransform, r3), Qt(e.coordinateToPixelTransform, s), Qt(e.coordinateToPixelTransform, a);
    const l = this.inversePixelTransform;
    Qt(l, o), Qt(l, r3), Qt(l, s), Qt(l, a), t.save(), t.beginPath(), t.moveTo(Math.round(o[0]), Math.round(o[1])), t.lineTo(Math.round(r3[0]), Math.round(r3[1])), t.lineTo(Math.round(s[0]), Math.round(s[1])), t.lineTo(Math.round(a[0]), Math.round(a[1])), t.clip();
  }
  dispatchRenderEvent_(t, e, n) {
    const o = this.getLayer();
    if (o.hasListener(t)) {
      const r3 = new _f(
        t,
        this.inversePixelTransform,
        n,
        e
      );
      o.dispatchEvent(r3);
    }
  }
  preRender(t, e) {
    this.frameState = e, this.dispatchRenderEvent_(ln.PRERENDER, t, e);
  }
  postRender(t, e) {
    this.dispatchRenderEvent_(ln.POSTRENDER, t, e);
  }
  getRenderTransform(t, e, n, o, r3, s, a) {
    const l = r3 / 2, h = s / 2, u = o / e, d = -u, c = -t[0] + a, g = -t[1];
    return Ni(
      this.tempTransform,
      l,
      h,
      u,
      d,
      -n,
      c,
      g
    );
  }
  disposeInternal() {
    delete this.frameState, super.disposeInternal();
  }
}
const em = fy;
function my(i, t, e, n, o, r3, s, a, l, h, u, d) {
  let c = i[t], g = i[t + 1], f = 0, m = 0, p = 0, _ = 0;
  function v() {
    f = c, m = g, t += n, c = i[t], g = i[t + 1], _ += p, p = Math.sqrt((c - f) * (c - f) + (g - m) * (g - m));
  }
  do
    v();
  while (t < e - n && _ + p < r3);
  let y = p === 0 ? 0 : (r3 - _) / p;
  const x = Ri(f, c, y), k = Ri(m, g, y), w = t - n, E = _, C = r3 + a * l(h, o, u);
  for (; t < e - n && _ + p < C; )
    v();
  y = p === 0 ? 0 : (C - _) / p;
  const S = Ri(f, c, y), z = Ri(m, g, y);
  let P;
  if (d) {
    const B = [x, k, S, z];
    Tu(B, 0, 4, 2, d, B, B), P = B[0] > B[2];
  } else
    P = x > S;
  const N = Math.PI, A = [], st = w + n === t;
  t = w, p = 0, _ = E, c = i[t], g = i[t + 1];
  let j;
  if (st) {
    v(), j = Math.atan2(g - m, c - f), P && (j += j > 0 ? -N : N);
    const B = (S + x) / 2, F = (z + k) / 2;
    return A[0] = [B, F, (C - r3) / 2, j, o], A;
  }
  o = o.replace(/\n/g, " ");
  for (let B = 0, F = o.length; B < F; ) {
    v();
    let U = Math.atan2(g - m, c - f);
    if (P && (U += U > 0 ? -N : N), j !== void 0) {
      let b = U - j;
      if (b += b > N ? -2 * N : b < -N ? 2 * N : 0, Math.abs(b) > s)
        return null;
    }
    j = U;
    const D = B;
    let q = 0;
    for (; B < F; ++B) {
      const b = P ? F - B - 1 : B, T = a * l(h, o[b], u);
      if (t + n < e && _ + p < r3 + q + T / 2)
        break;
      q += T;
    }
    if (B === D)
      continue;
    const W = P ? o.substring(F - D, F - B) : o.substring(D, B);
    y = p === 0 ? 0 : (r3 + q / 2 - _) / p;
    const I = Ri(f, c, y), nt = Ri(m, g, y);
    A.push([I, nt, q / 2, U, W]), r3 += q;
  }
  return A;
}
const ko = Xe(), Yi = [], Ei = [], Si = [], Xi = [];
function Rc(i) {
  return i[3].declutterBox;
}
const py = new RegExp(
  "[" + String.fromCharCode(1425) + "-" + String.fromCharCode(2303) + String.fromCharCode(64285) + "-" + String.fromCharCode(65023) + String.fromCharCode(65136) + "-" + String.fromCharCode(65276) + String.fromCharCode(67584) + "-" + String.fromCharCode(69631) + String.fromCharCode(124928) + "-" + String.fromCharCode(126975) + "]"
);
function Ac(i, t) {
  return (t === "start" || t === "end") && !py.test(i) && (t = t === "start" ? "left" : "right"), Pr[t];
}
function vy(i, t, e) {
  return e > 0 && i.push(`
`, ""), i.push(t, ""), i;
}
class _y {
  constructor(t, e, n, o) {
    this.overlaps = n, this.pixelRatio = e, this.resolution = t, this.alignFill_, this.instructions = o.instructions, this.coordinates = o.coordinates, this.coordinateCache_ = {}, this.renderedTransform_ = Ke(), this.hitDetectionInstructions = o.hitDetectionInstructions, this.pixelCoordinates_ = null, this.viewRotation_ = 0, this.fillStates = o.fillStates || {}, this.strokeStates = o.strokeStates || {}, this.textStates = o.textStates || {}, this.widths_ = {}, this.labels_ = {};
  }
  createLabel(t, e, n, o) {
    const r3 = t + e + n + o;
    if (this.labels_[r3])
      return this.labels_[r3];
    const s = o ? this.strokeStates[o] : null, a = n ? this.fillStates[n] : null, l = this.textStates[e], h = this.pixelRatio, u = [
      l.scale[0] * h,
      l.scale[1] * h
    ], d = Array.isArray(t), c = l.justify ? Pr[l.justify] : Ac(
      Array.isArray(t) ? t[0] : t,
      l.textAlign || qr
    ), g = o && s.lineWidth ? s.lineWidth : 0, f = d ? t : t.split(`
`).reduce(vy, []), { width: m, height: p, widths: _, heights: v, lineWidths: y } = dv(
      l,
      f
    ), x = m + g, k = [], w = (x + 2) * u[0], E = (p + g) * u[1], C = {
      width: w < 0 ? Math.floor(w) : Math.ceil(w),
      height: E < 0 ? Math.floor(E) : Math.ceil(E),
      contextInstructions: k
    };
    (u[0] != 1 || u[1] != 1) && k.push("scale", u), o && (k.push("strokeStyle", s.strokeStyle), k.push("lineWidth", g), k.push("lineCap", s.lineCap), k.push("lineJoin", s.lineJoin), k.push("miterLimit", s.miterLimit), k.push("setLineDash", [s.lineDash]), k.push("lineDashOffset", s.lineDashOffset)), n && k.push("fillStyle", a.fillStyle), k.push("textBaseline", "middle"), k.push("textAlign", "center");
    const S = 0.5 - c;
    let z = c * x + S * g;
    const P = [], N = [];
    let A = 0, st = 0, j = 0, B = 0, F;
    for (let U = 0, D = f.length; U < D; U += 2) {
      const q = f[U];
      if (q === `
`) {
        st += A, A = 0, z = c * x + S * g, ++B;
        continue;
      }
      const W = f[U + 1] || l.font;
      W !== F && (o && P.push("font", W), n && N.push("font", W), F = W), A = Math.max(A, v[j]);
      const I = [
        q,
        z + S * _[j] + c * (_[j] - y[B]),
        0.5 * (g + A) + st
      ];
      z += _[j], o && P.push("strokeText", I), n && N.push("fillText", I), ++j;
    }
    return Array.prototype.push.apply(k, P), Array.prototype.push.apply(k, N), this.labels_[r3] = C, C;
  }
  replayTextBackground_(t, e, n, o, r3, s, a) {
    t.beginPath(), t.moveTo.apply(t, e), t.lineTo.apply(t, n), t.lineTo.apply(t, o), t.lineTo.apply(t, r3), t.lineTo.apply(t, e), s && (this.alignFill_ = s[2], this.fill_(t)), a && (this.setStrokeStyle_(
      t,
      a
    ), t.stroke());
  }
  calculateImageOrLabelDimensions_(t, e, n, o, r3, s, a, l, h, u, d, c, g, f, m, p) {
    a *= c[0], l *= c[1];
    let _ = n - a, v = o - l;
    const y = r3 + h > t ? t - h : r3, x = s + u > e ? e - u : s, k = f[3] + y * c[0] + f[1], w = f[0] + x * c[1] + f[2], E = _ - f[3], C = v - f[0];
    (m || d !== 0) && (Yi[0] = E, Xi[0] = E, Yi[1] = C, Ei[1] = C, Ei[0] = E + k, Si[0] = Ei[0], Si[1] = C + w, Xi[1] = Si[1]);
    let S;
    return d !== 0 ? (S = Ni(
      Ke(),
      n,
      o,
      1,
      1,
      d,
      -n,
      -o
    ), Qt(S, Yi), Qt(S, Ei), Qt(S, Si), Qt(S, Xi), li(
      Math.min(Yi[0], Ei[0], Si[0], Xi[0]),
      Math.min(Yi[1], Ei[1], Si[1], Xi[1]),
      Math.max(Yi[0], Ei[0], Si[0], Xi[0]),
      Math.max(Yi[1], Ei[1], Si[1], Xi[1]),
      ko
    )) : li(
      Math.min(E, E + k),
      Math.min(C, C + w),
      Math.max(E, E + k),
      Math.max(C, C + w),
      ko
    ), g && (_ = Math.round(_), v = Math.round(v)), {
      drawImageX: _,
      drawImageY: v,
      drawImageW: y,
      drawImageH: x,
      originX: h,
      originY: u,
      declutterBox: {
        minX: ko[0],
        minY: ko[1],
        maxX: ko[2],
        maxY: ko[3],
        value: p
      },
      canvasTransform: S,
      scale: c
    };
  }
  replayImageOrLabel_(t, e, n, o, r3, s, a) {
    const l = !!(s || a), h = o.declutterBox, u = t.canvas, d = a ? a[2] * o.scale[0] / 2 : 0;
    return h.minX - d <= u.width / e && h.maxX + d >= 0 && h.minY - d <= u.height / e && h.maxY + d >= 0 && (l && this.replayTextBackground_(
      t,
      Yi,
      Ei,
      Si,
      Xi,
      s,
      a
    ), cv(
      t,
      o.canvasTransform,
      r3,
      n,
      o.originX,
      o.originY,
      o.drawImageW,
      o.drawImageH,
      o.drawImageX,
      o.drawImageY,
      o.scale
    )), true;
  }
  fill_(t) {
    if (this.alignFill_) {
      const e = Qt(this.renderedTransform_, [0, 0]), n = 512 * this.pixelRatio;
      t.save(), t.translate(e[0] % n, e[1] % n), t.rotate(this.viewRotation_);
    }
    t.fill(), this.alignFill_ && t.restore();
  }
  setStrokeStyle_(t, e) {
    t.strokeStyle = e[1], t.lineWidth = e[2], t.lineCap = e[3], t.lineJoin = e[4], t.miterLimit = e[5], t.lineDashOffset = e[7], t.setLineDash(e[6]);
  }
  drawLabelWithPointPlacement_(t, e, n, o) {
    const r3 = this.textStates[e], s = this.createLabel(t, e, o, n), a = this.strokeStates[n], l = this.pixelRatio, h = Ac(
      Array.isArray(t) ? t[0] : t,
      r3.textAlign || qr
    ), u = Pr[r3.textBaseline || ca], d = a && a.lineWidth ? a.lineWidth : 0, c = s.width / l - 2 * r3.scale[0], g = h * c + 2 * (0.5 - h) * d, f = u * s.height / l + 2 * (0.5 - u) * d;
    return {
      label: s,
      anchorX: g,
      anchorY: f
    };
  }
  execute_(t, e, n, o, r3, s, a, l) {
    let h;
    this.pixelCoordinates_ && Tn(n, this.renderedTransform_) ? h = this.pixelCoordinates_ : (this.pixelCoordinates_ || (this.pixelCoordinates_ = []), h = hn(
      this.coordinates,
      0,
      this.coordinates.length,
      2,
      n,
      this.pixelCoordinates_
    ), $0(this.renderedTransform_, n));
    let u = 0;
    const d = o.length;
    let c = 0, g, f, m, p, _, v, y, x, k, w, E, C, S = 0, z = 0, P = null, N = null;
    const A = this.coordinateCache_, st = this.viewRotation_, j = Math.round(Math.atan2(-n[1], n[0]) * 1e12) / 1e12, B = {
      context: t,
      pixelRatio: this.pixelRatio,
      resolution: this.resolution,
      rotation: st
    }, F = this.instructions != o || this.overlaps ? 0 : 200;
    let U, D, q, W;
    for (; u < d; ) {
      const I = o[u];
      switch (I[0]) {
        case J.BEGIN_GEOMETRY:
          U = I[1], W = I[3], U.getGeometry() ? a !== void 0 && !Ht(a, W.getExtent()) ? u = I[2] + 1 : ++u : u = I[2];
          break;
        case J.BEGIN_PATH:
          S > F && (this.fill_(t), S = 0), z > F && (t.stroke(), z = 0), !S && !z && (t.beginPath(), p = NaN, _ = NaN), ++u;
          break;
        case J.CIRCLE:
          c = I[1];
          const b = h[c], T = h[c + 1], V = h[c + 2], M = h[c + 3], $ = V - b, X = M - T, vt = Math.sqrt($ * $ + X * X);
          t.moveTo(b + vt, T), t.arc(b, T, vt, 0, 2 * Math.PI, true), ++u;
          break;
        case J.CLOSE_PATH:
          t.closePath(), ++u;
          break;
        case J.CUSTOM:
          c = I[1], g = I[2];
          const Et = I[3], _t = I[4], Ct = I.length == 6 ? I[5] : void 0;
          B.geometry = Et, B.feature = U, u in A || (A[u] = []);
          const Lt = A[u];
          Ct ? Ct(h, c, g, 2, Lt) : (Lt[0] = h[c], Lt[1] = h[c + 1], Lt.length = 2), _t(Lt, B), ++u;
          break;
        case J.DRAW_IMAGE:
          c = I[1], g = I[2], x = I[3], f = I[4], m = I[5];
          let Pt = I[6];
          const Ft = I[7], O = I[8], ht = I[9], ft = I[10];
          let kt = I[11];
          const yt = I[12];
          let ot = I[13];
          const it = I[14], wt = I[15];
          if (!x && I.length >= 20) {
            k = I[19], w = I[20], E = I[21], C = I[22];
            const he = this.drawLabelWithPointPlacement_(
              k,
              w,
              E,
              C
            );
            x = he.label, I[3] = x;
            const ui = I[23];
            f = (he.anchorX - ui) * this.pixelRatio, I[4] = f;
            const fe = I[24];
            m = (he.anchorY - fe) * this.pixelRatio, I[5] = m, Pt = x.height, I[6] = Pt, ot = x.width, I[13] = ot;
          }
          let Tt;
          I.length > 25 && (Tt = I[25]);
          let Nt, bt, ut;
          I.length > 17 ? (Nt = I[16], bt = I[17], ut = I[18]) : (Nt = Zn, bt = false, ut = false), ft && j ? kt += st : !ft && !j && (kt -= st);
          let Ot = 0;
          for (; c < g; c += 2) {
            if (Tt && Tt[Ot++] < ot / this.pixelRatio)
              continue;
            const he = this.calculateImageOrLabelDimensions_(
              x.width,
              x.height,
              h[c],
              h[c + 1],
              ot,
              Pt,
              f,
              m,
              O,
              ht,
              kt,
              yt,
              r3,
              Nt,
              bt || ut,
              U
            ), ui = [
              t,
              e,
              x,
              he,
              Ft,
              bt ? P : null,
              ut ? N : null
            ];
            if (l) {
              if (it === "none")
                continue;
              if (it === "obstacle") {
                l.insert(he.declutterBox);
                continue;
              } else {
                let fe, We;
                if (wt) {
                  const be = g - c;
                  if (!wt[be]) {
                    wt[be] = ui;
                    continue;
                  }
                  if (fe = wt[be], delete wt[be], We = Rc(fe), l.collides(We))
                    continue;
                }
                if (l.collides(he.declutterBox))
                  continue;
                fe && (l.insert(We), this.replayImageOrLabel_.apply(this, fe)), l.insert(he.declutterBox);
              }
            }
            this.replayImageOrLabel_.apply(this, ui);
          }
          ++u;
          break;
        case J.DRAW_CHARS:
          const St = I[1], dt = I[2], le = I[3], je = I[4];
          C = I[5];
          const Xt = I[6], xe = I[7], Wt = I[8];
          E = I[9];
          const Kt = I[10];
          k = I[11], w = I[12];
          const Bi = [
            I[13],
            I[13]
          ], ie = this.textStates[w], Be = ie.font, ge = [
            ie.scale[0] * xe,
            ie.scale[1] * xe
          ];
          let Pe;
          Be in this.widths_ ? Pe = this.widths_[Be] : (Pe = {}, this.widths_[Be] = Pe);
          const Ci = Yf(h, St, dt, 2), Ss = Math.abs(ge[0]) * hc(Be, k, Pe);
          if (je || Ss <= Ci) {
            const he = this.textStates[w].textAlign, ui = (Ci - Ss) * Pr[he], fe = my(
              h,
              St,
              dt,
              2,
              k,
              ui,
              Xt,
              Math.abs(ge[0]),
              hc,
              Be,
              Pe,
              j ? 0 : this.viewRotation_
            );
            t:
              if (fe) {
                const We = [];
                let be, fo, mo, me, ke;
                if (E)
                  for (be = 0, fo = fe.length; be < fo; ++be) {
                    ke = fe[be], mo = ke[4], me = this.createLabel(mo, w, "", E), f = ke[2] + (ge[0] < 0 ? -Kt : Kt), m = le * me.height + (0.5 - le) * 2 * Kt * ge[1] / ge[0] - Wt;
                    const Jt = this.calculateImageOrLabelDimensions_(
                      me.width,
                      me.height,
                      ke[0],
                      ke[1],
                      me.width,
                      me.height,
                      f,
                      m,
                      0,
                      0,
                      ke[3],
                      Bi,
                      false,
                      Zn,
                      false,
                      U
                    );
                    if (l && l.collides(Jt.declutterBox))
                      break t;
                    We.push([
                      t,
                      e,
                      me,
                      Jt,
                      1,
                      null,
                      null
                    ]);
                  }
                if (C)
                  for (be = 0, fo = fe.length; be < fo; ++be) {
                    ke = fe[be], mo = ke[4], me = this.createLabel(mo, w, C, ""), f = ke[2], m = le * me.height - Wt;
                    const Jt = this.calculateImageOrLabelDimensions_(
                      me.width,
                      me.height,
                      ke[0],
                      ke[1],
                      me.width,
                      me.height,
                      f,
                      m,
                      0,
                      0,
                      ke[3],
                      Bi,
                      false,
                      Zn,
                      false,
                      U
                    );
                    if (l && l.collides(Jt.declutterBox))
                      break t;
                    We.push([
                      t,
                      e,
                      me,
                      Jt,
                      1,
                      null,
                      null
                    ]);
                  }
                l && l.load(We.map(Rc));
                for (let Jt = 0, dr = We.length; Jt < dr; ++Jt)
                  this.replayImageOrLabel_.apply(this, We[Jt]);
              }
          }
          ++u;
          break;
        case J.END_GEOMETRY:
          if (s !== void 0) {
            U = I[1];
            const he = s(U, W);
            if (he)
              return he;
          }
          ++u;
          break;
        case J.FILL:
          F ? S++ : this.fill_(t), ++u;
          break;
        case J.MOVE_TO_LINE_TO:
          for (c = I[1], g = I[2], D = h[c], q = h[c + 1], v = D + 0.5 | 0, y = q + 0.5 | 0, (v !== p || y !== _) && (t.moveTo(D, q), p = v, _ = y), c += 2; c < g; c += 2)
            D = h[c], q = h[c + 1], v = D + 0.5 | 0, y = q + 0.5 | 0, (c == g - 2 || v !== p || y !== _) && (t.lineTo(D, q), p = v, _ = y);
          ++u;
          break;
        case J.SET_FILL_STYLE:
          P = I, this.alignFill_ = I[2], S && (this.fill_(t), S = 0, z && (t.stroke(), z = 0)), t.fillStyle = I[1], ++u;
          break;
        case J.SET_STROKE_STYLE:
          N = I, z && (t.stroke(), z = 0), this.setStrokeStyle_(t, I), ++u;
          break;
        case J.STROKE:
          F ? z++ : t.stroke(), ++u;
          break;
        default:
          ++u;
          break;
      }
    }
    S && this.fill_(t), z && t.stroke();
  }
  execute(t, e, n, o, r3, s) {
    this.viewRotation_ = o, this.execute_(
      t,
      e,
      n,
      this.instructions,
      r3,
      void 0,
      void 0,
      s
    );
  }
  executeHitDetection(t, e, n, o, r3) {
    return this.viewRotation_ = n, this.execute_(
      t,
      1,
      e,
      this.hitDetectionInstructions,
      true,
      o,
      r3
    );
  }
}
const yy = _y, Gl = ["Polygon", "Circle", "LineString", "Image", "Text", "Default"];
class xy {
  constructor(t, e, n, o, r3, s) {
    this.maxExtent_ = t, this.overlaps_ = o, this.pixelRatio_ = n, this.resolution_ = e, this.renderBuffer_ = s, this.executorsByZIndex_ = {}, this.hitDetectionContext_ = null, this.hitDetectionTransform_ = Ke(), this.createExecutors_(r3);
  }
  clip(t, e) {
    const n = this.getClipCoords(e);
    t.beginPath(), t.moveTo(n[0], n[1]), t.lineTo(n[2], n[3]), t.lineTo(n[4], n[5]), t.lineTo(n[6], n[7]), t.clip();
  }
  createExecutors_(t) {
    for (const e in t) {
      let n = this.executorsByZIndex_[e];
      n === void 0 && (n = {}, this.executorsByZIndex_[e] = n);
      const o = t[e];
      for (const r3 in o) {
        const s = o[r3];
        n[r3] = new yy(
          this.resolution_,
          this.pixelRatio_,
          this.overlaps_,
          s
        );
      }
    }
  }
  hasExecutors(t) {
    for (const e in this.executorsByZIndex_) {
      const n = this.executorsByZIndex_[e];
      for (let o = 0, r3 = t.length; o < r3; ++o)
        if (t[o] in n)
          return true;
    }
    return false;
  }
  forEachFeatureAtCoordinate(t, e, n, o, r3, s) {
    o = Math.round(o);
    const a = o * 2 + 1, l = Ni(
      this.hitDetectionTransform_,
      o + 0.5,
      o + 0.5,
      1 / e,
      -1 / e,
      -n,
      -t[0],
      -t[1]
    ), h = !this.hitDetectionContext_;
    h && (this.hitDetectionContext_ = Fe(
      a,
      a
    ));
    const u = this.hitDetectionContext_;
    u.canvas.width !== a || u.canvas.height !== a ? (u.canvas.width = a, u.canvas.height = a) : h || u.clearRect(0, 0, a, a);
    let d;
    this.renderBuffer_ !== void 0 && (d = Xe(), Ar(d, t), vi$1(
      d,
      e * (this.renderBuffer_ + o),
      d
    ));
    const c = by(o);
    let g;
    function f(k, w) {
      const E = u.getImageData(
        0,
        0,
        a,
        a
      ).data;
      for (let C = 0, S = c.length; C < S; C++)
        if (E[c[C]] > 0) {
          if (!s || g !== "Image" && g !== "Text" || s.includes(k)) {
            const z = (c[C] - 3) / 4, P = o - z % a, N = o - (z / a | 0), A = r3(k, w, P * P + N * N);
            if (A)
              return A;
          }
          u.clearRect(0, 0, a, a);
          break;
        }
    }
    const m = Object.keys(this.executorsByZIndex_).map(Number);
    m.sort(Kn);
    let p, _, v, y, x;
    for (p = m.length - 1; p >= 0; --p) {
      const k = m[p].toString();
      for (v = this.executorsByZIndex_[k], _ = Gl.length - 1; _ >= 0; --_)
        if (g = Gl[_], y = v[g], y !== void 0 && (x = y.executeHitDetection(
          u,
          l,
          n,
          f,
          d
        ), x))
          return x;
    }
  }
  getClipCoords(t) {
    const e = this.maxExtent_;
    if (!e)
      return null;
    const n = e[0], o = e[1], r3 = e[2], s = e[3], a = [n, o, n, s, r3, s, r3, o];
    return hn(a, 0, 8, 2, t, a), a;
  }
  isEmpty() {
    return to(this.executorsByZIndex_);
  }
  execute(t, e, n, o, r3, s, a) {
    const l = Object.keys(this.executorsByZIndex_).map(Number);
    l.sort(Kn), this.maxExtent_ && (t.save(), this.clip(t, n)), s = s || Gl;
    let h, u, d, c, g, f;
    for (a && l.reverse(), h = 0, u = l.length; h < u; ++h) {
      const m = l[h].toString();
      for (g = this.executorsByZIndex_[m], d = 0, c = s.length; d < c; ++d) {
        const p = s[d];
        f = g[p], f !== void 0 && f.execute(
          t,
          e,
          n,
          o,
          r3,
          a
        );
      }
    }
    this.maxExtent_ && t.restore();
  }
}
const jl = {};
function by(i) {
  if (jl[i] !== void 0)
    return jl[i];
  const t = i * 2 + 1, e = i * i, n = new Array(e + 1);
  for (let r3 = 0; r3 <= i; ++r3)
    for (let s = 0; s <= i; ++s) {
      const a = r3 * r3 + s * s;
      if (a > e)
        break;
      let l = n[a];
      l || (l = [], n[a] = l), l.push(((i + r3) * t + (i + s)) * 4 + 3), r3 > 0 && l.push(((i - r3) * t + (i + s)) * 4 + 3), s > 0 && (l.push(((i + r3) * t + (i - s)) * 4 + 3), r3 > 0 && l.push(((i - r3) * t + (i - s)) * 4 + 3));
    }
  const o = [];
  for (let r3 = 0, s = n.length; r3 < s; ++r3)
    n[r3] && o.push(...n[r3]);
  return jl[i] = o, o;
}
const wa = xy;
class ky extends tm {
  constructor(t, e, n, o, r3, s, a) {
    super(), this.context_ = t, this.pixelRatio_ = e, this.extent_ = n, this.transform_ = o, this.viewRotation_ = r3, this.squaredTolerance_ = s, this.userTransform_ = a, this.contextFillState_ = null, this.contextStrokeState_ = null, this.contextTextState_ = null, this.fillState_ = null, this.strokeState_ = null, this.image_ = null, this.imageAnchorX_ = 0, this.imageAnchorY_ = 0, this.imageHeight_ = 0, this.imageOpacity_ = 0, this.imageOriginX_ = 0, this.imageOriginY_ = 0, this.imageRotateWithView_ = false, this.imageRotation_ = 0, this.imageScale_ = [0, 0], this.imageWidth_ = 0, this.text_ = "", this.textOffsetX_ = 0, this.textOffsetY_ = 0, this.textRotateWithView_ = false, this.textRotation_ = 0, this.textScale_ = [0, 0], this.textFillState_ = null, this.textStrokeState_ = null, this.textState_ = null, this.pixelCoordinates_ = [], this.tmpLocalTransform_ = Ke();
  }
  drawImages_(t, e, n, o) {
    if (!this.image_)
      return;
    const r3 = hn(
      t,
      e,
      n,
      o,
      this.transform_,
      this.pixelCoordinates_
    ), s = this.context_, a = this.tmpLocalTransform_, l = s.globalAlpha;
    this.imageOpacity_ != 1 && (s.globalAlpha = l * this.imageOpacity_);
    let h = this.imageRotation_;
    this.imageRotateWithView_ && (h += this.viewRotation_);
    for (let u = 0, d = r3.length; u < d; u += 2) {
      const c = r3[u] - this.imageAnchorX_, g = r3[u + 1] - this.imageAnchorY_;
      if (h !== 0 || this.imageScale_[0] != 1 || this.imageScale_[1] != 1) {
        const f = c + this.imageAnchorX_, m = g + this.imageAnchorY_;
        Ni(
          a,
          f,
          m,
          1,
          1,
          h,
          -f,
          -m
        ), s.setTransform.apply(s, a), s.translate(f, m), s.scale(this.imageScale_[0], this.imageScale_[1]), s.drawImage(
          this.image_,
          this.imageOriginX_,
          this.imageOriginY_,
          this.imageWidth_,
          this.imageHeight_,
          -this.imageAnchorX_,
          -this.imageAnchorY_,
          this.imageWidth_,
          this.imageHeight_
        ), s.setTransform(1, 0, 0, 1, 0, 0);
      } else
        s.drawImage(
          this.image_,
          this.imageOriginX_,
          this.imageOriginY_,
          this.imageWidth_,
          this.imageHeight_,
          c,
          g,
          this.imageWidth_,
          this.imageHeight_
        );
    }
    this.imageOpacity_ != 1 && (s.globalAlpha = l);
  }
  drawText_(t, e, n, o) {
    if (!this.textState_ || this.text_ === "")
      return;
    this.textFillState_ && this.setContextFillState_(this.textFillState_), this.textStrokeState_ && this.setContextStrokeState_(this.textStrokeState_), this.setContextTextState_(this.textState_);
    const r3 = hn(
      t,
      e,
      n,
      o,
      this.transform_,
      this.pixelCoordinates_
    ), s = this.context_;
    let a = this.textRotation_;
    for (this.textRotateWithView_ && (a += this.viewRotation_); e < n; e += o) {
      const l = r3[e] + this.textOffsetX_, h = r3[e + 1] + this.textOffsetY_;
      a !== 0 || this.textScale_[0] != 1 || this.textScale_[1] != 1 ? (s.translate(l - this.textOffsetX_, h - this.textOffsetY_), s.rotate(a), s.translate(this.textOffsetX_, this.textOffsetY_), s.scale(this.textScale_[0], this.textScale_[1]), this.textStrokeState_ && s.strokeText(this.text_, 0, 0), this.textFillState_ && s.fillText(this.text_, 0, 0), s.setTransform(1, 0, 0, 1, 0, 0)) : (this.textStrokeState_ && s.strokeText(this.text_, l, h), this.textFillState_ && s.fillText(this.text_, l, h));
    }
  }
  moveToLineTo_(t, e, n, o, r3) {
    const s = this.context_, a = hn(
      t,
      e,
      n,
      o,
      this.transform_,
      this.pixelCoordinates_
    );
    s.moveTo(a[0], a[1]);
    let l = a.length;
    r3 && (l -= 2);
    for (let h = 2; h < l; h += 2)
      s.lineTo(a[h], a[h + 1]);
    return r3 && s.closePath(), n;
  }
  drawRings_(t, e, n, o) {
    for (let r3 = 0, s = n.length; r3 < s; ++r3)
      e = this.moveToLineTo_(
        t,
        e,
        n[r3],
        o,
        true
      );
    return e;
  }
  drawCircle(t) {
    if (!!Ht(this.extent_, t.getExtent())) {
      if (this.fillState_ || this.strokeState_) {
        this.fillState_ && this.setContextFillState_(this.fillState_), this.strokeState_ && this.setContextStrokeState_(this.strokeState_);
        const e = Ov(
          t,
          this.transform_,
          this.pixelCoordinates_
        ), n = e[2] - e[0], o = e[3] - e[1], r3 = Math.sqrt(n * n + o * o), s = this.context_;
        s.beginPath(), s.arc(
          e[0],
          e[1],
          r3,
          0,
          2 * Math.PI
        ), this.fillState_ && s.fill(), this.strokeState_ && s.stroke();
      }
      this.text_ !== "" && this.drawText_(t.getCenter(), 0, 2, 2);
    }
  }
  setStyle(t) {
    this.setFillStrokeStyle(t.getFill(), t.getStroke()), this.setImageStyle(t.getImage()), this.setTextStyle(t.getText());
  }
  setTransform(t) {
    this.transform_ = t;
  }
  drawGeometry(t) {
    switch (t.getType()) {
      case "Point":
        this.drawPoint(
          t
        );
        break;
      case "LineString":
        this.drawLineString(
          t
        );
        break;
      case "Polygon":
        this.drawPolygon(
          t
        );
        break;
      case "MultiPoint":
        this.drawMultiPoint(
          t
        );
        break;
      case "MultiLineString":
        this.drawMultiLineString(
          t
        );
        break;
      case "MultiPolygon":
        this.drawMultiPolygon(
          t
        );
        break;
      case "GeometryCollection":
        this.drawGeometryCollection(
          t
        );
        break;
      case "Circle":
        this.drawCircle(
          t
        );
        break;
    }
  }
  drawFeature(t, e) {
    const n = e.getGeometryFunction()(t);
    !n || !Ht(this.extent_, n.getExtent()) || (this.setStyle(e), this.drawGeometry(n));
  }
  drawGeometryCollection(t) {
    const e = t.getGeometriesArray();
    for (let n = 0, o = e.length; n < o; ++n)
      this.drawGeometry(e[n]);
  }
  drawPoint(t) {
    this.squaredTolerance_ && (t = t.simplifyTransformed(
      this.squaredTolerance_,
      this.userTransform_
    ));
    const e = t.getFlatCoordinates(), n = t.getStride();
    this.image_ && this.drawImages_(e, 0, e.length, n), this.text_ !== "" && this.drawText_(e, 0, e.length, n);
  }
  drawMultiPoint(t) {
    this.squaredTolerance_ && (t = t.simplifyTransformed(
      this.squaredTolerance_,
      this.userTransform_
    ));
    const e = t.getFlatCoordinates(), n = t.getStride();
    this.image_ && this.drawImages_(e, 0, e.length, n), this.text_ !== "" && this.drawText_(e, 0, e.length, n);
  }
  drawLineString(t) {
    if (this.squaredTolerance_ && (t = t.simplifyTransformed(
      this.squaredTolerance_,
      this.userTransform_
    )), !!Ht(this.extent_, t.getExtent())) {
      if (this.strokeState_) {
        this.setContextStrokeState_(this.strokeState_);
        const e = this.context_, n = t.getFlatCoordinates();
        e.beginPath(), this.moveToLineTo_(
          n,
          0,
          n.length,
          t.getStride(),
          false
        ), e.stroke();
      }
      if (this.text_ !== "") {
        const e = t.getFlatMidpoint();
        this.drawText_(e, 0, 2, 2);
      }
    }
  }
  drawMultiLineString(t) {
    this.squaredTolerance_ && (t = t.simplifyTransformed(
      this.squaredTolerance_,
      this.userTransform_
    ));
    const e = t.getExtent();
    if (!!Ht(this.extent_, e)) {
      if (this.strokeState_) {
        this.setContextStrokeState_(this.strokeState_);
        const n = this.context_, o = t.getFlatCoordinates();
        let r3 = 0;
        const s = t.getEnds(), a = t.getStride();
        n.beginPath();
        for (let l = 0, h = s.length; l < h; ++l)
          r3 = this.moveToLineTo_(
            o,
            r3,
            s[l],
            a,
            false
          );
        n.stroke();
      }
      if (this.text_ !== "") {
        const n = t.getFlatMidpoints();
        this.drawText_(n, 0, n.length, 2);
      }
    }
  }
  drawPolygon(t) {
    if (this.squaredTolerance_ && (t = t.simplifyTransformed(
      this.squaredTolerance_,
      this.userTransform_
    )), !!Ht(this.extent_, t.getExtent())) {
      if (this.strokeState_ || this.fillState_) {
        this.fillState_ && this.setContextFillState_(this.fillState_), this.strokeState_ && this.setContextStrokeState_(this.strokeState_);
        const e = this.context_;
        e.beginPath(), this.drawRings_(
          t.getOrientedFlatCoordinates(),
          0,
          t.getEnds(),
          t.getStride()
        ), this.fillState_ && e.fill(), this.strokeState_ && e.stroke();
      }
      if (this.text_ !== "") {
        const e = t.getFlatInteriorPoint();
        this.drawText_(e, 0, 2, 2);
      }
    }
  }
  drawMultiPolygon(t) {
    if (this.squaredTolerance_ && (t = t.simplifyTransformed(
      this.squaredTolerance_,
      this.userTransform_
    )), !!Ht(this.extent_, t.getExtent())) {
      if (this.strokeState_ || this.fillState_) {
        this.fillState_ && this.setContextFillState_(this.fillState_), this.strokeState_ && this.setContextStrokeState_(this.strokeState_);
        const e = this.context_, n = t.getOrientedFlatCoordinates();
        let o = 0;
        const r3 = t.getEndss(), s = t.getStride();
        e.beginPath();
        for (let a = 0, l = r3.length; a < l; ++a) {
          const h = r3[a];
          o = this.drawRings_(n, o, h, s);
        }
        this.fillState_ && e.fill(), this.strokeState_ && e.stroke();
      }
      if (this.text_ !== "") {
        const e = t.getFlatInteriorPoints();
        this.drawText_(e, 0, e.length, 2);
      }
    }
  }
  setContextFillState_(t) {
    const e = this.context_, n = this.contextFillState_;
    n ? n.fillStyle != t.fillStyle && (n.fillStyle = t.fillStyle, e.fillStyle = t.fillStyle) : (e.fillStyle = t.fillStyle, this.contextFillState_ = {
      fillStyle: t.fillStyle
    });
  }
  setContextStrokeState_(t) {
    const e = this.context_, n = this.contextStrokeState_;
    n ? (n.lineCap != t.lineCap && (n.lineCap = t.lineCap, e.lineCap = t.lineCap), Tn(n.lineDash, t.lineDash) || e.setLineDash(
      n.lineDash = t.lineDash
    ), n.lineDashOffset != t.lineDashOffset && (n.lineDashOffset = t.lineDashOffset, e.lineDashOffset = t.lineDashOffset), n.lineJoin != t.lineJoin && (n.lineJoin = t.lineJoin, e.lineJoin = t.lineJoin), n.lineWidth != t.lineWidth && (n.lineWidth = t.lineWidth, e.lineWidth = t.lineWidth), n.miterLimit != t.miterLimit && (n.miterLimit = t.miterLimit, e.miterLimit = t.miterLimit), n.strokeStyle != t.strokeStyle && (n.strokeStyle = t.strokeStyle, e.strokeStyle = t.strokeStyle)) : (e.lineCap = t.lineCap, e.setLineDash(t.lineDash), e.lineDashOffset = t.lineDashOffset, e.lineJoin = t.lineJoin, e.lineWidth = t.lineWidth, e.miterLimit = t.miterLimit, e.strokeStyle = t.strokeStyle, this.contextStrokeState_ = {
      lineCap: t.lineCap,
      lineDash: t.lineDash,
      lineDashOffset: t.lineDashOffset,
      lineJoin: t.lineJoin,
      lineWidth: t.lineWidth,
      miterLimit: t.miterLimit,
      strokeStyle: t.strokeStyle
    });
  }
  setContextTextState_(t) {
    const e = this.context_, n = this.contextTextState_, o = t.textAlign ? t.textAlign : qr;
    n ? (n.font != t.font && (n.font = t.font, e.font = t.font), n.textAlign != o && (n.textAlign = o, e.textAlign = o), n.textBaseline != t.textBaseline && (n.textBaseline = t.textBaseline, e.textBaseline = t.textBaseline)) : (e.font = t.font, e.textAlign = o, e.textBaseline = t.textBaseline, this.contextTextState_ = {
      font: t.font,
      textAlign: o,
      textBaseline: t.textBaseline
    });
  }
  setFillStrokeStyle(t, e) {
    if (!t)
      this.fillState_ = null;
    else {
      const n = t.getColor();
      this.fillState_ = {
        fillStyle: fi(
          n || Li
        )
      };
    }
    if (!e)
      this.strokeState_ = null;
    else {
      const n = e.getColor(), o = e.getLineCap(), r3 = e.getLineDash(), s = e.getLineDashOffset(), a = e.getLineJoin(), l = e.getWidth(), h = e.getMiterLimit(), u = r3 || Yr;
      this.strokeState_ = {
        lineCap: o !== void 0 ? o : da,
        lineDash: this.pixelRatio_ === 1 ? u : u.map((d) => d * this.pixelRatio_),
        lineDashOffset: (s || Xr) * this.pixelRatio_,
        lineJoin: a !== void 0 ? a : tr,
        lineWidth: (l !== void 0 ? l : $r) * this.pixelRatio_,
        miterLimit: h !== void 0 ? h : Ur,
        strokeStyle: fi(
          n || Vr
        )
      };
    }
  }
  setImageStyle(t) {
    let e;
    if (!t || !(e = t.getSize())) {
      this.image_ = null;
      return;
    }
    const n = t.getPixelRatio(this.pixelRatio_), o = t.getAnchor(), r3 = t.getOrigin();
    this.image_ = t.getImage(this.pixelRatio_), this.imageAnchorX_ = o[0] * n, this.imageAnchorY_ = o[1] * n, this.imageHeight_ = e[1] * n, this.imageOpacity_ = t.getOpacity(), this.imageOriginX_ = r3[0], this.imageOriginY_ = r3[1], this.imageRotateWithView_ = t.getRotateWithView(), this.imageRotation_ = t.getRotation();
    const s = t.getScaleArray();
    this.imageScale_ = [
      s[0] * this.pixelRatio_ / n,
      s[1] * this.pixelRatio_ / n
    ], this.imageWidth_ = e[0] * n;
  }
  setTextStyle(t) {
    if (!t)
      this.text_ = "";
    else {
      const e = t.getFill();
      if (!e)
        this.textFillState_ = null;
      else {
        const g = e.getColor();
        this.textFillState_ = {
          fillStyle: fi(
            g || Li
          )
        };
      }
      const n = t.getStroke();
      if (!n)
        this.textStrokeState_ = null;
      else {
        const g = n.getColor(), f = n.getLineCap(), m = n.getLineDash(), p = n.getLineDashOffset(), _ = n.getLineJoin(), v = n.getWidth(), y = n.getMiterLimit();
        this.textStrokeState_ = {
          lineCap: f !== void 0 ? f : da,
          lineDash: m || Yr,
          lineDashOffset: p || Xr,
          lineJoin: _ !== void 0 ? _ : tr,
          lineWidth: v !== void 0 ? v : $r,
          miterLimit: y !== void 0 ? y : Ur,
          strokeStyle: fi(
            g || Vr
          )
        };
      }
      const o = t.getFont(), r3 = t.getOffsetX(), s = t.getOffsetY(), a = t.getRotateWithView(), l = t.getRotation(), h = t.getScaleArray(), u = t.getText(), d = t.getTextAlign(), c = t.getTextBaseline();
      this.textState_ = {
        font: o !== void 0 ? o : yf,
        textAlign: d !== void 0 ? d : qr,
        textBaseline: c !== void 0 ? c : ca
      }, this.text_ = u !== void 0 ? Array.isArray(u) ? u.reduce((g, f, m) => g += m % 2 ? " " : f, "") : u : "", this.textOffsetX_ = r3 !== void 0 ? this.pixelRatio_ * r3 : 0, this.textOffsetY_ = s !== void 0 ? this.pixelRatio_ * s : 0, this.textRotateWithView_ = a !== void 0 ? a : false, this.textRotation_ = l !== void 0 ? l : 0, this.textScale_ = [
        this.pixelRatio_ * h[0],
        this.pixelRatio_ * h[1]
      ];
    }
  }
}
const wy = ky, Ze = 0.5;
function im(i, t, e, n, o, r3, s) {
  const a = i[0] * Ze, l = i[1] * Ze, h = Fe(a, l);
  h.imageSmoothingEnabled = false;
  const u = h.canvas, d = new wy(
    h,
    Ze,
    o,
    null,
    s
  ), c = e.length, g = Math.floor((256 * 256 * 256 - 1) / c), f = {};
  for (let p = 1; p <= c; ++p) {
    const _ = e[p - 1], v = _.getStyleFunction() || n;
    if (!n)
      continue;
    let y = v(_, r3);
    if (!y)
      continue;
    Array.isArray(y) || (y = [y]);
    const x = p * g, k = "#" + ("000000" + x.toString(16)).slice(-6);
    for (let w = 0, E = y.length; w < E; ++w) {
      const C = y[w], S = C.getGeometryFunction()(_);
      if (!S || !Ht(o, S.getExtent()))
        continue;
      const z = C.clone(), P = z.getFill();
      P && P.setColor(k);
      const N = z.getStroke();
      N && (N.setColor(k), N.setLineDash(null)), z.setText(void 0);
      const A = C.getImage();
      if (A && A.getOpacity() !== 0) {
        const B = A.getImageSize();
        if (!B)
          continue;
        const F = Fe(
          B[0],
          B[1],
          void 0,
          { alpha: false }
        ), U = F.canvas;
        F.fillStyle = k, F.fillRect(0, 0, U.width, U.height), z.setImage(
          new Qa({
            img: U,
            imgSize: B,
            anchor: A.getAnchor(),
            anchorXUnits: "pixels",
            anchorYUnits: "pixels",
            offset: A.getOrigin(),
            opacity: 1,
            size: A.getSize(),
            scale: A.getScale(),
            rotation: A.getRotation(),
            rotateWithView: A.getRotateWithView()
          })
        );
      }
      const st = z.getZIndex() || 0;
      let j = f[st];
      j || (j = {}, f[st] = j, j.Polygon = [], j.Circle = [], j.LineString = [], j.Point = []), j[S.getType().replace("Multi", "")].push(
        S,
        z
      );
    }
  }
  const m = Object.keys(f).map(Number).sort(Kn);
  for (let p = 0, _ = m.length; p < _; ++p) {
    const v = f[m[p]];
    for (const y in v) {
      const x = v[y];
      for (let k = 0, w = x.length; k < w; k += 2) {
        d.setStyle(x[k + 1]);
        for (let E = 0, C = t.length; E < C; ++E)
          d.setTransform(t[E]), d.drawGeometry(x[k]);
      }
    }
  }
  return h.getImageData(0, 0, u.width, u.height);
}
function nm(i, t, e) {
  const n = [];
  if (e) {
    const o = Math.floor(Math.round(i[0]) * Ze), r3 = Math.floor(Math.round(i[1]) * Ze), s = (qt(o, 0, e.width - 1) + qt(r3, 0, e.height - 1) * e.width) * 4, a = e.data[s], l = e.data[s + 1], u = e.data[s + 2] + 256 * (l + 256 * a), d = Math.floor((256 * 256 * 256 - 1) / t.length);
    u && u % d === 0 && n.push(t[u / d - 1]);
  }
  return n;
}
const Cy = 0.5, om = {
  Point: Ay,
  LineString: Iy,
  Polygon: Dy,
  MultiPoint: Py,
  MultiLineString: zy,
  MultiPolygon: Ry,
  GeometryCollection: Ty,
  Circle: Ey
};
function My(i, t) {
  return parseInt(H(i), 10) - parseInt(H(t), 10);
}
function rm(i, t) {
  const e = Ah(i, t);
  return e * e;
}
function Ah(i, t) {
  return Cy * i / t;
}
function Ey(i, t, e, n, o) {
  const r3 = e.getFill(), s = e.getStroke();
  if (r3 || s) {
    const l = i.getBuilder(e.getZIndex(), "Circle");
    l.setFillStrokeStyle(r3, s), l.drawCircle(t, n);
  }
  const a = e.getText();
  if (a && a.getText()) {
    const l = (o || i).getBuilder(
      e.getZIndex(),
      "Text"
    );
    l.setTextStyle(a), l.drawText(t, n);
  }
}
function Ca(i, t, e, n, o, r3, s) {
  let a = false;
  const l = e.getImage();
  if (l) {
    const h = l.getImageState();
    h == te.LOADED || h == te.ERROR ? l.unlistenImageChange(o) : (h == te.IDLE && l.load(), l.listenImageChange(o), a = true);
  }
  return Sy(
    i,
    t,
    e,
    n,
    r3,
    s
  ), a;
}
function Sy(i, t, e, n, o, r3) {
  const s = e.getGeometryFunction()(t);
  if (!s)
    return;
  const a = s.simplifyTransformed(
    n,
    o
  );
  if (e.getRenderer())
    sm(i, a, e, t);
  else {
    const h = om[a.getType()];
    h(
      i,
      a,
      e,
      t,
      r3
    );
  }
}
function sm(i, t, e, n) {
  if (t.getType() == "GeometryCollection") {
    const r3 = t.getGeometries();
    for (let s = 0, a = r3.length; s < a; ++s)
      sm(i, r3[s], e, n);
    return;
  }
  i.getBuilder(e.getZIndex(), "Default").drawCustom(
    t,
    n,
    e.getRenderer(),
    e.getHitDetectionRenderer()
  );
}
function Ty(i, t, e, n, o) {
  const r3 = t.getGeometriesArray();
  let s, a;
  for (s = 0, a = r3.length; s < a; ++s) {
    const l = om[r3[s].getType()];
    l(
      i,
      r3[s],
      e,
      n,
      o
    );
  }
}
function Iy(i, t, e, n, o) {
  const r3 = e.getStroke();
  if (r3) {
    const a = i.getBuilder(
      e.getZIndex(),
      "LineString"
    );
    a.setFillStrokeStyle(null, r3), a.drawLineString(t, n);
  }
  const s = e.getText();
  if (s && s.getText()) {
    const a = (o || i).getBuilder(
      e.getZIndex(),
      "Text"
    );
    a.setTextStyle(s), a.drawText(t, n);
  }
}
function zy(i, t, e, n, o) {
  const r3 = e.getStroke();
  if (r3) {
    const a = i.getBuilder(
      e.getZIndex(),
      "LineString"
    );
    a.setFillStrokeStyle(null, r3), a.drawMultiLineString(t, n);
  }
  const s = e.getText();
  if (s && s.getText()) {
    const a = (o || i).getBuilder(
      e.getZIndex(),
      "Text"
    );
    a.setTextStyle(s), a.drawText(t, n);
  }
}
function Ry(i, t, e, n, o) {
  const r3 = e.getFill(), s = e.getStroke();
  if (s || r3) {
    const l = i.getBuilder(e.getZIndex(), "Polygon");
    l.setFillStrokeStyle(r3, s), l.drawMultiPolygon(t, n);
  }
  const a = e.getText();
  if (a && a.getText()) {
    const l = (o || i).getBuilder(
      e.getZIndex(),
      "Text"
    );
    l.setTextStyle(a), l.drawText(t, n);
  }
}
function Ay(i, t, e, n, o) {
  const r3 = e.getImage(), s = e.getText();
  let a;
  if (r3) {
    if (r3.getImageState() != te.LOADED)
      return;
    let l = i;
    if (o) {
      const u = r3.getDeclutterMode();
      if (u !== "none")
        if (l = o, u === "obstacle") {
          const d = i.getBuilder(
            e.getZIndex(),
            "Image"
          );
          d.setImageStyle(r3, a), d.drawPoint(t, n);
        } else
          s && s.getText() && (a = {});
    }
    const h = l.getBuilder(
      e.getZIndex(),
      "Image"
    );
    h.setImageStyle(r3, a), h.drawPoint(t, n);
  }
  if (s && s.getText()) {
    let l = i;
    o && (l = o);
    const h = l.getBuilder(e.getZIndex(), "Text");
    h.setTextStyle(s, a), h.drawText(t, n);
  }
}
function Py(i, t, e, n, o) {
  const r3 = e.getImage(), s = e.getText();
  let a;
  if (r3) {
    if (r3.getImageState() != te.LOADED)
      return;
    let l = i;
    if (o) {
      const u = r3.getDeclutterMode();
      if (u !== "none")
        if (l = o, u === "obstacle") {
          const d = i.getBuilder(
            e.getZIndex(),
            "Image"
          );
          d.setImageStyle(r3, a), d.drawMultiPoint(t, n);
        } else
          s && s.getText() && (a = {});
    }
    const h = l.getBuilder(
      e.getZIndex(),
      "Image"
    );
    h.setImageStyle(r3, a), h.drawMultiPoint(t, n);
  }
  if (s && s.getText()) {
    let l = i;
    o && (l = o);
    const h = l.getBuilder(e.getZIndex(), "Text");
    h.setTextStyle(s, a), h.drawText(t, n);
  }
}
function Dy(i, t, e, n, o) {
  const r3 = e.getFill(), s = e.getStroke();
  if (r3 || s) {
    const l = i.getBuilder(e.getZIndex(), "Polygon");
    l.setFillStrokeStyle(r3, s), l.drawPolygon(t, n);
  }
  const a = e.getText();
  if (a && a.getText()) {
    const l = (o || i).getBuilder(
      e.getZIndex(),
      "Text"
    );
    l.setTextStyle(a), l.drawText(t, n);
  }
}
class Ly extends em {
  constructor(t) {
    super(t), this.boundHandleStyleImageChange_ = this.handleStyleImageChange_.bind(this), this.animatingOrInteracting_, this.hitDetectionImageData_ = null, this.renderedFeatures_ = null, this.renderedRevision_ = -1, this.renderedResolution_ = NaN, this.renderedExtent_ = Xe(), this.wrappedRenderedExtent_ = Xe(), this.renderedRotation_, this.renderedCenter_ = null, this.renderedProjection_ = null, this.renderedRenderOrder_ = null, this.replayGroup_ = null, this.replayGroupChanged = true, this.declutterExecutorGroup = null, this.clipping = true, this.compositionContext_ = null, this.opacity_ = 1;
  }
  renderWorlds(t, e, n) {
    const o = e.extent, r3 = e.viewState, s = r3.center, a = r3.resolution, l = r3.projection, h = r3.rotation, u = l.getExtent(), d = this.getLayer().getSource(), c = e.pixelRatio, g = e.viewHints, f = !(g[Vt.ANIMATING] || g[Vt.INTERACTING]), m = this.compositionContext_, p = Math.round(e.size[0] * c), _ = Math.round(e.size[1] * c), v = d.getWrapX() && l.canWrapX(), y = v ? Gt(u) : null, x = v ? Math.ceil((o[2] - u[2]) / y) + 1 : 1;
    let k = v ? Math.floor((o[0] - u[0]) / y) : 0;
    do {
      const w = this.getRenderTransform(
        s,
        a,
        h,
        c,
        p,
        _,
        k * y
      );
      t.execute(
        m,
        1,
        w,
        h,
        f,
        void 0,
        n
      );
    } while (++k < x);
  }
  setupCompositionContext_() {
    if (this.opacity_ !== 1) {
      const t = Fe(
        this.context.canvas.width,
        this.context.canvas.height,
        zc
      );
      this.compositionContext_ = t;
    } else
      this.compositionContext_ = this.context;
  }
  releaseCompositionContext_() {
    if (this.opacity_ !== 1) {
      const t = this.context.globalAlpha;
      this.context.globalAlpha = this.opacity_, this.context.drawImage(this.compositionContext_.canvas, 0, 0), this.context.globalAlpha = t, su(this.compositionContext_), zc.push(this.compositionContext_.canvas), this.compositionContext_ = null;
    }
  }
  renderDeclutter(t) {
    this.declutterExecutorGroup && (this.setupCompositionContext_(), this.renderWorlds(
      this.declutterExecutorGroup,
      t,
      t.declutterTree
    ), this.releaseCompositionContext_());
  }
  renderFrame(t, e) {
    const n = t.pixelRatio, o = t.layerStatesArray[t.layerIndex];
    H0(this.pixelTransform, 1 / n, 1 / n), bu(this.inversePixelTransform, this.pixelTransform);
    const r3 = pf(this.pixelTransform);
    this.useContainer(e, r3, this.getBackground(t));
    const s = this.context, a = s.canvas, l = this.replayGroup_, h = this.declutterExecutorGroup;
    if ((!l || l.isEmpty()) && (!h || h.isEmpty()))
      return null;
    const u = Math.round(t.size[0] * n), d = Math.round(t.size[1] * n);
    a.width != u || a.height != d ? (a.width = u, a.height = d, a.style.transform !== r3 && (a.style.transform = r3)) : this.containerReused || s.clearRect(0, 0, u, d), this.preRender(s, t);
    const c = t.viewState;
    c.projection, this.opacity_ = o.opacity, this.setupCompositionContext_();
    let g = false, f = true;
    if (o.extent && this.clipping) {
      const m = tn(o.extent);
      f = Ht(m, t.extent), g = f && !Wn(m, t.extent), g && this.clipUnrotated(this.compositionContext_, t, m);
    }
    return f && this.renderWorlds(l, t), g && this.compositionContext_.restore(), this.releaseCompositionContext_(), this.postRender(s, t), this.renderedRotation_ !== c.rotation && (this.renderedRotation_ = c.rotation, this.hitDetectionImageData_ = null), this.container;
  }
  getFeatures(t) {
    return new Promise(
      function(e) {
        if (!this.hitDetectionImageData_ && !this.animatingOrInteracting_) {
          const n = [this.context.canvas.width, this.context.canvas.height];
          Qt(this.pixelTransform, n);
          const o = this.renderedCenter_, r3 = this.renderedResolution_, s = this.renderedRotation_, a = this.renderedProjection_, l = this.wrappedRenderedExtent_, h = this.getLayer(), u = [], d = n[0] * Ze, c = n[1] * Ze;
          u.push(
            this.getRenderTransform(
              o,
              r3,
              s,
              Ze,
              d,
              c,
              0
            ).slice()
          );
          const g = h.getSource(), f = a.getExtent();
          if (g.getWrapX() && a.canWrapX() && !Wn(f, l)) {
            let m = l[0];
            const p = Gt(f);
            let _ = 0, v;
            for (; m < f[0]; )
              --_, v = p * _, u.push(
                this.getRenderTransform(
                  o,
                  r3,
                  s,
                  Ze,
                  d,
                  c,
                  v
                ).slice()
              ), m += p;
            for (_ = 0, m = l[2]; m > f[2]; )
              ++_, v = p * _, u.push(
                this.getRenderTransform(
                  o,
                  r3,
                  s,
                  Ze,
                  d,
                  c,
                  v
                ).slice()
              ), m -= p;
          }
          this.hitDetectionImageData_ = im(
            n,
            u,
            this.renderedFeatures_,
            h.getStyleFunction(),
            l,
            r3,
            s
          );
        }
        e(
          nm(t, this.renderedFeatures_, this.hitDetectionImageData_)
        );
      }.bind(this)
    );
  }
  forEachFeatureAtCoordinate(t, e, n, o, r3) {
    if (!this.replayGroup_)
      return;
    const s = e.viewState.resolution, a = e.viewState.rotation, l = this.getLayer(), h = {}, u = function(g, f, m) {
      const p = H(g), _ = h[p];
      if (_) {
        if (_ !== true && m < _.distanceSq) {
          if (m === 0)
            return h[p] = true, r3.splice(r3.lastIndexOf(_), 1), o(g, l, f);
          _.geometry = f, _.distanceSq = m;
        }
      } else {
        if (m === 0)
          return h[p] = true, o(g, l, f);
        r3.push(
          h[p] = {
            feature: g,
            layer: l,
            geometry: f,
            distanceSq: m,
            callback: o
          }
        );
      }
    };
    let d;
    const c = [this.replayGroup_];
    return this.declutterExecutorGroup && c.push(this.declutterExecutorGroup), c.some((g) => d = g.forEachFeatureAtCoordinate(
      t,
      s,
      a,
      n,
      u,
      g === this.declutterExecutorGroup && e.declutterTree ? e.declutterTree.all().map((f) => f.value) : null
    )), d;
  }
  handleFontsChanged() {
    const t = this.getLayer();
    t.getVisible() && this.replayGroup_ && t.changed();
  }
  handleStyleImageChange_(t) {
    this.renderIfReadyAndVisible();
  }
  prepareFrame(t) {
    const e = this.getLayer(), n = e.getSource();
    if (!n)
      return false;
    const o = t.viewHints[Vt.ANIMATING], r3 = t.viewHints[Vt.INTERACTING], s = e.getUpdateWhileAnimating(), a = e.getUpdateWhileInteracting();
    if (this.ready && !s && o || !a && r3)
      return this.animatingOrInteracting_ = true, true;
    this.animatingOrInteracting_ = false;
    const l = t.extent, h = t.viewState, u = h.projection, d = h.resolution, c = t.pixelRatio, g = e.getRevision(), f = e.getRenderBuffer();
    let m = e.getRenderOrder();
    m === void 0 && (m = My);
    const p = h.center.slice(), _ = vi$1(
      l,
      f * d
    ), v = _.slice(), y = [_.slice()], x = u.getExtent();
    if (n.getWrapX() && u.canWrapX() && !Wn(x, t.extent)) {
      const j = Gt(x), B = Math.max(Gt(_) / 2, j);
      _[0] = x[0] - B, _[2] = x[2] + B, mu(p, u);
      const F = hf(y[0], u);
      F[0] < x[0] && F[2] < x[2] ? y.push([
        F[0] + j,
        F[1],
        F[2] + j,
        F[3]
      ]) : F[0] > x[0] && F[2] > x[2] && y.push([
        F[0] - j,
        F[1],
        F[2] - j,
        F[3]
      ]);
    }
    if (this.ready && this.renderedResolution_ == d && this.renderedRevision_ == g && this.renderedRenderOrder_ == m && Wn(this.wrappedRenderedExtent_, _))
      return Tn(this.renderedExtent_, v) || (this.hitDetectionImageData_ = null, this.renderedExtent_ = v), this.renderedCenter_ = p, this.replayGroupChanged = false, true;
    this.replayGroup_ = null;
    const k = new ka(
      Ah(d, c),
      _,
      d,
      c
    );
    let w;
    this.getLayer().getDeclutter() && (w = new ka(
      Ah(d, c),
      _,
      d,
      c
    ));
    let E;
    for (let j = 0, B = y.length; j < B; ++j)
      n.loadFeatures(y[j], d, u);
    const C = rm(d, c);
    let S = true;
    const z = function(j) {
      let B;
      const F = j.getStyleFunction() || e.getStyleFunction();
      if (F && (B = F(j, d)), B) {
        const U = this.renderFeature(
          j,
          C,
          B,
          k,
          E,
          w
        );
        S = S && !U;
      }
    }.bind(this), P = yu(_), N = n.getFeaturesInExtent(P);
    m && N.sort(m);
    for (let j = 0, B = N.length; j < B; ++j)
      z(N[j]);
    this.renderedFeatures_ = N, this.ready = S;
    const A = k.finish(), st = new wa(
      _,
      d,
      c,
      n.getOverlaps(),
      A,
      e.getRenderBuffer()
    );
    return w && (this.declutterExecutorGroup = new wa(
      _,
      d,
      c,
      n.getOverlaps(),
      w.finish(),
      e.getRenderBuffer()
    )), this.renderedResolution_ = d, this.renderedRevision_ = g, this.renderedRenderOrder_ = m, this.renderedExtent_ = v, this.wrappedRenderedExtent_ = _, this.renderedCenter_ = p, this.renderedProjection_ = u, this.replayGroup_ = st, this.hitDetectionImageData_ = null, this.replayGroupChanged = true, true;
  }
  renderFeature(t, e, n, o, r3, s) {
    if (!n)
      return false;
    let a = false;
    if (Array.isArray(n))
      for (let l = 0, h = n.length; l < h; ++l)
        a = Ca(
          o,
          t,
          n[l],
          e,
          this.boundHandleStyleImageChange_,
          r3,
          s
        ) || a;
    else
      a = Ca(
        o,
        t,
        n,
        e,
        this.boundHandleStyleImageChange_,
        r3,
        s
      );
    return a;
  }
}
const Oy = Ly;
class Fy extends Qf {
  constructor(t) {
    super(t);
  }
  createRenderer() {
    return new Oy(this);
  }
}
const io = Fy;
class Ny {
  constructor(t) {
    this.rbush_ = new Jf(t), this.items_ = {};
  }
  insert(t, e) {
    const n = {
      minX: t[0],
      minY: t[1],
      maxX: t[2],
      maxY: t[3],
      value: e
    };
    this.rbush_.insert(n), this.items_[H(e)] = n;
  }
  load(t, e) {
    const n = new Array(e.length);
    for (let o = 0, r3 = e.length; o < r3; o++) {
      const s = t[o], a = e[o], l = {
        minX: s[0],
        minY: s[1],
        maxX: s[2],
        maxY: s[3],
        value: a
      };
      n[o] = l, this.items_[H(a)] = l;
    }
    this.rbush_.load(n);
  }
  remove(t) {
    const e = H(t), n = this.items_[e];
    return delete this.items_[e], this.rbush_.remove(n) !== null;
  }
  update(t, e) {
    const n = this.items_[H(e)], o = [n.minX, n.minY, n.maxX, n.maxY];
    Jo(o, t) || (this.remove(e), this.insert(t, e));
  }
  getAll() {
    return this.rbush_.all().map(function(e) {
      return e.value;
    });
  }
  getInExtent(t) {
    const e = {
      minX: t[0],
      minY: t[1],
      maxX: t[2],
      maxY: t[3]
    };
    return this.rbush_.search(e).map(function(o) {
      return o.value;
    });
  }
  forEach(t) {
    return this.forEach_(this.getAll(), t);
  }
  forEachInExtent(t, e) {
    return this.forEach_(this.getInExtent(t), e);
  }
  forEach_(t, e) {
    let n;
    for (let o = 0, r3 = t.length; o < r3; o++)
      if (n = e(t[o]), n)
        return n;
    return n;
  }
  isEmpty() {
    return to(this.items_);
  }
  clear() {
    this.rbush_.clear(), this.items_ = {};
  }
  getExtent(t) {
    const e = this.rbush_.toJSON();
    return li(e.minX, e.minY, e.maxX, e.maxY, t);
  }
  concat(t) {
    this.rbush_.load(t.rbush_.all());
    for (const e in t.items_)
      this.items_[e] = t.items_[e];
  }
}
const Ma = Ny;
class Gy extends ki {
  constructor(t) {
    super(), this.projection = Bt(t.projection), this.attributions_ = Pc(t.attributions), this.attributionsCollapsible_ = t.attributionsCollapsible !== void 0 ? t.attributionsCollapsible : true, this.loading = false, this.state_ = t.state !== void 0 ? t.state : "ready", this.wrapX_ = t.wrapX !== void 0 ? t.wrapX : false, this.interpolate_ = !!t.interpolate, this.viewResolver = null, this.viewRejector = null;
    const e = this;
    this.viewPromise_ = new Promise(function(n, o) {
      e.viewResolver = n, e.viewRejector = o;
    });
  }
  getAttributions() {
    return this.attributions_;
  }
  getAttributionsCollapsible() {
    return this.attributionsCollapsible_;
  }
  getProjection() {
    return this.projection;
  }
  getResolutions() {
    return tt();
  }
  getView() {
    return this.viewPromise_;
  }
  getState() {
    return this.state_;
  }
  getWrapX() {
    return this.wrapX_;
  }
  getInterpolate() {
    return this.interpolate_;
  }
  refresh() {
    this.changed();
  }
  setAttributions(t) {
    this.attributions_ = Pc(t), this.changed();
  }
  setState(t) {
    this.state_ = t, this.changed();
  }
}
function Pc(i) {
  return i ? Array.isArray(i) ? function(t) {
    return i;
  } : typeof i == "function" ? i : function(t) {
    return [i];
  } : null;
}
const am = Gy, we = {
  ADDFEATURE: "addfeature",
  CHANGEFEATURE: "changefeature",
  CLEAR: "clear",
  REMOVEFEATURE: "removefeature",
  FEATURESLOADSTART: "featuresloadstart",
  FEATURESLOADEND: "featuresloadend",
  FEATURESLOADERROR: "featuresloaderror"
};
function jy(i, t) {
  return [[-1 / 0, -1 / 0, 1 / 0, 1 / 0]];
}
let By = false;
function lm(i, t, e, n, o, r3, s) {
  const a = new XMLHttpRequest();
  a.open(
    "GET",
    typeof i == "function" ? i(e, n, o) : i,
    true
  ), t.getType() == "arraybuffer" && (a.responseType = "arraybuffer"), a.withCredentials = By, a.onload = function(l) {
    if (!a.status || a.status >= 200 && a.status < 300) {
      const h = t.getType();
      let u;
      h == "json" || h == "text" ? u = a.responseText : h == "xml" ? (u = a.responseXML, u || (u = new DOMParser().parseFromString(
        a.responseText,
        "application/xml"
      ))) : h == "arraybuffer" && (u = a.response), u ? r3(
        t.readFeatures(u, {
          extent: e,
          featureProjection: o
        }),
        t.readProjection(u)
      ) : s();
    } else
      s();
  }, a.onerror = s, a.send();
}
function Dc(i, t) {
  return function(e, n, o, r3, s) {
    const a = this;
    lm(
      i,
      t,
      e,
      n,
      o,
      function(l, h) {
        a.addFeatures(l), r3 !== void 0 && r3(l);
      },
      s || Qn
    );
  };
}
class Ui extends hi {
  constructor(t, e, n) {
    super(t), this.feature = e, this.features = n;
  }
}
class Wy extends am {
  constructor(t) {
    t = t || {}, super({
      attributions: t.attributions,
      interpolate: true,
      projection: void 0,
      state: "ready",
      wrapX: t.wrapX !== void 0 ? t.wrapX : true
    }), this.on, this.once, this.un, this.loader_ = Qn, this.format_ = t.format, this.overlaps_ = t.overlaps === void 0 ? true : t.overlaps, this.url_ = t.url, t.loader !== void 0 ? this.loader_ = t.loader : this.url_ !== void 0 && (ct(this.format_, 7), this.loader_ = Dc(
      this.url_,
      this.format_
    )), this.strategy_ = t.strategy !== void 0 ? t.strategy : jy;
    const e = t.useSpatialIndex !== void 0 ? t.useSpatialIndex : true;
    this.featuresRtree_ = e ? new Ma() : null, this.loadedExtentsRtree_ = new Ma(), this.loadingExtentsCount_ = 0, this.nullGeometryFeatures_ = {}, this.idIndex_ = {}, this.uidIndex_ = {}, this.featureChangeKeys_ = {}, this.featuresCollection_ = null;
    let n, o;
    Array.isArray(t.features) ? o = t.features : t.features && (n = t.features, o = n.getArray()), !e && n === void 0 && (n = new $e(o)), o !== void 0 && this.addFeaturesInternal(o), n !== void 0 && this.bindFeaturesCollection_(n);
  }
  addFeature(t) {
    this.addFeatureInternal(t), this.changed();
  }
  addFeatureInternal(t) {
    const e = H(t);
    if (!this.addToIndex_(e, t)) {
      this.featuresCollection_ && this.featuresCollection_.remove(t);
      return;
    }
    this.setupChangeEvents_(e, t);
    const n = t.getGeometry();
    if (n) {
      const o = n.getExtent();
      this.featuresRtree_ && this.featuresRtree_.insert(o, t);
    } else
      this.nullGeometryFeatures_[e] = t;
    this.dispatchEvent(
      new Ui(we.ADDFEATURE, t)
    );
  }
  setupChangeEvents_(t, e) {
    this.featureChangeKeys_[t] = [
      pt(e, Q.CHANGE, this.handleFeatureChange_, this),
      pt(
        e,
        $o.PROPERTYCHANGE,
        this.handleFeatureChange_,
        this
      )
    ];
  }
  addToIndex_(t, e) {
    let n = true;
    const o = e.getId();
    return o !== void 0 && (o.toString() in this.idIndex_ ? n = false : this.idIndex_[o.toString()] = e), n && (ct(!(t in this.uidIndex_), 30), this.uidIndex_[t] = e), n;
  }
  addFeatures(t) {
    this.addFeaturesInternal(t), this.changed();
  }
  addFeaturesInternal(t) {
    const e = [], n = [], o = [];
    for (let r3 = 0, s = t.length; r3 < s; r3++) {
      const a = t[r3], l = H(a);
      this.addToIndex_(l, a) && n.push(a);
    }
    for (let r3 = 0, s = n.length; r3 < s; r3++) {
      const a = n[r3], l = H(a);
      this.setupChangeEvents_(l, a);
      const h = a.getGeometry();
      if (h) {
        const u = h.getExtent();
        e.push(u), o.push(a);
      } else
        this.nullGeometryFeatures_[l] = a;
    }
    if (this.featuresRtree_ && this.featuresRtree_.load(e, o), this.hasListener(we.ADDFEATURE))
      for (let r3 = 0, s = n.length; r3 < s; r3++)
        this.dispatchEvent(
          new Ui(we.ADDFEATURE, n[r3])
        );
  }
  bindFeaturesCollection_(t) {
    let e = false;
    this.addEventListener(
      we.ADDFEATURE,
      function(n) {
        e || (e = true, t.push(n.feature), e = false);
      }
    ), this.addEventListener(
      we.REMOVEFEATURE,
      function(n) {
        e || (e = true, t.remove(n.feature), e = false);
      }
    ), t.addEventListener(
      re.ADD,
      function(n) {
        e || (e = true, this.addFeature(n.element), e = false);
      }.bind(this)
    ), t.addEventListener(
      re.REMOVE,
      function(n) {
        e || (e = true, this.removeFeature(n.element), e = false);
      }.bind(this)
    ), this.featuresCollection_ = t;
  }
  clear(t) {
    if (t) {
      for (const n in this.featureChangeKeys_)
        this.featureChangeKeys_[n].forEach(jt);
      this.featuresCollection_ || (this.featureChangeKeys_ = {}, this.idIndex_ = {}, this.uidIndex_ = {});
    } else if (this.featuresRtree_) {
      const n = function(o) {
        this.removeFeatureInternal(o);
      }.bind(this);
      this.featuresRtree_.forEach(n);
      for (const o in this.nullGeometryFeatures_)
        this.removeFeatureInternal(this.nullGeometryFeatures_[o]);
    }
    this.featuresCollection_ && this.featuresCollection_.clear(), this.featuresRtree_ && this.featuresRtree_.clear(), this.nullGeometryFeatures_ = {};
    const e = new Ui(we.CLEAR);
    this.dispatchEvent(e), this.changed();
  }
  forEachFeature(t) {
    if (this.featuresRtree_)
      return this.featuresRtree_.forEach(t);
    this.featuresCollection_ && this.featuresCollection_.forEach(t);
  }
  forEachFeatureAtCoordinateDirect(t, e) {
    const n = [t[0], t[1], t[0], t[1]];
    return this.forEachFeatureInExtent(n, function(o) {
      if (o.getGeometry().intersectsCoordinate(t))
        return e(o);
    });
  }
  forEachFeatureInExtent(t, e) {
    if (this.featuresRtree_)
      return this.featuresRtree_.forEachInExtent(t, e);
    this.featuresCollection_ && this.featuresCollection_.forEach(e);
  }
  forEachFeatureIntersectingExtent(t, e) {
    return this.forEachFeatureInExtent(
      t,
      function(n) {
        if (n.getGeometry().intersectsExtent(t)) {
          const r3 = e(n);
          if (r3)
            return r3;
        }
      }
    );
  }
  getFeaturesCollection() {
    return this.featuresCollection_;
  }
  getFeatures() {
    let t;
    return this.featuresCollection_ ? t = this.featuresCollection_.getArray().slice(0) : this.featuresRtree_ && (t = this.featuresRtree_.getAll(), to(this.nullGeometryFeatures_) || pi(t, Object.values(this.nullGeometryFeatures_))), t;
  }
  getFeaturesAtCoordinate(t) {
    const e = [];
    return this.forEachFeatureAtCoordinateDirect(t, function(n) {
      e.push(n);
    }), e;
  }
  getFeaturesInExtent(t, e) {
    if (this.featuresRtree_) {
      if (!(e && e.canWrapX() && this.getWrapX()))
        return this.featuresRtree_.getInExtent(t);
      const o = O0(t, e);
      return [].concat(
        ...o.map((r3) => this.featuresRtree_.getInExtent(r3))
      );
    } else
      return this.featuresCollection_ ? this.featuresCollection_.getArray().slice(0) : [];
  }
  getClosestFeatureToCoordinate(t, e) {
    const n = t[0], o = t[1];
    let r3 = null;
    const s = [NaN, NaN];
    let a = 1 / 0;
    const l = [-1 / 0, -1 / 0, 1 / 0, 1 / 0];
    return e = e || Jn, this.featuresRtree_.forEachInExtent(
      l,
      function(h) {
        if (e(h)) {
          const u = h.getGeometry(), d = a;
          if (a = u.closestPointXY(
            n,
            o,
            s,
            a
          ), a < d) {
            r3 = h;
            const c = Math.sqrt(a);
            l[0] = n - c, l[1] = o - c, l[2] = n + c, l[3] = o + c;
          }
        }
      }
    ), r3;
  }
  getExtent(t) {
    return this.featuresRtree_.getExtent(t);
  }
  getFeatureById(t) {
    const e = this.idIndex_[t.toString()];
    return e !== void 0 ? e : null;
  }
  getFeatureByUid(t) {
    const e = this.uidIndex_[t];
    return e !== void 0 ? e : null;
  }
  getFormat() {
    return this.format_;
  }
  getOverlaps() {
    return this.overlaps_;
  }
  getUrl() {
    return this.url_;
  }
  handleFeatureChange_(t) {
    const e = t.target, n = H(e), o = e.getGeometry();
    if (!o)
      n in this.nullGeometryFeatures_ || (this.featuresRtree_ && this.featuresRtree_.remove(e), this.nullGeometryFeatures_[n] = e);
    else {
      const s = o.getExtent();
      n in this.nullGeometryFeatures_ ? (delete this.nullGeometryFeatures_[n], this.featuresRtree_ && this.featuresRtree_.insert(s, e)) : this.featuresRtree_ && this.featuresRtree_.update(s, e);
    }
    const r3 = e.getId();
    if (r3 !== void 0) {
      const s = r3.toString();
      this.idIndex_[s] !== e && (this.removeFromIdIndex_(e), this.idIndex_[s] = e);
    } else
      this.removeFromIdIndex_(e), this.uidIndex_[n] = e;
    this.changed(), this.dispatchEvent(
      new Ui(we.CHANGEFEATURE, e)
    );
  }
  hasFeature(t) {
    const e = t.getId();
    return e !== void 0 ? e in this.idIndex_ : H(t) in this.uidIndex_;
  }
  isEmpty() {
    return this.featuresRtree_ ? this.featuresRtree_.isEmpty() && to(this.nullGeometryFeatures_) : this.featuresCollection_ ? this.featuresCollection_.getLength() === 0 : true;
  }
  loadFeatures(t, e, n) {
    const o = this.loadedExtentsRtree_, r3 = this.strategy_(t, e, n);
    for (let s = 0, a = r3.length; s < a; ++s) {
      const l = r3[s];
      o.forEachInExtent(
        l,
        function(u) {
          return Wn(u.extent, l);
        }
      ) || (++this.loadingExtentsCount_, this.dispatchEvent(
        new Ui(we.FEATURESLOADSTART)
      ), this.loader_.call(
        this,
        l,
        e,
        n,
        function(u) {
          --this.loadingExtentsCount_, this.dispatchEvent(
            new Ui(
              we.FEATURESLOADEND,
              void 0,
              u
            )
          );
        }.bind(this),
        function() {
          --this.loadingExtentsCount_, this.dispatchEvent(
            new Ui(we.FEATURESLOADERROR)
          );
        }.bind(this)
      ), o.insert(l, { extent: l.slice() }));
    }
    this.loading = this.loader_.length < 4 ? false : this.loadingExtentsCount_ > 0;
  }
  refresh() {
    this.clear(true), this.loadedExtentsRtree_.clear(), super.refresh();
  }
  removeLoadedExtent(t) {
    const e = this.loadedExtentsRtree_;
    let n;
    e.forEachInExtent(t, function(o) {
      if (Jo(o.extent, t))
        return n = o, true;
    }), n && e.remove(n);
  }
  removeFeature(t) {
    if (!t)
      return;
    const e = H(t);
    e in this.nullGeometryFeatures_ ? delete this.nullGeometryFeatures_[e] : this.featuresRtree_ && this.featuresRtree_.remove(t), this.removeFeatureInternal(t) && this.changed();
  }
  removeFeatureInternal(t) {
    const e = H(t), n = this.featureChangeKeys_[e];
    if (!n)
      return;
    n.forEach(jt), delete this.featureChangeKeys_[e];
    const o = t.getId();
    return o !== void 0 && delete this.idIndex_[o.toString()], delete this.uidIndex_[e], this.dispatchEvent(
      new Ui(we.REMOVEFEATURE, t)
    ), t;
  }
  removeFromIdIndex_(t) {
    let e = false;
    for (const n in this.idIndex_)
      if (this.idIndex_[n] === t) {
        delete this.idIndex_[n], e = true;
        break;
      }
    return e;
  }
  setLoader(t) {
    this.loader_ = t;
  }
  setUrl(t) {
    ct(this.format_, 7), this.url_ = t, this.setLoader(Dc(t, this.format_));
  }
}
const pn = Wy;
class Zy extends Ba {
  constructor(t, e, n) {
    super(), n = n || {}, this.tileCoord = t, this.state = e, this.interimTile = null, this.key = "", this.transition_ = n.transition === void 0 ? 250 : n.transition, this.transitionStarts_ = {}, this.interpolate = !!n.interpolate;
  }
  changed() {
    this.dispatchEvent(Q.CHANGE);
  }
  release() {
    this.state === G.ERROR && this.setState(G.EMPTY);
  }
  getKey() {
    return this.key + "/" + this.tileCoord;
  }
  getInterimTile() {
    if (!this.interimTile)
      return this;
    let t = this.interimTile;
    do {
      if (t.getState() == G.LOADED)
        return this.transition_ = 0, t;
      t = t.interimTile;
    } while (t);
    return this;
  }
  refreshInterimChain() {
    if (!this.interimTile)
      return;
    let t = this.interimTile, e = this;
    do {
      if (t.getState() == G.LOADED) {
        t.interimTile = null;
        break;
      } else
        t.getState() == G.LOADING ? e = t : t.getState() == G.IDLE ? e.interimTile = t.interimTile : e = t;
      t = e.interimTile;
    } while (t);
  }
  getTileCoord() {
    return this.tileCoord;
  }
  getState() {
    return this.state;
  }
  setState(t) {
    if (this.state !== G.ERROR && this.state > t)
      throw new Error("Tile load sequence violation");
    this.state = t, this.changed();
  }
  load() {
    tt();
  }
  getAlpha(t, e) {
    if (!this.transition_)
      return 1;
    let n = this.transitionStarts_[t];
    if (!n)
      n = e, this.transitionStarts_[t] = n;
    else if (n === -1)
      return 1;
    const o = e - n + 1e3 / 60;
    return o >= this.transition_ ? 1 : kf(o / this.transition_);
  }
  inTransition(t) {
    return this.transition_ ? this.transitionStarts_[t] !== -1 : false;
  }
  endTransition(t) {
    this.transition_ && (this.transitionStarts_[t] = -1);
  }
}
const il = Zy;
class Yy extends il {
  constructor(t, e, n, o, r3, s) {
    super(t, e, s), this.crossOrigin_ = o, this.src_ = n, this.key = n, this.image_ = new Image(), o !== null && (this.image_.crossOrigin = o), this.unlisten_ = null, this.tileLoadFunction_ = r3;
  }
  getImage() {
    return this.image_;
  }
  setImage(t) {
    this.image_ = t, this.state = G.LOADED, this.unlistenImage_(), this.changed();
  }
  handleImageError_() {
    this.state = G.ERROR, this.unlistenImage_(), this.image_ = Xy(), this.changed();
  }
  handleImageLoad_() {
    const t = this.image_;
    t.naturalWidth && t.naturalHeight ? this.state = G.LOADED : this.state = G.EMPTY, this.unlistenImage_(), this.changed();
  }
  load() {
    this.state == G.ERROR && (this.state = G.IDLE, this.image_ = new Image(), this.crossOrigin_ !== null && (this.image_.crossOrigin = this.crossOrigin_)), this.state == G.IDLE && (this.state = G.LOADING, this.changed(), this.tileLoadFunction_(this, this.src_), this.unlisten_ = Vf(
      this.image_,
      this.handleImageLoad_.bind(this),
      this.handleImageError_.bind(this)
    ));
  }
  unlistenImage_() {
    this.unlisten_ && (this.unlisten_(), this.unlisten_ = null);
  }
}
function Xy() {
  const i = Fe(1, 1);
  return i.fillStyle = "rgba(0,0,0,0)", i.fillRect(0, 0, 1, 1), i.canvas;
}
const hm = Yy;
class Uy {
  constructor(t) {
    this.highWaterMark = t !== void 0 ? t : 2048, this.count_ = 0, this.entries_ = {}, this.oldest_ = null, this.newest_ = null;
  }
  canExpireCache() {
    return this.highWaterMark > 0 && this.getCount() > this.highWaterMark;
  }
  expireCache(t) {
    for (; this.canExpireCache(); )
      this.pop();
  }
  clear() {
    this.count_ = 0, this.entries_ = {}, this.oldest_ = null, this.newest_ = null;
  }
  containsKey(t) {
    return this.entries_.hasOwnProperty(t);
  }
  forEach(t) {
    let e = this.oldest_;
    for (; e; )
      t(e.value_, e.key_, this), e = e.newer;
  }
  get(t, e) {
    const n = this.entries_[t];
    return ct(n !== void 0, 15), n === this.newest_ || (n === this.oldest_ ? (this.oldest_ = this.oldest_.newer, this.oldest_.older = null) : (n.newer.older = n.older, n.older.newer = n.newer), n.newer = null, n.older = this.newest_, this.newest_.newer = n, this.newest_ = n), n.value_;
  }
  remove(t) {
    const e = this.entries_[t];
    return ct(e !== void 0, 15), e === this.newest_ ? (this.newest_ = e.older, this.newest_ && (this.newest_.newer = null)) : e === this.oldest_ ? (this.oldest_ = e.newer, this.oldest_ && (this.oldest_.older = null)) : (e.newer.older = e.older, e.older.newer = e.newer), delete this.entries_[t], --this.count_, e.value_;
  }
  getCount() {
    return this.count_;
  }
  getKeys() {
    const t = new Array(this.count_);
    let e = 0, n;
    for (n = this.newest_; n; n = n.older)
      t[e++] = n.key_;
    return t;
  }
  getValues() {
    const t = new Array(this.count_);
    let e = 0, n;
    for (n = this.newest_; n; n = n.older)
      t[e++] = n.value_;
    return t;
  }
  peekLast() {
    return this.oldest_.value_;
  }
  peekLastKey() {
    return this.oldest_.key_;
  }
  peekFirstKey() {
    return this.newest_.key_;
  }
  peek(t) {
    if (!!this.containsKey(t))
      return this.entries_[t].value_;
  }
  pop() {
    const t = this.oldest_;
    return delete this.entries_[t.key_], t.newer && (t.newer.older = null), this.oldest_ = t.newer, this.oldest_ || (this.newest_ = null), --this.count_, t.value_;
  }
  replace(t, e) {
    this.get(t), this.entries_[t].value_ = e;
  }
  set(t, e) {
    ct(!(t in this.entries_), 16);
    const n = {
      key_: t,
      newer: null,
      older: this.newest_,
      value_: e
    };
    this.newest_ ? this.newest_.newer = n : this.oldest_ = n, this.newest_ = n, this.entries_[t] = n, ++this.count_;
  }
  setSize(t) {
    this.highWaterMark = t;
  }
}
const Vy = Uy;
function Lc(i, t, e, n) {
  return n !== void 0 ? (n[0] = i, n[1] = t, n[2] = e, n) : [i, t, e];
}
function ar(i, t, e) {
  return i + "/" + t + "/" + e;
}
function um(i) {
  return ar(i[0], i[1], i[2]);
}
function qy(i) {
  const [t, e, n] = i.substring(i.lastIndexOf("/") + 1, i.length).split(",").map(Number);
  return ar(t, e, n);
}
function dm(i) {
  return i.split("/").map(Number);
}
function $y(i) {
  return (i[1] << i[0]) + i[2];
}
function Hy(i, t) {
  const e = i[0], n = i[1], o = i[2];
  if (t.getMinZoom() > e || e > t.getMaxZoom())
    return false;
  const r3 = t.getFullTileRange(e);
  return r3 ? r3.containsXY(n, o) : true;
}
class Ky extends Vy {
  clear() {
    for (; this.getCount() > 0; )
      this.pop().release();
    super.clear();
  }
  expireCache(t) {
    for (; this.canExpireCache() && !(this.peekLast().getKey() in t); )
      this.pop().release();
  }
  pruneExceptNewestZ() {
    if (this.getCount() === 0)
      return;
    const t = this.peekFirstKey(), n = dm(t)[0];
    this.forEach(
      function(o) {
        o.tileCoord[0] !== n && (this.remove(um(o.tileCoord)), o.release());
      }.bind(this)
    );
  }
}
const id = Ky;
class cm {
  constructor(t, e, n, o) {
    this.minX = t, this.maxX = e, this.minY = n, this.maxY = o;
  }
  contains(t) {
    return this.containsXY(t[1], t[2]);
  }
  containsTileRange(t) {
    return this.minX <= t.minX && t.maxX <= this.maxX && this.minY <= t.minY && t.maxY <= this.maxY;
  }
  containsXY(t, e) {
    return this.minX <= t && t <= this.maxX && this.minY <= e && e <= this.maxY;
  }
  equals(t) {
    return this.minX == t.minX && this.minY == t.minY && this.maxX == t.maxX && this.maxY == t.maxY;
  }
  extend(t) {
    t.minX < this.minX && (this.minX = t.minX), t.maxX > this.maxX && (this.maxX = t.maxX), t.minY < this.minY && (this.minY = t.minY), t.maxY > this.maxY && (this.maxY = t.maxY);
  }
  getHeight() {
    return this.maxY - this.minY + 1;
  }
  getSize() {
    return [this.getWidth(), this.getHeight()];
  }
  getWidth() {
    return this.maxX - this.minX + 1;
  }
  intersects(t) {
    return this.minX <= t.maxX && this.maxX >= t.minX && this.minY <= t.maxY && this.maxY >= t.minY;
  }
}
function wo(i, t, e, n, o) {
  return o !== void 0 ? (o.minX = i, o.maxX = t, o.minY = e, o.maxY = n, o) : new cm(i, t, e, n);
}
const gm = cm, Oc = [];
class Jy extends il {
  constructor(t, e, n, o) {
    super(t, e, { transition: 0 }), this.context_ = {}, this.executorGroups = {}, this.declutterExecutorGroups = {}, this.loadingSourceTiles = 0, this.hitDetectionImageData = {}, this.replayState_ = {}, this.sourceTiles = [], this.errorTileKeys = {}, this.wantedResolution, this.getSourceTiles = o.bind(void 0, this), this.wrappedTileCoord = n;
  }
  getContext(t) {
    const e = H(t);
    return e in this.context_ || (this.context_[e] = Fe(1, 1, Oc)), this.context_[e];
  }
  hasContext(t) {
    return H(t) in this.context_;
  }
  getImage(t) {
    return this.hasContext(t) ? this.getContext(t).canvas : null;
  }
  getReplayState(t) {
    const e = H(t);
    return e in this.replayState_ || (this.replayState_[e] = {
      dirty: false,
      renderedRenderOrder: null,
      renderedResolution: NaN,
      renderedRevision: -1,
      renderedTileResolution: NaN,
      renderedTileRevision: -1,
      renderedTileZ: -1
    }), this.replayState_[e];
  }
  load() {
    this.getSourceTiles();
  }
  release() {
    for (const t in this.context_) {
      const e = this.context_[t];
      su(e), Oc.push(e.canvas), delete this.context_[t];
    }
    super.release();
  }
}
const Qy = Jy;
class tx extends il {
  constructor(t, e, n, o, r3, s) {
    super(t, e, s), this.extent = null, this.format_ = o, this.features_ = null, this.loader_, this.projection = null, this.resolution, this.tileLoadFunction_ = r3, this.url_ = n, this.key = n;
  }
  getFormat() {
    return this.format_;
  }
  getFeatures() {
    return this.features_;
  }
  load() {
    this.state == G.IDLE && (this.setState(G.LOADING), this.tileLoadFunction_(this, this.url_), this.loader_ && this.loader_(this.extent, this.resolution, this.projection));
  }
  onLoad(t, e) {
    this.setFeatures(t);
  }
  onError() {
    this.setState(G.ERROR);
  }
  setFeatures(t) {
    this.features_ = t, this.setState(G.LOADED);
  }
  setLoader(t) {
    this.loader_ = t;
  }
}
const ex = tx, Ys = {
  DRAWSTART: "drawstart",
  DRAWEND: "drawend",
  DRAWABORT: "drawabort"
};
class Xs extends hi {
  constructor(t, e) {
    super(t), this.feature = e;
  }
}
class ix extends Rn {
  constructor(t) {
    const e = t;
    e.stopDown || (e.stopDown = or), super(e), this.on, this.once, this.un, this.shouldHandle_ = false, this.downPx_ = null, this.downTimeout_, this.lastDragTime_, this.pointerType_, this.freehand_ = false, this.source_ = t.source ? t.source : null, this.features_ = t.features ? t.features : null, this.snapTolerance_ = t.snapTolerance ? t.snapTolerance : 12, this.type_ = t.type, this.mode_ = ox(this.type_), this.stopClick_ = !!t.stopClick, this.minPoints_ = t.minPoints ? t.minPoints : this.mode_ === "Polygon" ? 3 : 2, this.maxPoints_ = this.mode_ === "Circle" ? 2 : t.maxPoints ? t.maxPoints : 1 / 0, this.finishCondition_ = t.finishCondition ? t.finishCondition : Jn, this.geometryLayout_ = t.geometryLayout ? t.geometryLayout : "XY";
    let n = t.geometryFunction;
    if (!n) {
      const o = this.mode_;
      if (o === "Circle")
        n = function(r3, s, a) {
          const l = s || new O1([NaN, NaN]), h = Zt(r3[0]), u = Di(
            h,
            Zt(r3[r3.length - 1])
          );
          return l.setCenterAndRadius(
            h,
            Math.sqrt(u),
            this.geometryLayout_
          ), l;
        };
      else {
        let r3;
        o === "Point" ? r3 = si : o === "LineString" ? r3 = Hn : o === "Polygon" && (r3 = eo), n = function(s, a, l) {
          return a ? o === "Polygon" ? s[0].length ? a.setCoordinates(
            [s[0].concat([s[0][0]])],
            this.geometryLayout_
          ) : a.setCoordinates([], this.geometryLayout_) : a.setCoordinates(s, this.geometryLayout_) : a = new r3(s, this.geometryLayout_), a;
        };
      }
    }
    this.geometryFunction_ = n, this.dragVertexDelay_ = t.dragVertexDelay !== void 0 ? t.dragVertexDelay : 500, this.finishCoordinate_ = null, this.sketchFeature_ = null, this.sketchPoint_ = null, this.sketchCoords_ = null, this.sketchLine_ = null, this.sketchLineCoords_ = null, this.squaredClickTolerance_ = t.clickTolerance ? t.clickTolerance * t.clickTolerance : 36, this.overlay_ = new io({
      source: new pn({
        useSpatialIndex: false,
        wrapX: t.wrapX ? t.wrapX : false
      }),
      style: t.style ? t.style : nx(),
      updateWhileInteracting: true
    }), this.geometryName_ = t.geometryName, this.condition_ = t.condition ? t.condition : Wu, this.freehandCondition_, t.freehand ? this.freehandCondition_ = Bu : this.freehandCondition_ = t.freehandCondition ? t.freehandCondition : Ff, this.addChangeListener(Mh.ACTIVE, this.updateState_);
  }
  setMap(t) {
    super.setMap(t), this.updateState_();
  }
  getOverlay() {
    return this.overlay_;
  }
  handleEvent(t) {
    t.originalEvent.type === Q.CONTEXTMENU && t.originalEvent.preventDefault(), this.freehand_ = this.mode_ !== "Point" && this.freehandCondition_(t);
    let e = t.type === Mt.POINTERMOVE, n = true;
    return !this.freehand_ && this.lastDragTime_ && t.type === Mt.POINTERDRAG && (Date.now() - this.lastDragTime_ >= this.dragVertexDelay_ ? (this.downPx_ = t.pixel, this.shouldHandle_ = !this.freehand_, e = true) : this.lastDragTime_ = void 0, this.shouldHandle_ && this.downTimeout_ !== void 0 && (clearTimeout(this.downTimeout_), this.downTimeout_ = void 0)), this.freehand_ && t.type === Mt.POINTERDRAG && this.sketchFeature_ !== null ? (this.addToDrawing_(t.coordinate), n = false) : this.freehand_ && t.type === Mt.POINTERDOWN ? n = false : e && this.getPointerCount() < 2 ? (n = t.type === Mt.POINTERMOVE, n && this.freehand_ ? (this.handlePointerMove_(t), this.shouldHandle_ && t.originalEvent.preventDefault()) : (t.originalEvent.pointerType === "mouse" || t.type === Mt.POINTERDRAG && this.downTimeout_ === void 0) && this.handlePointerMove_(t)) : t.type === Mt.DBLCLICK && (n = false), super.handleEvent(t) && n;
  }
  handleDownEvent(t) {
    return this.shouldHandle_ = !this.freehand_, this.freehand_ ? (this.downPx_ = t.pixel, this.finishCoordinate_ || this.startDrawing_(t.coordinate), true) : this.condition_(t) ? (this.lastDragTime_ = Date.now(), this.downTimeout_ = setTimeout(
      function() {
        this.handlePointerMove_(
          new zi(
            Mt.POINTERMOVE,
            t.map,
            t.originalEvent,
            false,
            t.frameState
          )
        );
      }.bind(this),
      this.dragVertexDelay_
    ), this.downPx_ = t.pixel, true) : (this.lastDragTime_ = void 0, false);
  }
  handleUpEvent(t) {
    let e = true;
    if (this.getPointerCount() === 0)
      if (this.downTimeout_ && (clearTimeout(this.downTimeout_), this.downTimeout_ = void 0), this.handlePointerMove_(t), this.shouldHandle_) {
        const n = !this.finishCoordinate_;
        n && this.startDrawing_(t.coordinate), !n && this.freehand_ ? this.finishDrawing() : !this.freehand_ && (!n || this.mode_ === "Point") && (this.atFinish_(t.pixel) ? this.finishCondition_(t) && this.finishDrawing() : this.addToDrawing_(t.coordinate)), e = false;
      } else
        this.freehand_ && this.abortDrawing();
    return !e && this.stopClick_ && t.preventDefault(), e;
  }
  handlePointerMove_(t) {
    if (this.pointerType_ = t.originalEvent.pointerType, this.downPx_ && (!this.freehand_ && this.shouldHandle_ || this.freehand_ && !this.shouldHandle_)) {
      const e = this.downPx_, n = t.pixel, o = e[0] - n[0], r3 = e[1] - n[1], s = o * o + r3 * r3;
      if (this.shouldHandle_ = this.freehand_ ? s > this.squaredClickTolerance_ : s <= this.squaredClickTolerance_, !this.shouldHandle_)
        return;
    }
    this.finishCoordinate_ ? this.modifyDrawing_(t.coordinate) : this.createOrUpdateSketchPoint_(t.coordinate.slice());
  }
  atFinish_(t) {
    let e = false;
    if (this.sketchFeature_) {
      let n = false, o = [this.finishCoordinate_];
      const r3 = this.mode_;
      if (r3 === "Point")
        e = true;
      else if (r3 === "Circle")
        e = this.sketchCoords_.length === 2;
      else if (r3 === "LineString")
        n = this.sketchCoords_.length > this.minPoints_;
      else if (r3 === "Polygon") {
        const s = this.sketchCoords_;
        n = s[0].length > this.minPoints_, o = [
          s[0][0],
          s[0][s[0].length - 2]
        ];
      }
      if (n) {
        const s = this.getMap();
        for (let a = 0, l = o.length; a < l; a++) {
          const h = o[a], u = s.getPixelFromCoordinate(h), d = t[0] - u[0], c = t[1] - u[1], g = this.freehand_ ? 1 : this.snapTolerance_;
          if (e = Math.sqrt(d * d + c * c) <= g, e) {
            this.finishCoordinate_ = h;
            break;
          }
        }
      }
    }
    return e;
  }
  createOrUpdateSketchPoint_(t) {
    this.sketchPoint_ ? this.sketchPoint_.getGeometry().setCoordinates(t) : (this.sketchPoint_ = new Pi(new si(t)), this.updateSketchFeatures_());
  }
  createOrUpdateCustomSketchLine_(t) {
    this.sketchLine_ || (this.sketchLine_ = new Pi());
    const e = t.getLinearRing(0);
    let n = this.sketchLine_.getGeometry();
    n ? (n.setFlatCoordinates(
      e.getLayout(),
      e.getFlatCoordinates()
    ), n.changed()) : (n = new Hn(
      e.getFlatCoordinates(),
      e.getLayout()
    ), this.sketchLine_.setGeometry(n));
  }
  startDrawing_(t) {
    const e = this.getMap().getView().getProjection(), n = ma(this.geometryLayout_);
    for (; t.length < n; )
      t.push(0);
    this.finishCoordinate_ = t, this.mode_ === "Point" ? this.sketchCoords_ = t.slice() : this.mode_ === "Polygon" ? (this.sketchCoords_ = [[t.slice(), t.slice()]], this.sketchLineCoords_ = this.sketchCoords_[0]) : this.sketchCoords_ = [t.slice(), t.slice()], this.sketchLineCoords_ && (this.sketchLine_ = new Pi(new Hn(this.sketchLineCoords_)));
    const o = this.geometryFunction_(
      this.sketchCoords_,
      void 0,
      e
    );
    this.sketchFeature_ = new Pi(), this.geometryName_ && this.sketchFeature_.setGeometryName(this.geometryName_), this.sketchFeature_.setGeometry(o), this.updateSketchFeatures_(), this.dispatchEvent(
      new Xs(Ys.DRAWSTART, this.sketchFeature_)
    );
  }
  modifyDrawing_(t) {
    const e = this.getMap(), n = this.sketchFeature_.getGeometry(), o = e.getView().getProjection(), r3 = ma(this.geometryLayout_);
    let s, a;
    for (; t.length < r3; )
      t.push(0);
    this.mode_ === "Point" ? a = this.sketchCoords_ : this.mode_ === "Polygon" ? (s = this.sketchCoords_[0], a = s[s.length - 1], this.atFinish_(e.getPixelFromCoordinate(t)) && (t = this.finishCoordinate_.slice())) : (s = this.sketchCoords_, a = s[s.length - 1]), a[0] = t[0], a[1] = t[1], this.geometryFunction_(
      this.sketchCoords_,
      n,
      o
    ), this.sketchPoint_ && this.sketchPoint_.getGeometry().setCoordinates(t), n.getType() === "Polygon" && this.mode_ !== "Polygon" ? this.createOrUpdateCustomSketchLine_(n) : this.sketchLineCoords_ && this.sketchLine_.getGeometry().setCoordinates(this.sketchLineCoords_), this.updateSketchFeatures_();
  }
  addToDrawing_(t) {
    const e = this.sketchFeature_.getGeometry(), n = this.getMap().getView().getProjection();
    let o, r3;
    const s = this.mode_;
    s === "LineString" || s === "Circle" ? (this.finishCoordinate_ = t.slice(), r3 = this.sketchCoords_, r3.length >= this.maxPoints_ && (this.freehand_ ? r3.pop() : o = true), r3.push(t.slice()), this.geometryFunction_(r3, e, n)) : s === "Polygon" && (r3 = this.sketchCoords_[0], r3.length >= this.maxPoints_ && (this.freehand_ ? r3.pop() : o = true), r3.push(t.slice()), o && (this.finishCoordinate_ = r3[0]), this.geometryFunction_(this.sketchCoords_, e, n)), this.createOrUpdateSketchPoint_(t.slice()), this.updateSketchFeatures_(), o && this.finishDrawing();
  }
  removeLastPoint() {
    if (!this.sketchFeature_)
      return;
    const t = this.sketchFeature_.getGeometry(), e = this.getMap().getView().getProjection();
    let n;
    const o = this.mode_;
    if (o === "LineString" || o === "Circle") {
      if (n = this.sketchCoords_, n.splice(-2, 1), n.length >= 2) {
        this.finishCoordinate_ = n[n.length - 2].slice();
        const r3 = this.finishCoordinate_.slice();
        n[n.length - 1] = r3, this.createOrUpdateSketchPoint_(r3);
      }
      this.geometryFunction_(n, t, e), t.getType() === "Polygon" && this.sketchLine_ && this.createOrUpdateCustomSketchLine_(t);
    } else if (o === "Polygon") {
      n = this.sketchCoords_[0], n.splice(-2, 1);
      const r3 = this.sketchLine_.getGeometry();
      if (n.length >= 2) {
        const s = n[n.length - 2].slice();
        n[n.length - 1] = s, this.createOrUpdateSketchPoint_(s);
      }
      r3.setCoordinates(n), this.geometryFunction_(this.sketchCoords_, t, e);
    }
    n.length === 1 && this.abortDrawing(), this.updateSketchFeatures_();
  }
  finishDrawing() {
    const t = this.abortDrawing_();
    if (!t)
      return;
    let e = this.sketchCoords_;
    const n = t.getGeometry(), o = this.getMap().getView().getProjection();
    this.mode_ === "LineString" ? (e.pop(), this.geometryFunction_(e, n, o)) : this.mode_ === "Polygon" && (e[0].pop(), this.geometryFunction_(e, n, o), e = n.getCoordinates()), this.type_ === "MultiPoint" ? t.setGeometry(
      new ms([e])
    ) : this.type_ === "MultiLineString" ? t.setGeometry(
      new Xu([e])
    ) : this.type_ === "MultiPolygon" && t.setGeometry(
      new Vu([e])
    ), this.dispatchEvent(new Xs(Ys.DRAWEND, t)), this.features_ && this.features_.push(t), this.source_ && this.source_.addFeature(t);
  }
  abortDrawing_() {
    this.finishCoordinate_ = null;
    const t = this.sketchFeature_;
    return this.sketchFeature_ = null, this.sketchPoint_ = null, this.sketchLine_ = null, this.overlay_.getSource().clear(true), t;
  }
  abortDrawing() {
    const t = this.abortDrawing_();
    t && this.dispatchEvent(new Xs(Ys.DRAWABORT, t));
  }
  appendCoordinates(t) {
    const e = this.mode_, n = !this.sketchFeature_;
    n && this.startDrawing_(t[0]);
    let o;
    if (e === "LineString" || e === "Circle")
      o = this.sketchCoords_;
    else if (e === "Polygon")
      o = this.sketchCoords_ && this.sketchCoords_.length ? this.sketchCoords_[0] : [];
    else
      return;
    n && o.shift(), o.pop();
    for (let s = 0; s < t.length; s++)
      this.addToDrawing_(t[s]);
    const r3 = t[t.length - 1];
    this.addToDrawing_(r3), this.modifyDrawing_(r3);
  }
  extend(t) {
    const n = t.getGeometry();
    this.sketchFeature_ = t, this.sketchCoords_ = n.getCoordinates();
    const o = this.sketchCoords_[this.sketchCoords_.length - 1];
    this.finishCoordinate_ = o.slice(), this.sketchCoords_.push(o.slice()), this.sketchPoint_ = new Pi(new si(o)), this.updateSketchFeatures_(), this.dispatchEvent(
      new Xs(Ys.DRAWSTART, this.sketchFeature_)
    );
  }
  updateSketchFeatures_() {
    const t = [];
    this.sketchFeature_ && t.push(this.sketchFeature_), this.sketchLine_ && t.push(this.sketchLine_), this.sketchPoint_ && t.push(this.sketchPoint_);
    const e = this.overlay_.getSource();
    e.clear(true), e.addFeatures(t);
  }
  updateState_() {
    const t = this.getMap(), e = this.getActive();
    (!t || !e) && this.abortDrawing(), this.overlay_.setMap(e ? t : null);
  }
}
function nx() {
  const i = qf();
  return function(t, e) {
    return i[t.getGeometry().getType()];
  };
}
function ox(i) {
  switch (i) {
    case "Point":
    case "MultiPoint":
      return "Point";
    case "LineString":
    case "MultiLineString":
      return "LineString";
    case "Polygon":
    case "MultiPolygon":
      return "Polygon";
    case "Circle":
      return "Circle";
    default:
      throw new Error("Invalid type: " + i);
  }
}
const rx = ix, Fc = 0, Dr = 1, Nc = [0, 0, 0, 0], Go = [], Bl = {
  MODIFYSTART: "modifystart",
  MODIFYEND: "modifyend"
};
class Wl extends hi {
  constructor(t, e, n) {
    super(t), this.features = e, this.mapBrowserEvent = n;
  }
}
class sx extends Rn {
  constructor(t) {
    super(t), this.on, this.once, this.un, this.boundHandleFeatureChange_ = this.handleFeatureChange_.bind(this), this.condition_ = t.condition ? t.condition : Gf, this.defaultDeleteCondition_ = function(n) {
      return g_(n) && p_(n);
    }, this.deleteCondition_ = t.deleteCondition ? t.deleteCondition : this.defaultDeleteCondition_, this.insertVertexCondition_ = t.insertVertexCondition ? t.insertVertexCondition : Bu, this.vertexFeature_ = null, this.vertexSegments_ = null, this.lastPixel_ = [0, 0], this.ignoreNextSingleClick_ = false, this.featuresBeingModified_ = null, this.rBush_ = new Ma(), this.pixelTolerance_ = t.pixelTolerance !== void 0 ? t.pixelTolerance : 10, this.snappedToVertex_ = false, this.changingFeature_ = false, this.dragSegments_ = [], this.overlay_ = new io({
      source: new pn({
        useSpatialIndex: false,
        wrapX: !!t.wrapX
      }),
      style: t.style ? t.style : lx(),
      updateWhileAnimating: true,
      updateWhileInteracting: true
    }), this.SEGMENT_WRITERS_ = {
      Point: this.writePointGeometry_.bind(this),
      LineString: this.writeLineStringGeometry_.bind(this),
      LinearRing: this.writeLineStringGeometry_.bind(this),
      Polygon: this.writePolygonGeometry_.bind(this),
      MultiPoint: this.writeMultiPointGeometry_.bind(this),
      MultiLineString: this.writeMultiLineStringGeometry_.bind(this),
      MultiPolygon: this.writeMultiPolygonGeometry_.bind(this),
      Circle: this.writeCircleGeometry_.bind(this),
      GeometryCollection: this.writeGeometryCollectionGeometry_.bind(this)
    }, this.source_ = null, this.hitDetection_ = null;
    let e;
    if (t.features ? e = t.features : t.source && (this.source_ = t.source, e = new $e(this.source_.getFeatures()), this.source_.addEventListener(
      we.ADDFEATURE,
      this.handleSourceAdd_.bind(this)
    ), this.source_.addEventListener(
      we.REMOVEFEATURE,
      this.handleSourceRemove_.bind(this)
    )), !e)
      throw new Error(
        "The modify interaction requires features, a source or a layer"
      );
    t.hitDetection && (this.hitDetection_ = t.hitDetection), this.features_ = e, this.features_.forEach(this.addFeature_.bind(this)), this.features_.addEventListener(
      re.ADD,
      this.handleFeatureAdd_.bind(this)
    ), this.features_.addEventListener(
      re.REMOVE,
      this.handleFeatureRemove_.bind(this)
    ), this.lastPointerEvent_ = null, this.delta_ = [0, 0], this.snapToPointer_ = t.snapToPointer === void 0 ? !this.hitDetection_ : t.snapToPointer;
  }
  addFeature_(t) {
    const e = t.getGeometry();
    if (e) {
      const o = this.SEGMENT_WRITERS_[e.getType()];
      o && o(t, e);
    }
    const n = this.getMap();
    n && n.isRendered() && this.getActive() && this.handlePointerAtPixel_(this.lastPixel_, n), t.addEventListener(Q.CHANGE, this.boundHandleFeatureChange_);
  }
  willModifyFeatures_(t, e) {
    if (!this.featuresBeingModified_) {
      this.featuresBeingModified_ = new $e();
      const n = this.featuresBeingModified_.getArray();
      for (let o = 0, r3 = e.length; o < r3; ++o) {
        const s = e[o];
        for (let a = 0, l = s.length; a < l; ++a) {
          const h = s[a].feature;
          h && !n.includes(h) && this.featuresBeingModified_.push(h);
        }
      }
      this.featuresBeingModified_.getLength() === 0 ? this.featuresBeingModified_ = null : this.dispatchEvent(
        new Wl(
          Bl.MODIFYSTART,
          this.featuresBeingModified_,
          t
        )
      );
    }
  }
  removeFeature_(t) {
    this.removeFeatureSegmentData_(t), this.vertexFeature_ && this.features_.getLength() === 0 && (this.overlay_.getSource().removeFeature(this.vertexFeature_), this.vertexFeature_ = null), t.removeEventListener(
      Q.CHANGE,
      this.boundHandleFeatureChange_
    );
  }
  removeFeatureSegmentData_(t) {
    const e = this.rBush_, n = [];
    e.forEach(
      function(o) {
        t === o.feature && n.push(o);
      }
    );
    for (let o = n.length - 1; o >= 0; --o) {
      const r3 = n[o];
      for (let s = this.dragSegments_.length - 1; s >= 0; --s)
        this.dragSegments_[s][0] === r3 && this.dragSegments_.splice(s, 1);
      e.remove(r3);
    }
  }
  setActive(t) {
    this.vertexFeature_ && !t && (this.overlay_.getSource().removeFeature(this.vertexFeature_), this.vertexFeature_ = null), super.setActive(t);
  }
  setMap(t) {
    this.overlay_.setMap(t), super.setMap(t);
  }
  getOverlay() {
    return this.overlay_;
  }
  handleSourceAdd_(t) {
    t.feature && this.features_.push(t.feature);
  }
  handleSourceRemove_(t) {
    t.feature && this.features_.remove(t.feature);
  }
  handleFeatureAdd_(t) {
    this.addFeature_(t.element);
  }
  handleFeatureChange_(t) {
    if (!this.changingFeature_) {
      const e = t.target;
      this.removeFeature_(e), this.addFeature_(e);
    }
  }
  handleFeatureRemove_(t) {
    this.removeFeature_(t.element);
  }
  writePointGeometry_(t, e) {
    const n = e.getCoordinates(), o = {
      feature: t,
      geometry: e,
      segment: [n, n]
    };
    this.rBush_.insert(e.getExtent(), o);
  }
  writeMultiPointGeometry_(t, e) {
    const n = e.getCoordinates();
    for (let o = 0, r3 = n.length; o < r3; ++o) {
      const s = n[o], a = {
        feature: t,
        geometry: e,
        depth: [o],
        index: o,
        segment: [s, s]
      };
      this.rBush_.insert(e.getExtent(), a);
    }
  }
  writeLineStringGeometry_(t, e) {
    const n = e.getCoordinates();
    for (let o = 0, r3 = n.length - 1; o < r3; ++o) {
      const s = n.slice(o, o + 2), a = {
        feature: t,
        geometry: e,
        index: o,
        segment: s
      };
      this.rBush_.insert(Me(s), a);
    }
  }
  writeMultiLineStringGeometry_(t, e) {
    const n = e.getCoordinates();
    for (let o = 0, r3 = n.length; o < r3; ++o) {
      const s = n[o];
      for (let a = 0, l = s.length - 1; a < l; ++a) {
        const h = s.slice(a, a + 2), u = {
          feature: t,
          geometry: e,
          depth: [o],
          index: a,
          segment: h
        };
        this.rBush_.insert(Me(h), u);
      }
    }
  }
  writePolygonGeometry_(t, e) {
    const n = e.getCoordinates();
    for (let o = 0, r3 = n.length; o < r3; ++o) {
      const s = n[o];
      for (let a = 0, l = s.length - 1; a < l; ++a) {
        const h = s.slice(a, a + 2), u = {
          feature: t,
          geometry: e,
          depth: [o],
          index: a,
          segment: h
        };
        this.rBush_.insert(Me(h), u);
      }
    }
  }
  writeMultiPolygonGeometry_(t, e) {
    const n = e.getCoordinates();
    for (let o = 0, r3 = n.length; o < r3; ++o) {
      const s = n[o];
      for (let a = 0, l = s.length; a < l; ++a) {
        const h = s[a];
        for (let u = 0, d = h.length - 1; u < d; ++u) {
          const c = h.slice(u, u + 2), g = {
            feature: t,
            geometry: e,
            depth: [a, o],
            index: u,
            segment: c
          };
          this.rBush_.insert(Me(c), g);
        }
      }
    }
  }
  writeCircleGeometry_(t, e) {
    const n = e.getCenter(), o = {
      feature: t,
      geometry: e,
      index: Fc,
      segment: [n, n]
    }, r3 = {
      feature: t,
      geometry: e,
      index: Dr,
      segment: [n, n]
    }, s = [o, r3];
    o.featureSegments = s, r3.featureSegments = s, this.rBush_.insert(Rr(n), o);
    let a = e;
    this.rBush_.insert(a.getExtent(), r3);
  }
  writeGeometryCollectionGeometry_(t, e) {
    const n = e.getGeometriesArray();
    for (let o = 0; o < n.length; ++o) {
      const r3 = n[o], s = this.SEGMENT_WRITERS_[r3.getType()];
      s(t, r3);
    }
  }
  createOrUpdateVertexFeature_(t, e, n) {
    let o = this.vertexFeature_;
    return o ? o.getGeometry().setCoordinates(t) : (o = new Pi(new si(t)), this.vertexFeature_ = o, this.overlay_.getSource().addFeature(o)), o.set("features", e), o.set("geometries", n), o;
  }
  handleEvent(t) {
    if (!t.originalEvent)
      return true;
    this.lastPointerEvent_ = t;
    let e;
    return !t.map.getView().getInteracting() && t.type == Mt.POINTERMOVE && !this.handlingDownUpSequence && this.handlePointerMove_(t), this.vertexFeature_ && this.deleteCondition_(t) && (t.type != Mt.SINGLECLICK || !this.ignoreNextSingleClick_ ? e = this.removePoint() : e = true), t.type == Mt.SINGLECLICK && (this.ignoreNextSingleClick_ = false), super.handleEvent(t) && !e;
  }
  handleDragEvent(t) {
    this.ignoreNextSingleClick_ = false, this.willModifyFeatures_(t, this.dragSegments_);
    const e = [
      t.coordinate[0] + this.delta_[0],
      t.coordinate[1] + this.delta_[1]
    ], n = [], o = [];
    for (let r3 = 0, s = this.dragSegments_.length; r3 < s; ++r3) {
      const a = this.dragSegments_[r3], l = a[0], h = l.feature;
      n.includes(h) || n.push(h);
      const u = l.geometry;
      o.includes(u) || o.push(u);
      const d = l.depth;
      let c;
      const g = l.segment, f = a[1];
      for (; e.length < u.getStride(); )
        e.push(g[f][e.length]);
      switch (u.getType()) {
        case "Point":
          c = e, g[0] = e, g[1] = e;
          break;
        case "MultiPoint":
          c = u.getCoordinates(), c[l.index] = e, g[0] = e, g[1] = e;
          break;
        case "LineString":
          c = u.getCoordinates(), c[l.index + f] = e, g[f] = e;
          break;
        case "MultiLineString":
          c = u.getCoordinates(), c[d[0]][l.index + f] = e, g[f] = e;
          break;
        case "Polygon":
          c = u.getCoordinates(), c[d[0]][l.index + f] = e, g[f] = e;
          break;
        case "MultiPolygon":
          c = u.getCoordinates(), c[d[1]][d[0]][l.index + f] = e, g[f] = e;
          break;
        case "Circle":
          if (g[0] = e, g[1] = e, l.index === Fc)
            this.changingFeature_ = true, u.setCenter(e), this.changingFeature_ = false;
          else {
            this.changingFeature_ = true, t.map.getView().getProjection();
            let m = tc(
              Zt(u.getCenter()),
              Zt(e)
            );
            u.setRadius(m), this.changingFeature_ = false;
          }
          break;
      }
      c && this.setGeometryCoordinates_(u, c);
    }
    this.createOrUpdateVertexFeature_(e, n, o);
  }
  handleDownEvent(t) {
    if (!this.condition_(t))
      return false;
    const e = t.coordinate;
    this.handlePointerAtPixel_(t.pixel, t.map, e), this.dragSegments_.length = 0, this.featuresBeingModified_ = null;
    const n = this.vertexFeature_;
    if (n) {
      t.map.getView().getProjection();
      const o = [], r3 = n.getGeometry().getCoordinates(), s = Me([r3]), a = this.rBush_.getInExtent(s), l = {};
      a.sort(ax);
      for (let h = 0, u = a.length; h < u; ++h) {
        const d = a[h], c = d.segment;
        let g = H(d.geometry);
        const f = d.depth;
        if (f && (g += "-" + f.join("-")), l[g] || (l[g] = new Array(2)), d.geometry.getType() === "Circle" && d.index === Dr) {
          const m = jc(
            e,
            d
          );
          ii(m, r3) && !l[g][0] && (this.dragSegments_.push([d, 0]), l[g][0] = d);
          continue;
        }
        if (ii(c[0], r3) && !l[g][0]) {
          this.dragSegments_.push([d, 0]), l[g][0] = d;
          continue;
        }
        if (ii(c[1], r3) && !l[g][1]) {
          if (l[g][0] && l[g][0].index === 0) {
            let m = d.geometry.getCoordinates();
            switch (d.geometry.getType()) {
              case "LineString":
              case "MultiLineString":
                continue;
              case "MultiPolygon":
                m = m[f[1]];
              case "Polygon":
                if (d.index !== m[f[0]].length - 2)
                  continue;
                break;
            }
          }
          this.dragSegments_.push([d, 1]), l[g][1] = d;
          continue;
        }
        H(c) in this.vertexSegments_ && !l[g][0] && !l[g][1] && this.insertVertexCondition_(t) && o.push(d);
      }
      o.length && this.willModifyFeatures_(t, [o]);
      for (let h = o.length - 1; h >= 0; --h)
        this.insertVertex_(o[h], r3);
    }
    return !!this.vertexFeature_;
  }
  handleUpEvent(t) {
    for (let e = this.dragSegments_.length - 1; e >= 0; --e) {
      const n = this.dragSegments_[e][0], o = n.geometry;
      if (o.getType() === "Circle") {
        const r3 = o.getCenter(), s = n.featureSegments[0], a = n.featureSegments[1];
        s.segment[0] = r3, s.segment[1] = r3, a.segment[0] = r3, a.segment[1] = r3, this.rBush_.update(Rr(r3), s);
        let l = o;
        this.rBush_.update(
          l.getExtent(),
          a
        );
      } else
        this.rBush_.update(Me(n.segment), n);
    }
    return this.featuresBeingModified_ && (this.dispatchEvent(
      new Wl(
        Bl.MODIFYEND,
        this.featuresBeingModified_,
        t
      )
    ), this.featuresBeingModified_ = null), false;
  }
  handlePointerMove_(t) {
    this.lastPixel_ = t.pixel, this.handlePointerAtPixel_(t.pixel, t.map, t.coordinate);
  }
  handlePointerAtPixel_(t, e, n) {
    const o = n || e.getCoordinateFromPixel(t);
    e.getView().getProjection();
    const r3 = function(l, h) {
      return Gc(o, l) - Gc(o, h);
    };
    let s, a;
    if (this.hitDetection_) {
      const l = typeof this.hitDetection_ == "object" ? (h) => h === this.hitDetection_ : void 0;
      e.forEachFeatureAtPixel(
        t,
        (h, u, d) => {
          if (d = d || h.getGeometry(), d.getType() === "Point" && this.features_.getArray().includes(h)) {
            a = d;
            const c = d.getFlatCoordinates().slice(0, 2);
            s = [
              {
                feature: h,
                geometry: d,
                segment: [c, c]
              }
            ];
          }
          return true;
        },
        { layerFilter: l }
      );
    }
    if (!s) {
      const l = tn(
        Rr(o, Nc)
      ), h = e.getView().getResolution() * this.pixelTolerance_, u = yu(
        vi$1(l, h, Nc)
      );
      s = this.rBush_.getInExtent(u);
    }
    if (s && s.length > 0) {
      const l = s.sort(r3)[0], h = l.segment;
      let u = jc(o, l);
      const d = e.getPixelFromCoordinate(u);
      let c = tc(t, d);
      if (a || c <= this.pixelTolerance_) {
        const g = {};
        if (g[H(h)] = true, this.snapToPointer_ || (this.delta_[0] = u[0] - o[0], this.delta_[1] = u[1] - o[1]), l.geometry.getType() === "Circle" && l.index === Dr)
          this.snappedToVertex_ = true, this.createOrUpdateVertexFeature_(
            u,
            [l.feature],
            [l.geometry]
          );
        else {
          const f = e.getPixelFromCoordinate(h[0]), m = e.getPixelFromCoordinate(h[1]), p = Di(d, f), _ = Di(d, m);
          c = Math.sqrt(Math.min(p, _)), this.snappedToVertex_ = c <= this.pixelTolerance_, this.snappedToVertex_ && (u = p > _ ? h[1] : h[0]), this.createOrUpdateVertexFeature_(
            u,
            [l.feature],
            [l.geometry]
          );
          const v = {};
          v[H(l.geometry)] = true;
          for (let y = 1, x = s.length; y < x; ++y) {
            const k = s[y].segment;
            if (ii(h[0], k[0]) && ii(h[1], k[1]) || ii(h[0], k[1]) && ii(h[1], k[0])) {
              const w = H(s[y].geometry);
              w in v || (v[w] = true, g[H(k)] = true);
            } else
              break;
          }
        }
        this.vertexSegments_ = g;
        return;
      }
    }
    this.vertexFeature_ && (this.overlay_.getSource().removeFeature(this.vertexFeature_), this.vertexFeature_ = null);
  }
  insertVertex_(t, e) {
    const n = t.segment, o = t.feature, r3 = t.geometry, s = t.depth, a = t.index;
    let l;
    for (; e.length < r3.getStride(); )
      e.push(0);
    switch (r3.getType()) {
      case "MultiLineString":
        l = r3.getCoordinates(), l[s[0]].splice(a + 1, 0, e);
        break;
      case "Polygon":
        l = r3.getCoordinates(), l[s[0]].splice(a + 1, 0, e);
        break;
      case "MultiPolygon":
        l = r3.getCoordinates(), l[s[1]][s[0]].splice(a + 1, 0, e);
        break;
      case "LineString":
        l = r3.getCoordinates(), l.splice(a + 1, 0, e);
        break;
      default:
        return;
    }
    this.setGeometryCoordinates_(r3, l);
    const h = this.rBush_;
    h.remove(t), this.updateSegmentIndices_(r3, a, s, 1);
    const u = {
      segment: [n[0], e],
      feature: o,
      geometry: r3,
      depth: s,
      index: a
    };
    h.insert(Me(u.segment), u), this.dragSegments_.push([u, 1]);
    const d = {
      segment: [e, n[1]],
      feature: o,
      geometry: r3,
      depth: s,
      index: a + 1
    };
    h.insert(Me(d.segment), d), this.dragSegments_.push([d, 0]), this.ignoreNextSingleClick_ = true;
  }
  removePoint() {
    if (this.lastPointerEvent_ && this.lastPointerEvent_.type != Mt.POINTERDRAG) {
      const t = this.lastPointerEvent_;
      this.willModifyFeatures_(t, this.dragSegments_);
      const e = this.removeVertex_();
      return this.featuresBeingModified_ && this.dispatchEvent(
        new Wl(
          Bl.MODIFYEND,
          this.featuresBeingModified_,
          t
        )
      ), this.featuresBeingModified_ = null, e;
    }
    return false;
  }
  removeVertex_() {
    const t = this.dragSegments_, e = {};
    let n = false, o, r3, s, a, l, h, u, d, c, g, f;
    for (l = t.length - 1; l >= 0; --l)
      s = t[l], g = s[0], f = H(g.feature), g.depth && (f += "-" + g.depth.join("-")), f in e || (e[f] = {}), s[1] === 0 ? (e[f].right = g, e[f].index = g.index) : s[1] == 1 && (e[f].left = g, e[f].index = g.index + 1);
    for (f in e) {
      switch (c = e[f].right, u = e[f].left, h = e[f].index, d = h - 1, u !== void 0 ? g = u : g = c, d < 0 && (d = 0), a = g.geometry, r3 = a.getCoordinates(), o = r3, n = false, a.getType()) {
        case "MultiLineString":
          r3[g.depth[0]].length > 2 && (r3[g.depth[0]].splice(h, 1), n = true);
          break;
        case "LineString":
          r3.length > 2 && (r3.splice(h, 1), n = true);
          break;
        case "MultiPolygon":
          o = o[g.depth[1]];
        case "Polygon":
          o = o[g.depth[0]], o.length > 4 && (h == o.length - 1 && (h = 0), o.splice(h, 1), n = true, h === 0 && (o.pop(), o.push(o[0]), d = o.length - 1));
          break;
      }
      if (n) {
        this.setGeometryCoordinates_(a, r3);
        const m = [];
        if (u !== void 0 && (this.rBush_.remove(u), m.push(u.segment[0])), c !== void 0 && (this.rBush_.remove(c), m.push(c.segment[1])), u !== void 0 && c !== void 0) {
          const p = {
            depth: g.depth,
            feature: g.feature,
            geometry: g.geometry,
            index: d,
            segment: m
          };
          this.rBush_.insert(
            Me(p.segment),
            p
          );
        }
        this.updateSegmentIndices_(a, h, g.depth, -1), this.vertexFeature_ && (this.overlay_.getSource().removeFeature(this.vertexFeature_), this.vertexFeature_ = null), t.length = 0;
      }
    }
    return n;
  }
  setGeometryCoordinates_(t, e) {
    this.changingFeature_ = true, t.setCoordinates(e), this.changingFeature_ = false;
  }
  updateSegmentIndices_(t, e, n, o) {
    this.rBush_.forEachInExtent(
      t.getExtent(),
      function(r3) {
        r3.geometry === t && (n === void 0 || r3.depth === void 0 || Tn(r3.depth, n)) && r3.index > e && (r3.index += o);
      }
    );
  }
}
function ax(i, t) {
  return i.index - t.index;
}
function Gc(i, t, e) {
  const n = t.geometry;
  if (n.getType() === "Circle") {
    let r3 = n;
    if (t.index === Dr) {
      const s = Di(
        r3.getCenter(),
        Zt(i)
      ), a = Math.sqrt(s) - r3.getRadius();
      return a * a;
    }
  }
  const o = Zt(i);
  return Go[0] = Zt(t.segment[0]), Go[1] = Zt(t.segment[1]), j0(o, Go);
}
function jc(i, t, e) {
  const n = t.geometry;
  if (n.getType() === "Circle" && t.index === Dr)
    return Qo(
      n.getClosestPoint(
        Zt(i)
      )
    );
  const o = Zt(i);
  return Go[0] = Zt(t.segment[0]), Go[1] = Zt(t.segment[1]), Qo(
    gu(o, Go)
  );
}
function lx() {
  const i = qf();
  return function(t, e) {
    return i.Point;
  };
}
const hx = sx;
function Bc(i) {
  if (i.feature)
    return i.feature;
  if (i.element)
    return i.element;
}
const Zl = [];
class ux extends Rn {
  constructor(t) {
    t = t || {};
    const e = t;
    e.handleDownEvent || (e.handleDownEvent = Jn), e.stopDown || (e.stopDown = or), super(e), this.source_ = t.source ? t.source : null, this.vertex_ = t.vertex !== void 0 ? t.vertex : true, this.edge_ = t.edge !== void 0 ? t.edge : true, this.features_ = t.features ? t.features : null, this.featuresListenerKeys_ = [], this.featureChangeListenerKeys_ = {}, this.indexedFeaturesExtents_ = {}, this.pendingFeatures_ = {}, this.pixelTolerance_ = t.pixelTolerance !== void 0 ? t.pixelTolerance : 10, this.rBush_ = new Ma(), this.GEOMETRY_SEGMENTERS_ = {
      Point: this.segmentPointGeometry_.bind(this),
      LineString: this.segmentLineStringGeometry_.bind(this),
      LinearRing: this.segmentLineStringGeometry_.bind(this),
      Polygon: this.segmentPolygonGeometry_.bind(this),
      MultiPoint: this.segmentMultiPointGeometry_.bind(this),
      MultiLineString: this.segmentMultiLineStringGeometry_.bind(this),
      MultiPolygon: this.segmentMultiPolygonGeometry_.bind(this),
      GeometryCollection: this.segmentGeometryCollectionGeometry_.bind(this),
      Circle: this.segmentCircleGeometry_.bind(this)
    };
  }
  addFeature(t, e) {
    e = e !== void 0 ? e : true;
    const n = H(t), o = t.getGeometry();
    if (o) {
      const r3 = this.GEOMETRY_SEGMENTERS_[o.getType()];
      if (r3) {
        this.indexedFeaturesExtents_[n] = o.getExtent(
          Xe()
        );
        const s = [];
        if (r3(s, o), s.length === 1)
          this.rBush_.insert(Me(s[0]), {
            feature: t,
            segment: s[0]
          });
        else if (s.length > 1) {
          const a = s.map((h) => Me(h)), l = s.map((h) => ({
            feature: t,
            segment: h
          }));
          this.rBush_.load(a, l);
        }
      }
    }
    e && (this.featureChangeListenerKeys_[n] = pt(
      t,
      Q.CHANGE,
      this.handleFeatureChange_,
      this
    ));
  }
  forEachFeatureAdd_(t) {
    this.addFeature(t);
  }
  forEachFeatureRemove_(t) {
    this.removeFeature(t);
  }
  getFeatures_() {
    let t;
    return this.features_ ? t = this.features_ : this.source_ && (t = this.source_.getFeatures()), t;
  }
  handleEvent(t) {
    const e = this.snapTo(t.pixel, t.coordinate, t.map);
    return e && (t.coordinate = e.vertex.slice(0, 2), t.pixel = e.vertexPixel), super.handleEvent(t);
  }
  handleFeatureAdd_(t) {
    const e = Bc(t);
    this.addFeature(e);
  }
  handleFeatureRemove_(t) {
    const e = Bc(t);
    this.removeFeature(e);
  }
  handleFeatureChange_(t) {
    const e = t.target;
    if (this.handlingDownUpSequence) {
      const n = H(e);
      n in this.pendingFeatures_ || (this.pendingFeatures_[n] = e);
    } else
      this.updateFeature_(e);
  }
  handleUpEvent(t) {
    const e = Object.values(this.pendingFeatures_);
    return e.length && (e.forEach(this.updateFeature_.bind(this)), this.pendingFeatures_ = {}), false;
  }
  removeFeature(t, e) {
    const n = e !== void 0 ? e : true, o = H(t), r3 = this.indexedFeaturesExtents_[o];
    if (r3) {
      const s = this.rBush_, a = [];
      s.forEachInExtent(r3, function(l) {
        t === l.feature && a.push(l);
      });
      for (let l = a.length - 1; l >= 0; --l)
        s.remove(a[l]);
    }
    n && (jt(this.featureChangeListenerKeys_[o]), delete this.featureChangeListenerKeys_[o]);
  }
  setMap(t) {
    const e = this.getMap(), n = this.featuresListenerKeys_, o = this.getFeatures_();
    e && (n.forEach(jt), n.length = 0, o.forEach(this.forEachFeatureRemove_.bind(this))), super.setMap(t), t && (this.features_ ? n.push(
      pt(
        this.features_,
        re.ADD,
        this.handleFeatureAdd_,
        this
      ),
      pt(
        this.features_,
        re.REMOVE,
        this.handleFeatureRemove_,
        this
      )
    ) : this.source_ && n.push(
      pt(
        this.source_,
        we.ADDFEATURE,
        this.handleFeatureAdd_,
        this
      ),
      pt(
        this.source_,
        we.REMOVEFEATURE,
        this.handleFeatureRemove_,
        this
      )
    ), o.forEach(this.forEachFeatureAdd_.bind(this)));
  }
  snapTo(t, e, n) {
    const o = n.getCoordinateFromPixel([
      t[0] - this.pixelTolerance_,
      t[1] + this.pixelTolerance_
    ]), r3 = n.getCoordinateFromPixel([
      t[0] + this.pixelTolerance_,
      t[1] - this.pixelTolerance_
    ]), s = Me([o, r3]), a = this.rBush_.getInExtent(s), l = a.length;
    if (l === 0)
      return null;
    n.getView().getProjection();
    const h = Zt(e);
    let u, d = 1 / 0;
    const c = this.pixelTolerance_ * this.pixelTolerance_, g = () => {
      if (u) {
        const f = n.getPixelFromCoordinate(u);
        if (Di(t, f) <= c)
          return {
            vertex: u,
            vertexPixel: [
              Math.round(f[0]),
              Math.round(f[1])
            ]
          };
      }
      return null;
    };
    if (this.vertex_) {
      for (let m = 0; m < l; ++m) {
        const p = a[m];
        p.feature.getGeometry().getType() !== "Circle" && p.segment.forEach((_) => {
          const v = Zt(_), y = Di(h, v);
          y < d && (u = _, d = y);
        });
      }
      const f = g();
      if (f)
        return f;
    }
    if (this.edge_) {
      for (let m = 0; m < l; ++m) {
        let p = null;
        const _ = a[m];
        if (_.feature.getGeometry().getType() === "Circle") {
          let v = _.feature.getGeometry();
          p = Qo(
            N0(
              h,
              v
            )
          );
        } else {
          const [v, y] = _.segment;
          y && (Zl[0] = Zt(v), Zl[1] = Zt(y), p = gu(h, Zl));
        }
        if (p) {
          const v = Di(h, p);
          v < d && (u = p, d = v);
        }
      }
      const f = g();
      if (f)
        return f;
    }
    return null;
  }
  updateFeature_(t) {
    this.removeFeature(t, false), this.addFeature(t, false);
  }
  segmentCircleGeometry_(t, e) {
    this.getMap().getView().getProjection();
    const r3 = Kv(e).getCoordinates()[0];
    for (let s = 0, a = r3.length - 1; s < a; ++s)
      t.push(r3.slice(s, s + 2));
  }
  segmentGeometryCollectionGeometry_(t, e) {
    const n = e.getGeometriesArray();
    for (let o = 0; o < n.length; ++o) {
      const r3 = this.GEOMETRY_SEGMENTERS_[n[o].getType()];
      r3 && r3(t, n[o]);
    }
  }
  segmentLineStringGeometry_(t, e) {
    const n = e.getCoordinates();
    for (let o = 0, r3 = n.length - 1; o < r3; ++o)
      t.push(n.slice(o, o + 2));
  }
  segmentMultiLineStringGeometry_(t, e) {
    const n = e.getCoordinates();
    for (let o = 0, r3 = n.length; o < r3; ++o) {
      const s = n[o];
      for (let a = 0, l = s.length - 1; a < l; ++a)
        t.push(s.slice(a, a + 2));
    }
  }
  segmentMultiPointGeometry_(t, e) {
    e.getCoordinates().forEach((n) => {
      t.push([n]);
    });
  }
  segmentMultiPolygonGeometry_(t, e) {
    const n = e.getCoordinates();
    for (let o = 0, r3 = n.length; o < r3; ++o) {
      const s = n[o];
      for (let a = 0, l = s.length; a < l; ++a) {
        const h = s[a];
        for (let u = 0, d = h.length - 1; u < d; ++u)
          t.push(h.slice(u, u + 2));
      }
    }
  }
  segmentPointGeometry_(t, e) {
    t.push([e.getCoordinates()]);
  }
  segmentPolygonGeometry_(t, e) {
    const n = e.getCoordinates();
    for (let o = 0, r3 = n.length; o < r3; ++o) {
      const s = n[o];
      for (let a = 0, l = s.length - 1; a < l; ++a)
        t.push(s.slice(a, a + 2));
    }
  }
}
const dx = ux, cx = 0.5, gx = 10, Wc = 0.25;
class fx {
  constructor(t, e, n, o, r3, s) {
    this.sourceProj_ = t, this.targetProj_ = e;
    let a = {};
    const l = Wr(this.targetProj_, this.sourceProj_);
    this.transformInv_ = function(v) {
      const y = v[0] + "/" + v[1];
      return a[y] || (a[y] = l(v)), a[y];
    }, this.maxSourceExtent_ = o, this.errorThresholdSquared_ = r3 * r3, this.triangles_ = [], this.wrapsXInSource_ = false, this.canWrapXInSource_ = this.sourceProj_.canWrapX() && !!o && !!this.sourceProj_.getExtent() && Gt(o) == Gt(this.sourceProj_.getExtent()), this.sourceWorldWidth_ = this.sourceProj_.getExtent() ? Gt(this.sourceProj_.getExtent()) : null, this.targetWorldWidth_ = this.targetProj_.getExtent() ? Gt(this.targetProj_.getExtent()) : null;
    const h = In(n), u = qa(n), d = Va(n), c = Ua(n), g = this.transformInv_(h), f = this.transformInv_(u), m = this.transformInv_(d), p = this.transformInv_(c), _ = gx + (s ? Math.max(
      0,
      Math.ceil(
        Math.log2(
          ph(n) / (s * s * 256 * 256)
        )
      )
    ) : 0);
    if (this.addQuad_(
      h,
      u,
      d,
      c,
      g,
      f,
      m,
      p,
      _
    ), this.wrapsXInSource_) {
      let v = 1 / 0;
      this.triangles_.forEach(function(y, x, k) {
        v = Math.min(
          v,
          y.source[0][0],
          y.source[1][0],
          y.source[2][0]
        );
      }), this.triangles_.forEach(
        function(y) {
          if (Math.max(
            y.source[0][0],
            y.source[1][0],
            y.source[2][0]
          ) - v > this.sourceWorldWidth_ / 2) {
            const x = [
              [y.source[0][0], y.source[0][1]],
              [y.source[1][0], y.source[1][1]],
              [y.source[2][0], y.source[2][1]]
            ];
            x[0][0] - v > this.sourceWorldWidth_ / 2 && (x[0][0] -= this.sourceWorldWidth_), x[1][0] - v > this.sourceWorldWidth_ / 2 && (x[1][0] -= this.sourceWorldWidth_), x[2][0] - v > this.sourceWorldWidth_ / 2 && (x[2][0] -= this.sourceWorldWidth_);
            const k = Math.min(
              x[0][0],
              x[1][0],
              x[2][0]
            );
            Math.max(
              x[0][0],
              x[1][0],
              x[2][0]
            ) - k < this.sourceWorldWidth_ / 2 && (y.source = x);
          }
        }.bind(this)
      );
    }
    a = {};
  }
  addTriangle_(t, e, n, o, r3, s) {
    this.triangles_.push({
      source: [o, r3, s],
      target: [t, e, n]
    });
  }
  addQuad_(t, e, n, o, r3, s, a, l, h) {
    const u = Me([r3, s, a, l]), d = this.sourceWorldWidth_ ? Gt(u) / this.sourceWorldWidth_ : null, c = this.sourceWorldWidth_, g = this.sourceProj_.canWrapX() && d > 0.5 && d < 1;
    let f = false;
    if (h > 0) {
      if (this.targetProj_.isGlobal() && this.targetWorldWidth_) {
        const p = Me([t, e, n, o]);
        f = Gt(p) / this.targetWorldWidth_ > Wc || f;
      }
      !g && this.sourceProj_.isGlobal() && d && (f = d > Wc || f);
    }
    if (!f && this.maxSourceExtent_ && isFinite(u[0]) && isFinite(u[1]) && isFinite(u[2]) && isFinite(u[3]) && !Ht(u, this.maxSourceExtent_))
      return;
    let m = 0;
    if (!f && (!isFinite(r3[0]) || !isFinite(r3[1]) || !isFinite(s[0]) || !isFinite(s[1]) || !isFinite(a[0]) || !isFinite(a[1]) || !isFinite(l[0]) || !isFinite(l[1]))) {
      if (h > 0)
        f = true;
      else if (m = (!isFinite(r3[0]) || !isFinite(r3[1]) ? 8 : 0) + (!isFinite(s[0]) || !isFinite(s[1]) ? 4 : 0) + (!isFinite(a[0]) || !isFinite(a[1]) ? 2 : 0) + (!isFinite(l[0]) || !isFinite(l[1]) ? 1 : 0), m != 1 && m != 2 && m != 4 && m != 8)
        return;
    }
    if (h > 0) {
      if (!f) {
        const p = [(t[0] + n[0]) / 2, (t[1] + n[1]) / 2], _ = this.transformInv_(p);
        let v;
        g ? v = (an(r3[0], c) + an(a[0], c)) / 2 - an(_[0], c) : v = (r3[0] + a[0]) / 2 - _[0];
        const y = (r3[1] + a[1]) / 2 - _[1];
        f = v * v + y * y > this.errorThresholdSquared_;
      }
      if (f) {
        if (Math.abs(t[0] - n[0]) <= Math.abs(t[1] - n[1])) {
          const p = [(e[0] + n[0]) / 2, (e[1] + n[1]) / 2], _ = this.transformInv_(p), v = [(o[0] + t[0]) / 2, (o[1] + t[1]) / 2], y = this.transformInv_(v);
          this.addQuad_(
            t,
            e,
            p,
            v,
            r3,
            s,
            _,
            y,
            h - 1
          ), this.addQuad_(
            v,
            p,
            n,
            o,
            y,
            _,
            a,
            l,
            h - 1
          );
        } else {
          const p = [(t[0] + e[0]) / 2, (t[1] + e[1]) / 2], _ = this.transformInv_(p), v = [(n[0] + o[0]) / 2, (n[1] + o[1]) / 2], y = this.transformInv_(v);
          this.addQuad_(
            t,
            p,
            v,
            o,
            r3,
            _,
            y,
            l,
            h - 1
          ), this.addQuad_(
            p,
            e,
            n,
            v,
            _,
            s,
            a,
            y,
            h - 1
          );
        }
        return;
      }
    }
    if (g) {
      if (!this.canWrapXInSource_)
        return;
      this.wrapsXInSource_ = true;
    }
    (m & 11) == 0 && this.addTriangle_(t, n, o, r3, a, l), (m & 14) == 0 && this.addTriangle_(t, n, e, r3, a, s), m && ((m & 13) == 0 && this.addTriangle_(e, o, t, s, l, r3), (m & 7) == 0 && this.addTriangle_(e, o, n, s, l, a));
  }
  calculateSourceExtent() {
    const t = Xe();
    return this.triangles_.forEach(function(e, n, o) {
      const r3 = e.source;
      Ar(t, r3[0]), Ar(t, r3[1]), Ar(t, r3[2]);
    }), t;
  }
  getTriangles() {
    return this.triangles_;
  }
}
const mx = fx;
let Yl;
const fm = [];
function Zc(i, t, e, n, o) {
  i.beginPath(), i.moveTo(0, 0), i.lineTo(t, e), i.lineTo(n, o), i.closePath(), i.save(), i.clip(), i.fillRect(0, 0, Math.max(t, n) + 1, Math.max(e, o)), i.restore();
}
function Xl(i, t) {
  return Math.abs(i[t * 4] - 210) > 2 || Math.abs(i[t * 4 + 3] - 0.75 * 255) > 2;
}
function px() {
  if (Yl === void 0) {
    const i = document.createElement("canvas").getContext("2d");
    i.globalCompositeOperation = "lighter", i.fillStyle = "rgba(210, 0, 0, 0.75)", Zc(i, 4, 5, 4, 0), Zc(i, 4, 5, 0, 5);
    const t = i.getImageData(0, 0, 3, 3).data;
    Yl = Xl(t, 0) || Xl(t, 4) || Xl(t, 8);
  }
  return Yl;
}
function Yc(i, t, e, n) {
  const o = ha(e, t, i);
  let r3 = la(
    t,
    n,
    e
  );
  const s = t.getMetersPerUnit();
  s !== void 0 && (r3 *= s);
  const a = i.getMetersPerUnit();
  a !== void 0 && (r3 /= a);
  const l = i.getExtent();
  if (!l || Xa(l, o)) {
    const h = la(i, r3, o) / r3;
    isFinite(h) && h > 0 && (r3 /= h);
  }
  return r3;
}
function vx(i, t, e, n) {
  const o = mn(e);
  let r3 = Yc(
    i,
    t,
    o,
    n
  );
  return (!isFinite(r3) || r3 <= 0) && du(e, function(s) {
    return r3 = Yc(
      i,
      t,
      s,
      n
    ), isFinite(r3) && r3 > 0;
  }), r3;
}
function _x(i, t, e, n, o, r3, s, a, l, h, u, d) {
  const c = Fe(
    Math.round(e * i),
    Math.round(e * t),
    fm
  );
  if (d || (c.imageSmoothingEnabled = false), l.length === 0)
    return c.canvas;
  c.scale(e, e);
  function g(x) {
    return Math.round(x * e) / e;
  }
  c.globalCompositeOperation = "lighter";
  const f = Xe();
  l.forEach(function(x, k, w) {
    af(f, x.extent);
  });
  const m = Gt(f), p = Je(f), _ = Fe(
    Math.round(e * m / n),
    Math.round(e * p / n)
  );
  d || (_.imageSmoothingEnabled = false);
  const v = e / n;
  l.forEach(function(x, k, w) {
    const E = x.extent[0] - f[0], C = -(x.extent[3] - f[3]), S = Gt(x.extent), z = Je(x.extent);
    x.image.width > 0 && x.image.height > 0 && _.drawImage(
      x.image,
      h,
      h,
      x.image.width - 2 * h,
      x.image.height - 2 * h,
      E * v,
      C * v,
      S * v,
      z * v
    );
  });
  const y = In(s);
  return a.getTriangles().forEach(function(x, k, w) {
    const E = x.source, C = x.target;
    let S = E[0][0], z = E[0][1], P = E[1][0], N = E[1][1], A = E[2][0], st = E[2][1];
    const j = g((C[0][0] - y[0]) / r3), B = g(
      -(C[0][1] - y[1]) / r3
    ), F = g((C[1][0] - y[0]) / r3), U = g(
      -(C[1][1] - y[1]) / r3
    ), D = g((C[2][0] - y[0]) / r3), q = g(
      -(C[2][1] - y[1]) / r3
    ), W = S, I = z;
    S = 0, z = 0, P -= W, N -= I, A -= W, st -= I;
    const nt = [
      [P, N, 0, 0, F - j],
      [A, st, 0, 0, D - j],
      [0, 0, P, N, U - B],
      [0, 0, A, st, q - B]
    ], b = p0(nt);
    if (!!b) {
      if (c.save(), c.beginPath(), px() || !d) {
        c.moveTo(F, U);
        const T = 4, V = j - F, M = B - U;
        for (let $ = 0; $ < T; $++)
          c.lineTo(
            F + g(($ + 1) * V / T),
            U + g($ * M / (T - 1))
          ), $ != T - 1 && c.lineTo(
            F + g(($ + 1) * V / T),
            U + g(($ + 1) * M / (T - 1))
          );
        c.lineTo(D, q);
      } else
        c.moveTo(F, U), c.lineTo(j, B), c.lineTo(D, q);
      c.clip(), c.transform(
        b[0],
        b[2],
        b[1],
        b[3],
        j,
        B
      ), c.translate(
        f[0] - W,
        f[3] - I
      ), c.scale(
        n / e,
        -n / e
      ), c.drawImage(_.canvas, 0, 0), c.restore();
    }
  }), u && (c.save(), c.globalCompositeOperation = "source-over", c.strokeStyle = "black", c.lineWidth = 1, a.getTriangles().forEach(function(x, k, w) {
    const E = x.target, C = (E[0][0] - y[0]) / r3, S = -(E[0][1] - y[1]) / r3, z = (E[1][0] - y[0]) / r3, P = -(E[1][1] - y[1]) / r3, N = (E[2][0] - y[0]) / r3, A = -(E[2][1] - y[1]) / r3;
    c.beginPath(), c.moveTo(z, P), c.lineTo(C, S), c.lineTo(N, A), c.closePath(), c.stroke();
  }), c.restore()), c.canvas;
}
class yx extends il {
  constructor(t, e, n, o, r3, s, a, l, h, u, d, c) {
    super(r3, G.IDLE, { interpolate: !!c }), this.renderEdges_ = d !== void 0 ? d : false, this.pixelRatio_ = a, this.gutter_ = l, this.canvas_ = null, this.sourceTileGrid_ = e, this.targetTileGrid_ = o, this.wrappedTileCoord_ = s || r3, this.sourceTiles_ = [], this.sourcesListenerKeys_ = null, this.sourceZ_ = 0;
    const g = o.getTileCoordExtent(
      this.wrappedTileCoord_
    ), f = this.targetTileGrid_.getExtent();
    let m = this.sourceTileGrid_.getExtent();
    const p = f ? $n(g, f) : g;
    if (ph(p) === 0) {
      this.state = G.EMPTY;
      return;
    }
    const _ = t.getExtent();
    _ && (m ? m = $n(m, _) : m = _);
    const v = o.getResolution(
      this.wrappedTileCoord_[0]
    ), y = vx(
      t,
      n,
      p,
      v
    );
    if (!isFinite(y) || y <= 0) {
      this.state = G.EMPTY;
      return;
    }
    const x = u !== void 0 ? u : cx;
    if (this.triangulation_ = new mx(
      t,
      n,
      p,
      m,
      y * x,
      v
    ), this.triangulation_.getTriangles().length === 0) {
      this.state = G.EMPTY;
      return;
    }
    this.sourceZ_ = e.getZForResolution(y);
    let k = this.triangulation_.calculateSourceExtent();
    if (m && (t.canWrapX() ? (k[1] = qt(
      k[1],
      m[1],
      m[3]
    ), k[3] = qt(
      k[3],
      m[1],
      m[3]
    )) : k = $n(k, m)), !ph(k))
      this.state = G.EMPTY;
    else {
      const w = e.getTileRangeForExtentAndZ(
        k,
        this.sourceZ_
      );
      for (let E = w.minX; E <= w.maxX; E++)
        for (let C = w.minY; C <= w.maxY; C++) {
          const S = h(this.sourceZ_, E, C, a);
          S && this.sourceTiles_.push(S);
        }
      this.sourceTiles_.length === 0 && (this.state = G.EMPTY);
    }
  }
  getImage() {
    return this.canvas_;
  }
  reproject_() {
    const t = [];
    if (this.sourceTiles_.forEach(
      function(e, n, o) {
        e && e.getState() == G.LOADED && t.push({
          extent: this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),
          image: e.getImage()
        });
      }.bind(this)
    ), this.sourceTiles_.length = 0, t.length === 0)
      this.state = G.ERROR;
    else {
      const e = this.wrappedTileCoord_[0], n = this.targetTileGrid_.getTileSize(e), o = typeof n == "number" ? n : n[0], r3 = typeof n == "number" ? n : n[1], s = this.targetTileGrid_.getResolution(e), a = this.sourceTileGrid_.getResolution(
        this.sourceZ_
      ), l = this.targetTileGrid_.getTileCoordExtent(
        this.wrappedTileCoord_
      );
      this.canvas_ = _x(
        o,
        r3,
        this.pixelRatio_,
        a,
        this.sourceTileGrid_.getExtent(),
        s,
        l,
        this.triangulation_,
        t,
        this.gutter_,
        this.renderEdges_,
        this.interpolate
      ), this.state = G.LOADED;
    }
    this.changed();
  }
  load() {
    if (this.state == G.IDLE) {
      this.state = G.LOADING, this.changed();
      let t = 0;
      this.sourcesListenerKeys_ = [], this.sourceTiles_.forEach(
        function(e, n, o) {
          const r3 = e.getState();
          if (r3 == G.IDLE || r3 == G.LOADING) {
            t++;
            const s = pt(
              e,
              Q.CHANGE,
              function(a) {
                const l = e.getState();
                (l == G.LOADED || l == G.ERROR || l == G.EMPTY) && (jt(s), t--, t === 0 && (this.unlistenSources_(), this.reproject_()));
              },
              this
            );
            this.sourcesListenerKeys_.push(s);
          }
        }.bind(this)
      ), t === 0 ? setTimeout(this.reproject_.bind(this), 0) : this.sourceTiles_.forEach(function(e, n, o) {
        e.getState() == G.IDLE && e.load();
      });
    }
  }
  unlistenSources_() {
    this.sourcesListenerKeys_.forEach(jt), this.sourcesListenerKeys_ = null;
  }
  release() {
    this.canvas_ && (su(this.canvas_.getContext("2d")), fm.push(this.canvas_), this.canvas_ = null), super.release();
  }
}
const mm = yx;
class xx extends em {
  constructor(t) {
    super(t), this.extentChanged = true, this.renderedExtent_ = null, this.renderedPixelRatio, this.renderedProjection = null, this.renderedRevision, this.renderedTiles = [], this.newTiles_ = false, this.tmpExtent = Xe(), this.tmpTileRange_ = new gm(0, 0, 0, 0);
  }
  isDrawableTile(t) {
    const e = this.getLayer(), n = t.getState(), o = e.getUseInterimTilesOnError();
    return n == G.LOADED || n == G.EMPTY || n == G.ERROR && !o;
  }
  getTile(t, e, n, o) {
    const r3 = o.pixelRatio, s = o.viewState.projection, a = this.getLayer();
    let h = a.getSource().getTile(t, e, n, r3, s);
    return h.getState() == G.ERROR && a.getUseInterimTilesOnError() && a.getPreload() > 0 && (this.newTiles_ = true), this.isDrawableTile(h) || (h = h.getInterimTile()), h;
  }
  getData(t) {
    const e = this.frameState;
    if (!e)
      return null;
    const n = this.getLayer(), o = Qt(
      e.pixelToCoordinateTransform,
      t.slice()
    ), r3 = n.getExtent();
    if (r3 && !Xa(r3, o))
      return null;
    const s = e.pixelRatio, a = e.viewState.projection, l = e.viewState, h = n.getRenderSource(), u = h.getTileGridForProjection(l.projection), d = h.getTilePixelRatio(e.pixelRatio);
    for (let c = u.getZForResolution(l.resolution); c >= u.getMinZoom(); --c) {
      const g = u.getTileCoordForCoordAndZ(o, c), f = h.getTile(
        c,
        g[1],
        g[2],
        s,
        a
      );
      if (!(f instanceof hm || f instanceof mm))
        return null;
      if (f.getState() !== G.LOADED)
        continue;
      const m = u.getOrigin(c), p = Ee(u.getTileSize(c)), _ = u.getResolution(c), v = Math.floor(
        d * ((o[0] - m[0]) / _ - g[1] * p[0])
      ), y = Math.floor(
        d * ((m[1] - o[1]) / _ - g[2] * p[1])
      ), x = Math.round(
        d * h.getGutterForProjection(l.projection)
      );
      return this.getImageData(f.getImage(), v + x, y + x);
    }
    return null;
  }
  loadedTileCallback(t, e, n) {
    return this.isDrawableTile(n) ? super.loadedTileCallback(t, e, n) : false;
  }
  prepareFrame(t) {
    return !!this.getLayer().getSource();
  }
  renderFrame(t, e) {
    const n = t.layerStatesArray[t.layerIndex], o = t.viewState, r3 = o.projection, s = o.resolution, a = o.center, l = o.rotation, h = t.pixelRatio, u = this.getLayer(), d = u.getSource(), c = d.getRevision(), g = d.getTileGridForProjection(r3), f = g.getZForResolution(s, d.zDirection), m = g.getResolution(f);
    let p = t.extent;
    const _ = t.viewState.resolution, v = d.getTilePixelRatio(h), y = Math.round(Gt(p) / _ * h), x = Math.round(Je(p) / _ * h), k = n.extent && tn(n.extent);
    k && (p = $n(
      p,
      tn(n.extent)
    ));
    const w = m * y / 2 / v, E = m * x / 2 / v, C = [
      a[0] - w,
      a[1] - E,
      a[0] + w,
      a[1] + E
    ], S = g.getTileRangeForExtentAndZ(p, f), z = {};
    z[f] = {};
    const P = this.createLoadedTileFinder(
      d,
      r3,
      z
    ), N = this.tmpExtent, A = this.tmpTileRange_;
    this.newTiles_ = false;
    const st = l ? _h(
      o.center,
      _,
      l,
      t.size
    ) : void 0;
    for (let nt = S.minX; nt <= S.maxX; ++nt)
      for (let b = S.minY; b <= S.maxY; ++b) {
        if (l && !g.tileCoordIntersectsViewport([f, nt, b], st))
          continue;
        const T = this.getTile(f, nt, b, t);
        if (this.isDrawableTile(T)) {
          const $ = H(this);
          if (T.getState() == G.LOADED) {
            z[f][T.tileCoord.toString()] = T;
            let X = T.inTransition($);
            X && n.opacity !== 1 && (T.endTransition($), X = false), !this.newTiles_ && (X || !this.renderedTiles.includes(T)) && (this.newTiles_ = true);
          }
          if (T.getAlpha($, t.time) === 1)
            continue;
        }
        const V = g.getTileCoordChildTileRange(
          T.tileCoord,
          A,
          N
        );
        let M = false;
        V && (M = P(f + 1, V)), M || g.forEachTileCoordParentTileRange(
          T.tileCoord,
          P,
          A,
          N
        );
      }
    const j = m / s * h / v;
    Ni(
      this.pixelTransform,
      t.size[0] / 2,
      t.size[1] / 2,
      1 / h,
      1 / h,
      l,
      -y / 2,
      -x / 2
    );
    const B = pf(this.pixelTransform);
    this.useContainer(e, B, this.getBackground(t));
    const F = this.context, U = F.canvas;
    bu(this.inversePixelTransform, this.pixelTransform), Ni(
      this.tempTransform,
      y / 2,
      x / 2,
      j,
      j,
      0,
      -y / 2,
      -x / 2
    ), U.width != y || U.height != x ? (U.width = y, U.height = x) : this.containerReused || F.clearRect(0, 0, y, x), k && this.clipUnrotated(F, t, k), d.getInterpolate() || (F.imageSmoothingEnabled = false), this.preRender(F, t), this.renderedTiles.length = 0;
    let D = Object.keys(z).map(Number);
    D.sort(Kn);
    let q, W, I;
    n.opacity === 1 && (!this.containerReused || d.getOpaque(t.viewState.projection)) ? D = D.reverse() : (q = [], W = []);
    for (let nt = D.length - 1; nt >= 0; --nt) {
      const b = D[nt], T = d.getTilePixelSize(
        b,
        h,
        r3
      ), M = g.getResolution(b) / m, $ = T[0] * M * j, X = T[1] * M * j, vt = g.getTileCoordForCoordAndZ(
        In(C),
        b
      ), Et = g.getTileCoordExtent(vt), _t = Qt(this.tempTransform, [
        v * (Et[0] - C[0]) / m,
        v * (C[3] - Et[3]) / m
      ]), Ct = v * d.getGutterForProjection(r3), Lt = z[b];
      for (const Pt in Lt) {
        const Ft = Lt[Pt], O = Ft.tileCoord, ht = vt[1] - O[1], ft = Math.round(_t[0] - (ht - 1) * $), kt = vt[2] - O[2], yt = Math.round(_t[1] - (kt - 1) * X), ot = Math.round(_t[0] - ht * $), it = Math.round(_t[1] - kt * X), wt = ft - ot, Tt = yt - it, Nt = f === b, bt = Nt && Ft.getAlpha(H(this), t.time) !== 1;
        let ut = false;
        if (!bt)
          if (q) {
            I = [ot, it, ot + wt, it, ot + wt, it + Tt, ot, it + Tt];
            for (let Ot = 0, St = q.length; Ot < St; ++Ot)
              if (f !== b && b < W[Ot]) {
                const dt = q[Ot];
                Ht(
                  [ot, it, ot + wt, it + Tt],
                  [dt[0], dt[3], dt[4], dt[7]]
                ) && (ut || (F.save(), ut = true), F.beginPath(), F.moveTo(I[0], I[1]), F.lineTo(I[2], I[3]), F.lineTo(I[4], I[5]), F.lineTo(I[6], I[7]), F.moveTo(dt[6], dt[7]), F.lineTo(dt[4], dt[5]), F.lineTo(dt[2], dt[3]), F.lineTo(dt[0], dt[1]), F.clip());
              }
            q.push(I), W.push(b);
          } else
            F.clearRect(ot, it, wt, Tt);
        this.drawTileImage(
          Ft,
          t,
          ot,
          it,
          wt,
          Tt,
          Ct,
          Nt
        ), q && !bt ? (ut && F.restore(), this.renderedTiles.unshift(Ft)) : this.renderedTiles.push(Ft), this.updateUsedTiles(t.usedTiles, d, Ft);
      }
    }
    return this.renderedRevision = c, this.renderedResolution = m, this.extentChanged = !this.renderedExtent_ || !Jo(this.renderedExtent_, C), this.renderedExtent_ = C, this.renderedPixelRatio = h, this.renderedProjection = r3, this.manageTilePyramid(
      t,
      d,
      g,
      h,
      r3,
      p,
      f,
      u.getPreload()
    ), this.scheduleExpireCache(t, d), this.postRender(F, t), n.extent && F.restore(), F.imageSmoothingEnabled = true, B !== U.style.transform && (U.style.transform = B), this.container;
  }
  drawTileImage(t, e, n, o, r3, s, a, l) {
    const h = this.getTileImage(t);
    if (!h)
      return;
    const u = H(this), d = e.layerStatesArray[e.layerIndex], c = d.opacity * (l ? t.getAlpha(u, e.time) : 1), g = c !== this.context.globalAlpha;
    g && (this.context.save(), this.context.globalAlpha = c), this.context.drawImage(
      h,
      a,
      a,
      h.width - 2 * a,
      h.height - 2 * a,
      n,
      o,
      r3,
      s
    ), g && this.context.restore(), c !== d.opacity ? e.animate = true : l && t.endTransition(u);
  }
  getImage() {
    const t = this.context;
    return t ? t.canvas : null;
  }
  getTileImage(t) {
    return t.getImage();
  }
  scheduleExpireCache(t, e) {
    if (e.canExpireCache()) {
      const n = function(o, r3, s) {
        const a = H(o);
        a in s.usedTiles && o.expireCache(
          s.viewState.projection,
          s.usedTiles[a]
        );
      }.bind(null, e);
      t.postRenderFunctions.push(
        n
      );
    }
  }
  updateUsedTiles(t, e, n) {
    const o = H(e);
    o in t || (t[o] = {}), t[o][n.getKey()] = true;
  }
  manageTilePyramid(t, e, n, o, r3, s, a, l, h) {
    const u = H(e);
    u in t.wantedTiles || (t.wantedTiles[u] = {});
    const d = t.wantedTiles[u], c = t.tileQueue, g = n.getMinZoom(), f = t.viewState.rotation, m = f ? _h(
      t.viewState.center,
      t.viewState.resolution,
      f,
      t.size
    ) : void 0;
    let p = 0, _, v, y, x, k, w;
    for (w = g; w <= a; ++w)
      for (v = n.getTileRangeForExtentAndZ(s, w, v), y = n.getResolution(w), x = v.minX; x <= v.maxX; ++x)
        for (k = v.minY; k <= v.maxY; ++k)
          f && !n.tileCoordIntersectsViewport([w, x, k], m) || (a - w <= l ? (++p, _ = e.getTile(w, x, k, o, r3), _.getState() == G.IDLE && (d[_.getKey()] = true, c.isKeyQueued(_.getKey()) || c.enqueue([
            _,
            u,
            n.getTileCoordCenter(_.tileCoord),
            y
          ])), h !== void 0 && h(_)) : e.useTile(w, x, k, r3));
    e.updateCacheSize(p, r3);
  }
}
const pm = xx, bx = {
  image: ["Polygon", "Circle", "LineString", "Image", "Text"],
  hybrid: ["Polygon", "LineString"],
  vector: []
}, kx = {
  hybrid: ["Image", "Text", "Default"],
  vector: ["Polygon", "Circle", "LineString", "Image", "Text", "Default"]
};
class wx extends pm {
  constructor(t) {
    super(t), this.boundHandleStyleImageChange_ = this.handleStyleImageChange_.bind(this), this.renderedLayerRevision_, this.renderedPixelToCoordinateTransform_ = null, this.renderedRotation_, this.tmpTransform_ = Ke();
  }
  prepareTile(t, e, n) {
    let o;
    const r3 = t.getState();
    return (r3 === G.LOADED || r3 === G.ERROR) && (this.updateExecutorGroup_(t, e, n), this.tileImageNeedsRender_(t) && (o = true)), o;
  }
  getTile(t, e, n, o) {
    const r3 = o.pixelRatio, s = o.viewState, a = s.resolution, l = s.projection, h = this.getLayer(), u = h.getSource().getTile(t, e, n, r3, l), d = o.viewHints, c = !(d[Vt.ANIMATING] || d[Vt.INTERACTING]);
    return (c || !u.wantedResolution) && (u.wantedResolution = a), this.prepareTile(u, r3, l) && (c || Date.now() - o.time < 8) && h.getRenderMode() !== "vector" && this.renderTileImage_(u, o), super.getTile(t, e, n, o);
  }
  isDrawableTile(t) {
    const e = this.getLayer();
    return super.isDrawableTile(t) && (e.getRenderMode() === "vector" ? H(e) in t.executorGroups : t.hasContext(e));
  }
  getTileImage(t) {
    return t.getImage(this.getLayer());
  }
  prepareFrame(t) {
    const e = this.getLayer().getRevision();
    return this.renderedLayerRevision_ !== e && (this.renderedLayerRevision_ = e, this.renderedTiles.length = 0), super.prepareFrame(t);
  }
  updateExecutorGroup_(t, e, n) {
    const o = this.getLayer(), r3 = o.getRevision(), s = o.getRenderOrder() || null, a = t.wantedResolution, l = t.getReplayState(o);
    if (!l.dirty && l.renderedResolution === a && l.renderedRevision == r3 && l.renderedRenderOrder == s)
      return;
    const h = o.getSource(), u = o.getDeclutter(), d = h.getTileGrid(), g = h.getTileGridForProjection(n).getTileCoordExtent(t.wrappedTileCoord), f = h.getSourceTiles(e, n, t), m = H(o);
    delete t.hitDetectionImageData[m], t.executorGroups[m] = [], u && (t.declutterExecutorGroups[m] = []), l.dirty = false;
    for (let p = 0, _ = f.length; p < _; ++p) {
      const v = f[p];
      if (v.getState() != G.LOADED)
        continue;
      const y = v.tileCoord, x = d.getTileCoordExtent(y), k = $n(g, x), w = vi$1(
        k,
        o.getRenderBuffer() * a,
        this.tmpExtent
      ), E = Jo(x, k) ? null : w, C = new ka(
        0,
        w,
        a,
        e
      ), S = u ? new ka(0, k, a, e) : void 0, z = rm(
        a,
        e
      ), P = function(B) {
        let F;
        const U = B.getStyleFunction() || o.getStyleFunction();
        if (U && (F = U(B, a)), F) {
          const D = this.renderFeature(
            B,
            z,
            F,
            C,
            S
          );
          l.dirty = l.dirty || D;
        }
      }, N = v.getFeatures();
      s && s !== l.renderedRenderOrder && N.sort(s);
      for (let B = 0, F = N.length; B < F; ++B) {
        const U = N[B];
        (!E || Ht(E, U.getGeometry().getExtent())) && P.call(this, U);
      }
      const A = C.finish(), st = o.getRenderMode() !== "vector" && u && f.length === 1 ? null : k, j = new wa(
        st,
        a,
        e,
        h.getOverlaps(),
        A,
        o.getRenderBuffer()
      );
      if (t.executorGroups[m].push(j), S) {
        const B = new wa(
          null,
          a,
          e,
          h.getOverlaps(),
          S.finish(),
          o.getRenderBuffer()
        );
        t.declutterExecutorGroups[m].push(B);
      }
    }
    l.renderedRevision = r3, l.renderedRenderOrder = s, l.renderedResolution = a;
  }
  forEachFeatureAtCoordinate(t, e, n, o, r3) {
    const s = e.viewState.resolution, a = e.viewState.rotation;
    n = n == null ? 0 : n;
    const l = this.getLayer(), u = l.getSource().getTileGridForProjection(
      e.viewState.projection
    ), d = Me([t]);
    vi$1(d, s * n, d);
    const c = {}, g = function(p, _, v) {
      let y = p.getId();
      y === void 0 && (y = H(p));
      const x = c[y];
      if (x) {
        if (x !== true && v < x.distanceSq) {
          if (v === 0)
            return c[y] = true, r3.splice(r3.lastIndexOf(x), 1), o(p, l, _);
          x.geometry = _, x.distanceSq = v;
        }
      } else {
        if (v === 0)
          return c[y] = true, o(p, l, _);
        r3.push(
          c[y] = {
            feature: p,
            layer: l,
            geometry: _,
            distanceSq: v,
            callback: o
          }
        );
      }
    }, f = this.renderedTiles;
    let m;
    for (let p = 0, _ = f.length; !m && p < _; ++p) {
      const v = f[p], y = u.getTileCoordExtent(v.wrappedTileCoord);
      if (!Ht(y, d))
        continue;
      const x = H(l), k = [v.executorGroups[x]], w = v.declutterExecutorGroups[x];
      w && k.push(w), k.some((E) => {
        const C = E === w ? e.declutterTree.all().map((S) => S.value) : null;
        for (let S = 0, z = E.length; S < z; ++S)
          if (m = E[S].forEachFeatureAtCoordinate(
            t,
            s,
            a,
            n,
            g,
            C
          ), m)
            return true;
      });
    }
    return m;
  }
  getFeatures(t) {
    return new Promise(
      function(e, n) {
        const o = this.getLayer(), r3 = H(o), s = o.getSource(), a = this.renderedProjection, l = a.getExtent(), h = this.renderedResolution, u = s.getTileGridForProjection(a), d = Qt(
          this.renderedPixelToCoordinateTransform_,
          t.slice()
        ), c = u.getTileCoordForCoordAndResolution(
          d,
          h
        );
        let g;
        for (let y = 0, x = this.renderedTiles.length; y < x; ++y)
          if (c.toString() === this.renderedTiles[y].tileCoord.toString()) {
            if (g = this.renderedTiles[y], g.getState() === G.LOADED) {
              const k = u.getTileCoordExtent(g.tileCoord);
              s.getWrapX() && a.canWrapX() && !Wn(l, k) && mu(d, a);
              break;
            }
            g = void 0;
          }
        if (!g || g.loadingSourceTiles > 0) {
          e([]);
          return;
        }
        const f = u.getTileCoordExtent(g.wrappedTileCoord), m = In(f), p = [
          (d[0] - m[0]) / h,
          (m[1] - d[1]) / h
        ], _ = g.getSourceTiles().reduce(function(y, x) {
          return y.concat(x.getFeatures());
        }, []);
        let v = g.hitDetectionImageData[r3];
        if (!v && !this.animatingOrInteracting_) {
          const y = Ee(
            u.getTileSize(
              u.getZForResolution(h, s.zDirection)
            )
          ), x = this.renderedRotation_, k = [
            this.getRenderTransform(
              u.getTileCoordCenter(g.wrappedTileCoord),
              h,
              0,
              Ze,
              y[0] * Ze,
              y[1] * Ze,
              0
            )
          ];
          v = im(
            y,
            k,
            _,
            o.getStyleFunction(),
            u.getTileCoordExtent(g.wrappedTileCoord),
            g.getReplayState(o).renderedResolution,
            x
          ), g.hitDetectionImageData[r3] = v;
        }
        e(nm(p, _, v));
      }.bind(this)
    );
  }
  handleFontsChanged() {
    const t = this.getLayer();
    t.getVisible() && this.renderedLayerRevision_ !== void 0 && t.changed();
  }
  handleStyleImageChange_(t) {
    this.renderIfReadyAndVisible();
  }
  renderDeclutter(t) {
    const e = this.context, n = e.globalAlpha;
    e.globalAlpha = this.getLayer().getOpacity();
    const o = t.viewHints, r3 = !(o[Vt.ANIMATING] || o[Vt.INTERACTING]), s = this.renderedTiles;
    for (let a = 0, l = s.length; a < l; ++a) {
      const h = s[a], u = h.declutterExecutorGroups[H(this.getLayer())];
      if (u)
        for (let d = u.length - 1; d >= 0; --d)
          u[d].execute(
            this.context,
            1,
            this.getTileRenderTransform(h, t),
            t.viewState.rotation,
            r3,
            void 0,
            t.declutterTree
          );
    }
    e.globalAlpha = n;
  }
  getTileRenderTransform(t, e) {
    const n = e.pixelRatio, o = e.viewState, r3 = o.center, s = o.resolution, a = o.rotation, l = e.size, h = Math.round(l[0] * n), u = Math.round(l[1] * n), c = this.getLayer().getSource().getTileGridForProjection(
      e.viewState.projection
    ), g = t.tileCoord, f = c.getTileCoordExtent(t.wrappedTileCoord), m = c.getTileCoordExtent(g, this.tmpExtent)[0] - f[0];
    return xu(
      Il(this.inversePixelTransform.slice(), 1 / n, 1 / n),
      this.getRenderTransform(
        r3,
        s,
        a,
        n,
        h,
        u,
        m
      )
    );
  }
  postRender(t, e) {
    const n = e.viewHints, o = !(n[Vt.ANIMATING] || n[Vt.INTERACTING]);
    this.renderedPixelToCoordinateTransform_ = e.pixelToCoordinateTransform.slice(), this.renderedRotation_ = e.viewState.rotation;
    const r3 = this.getLayer(), s = r3.getRenderMode(), a = t.globalAlpha;
    t.globalAlpha = r3.getOpacity();
    const l = kx[s], h = e.viewState, u = h.rotation, d = r3.getSource(), g = d.getTileGridForProjection(h.projection).getZForResolution(
      h.resolution,
      d.zDirection
    ), f = this.renderedTiles, m = [], p = [];
    let _ = true;
    for (let v = f.length - 1; v >= 0; --v) {
      const y = f[v];
      _ = _ && !y.getReplayState(r3).dirty;
      const x = y.executorGroups[H(r3)].filter(
        (S) => S.hasExecutors(l)
      );
      if (x.length === 0)
        continue;
      const k = this.getTileRenderTransform(y, e), w = y.tileCoord[0];
      let E = false;
      const C = x[0].getClipCoords(k);
      if (C) {
        for (let S = 0, z = m.length; S < z; ++S)
          if (g !== w && w < p[S]) {
            const P = m[S];
            Ht(
              [
                C[0],
                C[3],
                C[4],
                C[7]
              ],
              [P[0], P[3], P[4], P[7]]
            ) && (E || (t.save(), E = true), t.beginPath(), t.moveTo(C[0], C[1]), t.lineTo(C[2], C[3]), t.lineTo(C[4], C[5]), t.lineTo(C[6], C[7]), t.moveTo(P[6], P[7]), t.lineTo(P[4], P[5]), t.lineTo(P[2], P[3]), t.lineTo(P[0], P[1]), t.clip());
          }
        m.push(C), p.push(w);
      }
      for (let S = 0, z = x.length; S < z; ++S)
        x[S].execute(
          t,
          1,
          k,
          u,
          o,
          l
        );
      E && t.restore();
    }
    t.globalAlpha = a, this.ready = _, super.postRender(t, e);
  }
  renderFeature(t, e, n, o, r3) {
    if (!n)
      return false;
    let s = false;
    if (Array.isArray(n))
      for (let a = 0, l = n.length; a < l; ++a)
        s = Ca(
          o,
          t,
          n[a],
          e,
          this.boundHandleStyleImageChange_,
          void 0,
          r3
        ) || s;
    else
      s = Ca(
        o,
        t,
        n,
        e,
        this.boundHandleStyleImageChange_,
        void 0,
        r3
      );
    return s;
  }
  tileImageNeedsRender_(t) {
    const e = this.getLayer();
    if (e.getRenderMode() === "vector")
      return false;
    const n = t.getReplayState(e), o = e.getRevision(), r3 = t.wantedResolution;
    return n.renderedTileResolution !== r3 || n.renderedTileRevision !== o;
  }
  renderTileImage_(t, e) {
    const n = this.getLayer(), o = t.getReplayState(n), r3 = n.getRevision(), s = t.executorGroups[H(n)];
    o.renderedTileRevision = r3;
    const a = t.wrappedTileCoord, l = a[0], h = n.getSource();
    let u = e.pixelRatio;
    const c = e.viewState.projection, g = h.getTileGridForProjection(c), f = g.getResolution(t.tileCoord[0]), m = e.pixelRatio / t.wantedResolution * f, p = g.getResolution(l), _ = t.getContext(n);
    u = Math.round(
      Math.max(u, m / u)
    );
    const v = h.getTilePixelSize(l, u, c);
    _.canvas.width = v[0], _.canvas.height = v[1];
    const y = u / m;
    if (y !== 1) {
      const E = rc(this.tmpTransform_);
      Il(E, y, y), _.setTransform.apply(_, E);
    }
    const x = g.getTileCoordExtent(a, this.tmpExtent), k = m / p, w = rc(this.tmpTransform_);
    Il(w, k, -k), K0(w, -x[0], -x[3]);
    for (let E = 0, C = s.length; E < C; ++E)
      s[E].execute(
        _,
        y,
        w,
        0,
        true,
        bx[n.getRenderMode()]
      );
    o.renderedTileResolution = t.wantedResolution;
  }
}
const Cx = wx, rn = {
  PRELOAD: "preload",
  USE_INTERIM_TILES_ON_ERROR: "useInterimTilesOnError"
};
class Mx extends Qf {
  constructor(t) {
    t = t || {};
    const e = Object.assign({}, t);
    delete e.preload, delete e.useInterimTilesOnError, super(
      e
    ), this.on, this.once, this.un;
    const n = t.renderMode || "hybrid";
    ct(n == "hybrid" || n == "vector", 28), this.renderMode_ = n, this.setPreload(t.preload ? t.preload : 0), this.setUseInterimTilesOnError(
      t.useInterimTilesOnError !== void 0 ? t.useInterimTilesOnError : true
    ), this.getBackground, this.setBackground;
  }
  createRenderer() {
    return new Cx(this);
  }
  getFeatures(t) {
    return super.getFeatures(t);
  }
  getRenderMode() {
    return this.renderMode_;
  }
  getPreload() {
    return this.get(rn.PRELOAD);
  }
  getUseInterimTilesOnError() {
    return this.get(rn.USE_INTERIM_TILES_ON_ERROR);
  }
  setPreload(t) {
    this.set(rn.PRELOAD, t);
  }
  setUseInterimTilesOnError(t) {
    this.set(rn.USE_INTERIM_TILES_ON_ERROR, t);
  }
}
const Ex = Mx, Sx = [0, 0, 0], Vi = 5;
class Tx {
  constructor(t) {
    this.minZoom = t.minZoom !== void 0 ? t.minZoom : 0, this.resolutions_ = t.resolutions, ct(
      Jp(
        this.resolutions_,
        function(o, r3) {
          return r3 - o;
        },
        true
      ),
      17
    );
    let e;
    if (!t.origins) {
      for (let o = 0, r3 = this.resolutions_.length - 1; o < r3; ++o)
        if (!e)
          e = this.resolutions_[o] / this.resolutions_[o + 1];
        else if (this.resolutions_[o] / this.resolutions_[o + 1] !== e) {
          e = void 0;
          break;
        }
    }
    this.zoomFactor_ = e, this.maxZoom = this.resolutions_.length - 1, this.origin_ = t.origin !== void 0 ? t.origin : null, this.origins_ = null, t.origins !== void 0 && (this.origins_ = t.origins, ct(this.origins_.length == this.resolutions_.length, 20));
    const n = t.extent;
    n !== void 0 && !this.origin_ && !this.origins_ && (this.origin_ = In(n)), ct(
      !this.origin_ && this.origins_ || this.origin_ && !this.origins_,
      18
    ), this.tileSizes_ = null, t.tileSizes !== void 0 && (this.tileSizes_ = t.tileSizes, ct(this.tileSizes_.length == this.resolutions_.length, 19)), this.tileSize_ = t.tileSize !== void 0 ? t.tileSize : this.tileSizes_ ? null : Cu, ct(
      !this.tileSize_ && this.tileSizes_ || this.tileSize_ && !this.tileSizes_,
      22
    ), this.extent_ = n !== void 0 ? n : null, this.fullTileRanges_ = null, this.tmpSize_ = [0, 0], this.tmpExtent_ = [0, 0, 0, 0], t.sizes !== void 0 ? this.fullTileRanges_ = t.sizes.map(function(o, r3) {
      const s = new gm(
        Math.min(0, o[0]),
        Math.max(o[0] - 1, -1),
        Math.min(0, o[1]),
        Math.max(o[1] - 1, -1)
      );
      if (n) {
        const a = this.getTileRangeForExtentAndZ(n, r3);
        s.minX = Math.max(a.minX, s.minX), s.maxX = Math.min(a.maxX, s.maxX), s.minY = Math.max(a.minY, s.minY), s.maxY = Math.min(a.maxY, s.maxY);
      }
      return s;
    }, this) : n && this.calculateTileRanges_(n);
  }
  forEachTileCoord(t, e, n) {
    const o = this.getTileRangeForExtentAndZ(t, e);
    for (let r3 = o.minX, s = o.maxX; r3 <= s; ++r3)
      for (let a = o.minY, l = o.maxY; a <= l; ++a)
        n([e, r3, a]);
  }
  forEachTileCoordParentTileRange(t, e, n, o) {
    let r3, s, a, l = null, h = t[0] - 1;
    for (this.zoomFactor_ === 2 ? (s = t[1], a = t[2]) : l = this.getTileCoordExtent(t, o); h >= this.minZoom; ) {
      if (this.zoomFactor_ === 2 ? (s = Math.floor(s / 2), a = Math.floor(a / 2), r3 = wo(s, s, a, a, n)) : r3 = this.getTileRangeForExtentAndZ(
        l,
        h,
        n
      ), e(h, r3))
        return true;
      --h;
    }
    return false;
  }
  getExtent() {
    return this.extent_;
  }
  getMaxZoom() {
    return this.maxZoom;
  }
  getMinZoom() {
    return this.minZoom;
  }
  getOrigin(t) {
    return this.origin_ ? this.origin_ : this.origins_[t];
  }
  getResolution(t) {
    return this.resolutions_[t];
  }
  getResolutions() {
    return this.resolutions_;
  }
  getTileCoordChildTileRange(t, e, n) {
    if (t[0] < this.maxZoom) {
      if (this.zoomFactor_ === 2) {
        const r3 = t[1] * 2, s = t[2] * 2;
        return wo(
          r3,
          r3 + 1,
          s,
          s + 1,
          e
        );
      }
      const o = this.getTileCoordExtent(
        t,
        n || this.tmpExtent_
      );
      return this.getTileRangeForExtentAndZ(
        o,
        t[0] + 1,
        e
      );
    }
    return null;
  }
  getTileRangeForTileCoordAndZ(t, e, n) {
    if (e > this.maxZoom || e < this.minZoom)
      return null;
    const o = t[0], r3 = t[1], s = t[2];
    if (e === o)
      return wo(
        r3,
        s,
        r3,
        s,
        n
      );
    if (this.zoomFactor_) {
      const l = Math.pow(this.zoomFactor_, e - o), h = Math.floor(r3 * l), u = Math.floor(s * l);
      if (e < o)
        return wo(h, h, u, u, n);
      const d = Math.floor(l * (r3 + 1)) - 1, c = Math.floor(l * (s + 1)) - 1;
      return wo(h, d, u, c, n);
    }
    const a = this.getTileCoordExtent(t, this.tmpExtent_);
    return this.getTileRangeForExtentAndZ(a, e, n);
  }
  getTileRangeExtent(t, e, n) {
    const o = this.getOrigin(t), r3 = this.getResolution(t), s = Ee(this.getTileSize(t), this.tmpSize_), a = o[0] + e.minX * s[0] * r3, l = o[0] + (e.maxX + 1) * s[0] * r3, h = o[1] + e.minY * s[1] * r3, u = o[1] + (e.maxY + 1) * s[1] * r3;
    return li(a, h, l, u, n);
  }
  getTileRangeForExtentAndZ(t, e, n) {
    const o = Sx;
    this.getTileCoordForXYAndZ_(t[0], t[3], e, false, o);
    const r3 = o[1], s = o[2];
    return this.getTileCoordForXYAndZ_(t[2], t[1], e, true, o), wo(
      r3,
      o[1],
      s,
      o[2],
      n
    );
  }
  getTileCoordCenter(t) {
    const e = this.getOrigin(t[0]), n = this.getResolution(t[0]), o = Ee(this.getTileSize(t[0]), this.tmpSize_);
    return [
      e[0] + (t[1] + 0.5) * o[0] * n,
      e[1] - (t[2] + 0.5) * o[1] * n
    ];
  }
  getTileCoordExtent(t, e) {
    const n = this.getOrigin(t[0]), o = this.getResolution(t[0]), r3 = Ee(this.getTileSize(t[0]), this.tmpSize_), s = n[0] + t[1] * r3[0] * o, a = n[1] - (t[2] + 1) * r3[1] * o, l = s + r3[0] * o, h = a + r3[1] * o;
    return li(s, a, l, h, e);
  }
  getTileCoordForCoordAndResolution(t, e, n) {
    return this.getTileCoordForXYAndResolution_(
      t[0],
      t[1],
      e,
      false,
      n
    );
  }
  getTileCoordForXYAndResolution_(t, e, n, o, r3) {
    const s = this.getZForResolution(n), a = n / this.getResolution(s), l = this.getOrigin(s), h = Ee(this.getTileSize(s), this.tmpSize_);
    let u = a * (t - l[0]) / n / h[0], d = a * (l[1] - e) / n / h[1];
    return o ? (u = As(u, Vi) - 1, d = As(d, Vi) - 1) : (u = Rs(u, Vi), d = Rs(d, Vi)), Lc(s, u, d, r3);
  }
  getTileCoordForXYAndZ_(t, e, n, o, r3) {
    const s = this.getOrigin(n), a = this.getResolution(n), l = Ee(this.getTileSize(n), this.tmpSize_);
    let h = (t - s[0]) / a / l[0], u = (s[1] - e) / a / l[1];
    return o ? (h = As(h, Vi) - 1, u = As(u, Vi) - 1) : (h = Rs(h, Vi), u = Rs(u, Vi)), Lc(n, h, u, r3);
  }
  getTileCoordForCoordAndZ(t, e, n) {
    return this.getTileCoordForXYAndZ_(
      t[0],
      t[1],
      e,
      false,
      n
    );
  }
  getTileCoordResolution(t) {
    return this.resolutions_[t[0]];
  }
  getTileSize(t) {
    return this.tileSize_ ? this.tileSize_ : this.tileSizes_[t];
  }
  getFullTileRange(t) {
    return this.fullTileRanges_ ? this.fullTileRanges_[t] : this.extent_ ? this.getTileRangeForExtentAndZ(this.extent_, t) : null;
  }
  getZForResolution(t, e) {
    const n = ou(
      this.resolutions_,
      t,
      e || 0
    );
    return qt(n, this.minZoom, this.maxZoom);
  }
  tileCoordIntersectsViewport(t, e) {
    return Rf(
      e,
      0,
      e.length,
      2,
      this.getTileCoordExtent(t)
    );
  }
  calculateTileRanges_(t) {
    const e = this.resolutions_.length, n = new Array(e);
    for (let o = this.minZoom; o < e; ++o)
      n[o] = this.getTileRangeForExtentAndZ(t, o);
    this.fullTileRanges_ = n;
  }
}
const nd = Tx, Ul = {
  TILELOADSTART: "tileloadstart",
  TILELOADEND: "tileloadend",
  TILELOADERROR: "tileloaderror"
};
function vm(i) {
  let t = i.getDefaultTileGrid();
  return t || (t = Rx(i), i.setDefaultTileGrid(t)), t;
}
function Ix(i, t, e) {
  const n = t[0], o = i.getTileCoordCenter(t), r3 = nl(e);
  if (Xa(r3, o))
    return t;
  {
    const s = Gt(r3), a = Math.ceil(
      (r3[0] - o[0]) / s
    );
    return o[0] += s * a, i.getTileCoordForCoordAndZ(o, n);
  }
}
function zx(i, t, e, n) {
  n = n !== void 0 ? n : "top-left";
  const o = ym(i, t, e);
  return new nd({
    extent: i,
    origin: A0(i, n),
    resolutions: o,
    tileSize: e
  });
}
function _m(i) {
  const t = i || {}, e = t.extent || Bt("EPSG:3857").getExtent(), n = {
    extent: e,
    minZoom: t.minZoom,
    tileSize: t.tileSize,
    resolutions: ym(
      e,
      t.maxZoom,
      t.tileSize,
      t.maxResolution
    )
  };
  return new nd(n);
}
function ym(i, t, e, n) {
  t = t !== void 0 ? t : bf, e = Ee(e !== void 0 ? e : Cu);
  const o = Je(i), r3 = Gt(i);
  n = n > 0 ? n : Math.max(r3 / e[0], o / e[1]);
  const s = t + 1, a = new Array(s);
  for (let l = 0; l < s; ++l)
    a[l] = n / Math.pow(2, l);
  return a;
}
function Rx(i, t, e, n) {
  const o = nl(i);
  return zx(o, t, e, n);
}
function nl(i) {
  i = Bt(i);
  let t = i.getExtent();
  if (!t) {
    const e = 180 * Ho.degrees / i.getMetersPerUnit();
    t = li(-e, -e, e, e);
  }
  return t;
}
class Ax extends am {
  constructor(t) {
    super({
      attributions: t.attributions,
      attributionsCollapsible: t.attributionsCollapsible,
      projection: t.projection,
      state: t.state,
      wrapX: t.wrapX,
      interpolate: t.interpolate
    }), this.on, this.once, this.un, this.opaque_ = t.opaque !== void 0 ? t.opaque : false, this.tilePixelRatio_ = t.tilePixelRatio !== void 0 ? t.tilePixelRatio : 1, this.tileGrid = t.tileGrid !== void 0 ? t.tileGrid : null;
    const e = [256, 256];
    this.tileGrid && Ee(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()), e), this.tileCache = new id(t.cacheSize || 0), this.tmpSize = [0, 0], this.key_ = t.key || "", this.tileOptions = {
      transition: t.transition,
      interpolate: t.interpolate
    }, this.zDirection = t.zDirection ? t.zDirection : 0;
  }
  canExpireCache() {
    return this.tileCache.canExpireCache();
  }
  expireCache(t, e) {
    const n = this.getTileCacheForProjection(t);
    n && n.expireCache(e);
  }
  forEachLoadedTile(t, e, n, o) {
    const r3 = this.getTileCacheForProjection(t);
    if (!r3)
      return false;
    let s = true, a, l, h;
    for (let u = n.minX; u <= n.maxX; ++u)
      for (let d = n.minY; d <= n.maxY; ++d)
        l = ar(e, u, d), h = false, r3.containsKey(l) && (a = r3.get(l), h = a.getState() === G.LOADED, h && (h = o(a) !== false)), h || (s = false);
    return s;
  }
  getGutterForProjection(t) {
    return 0;
  }
  getKey() {
    return this.key_;
  }
  setKey(t) {
    this.key_ !== t && (this.key_ = t, this.changed());
  }
  getOpaque(t) {
    return this.opaque_;
  }
  getResolutions() {
    return this.tileGrid ? this.tileGrid.getResolutions() : null;
  }
  getTile(t, e, n, o, r3) {
    return tt();
  }
  getTileGrid() {
    return this.tileGrid;
  }
  getTileGridForProjection(t) {
    return this.tileGrid ? this.tileGrid : vm(t);
  }
  getTileCacheForProjection(t) {
    const e = this.getProjection();
    return ct(
      e === null || jn(e, t),
      68
    ), this.tileCache;
  }
  getTilePixelRatio(t) {
    return this.tilePixelRatio_;
  }
  getTilePixelSize(t, e, n) {
    const o = this.getTileGridForProjection(n), r3 = this.getTilePixelRatio(e), s = Ee(o.getTileSize(t), this.tmpSize);
    return r3 == 1 ? s : G_(s, r3, this.tmpSize);
  }
  getTileCoordForTileUrlFunction(t, e) {
    e = e !== void 0 ? e : this.getProjection();
    const n = this.getTileGridForProjection(e);
    return this.getWrapX() && e.isGlobal() && (t = Ix(n, t, e)), Hy(t, n) ? t : null;
  }
  clear() {
    this.tileCache.clear();
  }
  refresh() {
    this.clear(), super.refresh();
  }
  updateCacheSize(t, e) {
    const n = this.getTileCacheForProjection(e);
    t > n.highWaterMark && (n.highWaterMark = t);
  }
  useTile(t, e, n, o) {
  }
}
class Px extends hi {
  constructor(t, e) {
    super(t), this.tile = e;
  }
}
const Dx = Ax;
function Lx(i, t) {
  const e = /\{z\}/g, n = /\{x\}/g, o = /\{y\}/g, r3 = /\{-y\}/g;
  return function(s, a, l) {
    if (s)
      return i.replace(e, s[0].toString()).replace(n, s[1].toString()).replace(o, s[2].toString()).replace(r3, function() {
        const h = s[0], u = t.getFullTileRange(h);
        return ct(u, 55), (u.getHeight() - s[2] - 1).toString();
      });
  };
}
function Ox(i, t) {
  const e = i.length, n = new Array(e);
  for (let o = 0; o < e; ++o)
    n[o] = Lx(i[o], t);
  return Fx(n);
}
function Fx(i) {
  return i.length === 1 ? i[0] : function(t, e, n) {
    if (t) {
      const o = $y(t), r3 = an(o, i.length);
      return i[r3](t, e, n);
    } else
      return;
  };
}
function Nx(i) {
  const t = [];
  let e = /\{([a-z])-([a-z])\}/.exec(i);
  if (e) {
    const n = e[1].charCodeAt(0), o = e[2].charCodeAt(0);
    let r3;
    for (r3 = n; r3 <= o; ++r3)
      t.push(i.replace(e[0], String.fromCharCode(r3)));
    return t;
  }
  if (e = /\{(\d+)-(\d+)\}/.exec(i), e) {
    const n = parseInt(e[2], 10);
    for (let o = parseInt(e[1], 10); o <= n; o++)
      t.push(i.replace(e[0], o.toString()));
    return t;
  }
  return t.push(i), t;
}
class od extends Dx {
  constructor(t) {
    super({
      attributions: t.attributions,
      cacheSize: t.cacheSize,
      opaque: t.opaque,
      projection: t.projection,
      state: t.state,
      tileGrid: t.tileGrid,
      tilePixelRatio: t.tilePixelRatio,
      wrapX: t.wrapX,
      transition: t.transition,
      interpolate: t.interpolate,
      key: t.key,
      attributionsCollapsible: t.attributionsCollapsible,
      zDirection: t.zDirection
    }), this.generateTileUrlFunction_ = this.tileUrlFunction === od.prototype.tileUrlFunction, this.tileLoadFunction = t.tileLoadFunction, t.tileUrlFunction && (this.tileUrlFunction = t.tileUrlFunction), this.urls = null, t.urls ? this.setUrls(t.urls) : t.url && this.setUrl(t.url), this.tileLoadingKeys_ = {};
  }
  getTileLoadFunction() {
    return this.tileLoadFunction;
  }
  getTileUrlFunction() {
    return Object.getPrototypeOf(this).tileUrlFunction === this.tileUrlFunction ? this.tileUrlFunction.bind(this) : this.tileUrlFunction;
  }
  getUrls() {
    return this.urls;
  }
  handleTileChange(t) {
    const e = t.target, n = H(e), o = e.getState();
    let r3;
    o == G.LOADING ? (this.tileLoadingKeys_[n] = true, r3 = Ul.TILELOADSTART) : n in this.tileLoadingKeys_ && (delete this.tileLoadingKeys_[n], r3 = o == G.ERROR ? Ul.TILELOADERROR : o == G.LOADED ? Ul.TILELOADEND : void 0), r3 != null && this.dispatchEvent(new Px(r3, e));
  }
  setTileLoadFunction(t) {
    this.tileCache.clear(), this.tileLoadFunction = t, this.changed();
  }
  setTileUrlFunction(t, e) {
    this.tileUrlFunction = t, this.tileCache.pruneExceptNewestZ(), typeof e < "u" ? this.setKey(e) : this.changed();
  }
  setUrl(t) {
    const e = Nx(t);
    this.urls = e, this.setUrls(e);
  }
  setUrls(t) {
    this.urls = t;
    const e = t.join(`
`);
    this.generateTileUrlFunction_ ? this.setTileUrlFunction(Ox(t, this.tileGrid), e) : this.setKey(e);
  }
  tileUrlFunction(t, e, n) {
  }
  useTile(t, e, n) {
    const o = ar(t, e, n);
    this.tileCache.containsKey(o) && this.tileCache.get(o);
  }
}
const xm = od;
class Gx extends xm {
  constructor(t) {
    const e = t.projection || "EPSG:3857", n = t.extent || nl(e), o = t.tileGrid || _m({
      extent: n,
      maxResolution: t.maxResolution,
      maxZoom: t.maxZoom !== void 0 ? t.maxZoom : 22,
      minZoom: t.minZoom,
      tileSize: t.tileSize || 512
    });
    super({
      attributions: t.attributions,
      attributionsCollapsible: t.attributionsCollapsible,
      cacheSize: t.cacheSize,
      interpolate: true,
      opaque: false,
      projection: e,
      state: t.state,
      tileGrid: o,
      tileLoadFunction: t.tileLoadFunction ? t.tileLoadFunction : Bx,
      tileUrlFunction: t.tileUrlFunction,
      url: t.url,
      urls: t.urls,
      wrapX: t.wrapX === void 0 ? true : t.wrapX,
      transition: t.transition,
      zDirection: t.zDirection === void 0 ? 1 : t.zDirection
    }), this.format_ = t.format ? t.format : null, this.sourceTileCache = new id(this.tileCache.highWaterMark), this.overlaps_ = t.overlaps == null ? true : t.overlaps, this.tileClass = t.tileClass ? t.tileClass : ex, this.tileGrids_ = {};
  }
  getFeaturesInExtent(t) {
    const e = [], n = this.tileCache;
    if (n.getCount() === 0)
      return e;
    const o = dm(n.peekFirstKey())[0], r3 = this.tileGrid;
    return n.forEach(function(s) {
      if (s.tileCoord[0] !== o || s.getState() !== G.LOADED)
        return;
      const a = s.getSourceTiles();
      for (let l = 0, h = a.length; l < h; ++l) {
        const u = a[l], d = u.tileCoord;
        if (Ht(t, r3.getTileCoordExtent(d))) {
          const c = u.getFeatures();
          if (c)
            for (let g = 0, f = c.length; g < f; ++g) {
              const m = c[g], p = m.getGeometry();
              Ht(t, p.getExtent()) && e.push(m);
            }
        }
      }
    }), e;
  }
  getOverlaps() {
    return this.overlaps_;
  }
  clear() {
    this.tileCache.clear(), this.sourceTileCache.clear();
  }
  expireCache(t, e) {
    const n = this.getTileCacheForProjection(t), o = Object.keys(e).reduce((r3, s) => {
      const a = qy(s), l = n.peek(a);
      if (l) {
        const h = l.sourceTiles;
        for (let u = 0, d = h.length; u < d; ++u)
          r3[h[u].getKey()] = true;
      }
      return r3;
    }, {});
    super.expireCache(t, e), this.sourceTileCache.expireCache(o);
  }
  getSourceTiles(t, e, n) {
    if (n.getState() === G.IDLE) {
      n.setState(G.LOADING);
      const o = n.wrappedTileCoord, r3 = this.getTileGridForProjection(e), s = r3.getTileCoordExtent(o), a = o[0], l = r3.getResolution(a);
      vi$1(s, -l, s);
      const h = this.tileGrid, u = h.getExtent();
      u && $n(s, u, s);
      const d = h.getZForResolution(
        l,
        this.zDirection
      );
      h.forEachTileCoord(s, d, (c) => {
        const g = this.tileUrlFunction(
          c,
          t,
          e
        ), f = this.sourceTileCache.containsKey(g) ? this.sourceTileCache.get(g) : new this.tileClass(
          c,
          g ? G.IDLE : G.EMPTY,
          g,
          this.format_,
          this.tileLoadFunction
        );
        n.sourceTiles.push(f);
        const m = f.getState();
        if (m < G.LOADED) {
          const p = (_) => {
            this.handleTileChange(_);
            const v = f.getState();
            if (v === G.LOADED || v === G.ERROR) {
              const y = f.getKey();
              y in n.errorTileKeys ? f.getState() === G.LOADED && delete n.errorTileKeys[y] : n.loadingSourceTiles--, v === G.ERROR ? n.errorTileKeys[y] = true : f.removeEventListener(Q.CHANGE, p), n.loadingSourceTiles === 0 && n.setState(
                to(n.errorTileKeys) ? G.LOADED : G.ERROR
              );
            }
          };
          f.addEventListener(Q.CHANGE, p), n.loadingSourceTiles++;
        }
        m === G.IDLE && (f.extent = h.getTileCoordExtent(c), f.projection = e, f.resolution = h.getResolution(
          c[0]
        ), this.sourceTileCache.set(g, f), f.load());
      }), n.loadingSourceTiles || n.setState(
        n.sourceTiles.some(
          (c) => c.getState() === G.ERROR
        ) ? G.ERROR : G.LOADED
      );
    }
    return n.sourceTiles;
  }
  getTile(t, e, n, o, r3) {
    const s = ar(t, e, n), a = this.getKey();
    let l;
    if (this.tileCache.containsKey(s) && (l = this.tileCache.get(s), l.key === a))
      return l;
    const h = [t, e, n];
    let u = this.getTileCoordForTileUrlFunction(
      h,
      r3
    );
    const d = this.getTileGrid().getExtent(), c = this.getTileGridForProjection(r3);
    if (u && d) {
      const m = c.getTileCoordExtent(u);
      vi$1(m, -c.getResolution(t), m), Ht(d, m) || (u = null);
    }
    let g = true;
    if (u !== null) {
      const m = this.tileGrid, p = c.getResolution(t), _ = m.getZForResolution(p, 1), v = c.getTileCoordExtent(u);
      vi$1(v, -p, v), m.forEachTileCoord(
        v,
        _,
        function(y) {
          g = g && !this.tileUrlFunction(y, o, r3);
        }.bind(this)
      );
    }
    const f = new Qy(
      h,
      g ? G.EMPTY : G.IDLE,
      u,
      this.getSourceTiles.bind(this, o, r3)
    );
    return f.key = a, l ? (f.interimTile = l, f.refreshInterimChain(), this.tileCache.replace(s, f)) : this.tileCache.set(s, f), f;
  }
  getTileGridForProjection(t) {
    const e = t.getCode();
    let n = this.tileGrids_[e];
    if (!n) {
      const o = this.tileGrid, r3 = o.getResolutions().slice(), s = r3.map(function(h, u) {
        return o.getOrigin(u);
      }), a = r3.map(function(h, u) {
        return o.getTileSize(u);
      }), l = bf + 1;
      for (let h = r3.length; h < l; ++h)
        r3.push(r3[h - 1] / 2), s.push(s[h - 1]), a.push(a[h - 1]);
      n = new nd({
        extent: o.getExtent(),
        origins: s,
        resolutions: r3,
        tileSizes: a
      }), this.tileGrids_[e] = n;
    }
    return n;
  }
  getTilePixelRatio(t) {
    return t;
  }
  getTilePixelSize(t, e, n) {
    const o = this.getTileGridForProjection(n), r3 = Ee(o.getTileSize(t), this.tmpSize);
    return [
      Math.round(r3[0] * e),
      Math.round(r3[1] * e)
    ];
  }
  updateCacheSize(t, e) {
    super.updateCacheSize(t * 2, e), this.sourceTileCache.highWaterMark = this.getTileCacheForProjection(e).highWaterMark;
  }
}
const jx = Gx;
function Bx(i, t) {
  i.setLoader(
    function(e, n, o) {
      lm(
        t,
        i.getFormat(),
        e,
        n,
        o,
        i.onLoad.bind(i),
        i.onError.bind(i)
      );
    }
  );
}
class Wx extends xm {
  constructor(t) {
    super({
      attributions: t.attributions,
      cacheSize: t.cacheSize,
      opaque: t.opaque,
      projection: t.projection,
      state: t.state,
      tileGrid: t.tileGrid,
      tileLoadFunction: t.tileLoadFunction ? t.tileLoadFunction : Zx,
      tilePixelRatio: t.tilePixelRatio,
      tileUrlFunction: t.tileUrlFunction,
      url: t.url,
      urls: t.urls,
      wrapX: t.wrapX,
      transition: t.transition,
      interpolate: t.interpolate !== void 0 ? t.interpolate : true,
      key: t.key,
      attributionsCollapsible: t.attributionsCollapsible,
      zDirection: t.zDirection
    }), this.crossOrigin = t.crossOrigin !== void 0 ? t.crossOrigin : null, this.tileClass = t.tileClass !== void 0 ? t.tileClass : hm, this.tileCacheForProjection = {}, this.tileGridForProjection = {}, this.reprojectionErrorThreshold_ = t.reprojectionErrorThreshold, this.renderReprojectionEdges_ = false;
  }
  canExpireCache() {
    if (this.tileCache.canExpireCache())
      return true;
    for (const t in this.tileCacheForProjection)
      if (this.tileCacheForProjection[t].canExpireCache())
        return true;
    return false;
  }
  expireCache(t, e) {
    const n = this.getTileCacheForProjection(t);
    this.tileCache.expireCache(
      this.tileCache == n ? e : {}
    );
    for (const o in this.tileCacheForProjection) {
      const r3 = this.tileCacheForProjection[o];
      r3.expireCache(r3 == n ? e : {});
    }
  }
  getGutterForProjection(t) {
    return this.getProjection() && t && !jn(this.getProjection(), t) ? 0 : this.getGutter();
  }
  getGutter() {
    return 0;
  }
  getKey() {
    let t = super.getKey();
    return this.getInterpolate() || (t += ":disable-interpolation"), t;
  }
  getOpaque(t) {
    return this.getProjection() && t && !jn(this.getProjection(), t) ? false : super.getOpaque(t);
  }
  getTileGridForProjection(t) {
    const e = this.getProjection();
    if (this.tileGrid && (!e || jn(e, t)))
      return this.tileGrid;
    {
      const n = H(t);
      return n in this.tileGridForProjection || (this.tileGridForProjection[n] = vm(t)), this.tileGridForProjection[n];
    }
  }
  getTileCacheForProjection(t) {
    const e = this.getProjection();
    if (!e || jn(e, t))
      return this.tileCache;
    {
      const n = H(t);
      return n in this.tileCacheForProjection || (this.tileCacheForProjection[n] = new id(
        this.tileCache.highWaterMark
      )), this.tileCacheForProjection[n];
    }
  }
  createTile_(t, e, n, o, r3, s) {
    const a = [t, e, n], l = this.getTileCoordForTileUrlFunction(
      a,
      r3
    ), h = l ? this.tileUrlFunction(l, o, r3) : void 0, u = new this.tileClass(
      a,
      h !== void 0 ? G.IDLE : G.EMPTY,
      h !== void 0 ? h : "",
      this.crossOrigin,
      this.tileLoadFunction,
      this.tileOptions
    );
    return u.key = s, u.addEventListener(Q.CHANGE, this.handleTileChange.bind(this)), u;
  }
  getTile(t, e, n, o, r3) {
    const s = this.getProjection();
    if (!s || !r3 || jn(s, r3))
      return this.getTileInternal(
        t,
        e,
        n,
        o,
        s || r3
      );
    {
      const a = this.getTileCacheForProjection(r3), l = [t, e, n];
      let h;
      const u = um(l);
      a.containsKey(u) && (h = a.get(u));
      const d = this.getKey();
      if (h && h.key == d)
        return h;
      {
        const c = this.getTileGridForProjection(s), g = this.getTileGridForProjection(r3), f = this.getTileCoordForTileUrlFunction(
          l,
          r3
        ), m = new mm(
          s,
          c,
          r3,
          g,
          l,
          f,
          this.getTilePixelRatio(o),
          this.getGutter(),
          function(p, _, v, y) {
            return this.getTileInternal(p, _, v, y, s);
          }.bind(this),
          this.reprojectionErrorThreshold_,
          this.renderReprojectionEdges_,
          this.getInterpolate()
        );
        return m.key = d, h ? (m.interimTile = h, m.refreshInterimChain(), a.replace(u, m)) : a.set(u, m), m;
      }
    }
  }
  getTileInternal(t, e, n, o, r3) {
    let s = null;
    const a = ar(t, e, n), l = this.getKey();
    if (!this.tileCache.containsKey(a))
      s = this.createTile_(t, e, n, o, r3, l), this.tileCache.set(a, s);
    else if (s = this.tileCache.get(a), s.key != l) {
      const h = s;
      s = this.createTile_(t, e, n, o, r3, l), h.getState() == G.IDLE ? s.interimTile = h.interimTile : s.interimTile = h, s.refreshInterimChain(), this.tileCache.replace(a, s);
    }
    return s;
  }
  setRenderReprojectionEdges(t) {
    if (this.renderReprojectionEdges_ != t) {
      this.renderReprojectionEdges_ = t;
      for (const e in this.tileCacheForProjection)
        this.tileCacheForProjection[e].clear();
      this.changed();
    }
  }
  setTileGridForProjection(t, e) {
    const n = Bt(t);
    if (n) {
      const o = H(n);
      o in this.tileGridForProjection || (this.tileGridForProjection[o] = e);
    }
  }
  clear() {
    super.clear();
    for (const t in this.tileCacheForProjection)
      this.tileCacheForProjection[t].clear();
  }
}
function Zx(i, t) {
  i.getImage().src = t;
}
const Yx = Wx;
class Xx extends Za {
  constructor(t) {
    t = t || {};
    const e = Object.assign({}, t);
    delete e.preload, delete e.useInterimTilesOnError, super(e), this.on, this.once, this.un, this.setPreload(t.preload !== void 0 ? t.preload : 0), this.setUseInterimTilesOnError(
      t.useInterimTilesOnError !== void 0 ? t.useInterimTilesOnError : true
    );
  }
  getPreload() {
    return this.get(rn.PRELOAD);
  }
  setPreload(t) {
    this.set(rn.PRELOAD, t);
  }
  getUseInterimTilesOnError() {
    return this.get(rn.USE_INTERIM_TILES_ON_ERROR);
  }
  setUseInterimTilesOnError(t) {
    this.set(rn.USE_INTERIM_TILES_ON_ERROR, t);
  }
  getData(t) {
    return super.getData(t);
  }
}
const Ux = Xx;
class Vx extends Ux {
  constructor(t) {
    super(t);
  }
  createRenderer() {
    return new pm(this);
  }
}
const qx = Vx;
var $x = {}, bm, Xc = {
  transparent: [
    0,
    0,
    0,
    0
  ],
  aliceblue: [
    240,
    248,
    255,
    1
  ],
  antiquewhite: [
    250,
    235,
    215,
    1
  ],
  aqua: [
    0,
    255,
    255,
    1
  ],
  aquamarine: [
    127,
    255,
    212,
    1
  ],
  azure: [
    240,
    255,
    255,
    1
  ],
  beige: [
    245,
    245,
    220,
    1
  ],
  bisque: [
    255,
    228,
    196,
    1
  ],
  black: [
    0,
    0,
    0,
    1
  ],
  blanchedalmond: [
    255,
    235,
    205,
    1
  ],
  blue: [
    0,
    0,
    255,
    1
  ],
  blueviolet: [
    138,
    43,
    226,
    1
  ],
  brown: [
    165,
    42,
    42,
    1
  ],
  burlywood: [
    222,
    184,
    135,
    1
  ],
  cadetblue: [
    95,
    158,
    160,
    1
  ],
  chartreuse: [
    127,
    255,
    0,
    1
  ],
  chocolate: [
    210,
    105,
    30,
    1
  ],
  coral: [
    255,
    127,
    80,
    1
  ],
  cornflowerblue: [
    100,
    149,
    237,
    1
  ],
  cornsilk: [
    255,
    248,
    220,
    1
  ],
  crimson: [
    220,
    20,
    60,
    1
  ],
  cyan: [
    0,
    255,
    255,
    1
  ],
  darkblue: [
    0,
    0,
    139,
    1
  ],
  darkcyan: [
    0,
    139,
    139,
    1
  ],
  darkgoldenrod: [
    184,
    134,
    11,
    1
  ],
  darkgray: [
    169,
    169,
    169,
    1
  ],
  darkgreen: [
    0,
    100,
    0,
    1
  ],
  darkgrey: [
    169,
    169,
    169,
    1
  ],
  darkkhaki: [
    189,
    183,
    107,
    1
  ],
  darkmagenta: [
    139,
    0,
    139,
    1
  ],
  darkolivegreen: [
    85,
    107,
    47,
    1
  ],
  darkorange: [
    255,
    140,
    0,
    1
  ],
  darkorchid: [
    153,
    50,
    204,
    1
  ],
  darkred: [
    139,
    0,
    0,
    1
  ],
  darksalmon: [
    233,
    150,
    122,
    1
  ],
  darkseagreen: [
    143,
    188,
    143,
    1
  ],
  darkslateblue: [
    72,
    61,
    139,
    1
  ],
  darkslategray: [
    47,
    79,
    79,
    1
  ],
  darkslategrey: [
    47,
    79,
    79,
    1
  ],
  darkturquoise: [
    0,
    206,
    209,
    1
  ],
  darkviolet: [
    148,
    0,
    211,
    1
  ],
  deeppink: [
    255,
    20,
    147,
    1
  ],
  deepskyblue: [
    0,
    191,
    255,
    1
  ],
  dimgray: [
    105,
    105,
    105,
    1
  ],
  dimgrey: [
    105,
    105,
    105,
    1
  ],
  dodgerblue: [
    30,
    144,
    255,
    1
  ],
  firebrick: [
    178,
    34,
    34,
    1
  ],
  floralwhite: [
    255,
    250,
    240,
    1
  ],
  forestgreen: [
    34,
    139,
    34,
    1
  ],
  fuchsia: [
    255,
    0,
    255,
    1
  ],
  gainsboro: [
    220,
    220,
    220,
    1
  ],
  ghostwhite: [
    248,
    248,
    255,
    1
  ],
  gold: [
    255,
    215,
    0,
    1
  ],
  goldenrod: [
    218,
    165,
    32,
    1
  ],
  gray: [
    128,
    128,
    128,
    1
  ],
  green: [
    0,
    128,
    0,
    1
  ],
  greenyellow: [
    173,
    255,
    47,
    1
  ],
  grey: [
    128,
    128,
    128,
    1
  ],
  honeydew: [
    240,
    255,
    240,
    1
  ],
  hotpink: [
    255,
    105,
    180,
    1
  ],
  indianred: [
    205,
    92,
    92,
    1
  ],
  indigo: [
    75,
    0,
    130,
    1
  ],
  ivory: [
    255,
    255,
    240,
    1
  ],
  khaki: [
    240,
    230,
    140,
    1
  ],
  lavender: [
    230,
    230,
    250,
    1
  ],
  lavenderblush: [
    255,
    240,
    245,
    1
  ],
  lawngreen: [
    124,
    252,
    0,
    1
  ],
  lemonchiffon: [
    255,
    250,
    205,
    1
  ],
  lightblue: [
    173,
    216,
    230,
    1
  ],
  lightcoral: [
    240,
    128,
    128,
    1
  ],
  lightcyan: [
    224,
    255,
    255,
    1
  ],
  lightgoldenrodyellow: [
    250,
    250,
    210,
    1
  ],
  lightgray: [
    211,
    211,
    211,
    1
  ],
  lightgreen: [
    144,
    238,
    144,
    1
  ],
  lightgrey: [
    211,
    211,
    211,
    1
  ],
  lightpink: [
    255,
    182,
    193,
    1
  ],
  lightsalmon: [
    255,
    160,
    122,
    1
  ],
  lightseagreen: [
    32,
    178,
    170,
    1
  ],
  lightskyblue: [
    135,
    206,
    250,
    1
  ],
  lightslategray: [
    119,
    136,
    153,
    1
  ],
  lightslategrey: [
    119,
    136,
    153,
    1
  ],
  lightsteelblue: [
    176,
    196,
    222,
    1
  ],
  lightyellow: [
    255,
    255,
    224,
    1
  ],
  lime: [
    0,
    255,
    0,
    1
  ],
  limegreen: [
    50,
    205,
    50,
    1
  ],
  linen: [
    250,
    240,
    230,
    1
  ],
  magenta: [
    255,
    0,
    255,
    1
  ],
  maroon: [
    128,
    0,
    0,
    1
  ],
  mediumaquamarine: [
    102,
    205,
    170,
    1
  ],
  mediumblue: [
    0,
    0,
    205,
    1
  ],
  mediumorchid: [
    186,
    85,
    211,
    1
  ],
  mediumpurple: [
    147,
    112,
    219,
    1
  ],
  mediumseagreen: [
    60,
    179,
    113,
    1
  ],
  mediumslateblue: [
    123,
    104,
    238,
    1
  ],
  mediumspringgreen: [
    0,
    250,
    154,
    1
  ],
  mediumturquoise: [
    72,
    209,
    204,
    1
  ],
  mediumvioletred: [
    199,
    21,
    133,
    1
  ],
  midnightblue: [
    25,
    25,
    112,
    1
  ],
  mintcream: [
    245,
    255,
    250,
    1
  ],
  mistyrose: [
    255,
    228,
    225,
    1
  ],
  moccasin: [
    255,
    228,
    181,
    1
  ],
  navajowhite: [
    255,
    222,
    173,
    1
  ],
  navy: [
    0,
    0,
    128,
    1
  ],
  oldlace: [
    253,
    245,
    230,
    1
  ],
  olive: [
    128,
    128,
    0,
    1
  ],
  olivedrab: [
    107,
    142,
    35,
    1
  ],
  orange: [
    255,
    165,
    0,
    1
  ],
  orangered: [
    255,
    69,
    0,
    1
  ],
  orchid: [
    218,
    112,
    214,
    1
  ],
  palegoldenrod: [
    238,
    232,
    170,
    1
  ],
  palegreen: [
    152,
    251,
    152,
    1
  ],
  paleturquoise: [
    175,
    238,
    238,
    1
  ],
  palevioletred: [
    219,
    112,
    147,
    1
  ],
  papayawhip: [
    255,
    239,
    213,
    1
  ],
  peachpuff: [
    255,
    218,
    185,
    1
  ],
  peru: [
    205,
    133,
    63,
    1
  ],
  pink: [
    255,
    192,
    203,
    1
  ],
  plum: [
    221,
    160,
    221,
    1
  ],
  powderblue: [
    176,
    224,
    230,
    1
  ],
  purple: [
    128,
    0,
    128,
    1
  ],
  rebeccapurple: [
    102,
    51,
    153,
    1
  ],
  red: [
    255,
    0,
    0,
    1
  ],
  rosybrown: [
    188,
    143,
    143,
    1
  ],
  royalblue: [
    65,
    105,
    225,
    1
  ],
  saddlebrown: [
    139,
    69,
    19,
    1
  ],
  salmon: [
    250,
    128,
    114,
    1
  ],
  sandybrown: [
    244,
    164,
    96,
    1
  ],
  seagreen: [
    46,
    139,
    87,
    1
  ],
  seashell: [
    255,
    245,
    238,
    1
  ],
  sienna: [
    160,
    82,
    45,
    1
  ],
  silver: [
    192,
    192,
    192,
    1
  ],
  skyblue: [
    135,
    206,
    235,
    1
  ],
  slateblue: [
    106,
    90,
    205,
    1
  ],
  slategray: [
    112,
    128,
    144,
    1
  ],
  slategrey: [
    112,
    128,
    144,
    1
  ],
  snow: [
    255,
    250,
    250,
    1
  ],
  springgreen: [
    0,
    255,
    127,
    1
  ],
  steelblue: [
    70,
    130,
    180,
    1
  ],
  tan: [
    210,
    180,
    140,
    1
  ],
  teal: [
    0,
    128,
    128,
    1
  ],
  thistle: [
    216,
    191,
    216,
    1
  ],
  tomato: [
    255,
    99,
    71,
    1
  ],
  turquoise: [
    64,
    224,
    208,
    1
  ],
  violet: [
    238,
    130,
    238,
    1
  ],
  wheat: [
    245,
    222,
    179,
    1
  ],
  white: [
    255,
    255,
    255,
    1
  ],
  whitesmoke: [
    245,
    245,
    245,
    1
  ],
  yellow: [
    255,
    255,
    0,
    1
  ],
  yellowgreen: [
    154,
    205,
    50,
    1
  ]
};
function Lr(i) {
  return i = Math.round(i), i < 0 ? 0 : i > 255 ? 255 : i;
}
function Uc(i) {
  return i < 0 ? 0 : i > 1 ? 1 : i;
}
function Vl(i) {
  return i[i.length - 1] === "%" ? Lr(parseFloat(i) / 100 * 255) : Lr(parseInt(i));
}
function Us(i) {
  return i[i.length - 1] === "%" ? Uc(parseFloat(i) / 100) : Uc(parseFloat(i));
}
function ql(i, t, e) {
  return e < 0 ? e += 1 : e > 1 && (e -= 1), e * 6 < 1 ? i + (t - i) * e * 6 : e * 2 < 1 ? t : e * 3 < 2 ? i + (t - i) * (2 / 3 - e) * 6 : i;
}
function Hx(i) {
  var t = i.replace(/ /g, "").toLowerCase();
  if (t in Xc)
    return Xc[t].slice();
  if (t[0] === "#") {
    if (t.length === 4) {
      var e = parseInt(t.substr(1), 16);
      return e >= 0 && e <= 4095 ? [
        (e & 3840) >> 4 | (e & 3840) >> 8,
        e & 240 | (e & 240) >> 4,
        e & 15 | (e & 15) << 4,
        1
      ] : null;
    } else if (t.length === 7) {
      var e = parseInt(t.substr(1), 16);
      return e >= 0 && e <= 16777215 ? [
        (e & 16711680) >> 16,
        (e & 65280) >> 8,
        e & 255,
        1
      ] : null;
    }
    return null;
  }
  var n = t.indexOf("("), o = t.indexOf(")");
  if (n !== -1 && o + 1 === t.length) {
    var r3 = t.substr(0, n), s = t.substr(n + 1, o - (n + 1)).split(","), a = 1;
    switch (r3) {
      case "rgba":
        if (s.length !== 4)
          return null;
        a = Us(s.pop());
      case "rgb":
        return s.length !== 3 ? null : [
          Vl(s[0]),
          Vl(s[1]),
          Vl(s[2]),
          a
        ];
      case "hsla":
        if (s.length !== 4)
          return null;
        a = Us(s.pop());
      case "hsl":
        if (s.length !== 3)
          return null;
        var l = (parseFloat(s[0]) % 360 + 360) % 360 / 360, h = Us(s[1]), u = Us(s[2]), d = u <= 0.5 ? u * (h + 1) : u + h - u * h, c = u * 2 - d;
        return [
          Lr(ql(c, d, l + 1 / 3) * 255),
          Lr(ql(c, d, l) * 255),
          Lr(ql(c, d, l - 1 / 3) * 255),
          a
        ];
      default:
        return null;
    }
  }
  return null;
}
try {
  bm = $x.parseCSSColor = Hx;
} catch {
}
var At = function(t, e, n, o) {
  o === void 0 && (o = 1), this.r = t, this.g = e, this.b = n, this.a = o;
};
At.parse = function(t) {
  if (!!t) {
    if (t instanceof At)
      return t;
    if (typeof t == "string") {
      var e = bm(t);
      if (!!e)
        return new At(e[0] / 255 * e[3], e[1] / 255 * e[3], e[2] / 255 * e[3], e[3]);
    }
  }
};
At.prototype.toString = function() {
  var t = this.toArray(), e = t[0], n = t[1], o = t[2], r3 = t[3];
  return "rgba(" + Math.round(e) + "," + Math.round(n) + "," + Math.round(o) + "," + r3 + ")";
};
At.prototype.toArray = function() {
  var t = this, e = t.r, n = t.g, o = t.b, r3 = t.a;
  return r3 === 0 ? [
    0,
    0,
    0,
    0
  ] : [
    e * 255 / r3,
    n * 255 / r3,
    o * 255 / r3,
    r3
  ];
};
At.prototype.toArray01 = function() {
  var t = this, e = t.r, n = t.g, o = t.b, r3 = t.a;
  return r3 === 0 ? [
    0,
    0,
    0,
    0
  ] : [
    e / r3,
    n / r3,
    o / r3,
    r3
  ];
};
At.prototype.toArray01PremultipliedAlpha = function() {
  var t = this, e = t.r, n = t.g, o = t.b, r3 = t.a;
  return [
    e,
    n,
    o,
    r3
  ];
};
At.black = new At(0, 0, 0, 1);
At.white = new At(1, 1, 1, 1);
At.transparent = new At(0, 0, 0, 0);
At.red = new At(1, 0, 0, 1);
At.blue = new At(0, 0, 1, 1);
function ts(i) {
  return typeof i == "object" ? [
    "literal",
    i
  ] : i;
}
function Kx(i, t) {
  var e = i.stops;
  if (!e)
    return Jx(i, t);
  var n = e && typeof e[0][0] == "object", o = n || i.property !== void 0, r3 = n || !o;
  return e = e.map(function(s) {
    return !o && t.tokens && typeof s[1] == "string" ? [
      s[0],
      ib(s[1])
    ] : [
      s[0],
      ts(s[1])
    ];
  }), n ? Qx(i, t, e) : r3 ? eb(i, t, e) : Ph(i, t, e);
}
function Jx(i, t) {
  var e = [
    "get",
    i.property
  ];
  if (i.default === void 0)
    return t.type === "string" ? [
      "string",
      e
    ] : e;
  if (t.type === "enum")
    return [
      "match",
      e,
      Object.keys(t.values),
      e,
      i.default
    ];
  var n = [
    t.type === "color" ? "to-color" : t.type,
    e,
    ts(i.default)
  ];
  return t.type === "array" && n.splice(1, 0, t.value, t.length || null), n;
}
function rd(i) {
  switch (i.colorSpace) {
    case "hcl":
      return "interpolate-hcl";
    case "lab":
      return "interpolate-lab";
    default:
      return "interpolate";
  }
}
function Qx(i, t, e) {
  for (var n = {}, o = {}, r3 = [], s = 0; s < e.length; s++) {
    var a = e[s], l = a[0].zoom;
    n[l] === void 0 && (n[l] = {
      zoom: l,
      type: i.type,
      property: i.property,
      default: i.default
    }, o[l] = [], r3.push(l)), o[l].push([
      a[0].value,
      a[1]
    ]);
  }
  var h = ad({}, t);
  if (h === "exponential") {
    for (var u = [
      rd(i),
      ["linear"],
      ["zoom"]
    ], d = 0, c = r3; d < c.length; d += 1) {
      var g = c[d], f = Ph(n[g], t, o[g]);
      jo(u, g, f, false);
    }
    return u;
  } else {
    for (var m = [
      "step",
      ["zoom"]
    ], p = 0, _ = r3; p < _.length; p += 1) {
      var v = _[p], y = Ph(n[v], t, o[v]);
      jo(m, v, y, true);
    }
    return sd(m), m;
  }
}
function tb(i, t) {
  if (i !== void 0)
    return i;
  if (t !== void 0)
    return t;
}
function Vc(i, t) {
  var e = ts(tb(i.default, t.default));
  return e === void 0 && t.type === "resolvedImage" ? "" : e;
}
function Ph(i, t, e) {
  var n = ad(i, t), o = [
    "get",
    i.property
  ];
  if (n === "categorical" && typeof e[0][0] == "boolean") {
    for (var r3 = ["case"], s = 0, a = e; s < a.length; s += 1) {
      var l = a[s];
      r3.push([
        "==",
        o,
        l[0]
      ], l[1]);
    }
    return r3.push(Vc(i, t)), r3;
  } else if (n === "categorical") {
    for (var h = [
      "match",
      o
    ], u = 0, d = e; u < d.length; u += 1) {
      var c = d[u];
      jo(h, c[0], c[1], false);
    }
    return h.push(Vc(i, t)), h;
  } else if (n === "interval") {
    for (var g = [
      "step",
      [
        "number",
        o
      ]
    ], f = 0, m = e; f < m.length; f += 1) {
      var p = m[f];
      jo(g, p[0], p[1], true);
    }
    return sd(g), i.default === void 0 ? g : [
      "case",
      [
        "==",
        [
          "typeof",
          o
        ],
        "number"
      ],
      g,
      ts(i.default)
    ];
  } else if (n === "exponential") {
    for (var _ = i.base !== void 0 ? i.base : 1, v = [
      rd(i),
      _ === 1 ? ["linear"] : [
        "exponential",
        _
      ],
      [
        "number",
        o
      ]
    ], y = 0, x = e; y < x.length; y += 1) {
      var k = x[y];
      jo(v, k[0], k[1], false);
    }
    return i.default === void 0 ? v : [
      "case",
      [
        "==",
        [
          "typeof",
          o
        ],
        "number"
      ],
      v,
      ts(i.default)
    ];
  } else
    throw new Error("Unknown property function type " + n);
}
function eb(i, t, e, n) {
  n === void 0 && (n = ["zoom"]);
  var o = ad(i, t), r3, s = false;
  if (o === "interval")
    r3 = [
      "step",
      n
    ], s = true;
  else if (o === "exponential") {
    var a = i.base !== void 0 ? i.base : 1;
    r3 = [
      rd(i),
      a === 1 ? ["linear"] : [
        "exponential",
        a
      ],
      n
    ];
  } else
    throw new Error('Unknown zoom function type "' + o + '"');
  for (var l = 0, h = e; l < h.length; l += 1) {
    var u = h[l];
    jo(r3, u[0], u[1], s);
  }
  return sd(r3), r3;
}
function sd(i) {
  i[0] === "step" && i.length === 3 && (i.push(0), i.push(i[3]));
}
function jo(i, t, e, n) {
  i.length > 3 && t === i[i.length - 2] || (n && i.length === 2 || i.push(t), i.push(e));
}
function ad(i, t) {
  return i.type ? i.type : t.expression.interpolated ? "exponential" : "interval";
}
function ib(i) {
  for (var t = ["concat"], e = /{([^{}]+)}/g, n = 0, o = e.exec(i); o !== null; o = e.exec(i)) {
    var r3 = i.slice(n, e.lastIndex - o[0].length);
    n = e.lastIndex, r3.length > 0 && t.push(r3), t.push([
      "get",
      o[1]
    ]);
  }
  if (t.length === 1)
    return i;
  if (n < i.length)
    t.push(i.slice(n));
  else if (t.length === 2)
    return [
      "to-string",
      t[1]
    ];
  return t;
}
var gi = /* @__PURE__ */ function(i) {
  function t(e, n) {
    i.call(this, n), this.message = n, this.key = e;
  }
  return i && (t.__proto__ = i), t.prototype = Object.create(i && i.prototype), t.prototype.constructor = t, t;
}(Error), es = function(t, e) {
  e === void 0 && (e = []), this.parent = t, this.bindings = {};
  for (var n = 0, o = e; n < o.length; n += 1) {
    var r3 = o[n], s = r3[0], a = r3[1];
    this.bindings[s] = a;
  }
};
es.prototype.concat = function(t) {
  return new es(this, t);
};
es.prototype.get = function(t) {
  if (this.bindings[t])
    return this.bindings[t];
  if (this.parent)
    return this.parent.get(t);
  throw new Error(t + " not found in scope.");
};
es.prototype.has = function(t) {
  return this.bindings[t] ? true : this.parent ? this.parent.has(t) : false;
};
var ol = { kind: "null" }, L = { kind: "number" }, mt = { kind: "string" }, at = { kind: "boolean" }, Oi = { kind: "color" }, Bo = { kind: "object" }, lt = { kind: "value" }, nb = { kind: "error" }, rl = { kind: "collator" }, sl = { kind: "formatted" }, _s = { kind: "resolvedImage" };
function qe(i, t) {
  return {
    kind: "array",
    itemType: i,
    N: t
  };
}
function Yt(i) {
  if (i.kind === "array") {
    var t = Yt(i.itemType);
    return typeof i.N == "number" ? "array<" + t + ", " + i.N + ">" : i.itemType.kind === "value" ? "array" : "array<" + t + ">";
  } else
    return i.kind;
}
var ob = [
  ol,
  L,
  mt,
  at,
  Oi,
  sl,
  Bo,
  qe(lt),
  _s
];
function is(i, t) {
  if (t.kind === "error")
    return null;
  if (i.kind === "array") {
    if (t.kind === "array" && (t.N === 0 && t.itemType.kind === "value" || !is(i.itemType, t.itemType)) && (typeof i.N != "number" || i.N === t.N))
      return null;
  } else {
    if (i.kind === t.kind)
      return null;
    if (i.kind === "value")
      for (var e = 0, n = ob; e < n.length; e += 1) {
        var o = n[e];
        if (!is(o, t))
          return null;
      }
  }
  return "Expected " + Yt(i) + " but found " + Yt(t) + " instead.";
}
function ld(i, t) {
  return t.some(function(e) {
    return e.kind === i.kind;
  });
}
function ns(i, t) {
  return t.some(function(e) {
    return e === "null" ? i === null : e === "array" ? Array.isArray(i) : e === "object" ? i && !Array.isArray(i) && typeof i == "object" : e === typeof i;
  });
}
var ys = function(t, e, n) {
  t ? this.sensitivity = e ? "variant" : "case" : this.sensitivity = e ? "accent" : "base", this.locale = n, this.collator = new Intl.Collator(this.locale ? this.locale : [], {
    sensitivity: this.sensitivity,
    usage: "search"
  });
};
ys.prototype.compare = function(t, e) {
  return this.collator.compare(t, e);
};
ys.prototype.resolvedLocale = function() {
  return new Intl.Collator(this.locale ? this.locale : []).resolvedOptions().locale;
};
var Dh = function(t, e, n, o, r3) {
  this.text = t.normalize ? t.normalize() : t, this.image = e, this.scale = n, this.fontStack = o, this.textColor = r3;
}, Oe = function(t) {
  this.sections = t;
};
Oe.fromString = function(t) {
  return new Oe([new Dh(t, null, null, null, null)]);
};
Oe.prototype.isEmpty = function() {
  return this.sections.length === 0 ? true : !this.sections.some(function(t) {
    return t.text.length !== 0 || t.image && t.image.name.length !== 0;
  });
};
Oe.factory = function(t) {
  return t instanceof Oe ? t : Oe.fromString(t);
};
Oe.prototype.toString = function() {
  return this.sections.length === 0 ? "" : this.sections.map(function(t) {
    return t.text;
  }).join("");
};
Oe.prototype.serialize = function() {
  for (var t = ["format"], e = 0, n = this.sections; e < n.length; e += 1) {
    var o = n[e];
    if (o.image) {
      t.push([
        "image",
        o.image.name
      ]);
      continue;
    }
    t.push(o.text);
    var r3 = {};
    o.fontStack && (r3["text-font"] = [
      "literal",
      o.fontStack.split(",")
    ]), o.scale && (r3["font-scale"] = o.scale), o.textColor && (r3["text-color"] = ["rgba"].concat(o.textColor.toArray())), t.push(r3);
  }
  return t;
};
var yi = function(t) {
  this.name = t.name, this.available = t.available;
};
yi.prototype.toString = function() {
  return this.name;
};
yi.fromString = function(t) {
  return t ? new yi({
    name: t,
    available: false
  }) : null;
};
yi.prototype.serialize = function() {
  return [
    "image",
    this.name
  ];
};
function km(i, t, e, n) {
  if (!(typeof i == "number" && i >= 0 && i <= 255 && typeof t == "number" && t >= 0 && t <= 255 && typeof e == "number" && e >= 0 && e <= 255)) {
    var o = typeof n == "number" ? [
      i,
      t,
      e,
      n
    ] : [
      i,
      t,
      e
    ];
    return "Invalid rgba value [" + o.join(", ") + "]: 'r', 'g', and 'b' must be between 0 and 255.";
  }
  return typeof n > "u" || typeof n == "number" && n >= 0 && n <= 1 ? null : "Invalid rgba value [" + [
    i,
    t,
    e,
    n
  ].join(", ") + "]: 'a' must be between 0 and 1.";
}
function Ea(i) {
  if (i === null)
    return true;
  if (typeof i == "string")
    return true;
  if (typeof i == "boolean")
    return true;
  if (typeof i == "number")
    return true;
  if (i instanceof At)
    return true;
  if (i instanceof ys)
    return true;
  if (i instanceof Oe)
    return true;
  if (i instanceof yi)
    return true;
  if (Array.isArray(i)) {
    for (var t = 0, e = i; t < e.length; t += 1) {
      var n = e[t];
      if (!Ea(n))
        return false;
    }
    return true;
  } else if (typeof i == "object") {
    for (var o in i)
      if (!Ea(i[o]))
        return false;
    return true;
  } else
    return false;
}
function ee(i) {
  if (i === null)
    return ol;
  if (typeof i == "string")
    return mt;
  if (typeof i == "boolean")
    return at;
  if (typeof i == "number")
    return L;
  if (i instanceof At)
    return Oi;
  if (i instanceof ys)
    return rl;
  if (i instanceof Oe)
    return sl;
  if (i instanceof yi)
    return _s;
  if (Array.isArray(i)) {
    for (var t = i.length, e, n = 0, o = i; n < o.length; n += 1) {
      var r3 = o[n], s = ee(r3);
      if (!e)
        e = s;
      else {
        if (e === s)
          continue;
        e = lt;
        break;
      }
    }
    return qe(e || lt, t);
  } else
    return Bo;
}
function Or(i) {
  var t = typeof i;
  return i === null ? "" : t === "string" || t === "number" || t === "boolean" ? String(i) : i instanceof At || i instanceof Oe || i instanceof yi ? i.toString() : JSON.stringify(i);
}
var xi = function(t, e) {
  this.type = t, this.value = e;
};
xi.parse = function(t, e) {
  if (t.length !== 2)
    return e.error("'literal' expression requires exactly one argument, but found " + (t.length - 1) + " instead.");
  if (!Ea(t[1]))
    return e.error("invalid value");
  var n = t[1], o = ee(n), r3 = e.expectedType;
  return o.kind === "array" && o.N === 0 && r3 && r3.kind === "array" && (typeof r3.N != "number" || r3.N === 0) && (o = r3), new xi(o, n);
};
xi.prototype.evaluate = function() {
  return this.value;
};
xi.prototype.eachChild = function() {
};
xi.prototype.outputDefined = function() {
  return true;
};
xi.prototype.serialize = function() {
  return this.type.kind === "array" || this.type.kind === "object" ? [
    "literal",
    this.value
  ] : this.value instanceof At ? ["rgba"].concat(this.value.toArray()) : this.value instanceof Oe ? this.value.serialize() : this.value;
};
var se = function(t) {
  this.name = "ExpressionEvaluationError", this.message = t;
};
se.prototype.toJSON = function() {
  return this.message;
};
var $l = {
  string: mt,
  number: L,
  boolean: at,
  object: Bo
}, Se = function(t, e) {
  this.type = t, this.args = e;
};
Se.parse = function(t, e) {
  if (t.length < 2)
    return e.error("Expected at least one argument.");
  var n = 1, o, r3 = t[0];
  if (r3 === "array") {
    var s;
    if (t.length > 2) {
      var a = t[1];
      if (typeof a != "string" || !(a in $l) || a === "object")
        return e.error('The item type argument of "array" must be one of string, number, boolean', 1);
      s = $l[a], n++;
    } else
      s = lt;
    var l;
    if (t.length > 3) {
      if (t[2] !== null && (typeof t[2] != "number" || t[2] < 0 || t[2] !== Math.floor(t[2])))
        return e.error('The length argument to "array" must be a positive integer literal', 2);
      l = t[2], n++;
    }
    o = qe(s, l);
  } else
    o = $l[r3];
  for (var h = []; n < t.length; n++) {
    var u = e.parse(t[n], n, lt);
    if (!u)
      return null;
    h.push(u);
  }
  return new Se(o, h);
};
Se.prototype.evaluate = function(t) {
  for (var e = 0; e < this.args.length; e++) {
    var n = this.args[e].evaluate(t), o = is(this.type, ee(n));
    if (o) {
      if (e === this.args.length - 1)
        throw new se("Expected value to be of type " + Yt(this.type) + ", but found " + Yt(ee(n)) + " instead.");
    } else
      return n;
  }
  return null;
};
Se.prototype.eachChild = function(t) {
  this.args.forEach(t);
};
Se.prototype.outputDefined = function() {
  return this.args.every(function(t) {
    return t.outputDefined();
  });
};
Se.prototype.serialize = function() {
  var t = this.type, e = [t.kind];
  if (t.kind === "array") {
    var n = t.itemType;
    if (n.kind === "string" || n.kind === "number" || n.kind === "boolean") {
      e.push(n.kind);
      var o = t.N;
      (typeof o == "number" || this.args.length > 1) && e.push(o);
    }
  }
  return e.concat(this.args.map(function(r3) {
    return r3.serialize();
  }));
};
var vn = function(t) {
  this.type = sl, this.sections = t;
};
vn.parse = function(t, e) {
  if (t.length < 2)
    return e.error("Expected at least one argument.");
  var n = t[1];
  if (!Array.isArray(n) && typeof n == "object")
    return e.error("First argument must be an image or text section.");
  for (var o = [], r3 = false, s = 1; s <= t.length - 1; ++s) {
    var a = t[s];
    if (r3 && typeof a == "object" && !Array.isArray(a)) {
      r3 = false;
      var l = null;
      if (a["font-scale"] && (l = e.parse(a["font-scale"], 1, L), !l))
        return null;
      var h = null;
      if (a["text-font"] && (h = e.parse(a["text-font"], 1, qe(mt)), !h))
        return null;
      var u = null;
      if (a["text-color"] && (u = e.parse(a["text-color"], 1, Oi), !u))
        return null;
      var d = o[o.length - 1];
      d.scale = l, d.font = h, d.textColor = u;
    } else {
      var c = e.parse(t[s], 1, lt);
      if (!c)
        return null;
      var g = c.type.kind;
      if (g !== "string" && g !== "value" && g !== "null" && g !== "resolvedImage")
        return e.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");
      r3 = true, o.push({
        content: c,
        scale: null,
        font: null,
        textColor: null
      });
    }
  }
  return new vn(o);
};
vn.prototype.evaluate = function(t) {
  var e = function(n) {
    var o = n.content.evaluate(t);
    return ee(o) === _s ? new Dh("", o, null, null, null) : new Dh(Or(o), null, n.scale ? n.scale.evaluate(t) : null, n.font ? n.font.evaluate(t).join(",") : null, n.textColor ? n.textColor.evaluate(t) : null);
  };
  return new Oe(this.sections.map(e));
};
vn.prototype.eachChild = function(t) {
  for (var e = 0, n = this.sections; e < n.length; e += 1) {
    var o = n[e];
    t(o.content), o.scale && t(o.scale), o.font && t(o.font), o.textColor && t(o.textColor);
  }
};
vn.prototype.outputDefined = function() {
  return false;
};
vn.prototype.serialize = function() {
  for (var t = ["format"], e = 0, n = this.sections; e < n.length; e += 1) {
    var o = n[e];
    t.push(o.content.serialize());
    var r3 = {};
    o.scale && (r3["font-scale"] = o.scale.serialize()), o.font && (r3["text-font"] = o.font.serialize()), o.textColor && (r3["text-color"] = o.textColor.serialize()), t.push(r3);
  }
  return t;
};
var _n = function(t) {
  this.type = _s, this.input = t;
};
_n.parse = function(t, e) {
  if (t.length !== 2)
    return e.error("Expected two arguments.");
  var n = e.parse(t[1], 1, mt);
  return n ? new _n(n) : e.error("No image name provided.");
};
_n.prototype.evaluate = function(t) {
  var e = this.input.evaluate(t), n = yi.fromString(e);
  return n && t.availableImages && (n.available = t.availableImages.indexOf(e) > -1), n;
};
_n.prototype.eachChild = function(t) {
  t(this.input);
};
_n.prototype.outputDefined = function() {
  return false;
};
_n.prototype.serialize = function() {
  return [
    "image",
    this.input.serialize()
  ];
};
var rb = {
  "to-boolean": at,
  "to-color": Oi,
  "to-number": L,
  "to-string": mt
}, He = function(t, e) {
  this.type = t, this.args = e;
};
He.parse = function(t, e) {
  if (t.length < 2)
    return e.error("Expected at least one argument.");
  var n = t[0];
  if ((n === "to-boolean" || n === "to-string") && t.length !== 2)
    return e.error("Expected one argument.");
  for (var o = rb[n], r3 = [], s = 1; s < t.length; s++) {
    var a = e.parse(t[s], s, lt);
    if (!a)
      return null;
    r3.push(a);
  }
  return new He(o, r3);
};
He.prototype.evaluate = function(t) {
  if (this.type.kind === "boolean")
    return Boolean(this.args[0].evaluate(t));
  if (this.type.kind === "color") {
    for (var e, n, o = 0, r3 = this.args; o < r3.length; o += 1) {
      var s = r3[o];
      if (e = s.evaluate(t), n = null, e instanceof At)
        return e;
      if (typeof e == "string") {
        var a = t.parseColor(e);
        if (a)
          return a;
      } else if (Array.isArray(e) && (e.length < 3 || e.length > 4 ? n = "Invalid rbga value " + JSON.stringify(e) + ": expected an array containing either three or four numeric values." : n = km(e[0], e[1], e[2], e[3]), !n))
        return new At(e[0] / 255, e[1] / 255, e[2] / 255, e[3]);
    }
    throw new se(n || "Could not parse color from value '" + (typeof e == "string" ? e : String(JSON.stringify(e))) + "'");
  } else if (this.type.kind === "number") {
    for (var l = null, h = 0, u = this.args; h < u.length; h += 1) {
      var d = u[h];
      if (l = d.evaluate(t), l === null)
        return 0;
      var c = Number(l);
      if (!isNaN(c))
        return c;
    }
    throw new se("Could not convert " + JSON.stringify(l) + " to number.");
  } else
    return this.type.kind === "formatted" ? Oe.fromString(Or(this.args[0].evaluate(t))) : this.type.kind === "resolvedImage" ? yi.fromString(Or(this.args[0].evaluate(t))) : Or(this.args[0].evaluate(t));
};
He.prototype.eachChild = function(t) {
  this.args.forEach(t);
};
He.prototype.outputDefined = function() {
  return this.args.every(function(t) {
    return t.outputDefined();
  });
};
He.prototype.serialize = function() {
  if (this.type.kind === "formatted")
    return new vn([{
      content: this.args[0],
      scale: null,
      font: null,
      textColor: null
    }]).serialize();
  if (this.type.kind === "resolvedImage")
    return new _n(this.args[0]).serialize();
  var t = ["to-" + this.type.kind];
  return this.eachChild(function(e) {
    t.push(e.serialize());
  }), t;
};
var sb = [
  "Unknown",
  "Point",
  "LineString",
  "Polygon"
], Gi = function() {
  this.globals = null, this.feature = null, this.featureState = null, this.formattedSection = null, this._parseColorCache = {}, this.availableImages = null, this.canonical = null, this.featureTileCoord = null, this.featureDistanceData = null;
};
Gi.prototype.id = function() {
  return this.feature && "id" in this.feature && this.feature.id ? this.feature.id : null;
};
Gi.prototype.geometryType = function() {
  return this.feature ? typeof this.feature.type == "number" ? sb[this.feature.type] : this.feature.type : null;
};
Gi.prototype.geometry = function() {
  return this.feature && "geometry" in this.feature ? this.feature.geometry : null;
};
Gi.prototype.canonicalID = function() {
  return this.canonical;
};
Gi.prototype.properties = function() {
  return this.feature && this.feature.properties || {};
};
Gi.prototype.distanceFromCenter = function() {
  if (this.featureTileCoord && this.featureDistanceData) {
    var t = this.featureDistanceData.center, e = this.featureDistanceData.scale, n = this.featureTileCoord, o = n.x, r3 = n.y, s = o * e - t[0], a = r3 * e - t[1], l = this.featureDistanceData.bearing[0], h = this.featureDistanceData.bearing[1], u = l * s + h * a;
    return u;
  }
  return 0;
};
Gi.prototype.parseColor = function(t) {
  var e = this._parseColorCache[t];
  return e || (e = this._parseColorCache[t] = At.parse(t)), e;
};
var ye = function(t, e, n, o) {
  this.name = t, this.type = e, this._evaluate = n, this.args = o;
};
ye.prototype.evaluate = function(t) {
  return this._evaluate(t, this.args);
};
ye.prototype.eachChild = function(t) {
  this.args.forEach(t);
};
ye.prototype.outputDefined = function() {
  return false;
};
ye.prototype.serialize = function() {
  return [this.name].concat(this.args.map(function(t) {
    return t.serialize();
  }));
};
ye.parse = function(t, e) {
  var n, o = t[0], r3 = ye.definitions[o];
  if (!r3)
    return e.error('Unknown expression "' + o + '". If you wanted a literal array, use ["literal", [...]].', 0);
  for (var s = Array.isArray(r3) ? r3[0] : r3.type, a = Array.isArray(r3) ? [[
    r3[1],
    r3[2]
  ]] : r3.overloads, l = a.filter(
    function(A) {
      var st = A[0];
      return !Array.isArray(st) || st.length === t.length - 1;
    }
  ), h = null, u = 0, d = l; u < d.length; u += 1) {
    var c = d[u], g = c[0], f = c[1];
    h = new bn(e.registry, e.path, null, e.scope);
    for (var m = [], p = false, _ = 1; _ < t.length; _++) {
      var v = t[_], y = Array.isArray(g) ? g[_ - 1] : g.type, x = h.parse(v, 1 + m.length, y);
      if (!x) {
        p = true;
        break;
      }
      m.push(x);
    }
    if (!p) {
      if (Array.isArray(g) && g.length !== m.length) {
        h.error("Expected " + g.length + " arguments, but found " + m.length + " instead.");
        continue;
      }
      for (var k = 0; k < m.length; k++) {
        var w = Array.isArray(g) ? g[k] : g.type, E = m[k];
        h.concat(k + 1).checkSubtype(w, E.type);
      }
      if (h.errors.length === 0)
        return new ye(o, s, f, m);
    }
  }
  if (l.length === 1)
    (n = e.errors).push.apply(n, h.errors);
  else {
    for (var C = l.length ? l : a, S = C.map(function(A) {
      var st = A[0];
      return ab(st);
    }).join(" | "), z = [], P = 1; P < t.length; P++) {
      var N = e.parse(t[P], 1 + z.length);
      if (!N)
        return null;
      z.push(Yt(N.type));
    }
    e.error("Expected arguments of type " + S + ", but found (" + z.join(", ") + ") instead.");
  }
  return null;
};
ye.register = function(t, e) {
  ye.definitions = e;
  for (var n in e)
    t[n] = ye;
};
function ab(i) {
  return Array.isArray(i) ? "(" + i.map(Yt).join(", ") + ")" : "(" + Yt(i.type) + "...)";
}
var yn = function(t, e, n) {
  this.type = rl, this.locale = n, this.caseSensitive = t, this.diacriticSensitive = e;
};
yn.parse = function(t, e) {
  if (t.length !== 2)
    return e.error("Expected one argument.");
  var n = t[1];
  if (typeof n != "object" || Array.isArray(n))
    return e.error("Collator options argument must be an object.");
  var o = e.parse(n["case-sensitive"] === void 0 ? false : n["case-sensitive"], 1, at);
  if (!o)
    return null;
  var r3 = e.parse(n["diacritic-sensitive"] === void 0 ? false : n["diacritic-sensitive"], 1, at);
  if (!r3)
    return null;
  var s = null;
  return n.locale && (s = e.parse(n.locale, 1, mt), !s) ? null : new yn(o, r3, s);
};
yn.prototype.evaluate = function(t) {
  return new ys(this.caseSensitive.evaluate(t), this.diacriticSensitive.evaluate(t), this.locale ? this.locale.evaluate(t) : null);
};
yn.prototype.eachChild = function(t) {
  t(this.caseSensitive), t(this.diacriticSensitive), this.locale && t(this.locale);
};
yn.prototype.outputDefined = function() {
  return false;
};
yn.prototype.serialize = function() {
  var t = {};
  return t["case-sensitive"] = this.caseSensitive.serialize(), t["diacritic-sensitive"] = this.diacriticSensitive.serialize(), this.locale && (t.locale = this.locale.serialize()), [
    "collator",
    t
  ];
};
var un = 8192;
function hd(i, t) {
  i[0] = Math.min(i[0], t[0]), i[1] = Math.min(i[1], t[1]), i[2] = Math.max(i[2], t[0]), i[3] = Math.max(i[3], t[1]);
}
function lb(i) {
  return (180 + i) / 360;
}
function hb(i) {
  return (180 - 180 / Math.PI * Math.log(Math.tan(Math.PI / 4 + i * Math.PI / 360))) / 360;
}
function Sa(i, t) {
  return !(i[0] <= t[0] || i[2] >= t[2] || i[1] <= t[1] || i[3] >= t[3]);
}
function ub(i, t) {
  var e = lb(i[0]), n = hb(i[1]), o = Math.pow(2, t.z);
  return [
    Math.round(e * o * un),
    Math.round(n * o * un)
  ];
}
function db(i, t, e) {
  var n = i[0] - t[0], o = i[1] - t[1], r3 = i[0] - e[0], s = i[1] - e[1];
  return n * s - r3 * o === 0 && n * r3 <= 0 && o * s <= 0;
}
function cb(i, t, e) {
  return t[1] > i[1] != e[1] > i[1] && i[0] < (e[0] - t[0]) * (i[1] - t[1]) / (e[1] - t[1]) + t[0];
}
function ud(i, t) {
  for (var e = false, n = 0, o = t.length; n < o; n++)
    for (var r3 = t[n], s = 0, a = r3.length; s < a - 1; s++) {
      if (db(i, r3[s], r3[s + 1]))
        return false;
      cb(i, r3[s], r3[s + 1]) && (e = !e);
    }
  return e;
}
function gb(i, t) {
  for (var e = 0; e < t.length; e++)
    if (ud(i, t[e]))
      return true;
  return false;
}
function fb(i, t) {
  return i[0] * t[1] - i[1] * t[0];
}
function qc(i, t, e, n) {
  var o = i[0] - e[0], r3 = i[1] - e[1], s = t[0] - e[0], a = t[1] - e[1], l = n[0] - e[0], h = n[1] - e[1], u = o * h - l * r3, d = s * h - l * a;
  return u > 0 && d < 0 || u < 0 && d > 0;
}
function mb(i, t, e, n) {
  var o = [
    t[0] - i[0],
    t[1] - i[1]
  ], r3 = [
    n[0] - e[0],
    n[1] - e[1]
  ];
  return fb(r3, o) === 0 ? false : !!(qc(i, t, e, n) && qc(e, n, i, t));
}
function pb(i, t, e) {
  for (var n = 0, o = e; n < o.length; n += 1)
    for (var r3 = o[n], s = 0; s < r3.length - 1; ++s)
      if (mb(i, t, r3[s], r3[s + 1]))
        return true;
  return false;
}
function wm(i, t) {
  for (var e = 0; e < i.length; ++e)
    if (!ud(i[e], t))
      return false;
  for (var n = 0; n < i.length - 1; ++n)
    if (pb(i[n], i[n + 1], t))
      return false;
  return true;
}
function vb(i, t) {
  for (var e = 0; e < t.length; e++)
    if (wm(i, t[e]))
      return true;
  return false;
}
function dd(i, t, e) {
  for (var n = [], o = 0; o < i.length; o++) {
    for (var r3 = [], s = 0; s < i[o].length; s++) {
      var a = ub(i[o][s], e);
      hd(t, a), r3.push(a);
    }
    n.push(r3);
  }
  return n;
}
function Cm(i, t, e) {
  for (var n = [], o = 0; o < i.length; o++) {
    var r3 = dd(i[o], t, e);
    n.push(r3);
  }
  return n;
}
function Mm(i, t, e, n) {
  if (i[0] < e[0] || i[0] > e[2]) {
    var o = n * 0.5, r3 = i[0] - e[0] > o ? -n : e[0] - i[0] > o ? n : 0;
    r3 === 0 && (r3 = i[0] - e[2] > o ? -n : e[2] - i[0] > o ? n : 0), i[0] += r3;
  }
  hd(t, i);
}
function _b(i) {
  i[0] = i[1] = 1 / 0, i[2] = i[3] = -1 / 0;
}
function $c(i, t, e, n) {
  var o = Math.pow(2, n.z) * un, r3 = [
    n.x * un,
    n.y * un
  ], s = [];
  if (!i)
    return s;
  for (var a = 0, l = i; a < l.length; a += 1)
    for (var h = l[a], u = 0, d = h; u < d.length; u += 1) {
      var c = d[u], g = [
        c.x + r3[0],
        c.y + r3[1]
      ];
      Mm(g, t, e, o), s.push(g);
    }
  return s;
}
function Hc(i, t, e, n) {
  var o = Math.pow(2, n.z) * un, r3 = [
    n.x * un,
    n.y * un
  ], s = [];
  if (!i)
    return s;
  for (var a = 0, l = i; a < l.length; a += 1) {
    for (var h = l[a], u = [], d = 0, c = h; d < c.length; d += 1) {
      var g = c[d], f = [
        g.x + r3[0],
        g.y + r3[1]
      ];
      hd(t, f), u.push(f);
    }
    s.push(u);
  }
  if (t[2] - t[0] <= o / 2) {
    _b(t);
    for (var m = 0, p = s; m < p.length; m += 1)
      for (var _ = p[m], v = 0, y = _; v < y.length; v += 1) {
        var x = y[v];
        Mm(x, t, e, o);
      }
  }
  return s;
}
function yb(i, t) {
  var e = [
    1 / 0,
    1 / 0,
    -1 / 0,
    -1 / 0
  ], n = [
    1 / 0,
    1 / 0,
    -1 / 0,
    -1 / 0
  ], o = i.canonicalID();
  if (!o)
    return false;
  if (t.type === "Polygon") {
    var r3 = dd(t.coordinates, n, o), s = $c(i.geometry(), e, n, o);
    if (!Sa(e, n))
      return false;
    for (var a = 0, l = s; a < l.length; a += 1) {
      var h = l[a];
      if (!ud(h, r3))
        return false;
    }
  }
  if (t.type === "MultiPolygon") {
    var u = Cm(t.coordinates, n, o), d = $c(i.geometry(), e, n, o);
    if (!Sa(e, n))
      return false;
    for (var c = 0, g = d; c < g.length; c += 1) {
      var f = g[c];
      if (!gb(f, u))
        return false;
    }
  }
  return true;
}
function xb(i, t) {
  var e = [
    1 / 0,
    1 / 0,
    -1 / 0,
    -1 / 0
  ], n = [
    1 / 0,
    1 / 0,
    -1 / 0,
    -1 / 0
  ], o = i.canonicalID();
  if (!o)
    return false;
  if (t.type === "Polygon") {
    var r3 = dd(t.coordinates, n, o), s = Hc(i.geometry(), e, n, o);
    if (!Sa(e, n))
      return false;
    for (var a = 0, l = s; a < l.length; a += 1) {
      var h = l[a];
      if (!wm(h, r3))
        return false;
    }
  }
  if (t.type === "MultiPolygon") {
    var u = Cm(t.coordinates, n, o), d = Hc(i.geometry(), e, n, o);
    if (!Sa(e, n))
      return false;
    for (var c = 0, g = d; c < g.length; c += 1) {
      var f = g[c];
      if (!vb(f, u))
        return false;
    }
  }
  return true;
}
var oi = function(t, e) {
  this.type = at, this.geojson = t, this.geometries = e;
};
oi.parse = function(t, e) {
  if (t.length !== 2)
    return e.error("'within' expression requires exactly one argument, but found " + (t.length - 1) + " instead.");
  if (Ea(t[1])) {
    var n = t[1];
    if (n.type === "FeatureCollection")
      for (var o = 0; o < n.features.length; ++o) {
        var r3 = n.features[o].geometry.type;
        if (r3 === "Polygon" || r3 === "MultiPolygon")
          return new oi(n, n.features[o].geometry);
      }
    else if (n.type === "Feature") {
      var s = n.geometry.type;
      if (s === "Polygon" || s === "MultiPolygon")
        return new oi(n, n.geometry);
    } else if (n.type === "Polygon" || n.type === "MultiPolygon")
      return new oi(n, n);
  }
  return e.error("'within' expression requires valid geojson object that contains polygon geometry type.");
};
oi.prototype.evaluate = function(t) {
  if (t.geometry() != null && t.canonicalID() != null) {
    if (t.geometryType() === "Point")
      return yb(t, this.geometries);
    if (t.geometryType() === "LineString")
      return xb(t, this.geometries);
  }
  return false;
};
oi.prototype.eachChild = function() {
};
oi.prototype.outputDefined = function() {
  return true;
};
oi.prototype.serialize = function() {
  return [
    "within",
    this.geojson
  ];
};
function al(i) {
  if (i instanceof ye) {
    if (i.name === "get" && i.args.length === 1)
      return false;
    if (i.name === "feature-state")
      return false;
    if (i.name === "has" && i.args.length === 1)
      return false;
    if (i.name === "properties" || i.name === "geometry-type" || i.name === "id")
      return false;
    if (/^filter-/.test(i.name))
      return false;
  }
  if (i instanceof oi)
    return false;
  var t = true;
  return i.eachChild(function(e) {
    t && !al(e) && (t = false);
  }), t;
}
function cd(i) {
  if (i instanceof ye && i.name === "feature-state")
    return false;
  var t = true;
  return i.eachChild(function(e) {
    t && !cd(e) && (t = false);
  }), t;
}
function gd(i, t) {
  if (i instanceof ye && t.indexOf(i.name) >= 0)
    return false;
  var e = true;
  return i.eachChild(function(n) {
    e && !gd(n, t) && (e = false);
  }), e;
}
var xn = function(t, e) {
  this.type = e.type, this.name = t, this.boundExpression = e;
};
xn.parse = function(t, e) {
  if (t.length !== 2 || typeof t[1] != "string")
    return e.error("'var' expression requires exactly one string literal argument.");
  var n = t[1];
  return e.scope.has(n) ? new xn(n, e.scope.get(n)) : e.error('Unknown variable "' + n + '". Make sure "' + n + '" has been bound in an enclosing "let" expression before using it.', 1);
};
xn.prototype.evaluate = function(t) {
  return this.boundExpression.evaluate(t);
};
xn.prototype.eachChild = function() {
};
xn.prototype.outputDefined = function() {
  return false;
};
xn.prototype.serialize = function() {
  return [
    "var",
    this.name
  ];
};
var bn = function(t, e, n, o, r3) {
  e === void 0 && (e = []), o === void 0 && (o = new es()), r3 === void 0 && (r3 = []), this.registry = t, this.path = e, this.key = e.map(function(s) {
    return "[" + s + "]";
  }).join(""), this.scope = o, this.errors = r3, this.expectedType = n;
};
bn.prototype.parse = function(t, e, n, o, r3) {
  return r3 === void 0 && (r3 = {}), e ? this.concat(e, n, o)._parse(t, r3) : this._parse(t, r3);
};
bn.prototype._parse = function(t, e) {
  (t === null || typeof t == "string" || typeof t == "boolean" || typeof t == "number") && (t = [
    "literal",
    t
  ]);
  function n(u, d, c) {
    return c === "assert" ? new Se(d, [u]) : c === "coerce" ? new He(d, [u]) : u;
  }
  if (Array.isArray(t)) {
    if (t.length === 0)
      return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');
    var o = t[0];
    if (typeof o != "string")
      return this.error("Expression name must be a string, but found " + typeof o + ' instead. If you wanted a literal array, use ["literal", [...]].', 0), null;
    var r3 = this.registry[o];
    if (r3) {
      var s = r3.parse(t, this);
      if (!s)
        return null;
      if (this.expectedType) {
        var a = this.expectedType, l = s.type;
        if ((a.kind === "string" || a.kind === "number" || a.kind === "boolean" || a.kind === "object" || a.kind === "array") && l.kind === "value")
          s = n(s, a, e.typeAnnotation || "assert");
        else if ((a.kind === "color" || a.kind === "formatted" || a.kind === "resolvedImage") && (l.kind === "value" || l.kind === "string"))
          s = n(s, a, e.typeAnnotation || "coerce");
        else if (this.checkSubtype(a, l))
          return null;
      }
      if (!(s instanceof xi) && s.type.kind !== "resolvedImage" && Lh(s)) {
        var h = new Gi();
        try {
          s = new xi(s.type, s.evaluate(h));
        } catch (u) {
          return this.error(u.message), null;
        }
      }
      return s;
    }
    return this.error('Unknown expression "' + o + '". If you wanted a literal array, use ["literal", [...]].', 0);
  } else
    return typeof t > "u" ? this.error("'undefined' value invalid. Use null instead.") : typeof t == "object" ? this.error('Bare objects invalid. Use ["literal", {...}] instead.') : this.error("Expected an array, but found " + typeof t + " instead.");
};
bn.prototype.concat = function(t, e, n) {
  var o = typeof t == "number" ? this.path.concat(t) : this.path, r3 = n ? this.scope.concat(n) : this.scope;
  return new bn(this.registry, o, e || null, r3, this.errors);
};
bn.prototype.error = function(t) {
  for (var e = [], n = arguments.length - 1; n-- > 0; )
    e[n] = arguments[n + 1];
  var o = "" + this.key + e.map(function(r3) {
    return "[" + r3 + "]";
  }).join("");
  this.errors.push(new gi(o, t));
};
bn.prototype.checkSubtype = function(t, e) {
  var n = is(t, e);
  return n && this.error(n), n;
};
function Lh(i) {
  if (i instanceof xn)
    return Lh(i.boundExpression);
  if (i instanceof ye && i.name === "error")
    return false;
  if (i instanceof yn)
    return false;
  if (i instanceof oi)
    return false;
  var t = i instanceof He || i instanceof Se, e = true;
  return i.eachChild(function(n) {
    t ? e = e && Lh(n) : e = e && n instanceof xi;
  }), e ? al(i) && gd(i, [
    "zoom",
    "heatmap-density",
    "line-progress",
    "sky-radial-progress",
    "accumulated",
    "is-supported-script",
    "pitch",
    "distance-from-center"
  ]) : false;
}
function Em(i, t) {
  for (var e = i.length - 1, n = 0, o = e, r3 = 0, s, a; n <= o; )
    if (r3 = Math.floor((n + o) / 2), s = i[r3], a = i[r3 + 1], s <= t) {
      if (r3 === e || t < a)
        return r3;
      n = r3 + 1;
    } else if (s > t)
      o = r3 - 1;
    else
      throw new se("Input is not a number.");
  return 0;
}
var kn = function(t, e, n) {
  this.type = t, this.input = e, this.labels = [], this.outputs = [];
  for (var o = 0, r3 = n; o < r3.length; o += 1) {
    var s = r3[o], a = s[0], l = s[1];
    this.labels.push(a), this.outputs.push(l);
  }
};
kn.parse = function(t, e) {
  if (t.length - 1 < 4)
    return e.error("Expected at least 4 arguments, but found only " + (t.length - 1) + ".");
  if ((t.length - 1) % 2 !== 0)
    return e.error("Expected an even number of arguments.");
  var n = e.parse(t[1], 1, L);
  if (!n)
    return null;
  var o = [], r3 = null;
  e.expectedType && e.expectedType.kind !== "value" && (r3 = e.expectedType);
  for (var s = 1; s < t.length; s += 2) {
    var a = s === 1 ? -1 / 0 : t[s], l = t[s + 1], h = s, u = s + 1;
    if (typeof a != "number")
      return e.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.', h);
    if (o.length && o[o.length - 1][0] >= a)
      return e.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.', h);
    var d = e.parse(l, u, r3);
    if (!d)
      return null;
    r3 = r3 || d.type, o.push([
      a,
      d
    ]);
  }
  return new kn(r3, n, o);
};
kn.prototype.evaluate = function(t) {
  var e = this.labels, n = this.outputs;
  if (e.length === 1)
    return n[0].evaluate(t);
  var o = this.input.evaluate(t);
  if (o <= e[0])
    return n[0].evaluate(t);
  var r3 = e.length;
  if (o >= e[r3 - 1])
    return n[r3 - 1].evaluate(t);
  var s = Em(e, o);
  return n[s].evaluate(t);
};
kn.prototype.eachChild = function(t) {
  t(this.input);
  for (var e = 0, n = this.outputs; e < n.length; e += 1) {
    var o = n[e];
    t(o);
  }
};
kn.prototype.outputDefined = function() {
  return this.outputs.every(function(t) {
    return t.outputDefined();
  });
};
kn.prototype.serialize = function() {
  for (var t = [
    "step",
    this.input.serialize()
  ], e = 0; e < this.labels.length; e++)
    e > 0 && t.push(this.labels[e]), t.push(this.outputs[e].serialize());
  return t;
};
var bb = lr;
function lr(i, t, e, n) {
  this.cx = 3 * i, this.bx = 3 * (e - i) - this.cx, this.ax = 1 - this.cx - this.bx, this.cy = 3 * t, this.by = 3 * (n - t) - this.cy, this.ay = 1 - this.cy - this.by, this.p1x = i, this.p1y = n, this.p2x = e, this.p2y = n;
}
lr.prototype.sampleCurveX = function(i) {
  return ((this.ax * i + this.bx) * i + this.cx) * i;
};
lr.prototype.sampleCurveY = function(i) {
  return ((this.ay * i + this.by) * i + this.cy) * i;
};
lr.prototype.sampleCurveDerivativeX = function(i) {
  return (3 * this.ax * i + 2 * this.bx) * i + this.cx;
};
lr.prototype.solveCurveX = function(i, t) {
  typeof t > "u" && (t = 1e-6);
  var e, n, o, r3, s;
  for (o = i, s = 0; s < 8; s++) {
    if (r3 = this.sampleCurveX(o) - i, Math.abs(r3) < t)
      return o;
    var a = this.sampleCurveDerivativeX(o);
    if (Math.abs(a) < 1e-6)
      break;
    o = o - r3 / a;
  }
  if (e = 0, n = 1, o = i, o < e)
    return e;
  if (o > n)
    return n;
  for (; e < n; ) {
    if (r3 = this.sampleCurveX(o), Math.abs(r3 - i) < t)
      return o;
    i > r3 ? e = o : n = o, o = (n - e) * 0.5 + e;
  }
  return o;
};
lr.prototype.solve = function(i, t) {
  return this.sampleCurveY(this.solveCurveX(i, t));
};
function Ye(i, t, e) {
  return i * (1 - e) + t * e;
}
function kb(i, t, e) {
  return new At(Ye(i.r, t.r, e), Ye(i.g, t.g, e), Ye(i.b, t.b, e), Ye(i.a, t.a, e));
}
function wb(i, t, e) {
  return i.map(function(n, o) {
    return Ye(n, t[o], e);
  });
}
var Cb = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  number: Ye,
  color: kb,
  array: wb
}), Sm = 0.95047, Tm = 1, Im = 1.08883, zm = 4 / 29, Wo = 6 / 29, Rm = 3 * Wo * Wo, Mb = Wo * Wo * Wo, Eb = Math.PI / 180, Sb = 180 / Math.PI;
function Hl(i) {
  return i > Mb ? Math.pow(i, 1 / 3) : i / Rm + zm;
}
function Kl(i) {
  return i > Wo ? i * i * i : Rm * (i - zm);
}
function Jl(i) {
  return 255 * (i <= 31308e-7 ? 12.92 * i : 1.055 * Math.pow(i, 1 / 2.4) - 0.055);
}
function Ql(i) {
  return i /= 255, i <= 0.04045 ? i / 12.92 : Math.pow((i + 0.055) / 1.055, 2.4);
}
function Am(i) {
  var t = Ql(i.r), e = Ql(i.g), n = Ql(i.b), o = Hl((0.4124564 * t + 0.3575761 * e + 0.1804375 * n) / Sm), r3 = Hl((0.2126729 * t + 0.7151522 * e + 0.072175 * n) / Tm), s = Hl((0.0193339 * t + 0.119192 * e + 0.9503041 * n) / Im);
  return {
    l: 116 * r3 - 16,
    a: 500 * (o - r3),
    b: 200 * (r3 - s),
    alpha: i.a
  };
}
function Pm(i) {
  var t = (i.l + 16) / 116, e = isNaN(i.a) ? t : t + i.a / 500, n = isNaN(i.b) ? t : t - i.b / 200;
  return t = Tm * Kl(t), e = Sm * Kl(e), n = Im * Kl(n), new At(
    Jl(3.2404542 * e - 1.5371385 * t - 0.4985314 * n),
    Jl(-0.969266 * e + 1.8760108 * t + 0.041556 * n),
    Jl(0.0556434 * e - 0.2040259 * t + 1.0572252 * n),
    i.alpha
  );
}
function Tb(i, t, e) {
  return {
    l: Ye(i.l, t.l, e),
    a: Ye(i.a, t.a, e),
    b: Ye(i.b, t.b, e),
    alpha: Ye(i.alpha, t.alpha, e)
  };
}
function Ib(i) {
  var t = Am(i), e = t.l, n = t.a, o = t.b, r3 = Math.atan2(o, n) * Sb;
  return {
    h: r3 < 0 ? r3 + 360 : r3,
    c: Math.sqrt(n * n + o * o),
    l: e,
    alpha: i.a
  };
}
function zb(i) {
  var t = i.h * Eb, e = i.c, n = i.l;
  return Pm({
    l: n,
    a: Math.cos(t) * e,
    b: Math.sin(t) * e,
    alpha: i.alpha
  });
}
function Rb(i, t, e) {
  var n = t - i;
  return i + e * (n > 180 || n < -180 ? n - 360 * Math.round(n / 360) : n);
}
function Ab(i, t, e) {
  return {
    h: Rb(i.h, t.h, e),
    c: Ye(i.c, t.c, e),
    l: Ye(i.l, t.l, e),
    alpha: Ye(i.alpha, t.alpha, e)
  };
}
var Vs = {
  forward: Am,
  reverse: Pm,
  interpolate: Tb
}, qs = {
  forward: Ib,
  reverse: zb,
  interpolate: Ab
}, ze = function(t, e, n, o, r3) {
  this.type = t, this.operator = e, this.interpolation = n, this.input = o, this.labels = [], this.outputs = [];
  for (var s = 0, a = r3; s < a.length; s += 1) {
    var l = a[s], h = l[0], u = l[1];
    this.labels.push(h), this.outputs.push(u);
  }
};
ze.interpolationFactor = function(t, e, n, o) {
  var r3 = 0;
  if (t.name === "exponential")
    r3 = th(e, t.base, n, o);
  else if (t.name === "linear")
    r3 = th(e, 1, n, o);
  else if (t.name === "cubic-bezier") {
    var s = t.controlPoints, a = new bb(s[0], s[1], s[2], s[3]);
    r3 = a.solve(th(e, 1, n, o));
  }
  return r3;
};
ze.parse = function(t, e) {
  var n = t[0], o = t[1], r3 = t[2], s = t.slice(3);
  if (!Array.isArray(o) || o.length === 0)
    return e.error("Expected an interpolation type expression.", 1);
  if (o[0] === "linear")
    o = { name: "linear" };
  else if (o[0] === "exponential") {
    var a = o[1];
    if (typeof a != "number")
      return e.error("Exponential interpolation requires a numeric base.", 1, 1);
    o = {
      name: "exponential",
      base: a
    };
  } else if (o[0] === "cubic-bezier") {
    var l = o.slice(1);
    if (l.length !== 4 || l.some(function(_) {
      return typeof _ != "number" || _ < 0 || _ > 1;
    }))
      return e.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.", 1);
    o = {
      name: "cubic-bezier",
      controlPoints: l
    };
  } else
    return e.error("Unknown interpolation type " + String(o[0]), 1, 0);
  if (t.length - 1 < 4)
    return e.error("Expected at least 4 arguments, but found only " + (t.length - 1) + ".");
  if ((t.length - 1) % 2 !== 0)
    return e.error("Expected an even number of arguments.");
  if (r3 = e.parse(r3, 2, L), !r3)
    return null;
  var h = [], u = null;
  n === "interpolate-hcl" || n === "interpolate-lab" ? u = Oi : e.expectedType && e.expectedType.kind !== "value" && (u = e.expectedType);
  for (var d = 0; d < s.length; d += 2) {
    var c = s[d], g = s[d + 1], f = d + 3, m = d + 4;
    if (typeof c != "number")
      return e.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.', f);
    if (h.length && h[h.length - 1][0] >= c)
      return e.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.', f);
    var p = e.parse(g, m, u);
    if (!p)
      return null;
    u = u || p.type, h.push([
      c,
      p
    ]);
  }
  return u.kind !== "number" && u.kind !== "color" && !(u.kind === "array" && u.itemType.kind === "number" && typeof u.N == "number") ? e.error("Type " + Yt(u) + " is not interpolatable.") : new ze(u, n, o, r3, h);
};
ze.prototype.evaluate = function(t) {
  var e = this.labels, n = this.outputs;
  if (e.length === 1)
    return n[0].evaluate(t);
  var o = this.input.evaluate(t);
  if (o <= e[0])
    return n[0].evaluate(t);
  var r3 = e.length;
  if (o >= e[r3 - 1])
    return n[r3 - 1].evaluate(t);
  var s = Em(e, o), a = e[s], l = e[s + 1], h = ze.interpolationFactor(this.interpolation, o, a, l), u = n[s].evaluate(t), d = n[s + 1].evaluate(t);
  return this.operator === "interpolate" ? Cb[this.type.kind.toLowerCase()](u, d, h) : this.operator === "interpolate-hcl" ? qs.reverse(qs.interpolate(qs.forward(u), qs.forward(d), h)) : Vs.reverse(Vs.interpolate(Vs.forward(u), Vs.forward(d), h));
};
ze.prototype.eachChild = function(t) {
  t(this.input);
  for (var e = 0, n = this.outputs; e < n.length; e += 1) {
    var o = n[e];
    t(o);
  }
};
ze.prototype.outputDefined = function() {
  return this.outputs.every(function(t) {
    return t.outputDefined();
  });
};
ze.prototype.serialize = function() {
  var t;
  this.interpolation.name === "linear" ? t = ["linear"] : this.interpolation.name === "exponential" ? this.interpolation.base === 1 ? t = ["linear"] : t = [
    "exponential",
    this.interpolation.base
  ] : t = ["cubic-bezier"].concat(this.interpolation.controlPoints);
  for (var e = [
    this.operator,
    t,
    this.input.serialize()
  ], n = 0; n < this.labels.length; n++)
    e.push(this.labels[n], this.outputs[n].serialize());
  return e;
};
function th(i, t, e, n) {
  var o = n - e, r3 = i - e;
  return o === 0 ? 0 : t === 1 ? r3 / o : (Math.pow(t, r3) - 1) / (Math.pow(t, o) - 1);
}
var Fi = function(t, e) {
  this.type = t, this.args = e;
};
Fi.parse = function(t, e) {
  if (t.length < 2)
    return e.error("Expectected at least one argument.");
  var n = null, o = e.expectedType;
  o && o.kind !== "value" && (n = o);
  for (var r3 = [], s = 0, a = t.slice(1); s < a.length; s += 1) {
    var l = a[s], h = e.parse(l, 1 + r3.length, n, void 0, { typeAnnotation: "omit" });
    if (!h)
      return null;
    n = n || h.type, r3.push(h);
  }
  var u = o && r3.some(function(d) {
    return is(o, d.type);
  });
  return u ? new Fi(lt, r3) : new Fi(n, r3);
};
Fi.prototype.evaluate = function(t) {
  for (var e = null, n = 0, o, r3 = 0, s = this.args; r3 < s.length; r3 += 1) {
    var a = s[r3];
    if (n++, e = a.evaluate(t), e && e instanceof yi && !e.available && (o || (o = e), e = null, n === this.args.length))
      return o;
    if (e !== null)
      break;
  }
  return e;
};
Fi.prototype.eachChild = function(t) {
  this.args.forEach(t);
};
Fi.prototype.outputDefined = function() {
  return this.args.every(function(t) {
    return t.outputDefined();
  });
};
Fi.prototype.serialize = function() {
  var t = ["coalesce"];
  return this.eachChild(function(e) {
    t.push(e.serialize());
  }), t;
};
var wn = function(t, e) {
  this.type = e.type, this.bindings = [].concat(t), this.result = e;
};
wn.prototype.evaluate = function(t) {
  return this.result.evaluate(t);
};
wn.prototype.eachChild = function(t) {
  for (var e = 0, n = this.bindings; e < n.length; e += 1) {
    var o = n[e];
    t(o[1]);
  }
  t(this.result);
};
wn.parse = function(t, e) {
  if (t.length < 4)
    return e.error("Expected at least 3 arguments, but found " + (t.length - 1) + " instead.");
  for (var n = [], o = 1; o < t.length - 1; o += 2) {
    var r3 = t[o];
    if (typeof r3 != "string")
      return e.error("Expected string, but found " + typeof r3 + " instead.", o);
    if (/[^a-zA-Z0-9_]/.test(r3))
      return e.error("Variable names must contain only alphanumeric characters or '_'.", o);
    var s = e.parse(t[o + 1], o + 1);
    if (!s)
      return null;
    n.push([
      r3,
      s
    ]);
  }
  var a = e.parse(t[t.length - 1], t.length - 1, e.expectedType, n);
  return a ? new wn(n, a) : null;
};
wn.prototype.outputDefined = function() {
  return this.result.outputDefined();
};
wn.prototype.serialize = function() {
  for (var t = ["let"], e = 0, n = this.bindings; e < n.length; e += 1) {
    var o = n[e], r3 = o[0], s = o[1];
    t.push(r3, s.serialize());
  }
  return t.push(this.result.serialize()), t;
};
var no = function(t, e, n) {
  this.type = t, this.index = e, this.input = n;
};
no.parse = function(t, e) {
  if (t.length !== 3)
    return e.error("Expected 2 arguments, but found " + (t.length - 1) + " instead.");
  var n = e.parse(t[1], 1, L), o = e.parse(t[2], 2, qe(e.expectedType || lt));
  if (!n || !o)
    return null;
  var r3 = o.type;
  return new no(r3.itemType, n, o);
};
no.prototype.evaluate = function(t) {
  var e = this.index.evaluate(t), n = this.input.evaluate(t);
  if (e < 0)
    throw new se("Array index out of bounds: " + e + " < 0.");
  if (e >= n.length)
    throw new se("Array index out of bounds: " + e + " > " + (n.length - 1) + ".");
  if (e !== Math.floor(e))
    throw new se("Array index must be an integer, but found " + e + " instead.");
  return n[e];
};
no.prototype.eachChild = function(t) {
  t(this.index), t(this.input);
};
no.prototype.outputDefined = function() {
  return false;
};
no.prototype.serialize = function() {
  return [
    "at",
    this.index.serialize(),
    this.input.serialize()
  ];
};
var oo = function(t, e) {
  this.type = at, this.needle = t, this.haystack = e;
};
oo.parse = function(t, e) {
  if (t.length !== 3)
    return e.error("Expected 2 arguments, but found " + (t.length - 1) + " instead.");
  var n = e.parse(t[1], 1, lt), o = e.parse(t[2], 2, lt);
  return !n || !o ? null : ld(n.type, [
    at,
    mt,
    L,
    ol,
    lt
  ]) ? new oo(n, o) : e.error("Expected first argument to be of type boolean, string, number or null, but found " + Yt(n.type) + " instead");
};
oo.prototype.evaluate = function(t) {
  var e = this.needle.evaluate(t), n = this.haystack.evaluate(t);
  if (n == null)
    return false;
  if (!ns(e, [
    "boolean",
    "string",
    "number",
    "null"
  ]))
    throw new se("Expected first argument to be of type boolean, string, number or null, but found " + Yt(ee(e)) + " instead.");
  if (!ns(n, [
    "string",
    "array"
  ]))
    throw new se("Expected second argument to be of type array or string, but found " + Yt(ee(n)) + " instead.");
  return n.indexOf(e) >= 0;
};
oo.prototype.eachChild = function(t) {
  t(this.needle), t(this.haystack);
};
oo.prototype.outputDefined = function() {
  return true;
};
oo.prototype.serialize = function() {
  return [
    "in",
    this.needle.serialize(),
    this.haystack.serialize()
  ];
};
var dn = function(t, e, n) {
  this.type = L, this.needle = t, this.haystack = e, this.fromIndex = n;
};
dn.parse = function(t, e) {
  if (t.length <= 2 || t.length >= 5)
    return e.error("Expected 3 or 4 arguments, but found " + (t.length - 1) + " instead.");
  var n = e.parse(t[1], 1, lt), o = e.parse(t[2], 2, lt);
  if (!n || !o)
    return null;
  if (!ld(n.type, [
    at,
    mt,
    L,
    ol,
    lt
  ]))
    return e.error("Expected first argument to be of type boolean, string, number or null, but found " + Yt(n.type) + " instead");
  if (t.length === 4) {
    var r3 = e.parse(t[3], 3, L);
    return r3 ? new dn(n, o, r3) : null;
  } else
    return new dn(n, o);
};
dn.prototype.evaluate = function(t) {
  var e = this.needle.evaluate(t), n = this.haystack.evaluate(t);
  if (!ns(e, [
    "boolean",
    "string",
    "number",
    "null"
  ]))
    throw new se("Expected first argument to be of type boolean, string, number or null, but found " + Yt(ee(e)) + " instead.");
  if (!ns(n, [
    "string",
    "array"
  ]))
    throw new se("Expected second argument to be of type array or string, but found " + Yt(ee(n)) + " instead.");
  if (this.fromIndex) {
    var o = this.fromIndex.evaluate(t);
    return n.indexOf(e, o);
  }
  return n.indexOf(e);
};
dn.prototype.eachChild = function(t) {
  t(this.needle), t(this.haystack), this.fromIndex && t(this.fromIndex);
};
dn.prototype.outputDefined = function() {
  return false;
};
dn.prototype.serialize = function() {
  if (this.fromIndex != null && this.fromIndex !== void 0) {
    var t = this.fromIndex.serialize();
    return [
      "index-of",
      this.needle.serialize(),
      this.haystack.serialize(),
      t
    ];
  }
  return [
    "index-of",
    this.needle.serialize(),
    this.haystack.serialize()
  ];
};
var ro = function(t, e, n, o, r3, s) {
  this.inputType = t, this.type = e, this.input = n, this.cases = o, this.outputs = r3, this.otherwise = s;
};
ro.parse = function(t, e) {
  if (t.length < 5)
    return e.error("Expected at least 4 arguments, but found only " + (t.length - 1) + ".");
  if (t.length % 2 !== 1)
    return e.error("Expected an even number of arguments.");
  var n, o;
  e.expectedType && e.expectedType.kind !== "value" && (o = e.expectedType);
  for (var r3 = {}, s = [], a = 2; a < t.length - 1; a += 2) {
    var l = t[a], h = t[a + 1];
    Array.isArray(l) || (l = [l]);
    var u = e.concat(a);
    if (l.length === 0)
      return u.error("Expected at least one branch label.");
    for (var d = 0, c = l; d < c.length; d += 1) {
      var g = c[d];
      if (typeof g != "number" && typeof g != "string")
        return u.error("Branch labels must be numbers or strings.");
      if (typeof g == "number" && Math.abs(g) > Number.MAX_SAFE_INTEGER)
        return u.error("Branch labels must be integers no larger than " + Number.MAX_SAFE_INTEGER + ".");
      if (typeof g == "number" && Math.floor(g) !== g)
        return u.error("Numeric branch labels must be integer values.");
      if (!n)
        n = ee(g);
      else if (u.checkSubtype(n, ee(g)))
        return null;
      if (typeof r3[String(g)] < "u")
        return u.error("Branch labels must be unique.");
      r3[String(g)] = s.length;
    }
    var f = e.parse(h, a, o);
    if (!f)
      return null;
    o = o || f.type, s.push(f);
  }
  var m = e.parse(t[1], 1, lt);
  if (!m)
    return null;
  var p = e.parse(t[t.length - 1], t.length - 1, o);
  return !p || m.type.kind !== "value" && e.concat(1).checkSubtype(n, m.type) ? null : new ro(n, o, m, r3, s, p);
};
ro.prototype.evaluate = function(t) {
  var e = this.input.evaluate(t), n = ee(e) === this.inputType && this.outputs[this.cases[e]] || this.otherwise;
  return n.evaluate(t);
};
ro.prototype.eachChild = function(t) {
  t(this.input), this.outputs.forEach(t), t(this.otherwise);
};
ro.prototype.outputDefined = function() {
  return this.outputs.every(function(t) {
    return t.outputDefined();
  }) && this.otherwise.outputDefined();
};
ro.prototype.serialize = function() {
  for (var t = this, e = [
    "match",
    this.input.serialize()
  ], n = Object.keys(this.cases).sort(), o = [], r3 = {}, s = 0, a = n; s < a.length; s += 1) {
    var l = a[s], h = r3[this.cases[l]];
    h === void 0 ? (r3[this.cases[l]] = o.length, o.push([
      this.cases[l],
      [l]
    ])) : o[h][1].push(l);
  }
  for (var u = function(m) {
    return t.inputType.kind === "number" ? Number(m) : m;
  }, d = 0, c = o; d < c.length; d += 1) {
    var g = c[d], h = g[0], f = g[1];
    f.length === 1 ? e.push(u(f[0])) : e.push(f.map(u)), e.push(this.outputs[outputIndex$1].serialize());
  }
  return e.push(this.otherwise.serialize()), e;
};
var so = function(t, e, n) {
  this.type = t, this.branches = e, this.otherwise = n;
};
so.parse = function(t, e) {
  if (t.length < 4)
    return e.error("Expected at least 3 arguments, but found only " + (t.length - 1) + ".");
  if (t.length % 2 !== 0)
    return e.error("Expected an odd number of arguments.");
  var n;
  e.expectedType && e.expectedType.kind !== "value" && (n = e.expectedType);
  for (var o = [], r3 = 1; r3 < t.length - 1; r3 += 2) {
    var s = e.parse(t[r3], r3, at);
    if (!s)
      return null;
    var a = e.parse(t[r3 + 1], r3 + 1, n);
    if (!a)
      return null;
    o.push([
      s,
      a
    ]), n = n || a.type;
  }
  var l = e.parse(t[t.length - 1], t.length - 1, n);
  return l ? new so(n, o, l) : null;
};
so.prototype.evaluate = function(t) {
  for (var e = 0, n = this.branches; e < n.length; e += 1) {
    var o = n[e], r3 = o[0], s = o[1];
    if (r3.evaluate(t))
      return s.evaluate(t);
  }
  return this.otherwise.evaluate(t);
};
so.prototype.eachChild = function(t) {
  for (var e = 0, n = this.branches; e < n.length; e += 1) {
    var o = n[e], r3 = o[0], s = o[1];
    t(r3), t(s);
  }
  t(this.otherwise);
};
so.prototype.outputDefined = function() {
  return this.branches.every(function(t) {
    t[0];
    var e = t[1];
    return e.outputDefined();
  }) && this.otherwise.outputDefined();
};
so.prototype.serialize = function() {
  var t = ["case"];
  return this.eachChild(function(e) {
    t.push(e.serialize());
  }), t;
};
var cn = function(t, e, n, o) {
  this.type = t, this.input = e, this.beginIndex = n, this.endIndex = o;
};
cn.parse = function(t, e) {
  if (t.length <= 2 || t.length >= 5)
    return e.error("Expected 3 or 4 arguments, but found " + (t.length - 1) + " instead.");
  var n = e.parse(t[1], 1, lt), o = e.parse(t[2], 2, L);
  if (!n || !o)
    return null;
  if (!ld(n.type, [
    qe(lt),
    mt,
    lt
  ]))
    return e.error("Expected first argument to be of type array or string, but found " + Yt(n.type) + " instead");
  if (t.length === 4) {
    var r3 = e.parse(t[3], 3, L);
    return r3 ? new cn(n.type, n, o, r3) : null;
  } else
    return new cn(n.type, n, o);
};
cn.prototype.evaluate = function(t) {
  var e = this.input.evaluate(t), n = this.beginIndex.evaluate(t);
  if (!ns(e, [
    "string",
    "array"
  ]))
    throw new se("Expected first argument to be of type array or string, but found " + Yt(ee(e)) + " instead.");
  if (this.endIndex) {
    var o = this.endIndex.evaluate(t);
    return e.slice(n, o);
  }
  return e.slice(n);
};
cn.prototype.eachChild = function(t) {
  t(this.input), t(this.beginIndex), this.endIndex && t(this.endIndex);
};
cn.prototype.outputDefined = function() {
  return false;
};
cn.prototype.serialize = function() {
  if (this.endIndex != null && this.endIndex !== void 0) {
    var t = this.endIndex.serialize();
    return [
      "slice",
      this.input.serialize(),
      this.beginIndex.serialize(),
      t
    ];
  }
  return [
    "slice",
    this.input.serialize(),
    this.beginIndex.serialize()
  ];
};
function Kc(i, t) {
  return i === "==" || i === "!=" ? t.kind === "boolean" || t.kind === "string" || t.kind === "number" || t.kind === "null" || t.kind === "value" : t.kind === "string" || t.kind === "number" || t.kind === "value";
}
function Pb(i, t, e) {
  return t === e;
}
function Db(i, t, e) {
  return t !== e;
}
function Lb(i, t, e) {
  return t < e;
}
function Ob(i, t, e) {
  return t > e;
}
function Fb(i, t, e) {
  return t <= e;
}
function Nb(i, t, e) {
  return t >= e;
}
function Dm(i, t, e, n) {
  return n.compare(t, e) === 0;
}
function Gb(i, t, e, n) {
  return !Dm(i, t, e, n);
}
function jb(i, t, e, n) {
  return n.compare(t, e) < 0;
}
function Bb(i, t, e, n) {
  return n.compare(t, e) > 0;
}
function Wb(i, t, e, n) {
  return n.compare(t, e) <= 0;
}
function Zb(i, t, e, n) {
  return n.compare(t, e) >= 0;
}
function hr(i, t, e) {
  var n = i !== "==" && i !== "!=";
  return /* @__PURE__ */ function() {
    function o(r3, s, a) {
      this.type = at, this.lhs = r3, this.rhs = s, this.collator = a, this.hasUntypedArgument = r3.type.kind === "value" || s.type.kind === "value";
    }
    return o.parse = function(s, a) {
      if (s.length !== 3 && s.length !== 4)
        return a.error("Expected two or three arguments.");
      var l = s[0], h = a.parse(s[1], 1, lt);
      if (!h)
        return null;
      if (!Kc(l, h.type))
        return a.concat(1).error('"' + l + `" comparisons are not supported for type '` + Yt(h.type) + "'.");
      var u = a.parse(s[2], 2, lt);
      if (!u)
        return null;
      if (!Kc(l, u.type))
        return a.concat(2).error('"' + l + `" comparisons are not supported for type '` + Yt(u.type) + "'.");
      if (h.type.kind !== u.type.kind && h.type.kind !== "value" && u.type.kind !== "value")
        return a.error("Cannot compare types '" + Yt(h.type) + "' and '" + Yt(u.type) + "'.");
      n && (h.type.kind === "value" && u.type.kind !== "value" ? h = new Se(u.type, [h]) : h.type.kind !== "value" && u.type.kind === "value" && (u = new Se(h.type, [u])));
      var d = null;
      if (s.length === 4) {
        if (h.type.kind !== "string" && u.type.kind !== "string" && h.type.kind !== "value" && u.type.kind !== "value")
          return a.error("Cannot use collator to compare non-string types.");
        if (d = a.parse(s[3], 3, rl), !d)
          return null;
      }
      return new o(h, u, d);
    }, o.prototype.evaluate = function(s) {
      var a = this.lhs.evaluate(s), l = this.rhs.evaluate(s);
      if (n && this.hasUntypedArgument) {
        var h = ee(a), u = ee(l);
        if (h.kind !== u.kind || !(h.kind === "string" || h.kind === "number"))
          throw new se('Expected arguments for "' + i + '" to be (string, string) or (number, number), but found (' + h.kind + ", " + u.kind + ") instead.");
      }
      if (this.collator && !n && this.hasUntypedArgument) {
        var d = ee(a), c = ee(l);
        if (d.kind !== "string" || c.kind !== "string")
          return t(s, a, l);
      }
      return this.collator ? e(s, a, l, this.collator.evaluate(s)) : t(s, a, l);
    }, o.prototype.eachChild = function(s) {
      s(this.lhs), s(this.rhs), this.collator && s(this.collator);
    }, o.prototype.outputDefined = function() {
      return true;
    }, o.prototype.serialize = function() {
      var s = [i];
      return this.eachChild(function(a) {
        s.push(a.serialize());
      }), s;
    }, o;
  }();
}
var Yb = hr("==", Pb, Dm), Xb = hr("!=", Db, Gb), Ub = hr("<", Lb, jb), Vb = hr(">", Ob, Bb), qb = hr("<=", Fb, Wb), $b = hr(">=", Nb, Zb), ao = function(t, e, n, o, r3) {
  this.type = mt, this.number = t, this.locale = e, this.currency = n, this.minFractionDigits = o, this.maxFractionDigits = r3;
};
ao.parse = function(t, e) {
  if (t.length !== 3)
    return e.error("Expected two arguments.");
  var n = e.parse(t[1], 1, L);
  if (!n)
    return null;
  var o = t[2];
  if (typeof o != "object" || Array.isArray(o))
    return e.error("NumberFormat options argument must be an object.");
  var r3 = null;
  if (o.locale && (r3 = e.parse(o.locale, 1, mt), !r3))
    return null;
  var s = null;
  if (o.currency && (s = e.parse(o.currency, 1, mt), !s))
    return null;
  var a = null;
  if (o["min-fraction-digits"] && (a = e.parse(o["min-fraction-digits"], 1, L), !a))
    return null;
  var l = null;
  return o["max-fraction-digits"] && (l = e.parse(o["max-fraction-digits"], 1, L), !l) ? null : new ao(n, r3, s, a, l);
};
ao.prototype.evaluate = function(t) {
  return new Intl.NumberFormat(this.locale ? this.locale.evaluate(t) : [], {
    style: this.currency ? "currency" : "decimal",
    currency: this.currency ? this.currency.evaluate(t) : void 0,
    minimumFractionDigits: this.minFractionDigits ? this.minFractionDigits.evaluate(t) : void 0,
    maximumFractionDigits: this.maxFractionDigits ? this.maxFractionDigits.evaluate(t) : void 0
  }).format(this.number.evaluate(t));
};
ao.prototype.eachChild = function(t) {
  t(this.number), this.locale && t(this.locale), this.currency && t(this.currency), this.minFractionDigits && t(this.minFractionDigits), this.maxFractionDigits && t(this.maxFractionDigits);
};
ao.prototype.outputDefined = function() {
  return false;
};
ao.prototype.serialize = function() {
  var t = {};
  return this.locale && (t.locale = this.locale.serialize()), this.currency && (t.currency = this.currency.serialize()), this.minFractionDigits && (t["min-fraction-digits"] = this.minFractionDigits.serialize()), this.maxFractionDigits && (t["max-fraction-digits"] = this.maxFractionDigits.serialize()), [
    "number-format",
    this.number.serialize(),
    t
  ];
};
var lo = function(t) {
  this.type = L, this.input = t;
};
lo.parse = function(t, e) {
  if (t.length !== 2)
    return e.error("Expected 1 argument, but found " + (t.length - 1) + " instead.");
  var n = e.parse(t[1], 1);
  return n ? n.type.kind !== "array" && n.type.kind !== "string" && n.type.kind !== "value" ? e.error("Expected argument of type string or array, but found " + Yt(n.type) + " instead.") : new lo(n) : null;
};
lo.prototype.evaluate = function(t) {
  var e = this.input.evaluate(t);
  if (typeof e == "string")
    return e.length;
  if (Array.isArray(e))
    return e.length;
  throw new se("Expected value to be of type string or array, but found " + Yt(ee(e)) + " instead.");
};
lo.prototype.eachChild = function(t) {
  t(this.input);
};
lo.prototype.outputDefined = function() {
  return false;
};
lo.prototype.serialize = function() {
  var t = ["length"];
  return this.eachChild(function(e) {
    t.push(e.serialize());
  }), t;
};
var fd = {
  "==": Yb,
  "!=": Xb,
  ">": Vb,
  "<": Ub,
  ">=": $b,
  "<=": qb,
  array: Se,
  at: no,
  boolean: Se,
  case: so,
  coalesce: Fi,
  collator: yn,
  format: vn,
  image: _n,
  in: oo,
  "index-of": dn,
  interpolate: ze,
  "interpolate-hcl": ze,
  "interpolate-lab": ze,
  length: lo,
  let: wn,
  literal: xi,
  match: ro,
  number: Se,
  "number-format": ao,
  object: Se,
  slice: cn,
  step: kn,
  string: Se,
  "to-boolean": He,
  "to-color": He,
  "to-number": He,
  "to-string": He,
  var: xn,
  within: oi
};
function Jc(i, t) {
  var e = t[0], n = t[1], o = t[2], r3 = t[3];
  e = e.evaluate(i), n = n.evaluate(i), o = o.evaluate(i);
  var s = r3 ? r3.evaluate(i) : 1, a = km(e, n, o, s);
  if (a)
    throw new se(a);
  return new At(e / 255 * s, n / 255 * s, o / 255 * s, s);
}
function Qc(i, t) {
  return i in t;
}
function eh(i, t) {
  var e = t[i];
  return typeof e > "u" ? null : e;
}
function Hb(i, t, e, n) {
  for (; e <= n; ) {
    var o = e + n >> 1;
    if (t[o] === i)
      return true;
    t[o] > i ? n = o - 1 : e = o + 1;
  }
  return false;
}
function On(i) {
  return { type: i };
}
ye.register(fd, {
  error: [
    nb,
    [mt],
    function(i, t) {
      var e = t[0];
      throw new se(e.evaluate(i));
    }
  ],
  typeof: [
    mt,
    [lt],
    function(i, t) {
      var e = t[0];
      return Yt(ee(e.evaluate(i)));
    }
  ],
  "to-rgba": [
    qe(L, 4),
    [Oi],
    function(i, t) {
      var e = t[0];
      return e.evaluate(i).toArray();
    }
  ],
  rgb: [
    Oi,
    [
      L,
      L,
      L
    ],
    Jc
  ],
  rgba: [
    Oi,
    [
      L,
      L,
      L,
      L
    ],
    Jc
  ],
  has: {
    type: at,
    overloads: [
      [
        [mt],
        function(i, t) {
          var e = t[0];
          return Qc(e.evaluate(i), i.properties());
        }
      ],
      [
        [
          mt,
          Bo
        ],
        function(i, t) {
          var e = t[0], n = t[1];
          return Qc(e.evaluate(i), n.evaluate(i));
        }
      ]
    ]
  },
  get: {
    type: lt,
    overloads: [
      [
        [mt],
        function(i, t) {
          var e = t[0];
          return eh(e.evaluate(i), i.properties());
        }
      ],
      [
        [
          mt,
          Bo
        ],
        function(i, t) {
          var e = t[0], n = t[1];
          return eh(e.evaluate(i), n.evaluate(i));
        }
      ]
    ]
  },
  "feature-state": [
    lt,
    [mt],
    function(i, t) {
      var e = t[0];
      return eh(e.evaluate(i), i.featureState || {});
    }
  ],
  properties: [
    Bo,
    [],
    function(i) {
      return i.properties();
    }
  ],
  "geometry-type": [
    mt,
    [],
    function(i) {
      return i.geometryType();
    }
  ],
  id: [
    lt,
    [],
    function(i) {
      return i.id();
    }
  ],
  zoom: [
    L,
    [],
    function(i) {
      return i.globals.zoom;
    }
  ],
  pitch: [
    L,
    [],
    function(i) {
      return i.globals.pitch || 0;
    }
  ],
  "distance-from-center": [
    L,
    [],
    function(i) {
      return i.distanceFromCenter();
    }
  ],
  "heatmap-density": [
    L,
    [],
    function(i) {
      return i.globals.heatmapDensity || 0;
    }
  ],
  "line-progress": [
    L,
    [],
    function(i) {
      return i.globals.lineProgress || 0;
    }
  ],
  "sky-radial-progress": [
    L,
    [],
    function(i) {
      return i.globals.skyRadialProgress || 0;
    }
  ],
  accumulated: [
    lt,
    [],
    function(i) {
      return i.globals.accumulated === void 0 ? null : i.globals.accumulated;
    }
  ],
  "+": [
    L,
    On(L),
    function(i, t) {
      for (var e = 0, n = 0, o = t; n < o.length; n += 1) {
        var r3 = o[n];
        e += r3.evaluate(i);
      }
      return e;
    }
  ],
  "*": [
    L,
    On(L),
    function(i, t) {
      for (var e = 1, n = 0, o = t; n < o.length; n += 1) {
        var r3 = o[n];
        e *= r3.evaluate(i);
      }
      return e;
    }
  ],
  "-": {
    type: L,
    overloads: [
      [
        [
          L,
          L
        ],
        function(i, t) {
          var e = t[0], n = t[1];
          return e.evaluate(i) - n.evaluate(i);
        }
      ],
      [
        [L],
        function(i, t) {
          var e = t[0];
          return -e.evaluate(i);
        }
      ]
    ]
  },
  "/": [
    L,
    [
      L,
      L
    ],
    function(i, t) {
      var e = t[0], n = t[1];
      return e.evaluate(i) / n.evaluate(i);
    }
  ],
  "%": [
    L,
    [
      L,
      L
    ],
    function(i, t) {
      var e = t[0], n = t[1];
      return e.evaluate(i) % n.evaluate(i);
    }
  ],
  ln2: [
    L,
    [],
    function() {
      return Math.LN2;
    }
  ],
  pi: [
    L,
    [],
    function() {
      return Math.PI;
    }
  ],
  e: [
    L,
    [],
    function() {
      return Math.E;
    }
  ],
  "^": [
    L,
    [
      L,
      L
    ],
    function(i, t) {
      var e = t[0], n = t[1];
      return Math.pow(e.evaluate(i), n.evaluate(i));
    }
  ],
  sqrt: [
    L,
    [L],
    function(i, t) {
      var e = t[0];
      return Math.sqrt(e.evaluate(i));
    }
  ],
  log10: [
    L,
    [L],
    function(i, t) {
      var e = t[0];
      return Math.log(e.evaluate(i)) / Math.LN10;
    }
  ],
  ln: [
    L,
    [L],
    function(i, t) {
      var e = t[0];
      return Math.log(e.evaluate(i));
    }
  ],
  log2: [
    L,
    [L],
    function(i, t) {
      var e = t[0];
      return Math.log(e.evaluate(i)) / Math.LN2;
    }
  ],
  sin: [
    L,
    [L],
    function(i, t) {
      var e = t[0];
      return Math.sin(e.evaluate(i));
    }
  ],
  cos: [
    L,
    [L],
    function(i, t) {
      var e = t[0];
      return Math.cos(e.evaluate(i));
    }
  ],
  tan: [
    L,
    [L],
    function(i, t) {
      var e = t[0];
      return Math.tan(e.evaluate(i));
    }
  ],
  asin: [
    L,
    [L],
    function(i, t) {
      var e = t[0];
      return Math.asin(e.evaluate(i));
    }
  ],
  acos: [
    L,
    [L],
    function(i, t) {
      var e = t[0];
      return Math.acos(e.evaluate(i));
    }
  ],
  atan: [
    L,
    [L],
    function(i, t) {
      var e = t[0];
      return Math.atan(e.evaluate(i));
    }
  ],
  min: [
    L,
    On(L),
    function(i, t) {
      return Math.min.apply(Math, t.map(function(e) {
        return e.evaluate(i);
      }));
    }
  ],
  max: [
    L,
    On(L),
    function(i, t) {
      return Math.max.apply(Math, t.map(function(e) {
        return e.evaluate(i);
      }));
    }
  ],
  abs: [
    L,
    [L],
    function(i, t) {
      var e = t[0];
      return Math.abs(e.evaluate(i));
    }
  ],
  round: [
    L,
    [L],
    function(i, t) {
      var e = t[0], n = e.evaluate(i);
      return n < 0 ? -Math.round(-n) : Math.round(n);
    }
  ],
  floor: [
    L,
    [L],
    function(i, t) {
      var e = t[0];
      return Math.floor(e.evaluate(i));
    }
  ],
  ceil: [
    L,
    [L],
    function(i, t) {
      var e = t[0];
      return Math.ceil(e.evaluate(i));
    }
  ],
  "filter-==": [
    at,
    [
      mt,
      lt
    ],
    function(i, t) {
      var e = t[0], n = t[1];
      return i.properties()[e.value] === n.value;
    }
  ],
  "filter-id-==": [
    at,
    [lt],
    function(i, t) {
      var e = t[0];
      return i.id() === e.value;
    }
  ],
  "filter-type-==": [
    at,
    [mt],
    function(i, t) {
      var e = t[0];
      return i.geometryType() === e.value;
    }
  ],
  "filter-<": [
    at,
    [
      mt,
      lt
    ],
    function(i, t) {
      var e = t[0], n = t[1], o = i.properties()[e.value], r3 = n.value;
      return typeof o == typeof r3 && o < r3;
    }
  ],
  "filter-id-<": [
    at,
    [lt],
    function(i, t) {
      var e = t[0], n = i.id(), o = e.value;
      return typeof n == typeof o && n < o;
    }
  ],
  "filter->": [
    at,
    [
      mt,
      lt
    ],
    function(i, t) {
      var e = t[0], n = t[1], o = i.properties()[e.value], r3 = n.value;
      return typeof o == typeof r3 && o > r3;
    }
  ],
  "filter-id->": [
    at,
    [lt],
    function(i, t) {
      var e = t[0], n = i.id(), o = e.value;
      return typeof n == typeof o && n > o;
    }
  ],
  "filter-<=": [
    at,
    [
      mt,
      lt
    ],
    function(i, t) {
      var e = t[0], n = t[1], o = i.properties()[e.value], r3 = n.value;
      return typeof o == typeof r3 && o <= r3;
    }
  ],
  "filter-id-<=": [
    at,
    [lt],
    function(i, t) {
      var e = t[0], n = i.id(), o = e.value;
      return typeof n == typeof o && n <= o;
    }
  ],
  "filter->=": [
    at,
    [
      mt,
      lt
    ],
    function(i, t) {
      var e = t[0], n = t[1], o = i.properties()[e.value], r3 = n.value;
      return typeof o == typeof r3 && o >= r3;
    }
  ],
  "filter-id->=": [
    at,
    [lt],
    function(i, t) {
      var e = t[0], n = i.id(), o = e.value;
      return typeof n == typeof o && n >= o;
    }
  ],
  "filter-has": [
    at,
    [lt],
    function(i, t) {
      var e = t[0];
      return e.value in i.properties();
    }
  ],
  "filter-has-id": [
    at,
    [],
    function(i) {
      return i.id() !== null && i.id() !== void 0;
    }
  ],
  "filter-type-in": [
    at,
    [qe(mt)],
    function(i, t) {
      var e = t[0];
      return e.value.indexOf(i.geometryType()) >= 0;
    }
  ],
  "filter-id-in": [
    at,
    [qe(lt)],
    function(i, t) {
      var e = t[0];
      return e.value.indexOf(i.id()) >= 0;
    }
  ],
  "filter-in-small": [
    at,
    [
      mt,
      qe(lt)
    ],
    function(i, t) {
      var e = t[0], n = t[1];
      return n.value.indexOf(i.properties()[e.value]) >= 0;
    }
  ],
  "filter-in-large": [
    at,
    [
      mt,
      qe(lt)
    ],
    function(i, t) {
      var e = t[0], n = t[1];
      return Hb(i.properties()[e.value], n.value, 0, n.value.length - 1);
    }
  ],
  all: {
    type: at,
    overloads: [
      [
        [
          at,
          at
        ],
        function(i, t) {
          var e = t[0], n = t[1];
          return e.evaluate(i) && n.evaluate(i);
        }
      ],
      [
        On(at),
        function(i, t) {
          for (var e = 0, n = t; e < n.length; e += 1) {
            var o = n[e];
            if (!o.evaluate(i))
              return false;
          }
          return true;
        }
      ]
    ]
  },
  any: {
    type: at,
    overloads: [
      [
        [
          at,
          at
        ],
        function(i, t) {
          var e = t[0], n = t[1];
          return e.evaluate(i) || n.evaluate(i);
        }
      ],
      [
        On(at),
        function(i, t) {
          for (var e = 0, n = t; e < n.length; e += 1) {
            var o = n[e];
            if (o.evaluate(i))
              return true;
          }
          return false;
        }
      ]
    ]
  },
  "!": [
    at,
    [at],
    function(i, t) {
      var e = t[0];
      return !e.evaluate(i);
    }
  ],
  "is-supported-script": [
    at,
    [mt],
    function(i, t) {
      var e = t[0], n = i.globals && i.globals.isSupportedScript;
      return n ? n(e.evaluate(i)) : true;
    }
  ],
  upcase: [
    mt,
    [mt],
    function(i, t) {
      var e = t[0];
      return e.evaluate(i).toUpperCase();
    }
  ],
  downcase: [
    mt,
    [mt],
    function(i, t) {
      var e = t[0];
      return e.evaluate(i).toLowerCase();
    }
  ],
  concat: [
    mt,
    On(lt),
    function(i, t) {
      return t.map(function(e) {
        return Or(e.evaluate(i));
      }).join("");
    }
  ],
  "resolved-locale": [
    mt,
    [rl],
    function(i, t) {
      var e = t[0];
      return e.evaluate(i).resolvedLocale();
    }
  ]
});
function Oh(i) {
  return {
    result: "success",
    value: i
  };
}
function zo(i) {
  return {
    result: "error",
    value: i
  };
}
function Kb(i) {
  return i["property-type"] === "data-driven" || i["property-type"] === "cross-faded-data-driven";
}
function Jb(i) {
  return !!i.expression && i.expression.parameters.indexOf("zoom") > -1;
}
function Qb(i) {
  return !!i.expression && i.expression.interpolated;
}
function Lm(i) {
  return typeof i == "object" && i !== null && !Array.isArray(i);
}
var md = function(t, e) {
  this.expression = t, this._warningHistory = {}, this._evaluator = new Gi(), this._defaultValue = e ? nk(e) : null, this._enumValues = e && e.type === "enum" ? e.values : null;
};
md.prototype.evaluateWithoutErrorHandling = function(t, e, n, o, r3, s, a, l) {
  return this._evaluator.globals = t, this._evaluator.feature = e, this._evaluator.featureState = n, this._evaluator.canonical = o || null, this._evaluator.availableImages = r3 || null, this._evaluator.formattedSection = s, this._evaluator.featureTileCoord = a || null, this._evaluator.featureDistanceData = l || null, this.expression.evaluate(this._evaluator);
};
md.prototype.evaluate = function(t, e, n, o, r3, s, a, l) {
  this._evaluator.globals = t, this._evaluator.feature = e || null, this._evaluator.featureState = n || null, this._evaluator.canonical = o || null, this._evaluator.availableImages = r3 || null, this._evaluator.formattedSection = s || null, this._evaluator.featureTileCoord = a || null, this._evaluator.featureDistanceData = l || null;
  try {
    var h = this.expression.evaluate(this._evaluator);
    if (h == null || typeof h == "number" && h !== h)
      return this._defaultValue;
    if (this._enumValues && !(h in this._enumValues))
      throw new se("Expected value to be one of " + Object.keys(this._enumValues).map(function(u) {
        return JSON.stringify(u);
      }).join(", ") + ", but found " + JSON.stringify(h) + " instead.");
    return h;
  } catch (u) {
    return this._warningHistory[u.message] || (this._warningHistory[u.message] = true, typeof console < "u" && console.warn(u.message)), this._defaultValue;
  }
};
function tk(i) {
  return Array.isArray(i) && i.length > 0 && typeof i[0] == "string" && i[0] in fd;
}
function Fh(i, t) {
  var e = new bn(fd, [], t ? ik(t) : void 0), n = e.parse(i, void 0, void 0, void 0, t && t.type === "string" ? { typeAnnotation: "coerce" } : void 0);
  return n ? Oh(new md(n, t)) : zo(e.errors);
}
var Ta = function(t, e) {
  this.kind = t, this._styleExpression = e, this.isStateDependent = t !== "constant" && !cd(e.expression);
};
Ta.prototype.evaluateWithoutErrorHandling = function(t, e, n, o, r3, s) {
  return this._styleExpression.evaluateWithoutErrorHandling(t, e, n, o, r3, s);
};
Ta.prototype.evaluate = function(t, e, n, o, r3, s) {
  return this._styleExpression.evaluate(t, e, n, o, r3, s);
};
var os = function(t, e, n, o) {
  this.kind = t, this.zoomStops = n, this._styleExpression = e, this.isStateDependent = t !== "camera" && !cd(e.expression), this.interpolationType = o;
};
os.prototype.evaluateWithoutErrorHandling = function(t, e, n, o, r3, s) {
  return this._styleExpression.evaluateWithoutErrorHandling(t, e, n, o, r3, s);
};
os.prototype.evaluate = function(t, e, n, o, r3, s) {
  return this._styleExpression.evaluate(t, e, n, o, r3, s);
};
os.prototype.interpolationFactor = function(t, e, n) {
  return this.interpolationType ? ze.interpolationFactor(this.interpolationType, t, e, n) : 0;
};
function ek(i, t) {
  if (i = Fh(i, t), i.result === "error")
    return i;
  var e = i.value.expression, n = al(e);
  if (!n && !Kb(t))
    return zo([new gi("", "data expressions not supported")]);
  var o = gd(e, [
    "zoom",
    "pitch",
    "distance-from-center"
  ]);
  if (!o && !Jb(t))
    return zo([new gi("", "zoom expressions not supported")]);
  var r3 = ta(e);
  if (!r3 && !o)
    return zo([new gi("", '"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);
  if (r3 instanceof gi)
    return zo([r3]);
  if (r3 instanceof ze && !Qb(t))
    return zo([new gi("", '"interpolate" expressions cannot be used with this property')]);
  if (!r3)
    return Oh(n ? new Ta("constant", i.value) : new Ta("source", i.value));
  var s = r3 instanceof ze ? r3.interpolation : void 0;
  return Oh(n ? new os("camera", i.value, r3.labels, s) : new os("composite", i.value, r3.labels, s));
}
function ta(i) {
  var t = null;
  if (i instanceof wn)
    t = ta(i.result);
  else if (i instanceof Fi)
    for (var e = 0, n = i.args; e < n.length; e += 1) {
      var o = n[e];
      if (t = ta(o), t)
        break;
    }
  else
    (i instanceof kn || i instanceof ze) && i.input instanceof ye && i.input.name === "zoom" && (t = i);
  return t instanceof gi || i.eachChild(function(r3) {
    var s = ta(r3);
    s instanceof gi ? t = s : !t && s ? t = new gi("", '"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.') : t && s && t !== s && (t = new gi("", 'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'));
  }), t;
}
function ik(i) {
  var t = {
    color: Oi,
    string: mt,
    number: L,
    enum: mt,
    boolean: at,
    formatted: sl,
    resolvedImage: _s
  };
  return i.type === "array" ? qe(t[i.value] || lt, i.length) : t[i.type];
}
function nk(i) {
  return i.type === "color" && (Lm(i.default) || Array.isArray(i.default)) ? new At(0, 0, 0, 0) : i.type === "color" ? At.parse(i.default) || null : i.default === void 0 ? null : i.default;
}
function ok(i) {
  return i instanceof Number || i instanceof String || i instanceof Boolean ? i.valueOf() : i;
}
function Nh(i) {
  if (Array.isArray(i))
    return i.map(Nh);
  if (i instanceof Object && !(i instanceof Number || i instanceof String || i instanceof Boolean)) {
    var t = {};
    for (var e in i)
      t[e] = Nh(i[e]);
    return t;
  }
  return ok(i);
}
var Om = { $version: 8, $root: { version: { required: true, type: "enum", values: [8] }, name: { type: "string" }, metadata: { type: "*" }, center: { type: "array", value: "number" }, zoom: { type: "number" }, bearing: { type: "number", default: 0, period: 360, units: "degrees" }, pitch: { type: "number", default: 0, units: "degrees" }, light: { type: "light" }, terrain: { type: "terrain" }, fog: { type: "fog" }, sources: { required: true, type: "sources" }, sprite: { type: "string" }, glyphs: { type: "string" }, transition: { type: "transition" }, projection: { type: "projection" }, layers: { required: true, type: "array", value: "layer" } }, sources: { "*": { type: "source" } }, source: ["source_vector", "source_raster", "source_raster_dem", "source_geojson", "source_video", "source_image"], source_vector: { type: { required: true, type: "enum", values: { vector: {} } }, url: { type: "string" }, tiles: { type: "array", value: "string" }, bounds: { type: "array", value: "number", length: 4, default: [-180, -85.051129, 180, 85.051129] }, scheme: { type: "enum", values: { xyz: {}, tms: {} }, default: "xyz" }, minzoom: { type: "number", default: 0 }, maxzoom: { type: "number", default: 22 }, attribution: { type: "string" }, promoteId: { type: "promoteId" }, volatile: { type: "boolean", default: false }, "*": { type: "*" } }, source_raster: { type: { required: true, type: "enum", values: { raster: {} } }, url: { type: "string" }, tiles: { type: "array", value: "string" }, bounds: { type: "array", value: "number", length: 4, default: [-180, -85.051129, 180, 85.051129] }, minzoom: { type: "number", default: 0 }, maxzoom: { type: "number", default: 22 }, tileSize: { type: "number", default: 512, units: "pixels" }, scheme: { type: "enum", values: { xyz: {}, tms: {} }, default: "xyz" }, attribution: { type: "string" }, volatile: { type: "boolean", default: false }, "*": { type: "*" } }, source_raster_dem: { type: { required: true, type: "enum", values: { "raster-dem": {} } }, url: { type: "string" }, tiles: { type: "array", value: "string" }, bounds: { type: "array", value: "number", length: 4, default: [-180, -85.051129, 180, 85.051129] }, minzoom: { type: "number", default: 0 }, maxzoom: { type: "number", default: 22 }, tileSize: { type: "number", default: 512, units: "pixels" }, attribution: { type: "string" }, encoding: { type: "enum", values: { terrarium: {}, mapbox: {} }, default: "mapbox" }, volatile: { type: "boolean", default: false }, "*": { type: "*" } }, source_geojson: { type: { required: true, type: "enum", values: { geojson: {} } }, data: { type: "*" }, maxzoom: { type: "number", default: 18 }, attribution: { type: "string" }, buffer: { type: "number", default: 128, maximum: 512, minimum: 0 }, filter: { type: "*" }, tolerance: { type: "number", default: 0.375 }, cluster: { type: "boolean", default: false }, clusterRadius: { type: "number", default: 50, minimum: 0 }, clusterMaxZoom: { type: "number" }, clusterMinPoints: { type: "number" }, clusterProperties: { type: "*" }, lineMetrics: { type: "boolean", default: false }, generateId: { type: "boolean", default: false }, promoteId: { type: "promoteId" } }, source_video: { type: { required: true, type: "enum", values: { video: {} } }, urls: { required: true, type: "array", value: "string" }, coordinates: { required: true, type: "array", length: 4, value: { type: "array", length: 2, value: "number" } } }, source_image: { type: { required: true, type: "enum", values: { image: {} } }, url: { required: true, type: "string" }, coordinates: { required: true, type: "array", length: 4, value: { type: "array", length: 2, value: "number" } } }, layer: { id: { type: "string", required: true }, type: { type: "enum", values: { fill: {}, line: {}, symbol: {}, circle: {}, heatmap: {}, "fill-extrusion": {}, raster: {}, hillshade: {}, background: {}, sky: {} }, required: true }, metadata: { type: "*" }, source: { type: "string" }, "source-layer": { type: "string" }, minzoom: { type: "number", minimum: 0, maximum: 24 }, maxzoom: { type: "number", minimum: 0, maximum: 24 }, filter: { type: "filter" }, layout: { type: "layout" }, paint: { type: "paint" } }, layout: ["layout_fill", "layout_line", "layout_circle", "layout_heatmap", "layout_fill-extrusion", "layout_symbol", "layout_raster", "layout_hillshade", "layout_background", "layout_sky"], layout_background: { visibility: { type: "enum", values: { visible: {}, none: {} }, default: "visible", "property-type": "constant" } }, layout_sky: { visibility: { type: "enum", values: { visible: {}, none: {} }, default: "visible", "property-type": "constant" } }, layout_fill: { "fill-sort-key": { type: "number", expression: { interpolated: false, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, visibility: { type: "enum", values: { visible: {}, none: {} }, default: "visible", "property-type": "constant" } }, layout_circle: { "circle-sort-key": { type: "number", expression: { interpolated: false, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, visibility: { type: "enum", values: { visible: {}, none: {} }, default: "visible", "property-type": "constant" } }, layout_heatmap: { visibility: { type: "enum", values: { visible: {}, none: {} }, default: "visible", "property-type": "constant" } }, "layout_fill-extrusion": { visibility: { type: "enum", values: { visible: {}, none: {} }, default: "visible", "property-type": "constant" } }, layout_line: { "line-cap": { type: "enum", values: { butt: {}, round: {}, square: {} }, default: "butt", expression: { interpolated: false, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "line-join": { type: "enum", values: { bevel: {}, round: {}, miter: {} }, default: "miter", expression: { interpolated: false, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "line-miter-limit": { type: "number", default: 2, requires: [{ "line-join": "miter" }], expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" }, "line-round-limit": { type: "number", default: 1.05, requires: [{ "line-join": "round" }], expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" }, "line-sort-key": { type: "number", expression: { interpolated: false, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, visibility: { type: "enum", values: { visible: {}, none: {} }, default: "visible", "property-type": "constant" } }, layout_symbol: { "symbol-placement": { type: "enum", values: { point: {}, line: {}, "line-center": {} }, default: "point", expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "symbol-spacing": { type: "number", default: 250, minimum: 1, units: "pixels", requires: [{ "symbol-placement": "line" }], expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" }, "symbol-avoid-edges": { type: "boolean", default: false, expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "symbol-sort-key": { type: "number", expression: { interpolated: false, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "symbol-z-order": { type: "enum", values: { auto: {}, "viewport-y": {}, source: {} }, default: "auto", expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "icon-allow-overlap": { type: "boolean", default: false, requires: ["icon-image"], expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "icon-ignore-placement": { type: "boolean", default: false, requires: ["icon-image"], expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "icon-optional": { type: "boolean", default: false, requires: ["icon-image", "text-field"], expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "icon-rotation-alignment": { type: "enum", values: { map: {}, viewport: {}, auto: {} }, default: "auto", requires: ["icon-image"], expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "icon-size": { type: "number", default: 1, minimum: 0, units: "factor of the original icon size", requires: ["icon-image"], expression: { interpolated: true, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "icon-text-fit": { type: "enum", values: { none: {}, width: {}, height: {}, both: {} }, default: "none", requires: ["icon-image", "text-field"], expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "icon-text-fit-padding": { type: "array", value: "number", length: 4, default: [0, 0, 0, 0], units: "pixels", requires: ["icon-image", "text-field", { "icon-text-fit": ["both", "width", "height"] }], expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" }, "icon-image": { type: "resolvedImage", tokens: true, expression: { interpolated: false, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "icon-rotate": { type: "number", default: 0, period: 360, units: "degrees", requires: ["icon-image"], expression: { interpolated: true, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "icon-padding": { type: "number", default: 2, minimum: 0, units: "pixels", requires: ["icon-image"], expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" }, "icon-keep-upright": { type: "boolean", default: false, requires: ["icon-image", { "icon-rotation-alignment": "map" }, { "symbol-placement": ["line", "line-center"] }], expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "icon-offset": { type: "array", value: "number", length: 2, default: [0, 0], requires: ["icon-image"], expression: { interpolated: true, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "icon-anchor": { type: "enum", values: { center: {}, left: {}, right: {}, top: {}, bottom: {}, "top-left": {}, "top-right": {}, "bottom-left": {}, "bottom-right": {} }, default: "center", requires: ["icon-image"], expression: { interpolated: false, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "icon-pitch-alignment": { type: "enum", values: { map: {}, viewport: {}, auto: {} }, default: "auto", requires: ["icon-image"], expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "text-pitch-alignment": { type: "enum", values: { map: {}, viewport: {}, auto: {} }, default: "auto", requires: ["text-field"], expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "text-rotation-alignment": { type: "enum", values: { map: {}, viewport: {}, auto: {} }, default: "auto", requires: ["text-field"], expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "text-field": { type: "formatted", default: "", tokens: true, expression: { interpolated: false, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "text-font": { type: "array", value: "string", default: ["Open Sans Regular", "Arial Unicode MS Regular"], requires: ["text-field"], expression: { interpolated: false, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "text-size": { type: "number", default: 16, minimum: 0, units: "pixels", requires: ["text-field"], expression: { interpolated: true, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "text-max-width": { type: "number", default: 10, minimum: 0, units: "ems", requires: ["text-field", { "symbol-placement": ["point"] }], expression: { interpolated: true, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "text-line-height": { type: "number", default: 1.2, units: "ems", requires: ["text-field"], expression: { interpolated: true, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "text-letter-spacing": { type: "number", default: 0, units: "ems", requires: ["text-field"], expression: { interpolated: true, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "text-justify": { type: "enum", values: { auto: {}, left: {}, center: {}, right: {} }, default: "center", requires: ["text-field"], expression: { interpolated: false, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "text-radial-offset": { type: "number", units: "ems", default: 0, requires: ["text-field"], "property-type": "data-driven", expression: { interpolated: true, parameters: ["zoom", "feature"] } }, "text-variable-anchor": { type: "array", value: "enum", values: { center: {}, left: {}, right: {}, top: {}, bottom: {}, "top-left": {}, "top-right": {}, "bottom-left": {}, "bottom-right": {} }, requires: ["text-field", { "symbol-placement": ["point"] }], expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "text-anchor": { type: "enum", values: { center: {}, left: {}, right: {}, top: {}, bottom: {}, "top-left": {}, "top-right": {}, "bottom-left": {}, "bottom-right": {} }, default: "center", requires: ["text-field", { "!": "text-variable-anchor" }], expression: { interpolated: false, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "text-max-angle": { type: "number", default: 45, units: "degrees", requires: ["text-field", { "symbol-placement": ["line", "line-center"] }], expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" }, "text-writing-mode": { type: "array", value: "enum", values: { horizontal: {}, vertical: {} }, requires: ["text-field"], expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "text-rotate": { type: "number", default: 0, period: 360, units: "degrees", requires: ["text-field"], expression: { interpolated: true, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "text-padding": { type: "number", default: 2, minimum: 0, units: "pixels", requires: ["text-field"], expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" }, "text-keep-upright": { type: "boolean", default: true, requires: ["text-field", { "text-rotation-alignment": "map" }, { "symbol-placement": ["line", "line-center"] }], expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "text-transform": { type: "enum", values: { none: {}, uppercase: {}, lowercase: {} }, default: "none", requires: ["text-field"], expression: { interpolated: false, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "text-offset": { type: "array", value: "number", units: "ems", length: 2, default: [0, 0], requires: ["text-field", { "!": "text-radial-offset" }], expression: { interpolated: true, parameters: ["zoom", "feature"] }, "property-type": "data-driven" }, "text-allow-overlap": { type: "boolean", default: false, requires: ["text-field"], expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "text-ignore-placement": { type: "boolean", default: false, requires: ["text-field"], expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "text-optional": { type: "boolean", default: false, requires: ["text-field", "icon-image"], expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, visibility: { type: "enum", values: { visible: {}, none: {} }, default: "visible", "property-type": "constant" } }, layout_raster: { visibility: { type: "enum", values: { visible: {}, none: {} }, default: "visible", "property-type": "constant" } }, layout_hillshade: { visibility: { type: "enum", values: { visible: {}, none: {} }, default: "visible", "property-type": "constant" } }, filter: { type: "array", value: "*" }, filter_symbol: { type: "boolean", default: false, transition: false, "property-type": "data-driven", expression: { interpolated: false, parameters: ["zoom", "feature", "pitch", "distance-from-center"] } }, filter_fill: { type: "boolean", default: false, transition: false, "property-type": "data-driven", expression: { interpolated: false, parameters: ["zoom", "feature"] } }, filter_line: { type: "boolean", default: false, transition: false, "property-type": "data-driven", expression: { interpolated: false, parameters: ["zoom", "feature"] } }, filter_circle: { type: "boolean", default: false, transition: false, "property-type": "data-driven", expression: { interpolated: false, parameters: ["zoom", "feature"] } }, "filter_fill-extrusion": { type: "boolean", default: false, transition: false, "property-type": "data-driven", expression: { interpolated: false, parameters: ["zoom", "feature"] } }, filter_heatmap: { type: "boolean", default: false, transition: false, "property-type": "data-driven", expression: { interpolated: false, parameters: ["zoom", "feature"] } }, filter_operator: { type: "enum", values: { "==": {}, "!=": {}, ">": {}, ">=": {}, "<": {}, "<=": {}, in: {}, "!in": {}, all: {}, any: {}, none: {}, has: {}, "!has": {}, within: {} } }, geometry_type: { type: "enum", values: { Point: {}, LineString: {}, Polygon: {} } }, function: { expression: { type: "expression" }, stops: { type: "array", value: "function_stop" }, base: { type: "number", default: 1, minimum: 0 }, property: { type: "string", default: "$zoom" }, type: { type: "enum", values: { identity: {}, exponential: {}, interval: {}, categorical: {} }, default: "exponential" }, colorSpace: { type: "enum", values: { rgb: {}, lab: {}, hcl: {} }, default: "rgb" }, default: { type: "*", required: false } }, function_stop: { type: "array", minimum: 0, maximum: 24, value: ["number", "color"], length: 2 }, expression: { type: "array", value: "*", minimum: 1 }, expression_name: { type: "enum", values: { let: { group: "Variable binding" }, var: { group: "Variable binding" }, literal: { group: "Types" }, array: { group: "Types" }, at: { group: "Lookup" }, in: { group: "Lookup" }, "index-of": { group: "Lookup" }, slice: { group: "Lookup" }, case: { group: "Decision" }, match: { group: "Decision" }, coalesce: { group: "Decision" }, step: { group: "Ramps, scales, curves" }, interpolate: { group: "Ramps, scales, curves" }, "interpolate-hcl": { group: "Ramps, scales, curves" }, "interpolate-lab": { group: "Ramps, scales, curves" }, ln2: { group: "Math" }, pi: { group: "Math" }, e: { group: "Math" }, typeof: { group: "Types" }, string: { group: "Types" }, number: { group: "Types" }, boolean: { group: "Types" }, object: { group: "Types" }, collator: { group: "Types" }, format: { group: "Types" }, image: { group: "Types" }, "number-format": { group: "Types" }, "to-string": { group: "Types" }, "to-number": { group: "Types" }, "to-boolean": { group: "Types" }, "to-rgba": { group: "Color" }, "to-color": { group: "Types" }, rgb: { group: "Color" }, rgba: { group: "Color" }, get: { group: "Lookup" }, has: { group: "Lookup" }, length: { group: "Lookup" }, properties: { group: "Feature data" }, "feature-state": { group: "Feature data" }, "geometry-type": { group: "Feature data" }, id: { group: "Feature data" }, zoom: { group: "Camera" }, pitch: { group: "Camera" }, "distance-from-center": { group: "Camera" }, "heatmap-density": { group: "Heatmap" }, "line-progress": { group: "Feature data" }, "sky-radial-progress": { group: "sky" }, accumulated: { group: "Feature data" }, "+": { group: "Math" }, "*": { group: "Math" }, "-": { group: "Math" }, "/": { group: "Math" }, "%": { group: "Math" }, "^": { group: "Math" }, sqrt: { group: "Math" }, log10: { group: "Math" }, ln: { group: "Math" }, log2: { group: "Math" }, sin: { group: "Math" }, cos: { group: "Math" }, tan: { group: "Math" }, asin: { group: "Math" }, acos: { group: "Math" }, atan: { group: "Math" }, min: { group: "Math" }, max: { group: "Math" }, round: { group: "Math" }, abs: { group: "Math" }, ceil: { group: "Math" }, floor: { group: "Math" }, distance: { group: "Math" }, "==": { group: "Decision" }, "!=": { group: "Decision" }, ">": { group: "Decision" }, "<": { group: "Decision" }, ">=": { group: "Decision" }, "<=": { group: "Decision" }, all: { group: "Decision" }, any: { group: "Decision" }, "!": { group: "Decision" }, within: { group: "Decision" }, "is-supported-script": { group: "String" }, upcase: { group: "String" }, downcase: { group: "String" }, concat: { group: "String" }, "resolved-locale": { group: "String" } } }, fog: { range: { type: "array", default: [0.5, 10], minimum: -20, maximum: 20, length: 2, value: "number", "property-type": "data-constant", transition: true, expression: { interpolated: true, parameters: ["zoom"] } }, color: { type: "color", "property-type": "data-constant", default: "#ffffff", expression: { interpolated: true, parameters: ["zoom"] }, transition: true }, "high-color": { type: "color", "property-type": "data-constant", default: "#245cdf", expression: { interpolated: true, parameters: ["zoom"] }, transition: true }, "space-color": { type: "color", "property-type": "data-constant", default: ["interpolate", ["linear"], ["zoom"], 4, "#010b19", 7, "#367ab9"], expression: { interpolated: true, parameters: ["zoom"] }, transition: true }, "horizon-blend": { type: "number", "property-type": "data-constant", default: ["interpolate", ["linear"], ["zoom"], 4, 0.2, 7, 0.1], minimum: 0, maximum: 1, expression: { interpolated: true, parameters: ["zoom"] }, transition: true }, "star-intensity": { type: "number", "property-type": "data-constant", default: ["interpolate", ["linear"], ["zoom"], 5, 0.35, 6, 0], minimum: 0, maximum: 1, expression: { interpolated: true, parameters: ["zoom"] }, transition: true } }, light: { anchor: { type: "enum", default: "viewport", values: { map: {}, viewport: {} }, "property-type": "data-constant", transition: false, expression: { interpolated: false, parameters: ["zoom"] } }, position: { type: "array", default: [1.15, 210, 30], length: 3, value: "number", "property-type": "data-constant", transition: true, expression: { interpolated: true, parameters: ["zoom"] } }, color: { type: "color", "property-type": "data-constant", default: "#ffffff", expression: { interpolated: true, parameters: ["zoom"] }, transition: true }, intensity: { type: "number", "property-type": "data-constant", default: 0.5, minimum: 0, maximum: 1, expression: { interpolated: true, parameters: ["zoom"] }, transition: true } }, projection: { name: { type: "enum", values: { albers: {}, equalEarth: {}, equirectangular: {}, lambertConformalConic: {}, mercator: {}, naturalEarth: {}, winkelTripel: {}, globe: {} }, default: "mercator", required: true }, center: { type: "array", length: 2, value: "number", "property-type": "data-constant", minimum: [-180, -90], maximum: [180, 90], transition: false, requires: [{ name: ["albers", "lambertConformalConic"] }] }, parallels: { type: "array", length: 2, value: "number", "property-type": "data-constant", minimum: [-90, -90], maximum: [90, 90], transition: false, requires: [{ name: ["albers", "lambertConformalConic"] }] } }, terrain: { source: { type: "string", required: true }, exaggeration: { type: "number", "property-type": "data-constant", default: 1, minimum: 0, maximum: 1e3, expression: { interpolated: true, parameters: ["zoom"] }, transition: true, requires: ["source"] } }, paint: ["paint_fill", "paint_line", "paint_circle", "paint_heatmap", "paint_fill-extrusion", "paint_symbol", "paint_raster", "paint_hillshade", "paint_background", "paint_sky"], paint_fill: { "fill-antialias": { type: "boolean", default: true, expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "fill-opacity": { type: "number", default: 1, minimum: 0, maximum: 1, transition: true, expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "fill-color": { type: "color", default: "#000000", transition: true, requires: [{ "!": "fill-pattern" }], expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "fill-outline-color": { type: "color", transition: true, requires: [{ "!": "fill-pattern" }, { "fill-antialias": true }], expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "fill-translate": { type: "array", value: "number", length: 2, default: [0, 0], transition: true, units: "pixels", expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" }, "fill-translate-anchor": { type: "enum", values: { map: {}, viewport: {} }, default: "map", requires: ["fill-translate"], expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "fill-pattern": { type: "resolvedImage", transition: true, expression: { interpolated: false, parameters: ["zoom", "feature"] }, "property-type": "cross-faded-data-driven" } }, "paint_fill-extrusion": { "fill-extrusion-opacity": { type: "number", default: 1, minimum: 0, maximum: 1, transition: true, expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" }, "fill-extrusion-color": { type: "color", default: "#000000", transition: true, requires: [{ "!": "fill-extrusion-pattern" }], expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "fill-extrusion-translate": { type: "array", value: "number", length: 2, default: [0, 0], transition: true, units: "pixels", expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" }, "fill-extrusion-translate-anchor": { type: "enum", values: { map: {}, viewport: {} }, default: "map", requires: ["fill-extrusion-translate"], expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "fill-extrusion-pattern": { type: "resolvedImage", transition: true, expression: { interpolated: false, parameters: ["zoom", "feature"] }, "property-type": "cross-faded-data-driven" }, "fill-extrusion-height": { type: "number", default: 0, minimum: 0, units: "meters", transition: true, expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "fill-extrusion-base": { type: "number", default: 0, minimum: 0, units: "meters", transition: true, requires: ["fill-extrusion-height"], expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "fill-extrusion-vertical-gradient": { type: "boolean", default: true, transition: false, expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" } }, paint_line: { "line-opacity": { type: "number", default: 1, minimum: 0, maximum: 1, transition: true, expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "line-color": { type: "color", default: "#000000", transition: true, requires: [{ "!": "line-pattern" }], expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "line-translate": { type: "array", value: "number", length: 2, default: [0, 0], transition: true, units: "pixels", expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" }, "line-translate-anchor": { type: "enum", values: { map: {}, viewport: {} }, default: "map", requires: ["line-translate"], expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "line-width": { type: "number", default: 1, minimum: 0, transition: true, units: "pixels", expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "line-gap-width": { type: "number", default: 0, minimum: 0, transition: true, units: "pixels", expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "line-offset": { type: "number", default: 0, transition: true, units: "pixels", expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "line-blur": { type: "number", default: 0, minimum: 0, transition: true, units: "pixels", expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "line-dasharray": { type: "array", value: "number", minimum: 0, transition: true, units: "line widths", requires: [{ "!": "line-pattern" }], expression: { interpolated: false, parameters: ["zoom", "feature"] }, "property-type": "cross-faded-data-driven" }, "line-pattern": { type: "resolvedImage", transition: true, expression: { interpolated: false, parameters: ["zoom", "feature"] }, "property-type": "cross-faded-data-driven" }, "line-gradient": { type: "color", transition: false, requires: [{ "!": "line-pattern" }, { source: "geojson", has: { lineMetrics: true } }], expression: { interpolated: true, parameters: ["line-progress"] }, "property-type": "color-ramp" }, "line-trim-offset": { type: "array", value: "number", length: 2, default: [0, 0], minimum: [0, 0], maximum: [1, 1], transition: false, requires: [{ source: "geojson", has: { lineMetrics: true } }], "property-type": "constant" } }, paint_circle: { "circle-radius": { type: "number", default: 5, minimum: 0, transition: true, units: "pixels", expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "circle-color": { type: "color", default: "#000000", transition: true, expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "circle-blur": { type: "number", default: 0, transition: true, expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "circle-opacity": { type: "number", default: 1, minimum: 0, maximum: 1, transition: true, expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "circle-translate": { type: "array", value: "number", length: 2, default: [0, 0], transition: true, units: "pixels", expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" }, "circle-translate-anchor": { type: "enum", values: { map: {}, viewport: {} }, default: "map", requires: ["circle-translate"], expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "circle-pitch-scale": { type: "enum", values: { map: {}, viewport: {} }, default: "map", expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "circle-pitch-alignment": { type: "enum", values: { map: {}, viewport: {} }, default: "viewport", expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "circle-stroke-width": { type: "number", default: 0, minimum: 0, transition: true, units: "pixels", expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "circle-stroke-color": { type: "color", default: "#000000", transition: true, expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "circle-stroke-opacity": { type: "number", default: 1, minimum: 0, maximum: 1, transition: true, expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" } }, paint_heatmap: { "heatmap-radius": { type: "number", default: 30, minimum: 1, transition: true, units: "pixels", expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "heatmap-weight": { type: "number", default: 1, minimum: 0, transition: false, expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "heatmap-intensity": { type: "number", default: 1, minimum: 0, transition: true, expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" }, "heatmap-color": { type: "color", default: ["interpolate", ["linear"], ["heatmap-density"], 0, "rgba(0, 0, 255, 0)", 0.1, "royalblue", 0.3, "cyan", 0.5, "lime", 0.7, "yellow", 1, "red"], transition: false, expression: { interpolated: true, parameters: ["heatmap-density"] }, "property-type": "color-ramp" }, "heatmap-opacity": { type: "number", default: 1, minimum: 0, maximum: 1, transition: true, expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" } }, paint_symbol: { "icon-opacity": { type: "number", default: 1, minimum: 0, maximum: 1, transition: true, requires: ["icon-image"], expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "icon-color": { type: "color", default: "#000000", transition: true, requires: ["icon-image"], expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "icon-halo-color": { type: "color", default: "rgba(0, 0, 0, 0)", transition: true, requires: ["icon-image"], expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "icon-halo-width": { type: "number", default: 0, minimum: 0, transition: true, units: "pixels", requires: ["icon-image"], expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "icon-halo-blur": { type: "number", default: 0, minimum: 0, transition: true, units: "pixels", requires: ["icon-image"], expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "icon-translate": { type: "array", value: "number", length: 2, default: [0, 0], transition: true, units: "pixels", requires: ["icon-image"], expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" }, "icon-translate-anchor": { type: "enum", values: { map: {}, viewport: {} }, default: "map", requires: ["icon-image", "icon-translate"], expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "text-opacity": { type: "number", default: 1, minimum: 0, maximum: 1, transition: true, requires: ["text-field"], expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "text-color": { type: "color", default: "#000000", transition: true, overridable: true, requires: ["text-field"], expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "text-halo-color": { type: "color", default: "rgba(0, 0, 0, 0)", transition: true, requires: ["text-field"], expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "text-halo-width": { type: "number", default: 0, minimum: 0, transition: true, units: "pixels", requires: ["text-field"], expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "text-halo-blur": { type: "number", default: 0, minimum: 0, transition: true, units: "pixels", requires: ["text-field"], expression: { interpolated: true, parameters: ["zoom", "feature", "feature-state"] }, "property-type": "data-driven" }, "text-translate": { type: "array", value: "number", length: 2, default: [0, 0], transition: true, units: "pixels", requires: ["text-field"], expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" }, "text-translate-anchor": { type: "enum", values: { map: {}, viewport: {} }, default: "map", requires: ["text-field", "text-translate"], expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" } }, paint_raster: { "raster-opacity": { type: "number", default: 1, minimum: 0, maximum: 1, transition: true, expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" }, "raster-hue-rotate": { type: "number", default: 0, period: 360, transition: true, units: "degrees", expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" }, "raster-brightness-min": { type: "number", default: 0, minimum: 0, maximum: 1, transition: true, expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" }, "raster-brightness-max": { type: "number", default: 1, minimum: 0, maximum: 1, transition: true, expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" }, "raster-saturation": { type: "number", default: 0, minimum: -1, maximum: 1, transition: true, expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" }, "raster-contrast": { type: "number", default: 0, minimum: -1, maximum: 1, transition: true, expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" }, "raster-resampling": { type: "enum", values: { linear: {}, nearest: {} }, default: "linear", expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "raster-fade-duration": { type: "number", default: 300, minimum: 0, transition: false, units: "milliseconds", expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" } }, paint_hillshade: { "hillshade-illumination-direction": { type: "number", default: 335, minimum: 0, maximum: 359, transition: false, expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" }, "hillshade-illumination-anchor": { type: "enum", values: { map: {}, viewport: {} }, default: "viewport", expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "hillshade-exaggeration": { type: "number", default: 0.5, minimum: 0, maximum: 1, transition: true, expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" }, "hillshade-shadow-color": { type: "color", default: "#000000", transition: true, expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" }, "hillshade-highlight-color": { type: "color", default: "#FFFFFF", transition: true, expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" }, "hillshade-accent-color": { type: "color", default: "#000000", transition: true, expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" } }, paint_background: { "background-color": { type: "color", default: "#000000", transition: true, requires: [{ "!": "background-pattern" }], expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" }, "background-pattern": { type: "resolvedImage", transition: true, expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "cross-faded" }, "background-opacity": { type: "number", default: 1, minimum: 0, maximum: 1, transition: true, expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" } }, paint_sky: { "sky-type": { type: "enum", values: { gradient: {}, atmosphere: {} }, default: "atmosphere", expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "sky-atmosphere-sun": { type: "array", value: "number", length: 2, units: "degrees", minimum: [0, 0], maximum: [360, 180], transition: false, requires: [{ "sky-type": "atmosphere" }], expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "sky-atmosphere-sun-intensity": { type: "number", requires: [{ "sky-type": "atmosphere" }], default: 10, minimum: 0, maximum: 100, transition: false, "property-type": "data-constant" }, "sky-gradient-center": { type: "array", requires: [{ "sky-type": "gradient" }], value: "number", default: [0, 0], length: 2, units: "degrees", minimum: [0, 0], maximum: [360, 180], transition: false, expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "sky-gradient-radius": { type: "number", requires: [{ "sky-type": "gradient" }], default: 90, minimum: 0, maximum: 180, transition: false, expression: { interpolated: false, parameters: ["zoom"] }, "property-type": "data-constant" }, "sky-gradient": { type: "color", default: ["interpolate", ["linear"], ["sky-radial-progress"], 0.8, "#87ceeb", 1, "white"], transition: false, requires: [{ "sky-type": "gradient" }], expression: { interpolated: true, parameters: ["sky-radial-progress"] }, "property-type": "color-ramp" }, "sky-atmosphere-halo-color": { type: "color", default: "white", transition: false, requires: [{ "sky-type": "atmosphere" }], "property-type": "data-constant" }, "sky-atmosphere-color": { type: "color", default: "white", transition: false, requires: [{ "sky-type": "atmosphere" }], "property-type": "data-constant" }, "sky-opacity": { type: "number", default: 1, minimum: 0, maximum: 1, transition: true, expression: { interpolated: true, parameters: ["zoom"] }, "property-type": "data-constant" } }, transition: { duration: { type: "number", default: 300, minimum: 0, units: "milliseconds" }, delay: { type: "number", default: 0, minimum: 0, units: "milliseconds" } }, "property-type": { "data-driven": { type: "property-type" }, "cross-faded": { type: "property-type" }, "cross-faded-data-driven": { type: "property-type" }, "color-ramp": { type: "property-type" }, "data-constant": { type: "property-type" }, constant: { type: "property-type" } }, promoteId: { "*": { type: "string" } } };
function Fm(i) {
  if (i === true || i === false)
    return true;
  if (!Array.isArray(i) || i.length === 0)
    return false;
  switch (i[0]) {
    case "has":
      return i.length >= 2 && i[1] !== "$id" && i[1] !== "$type";
    case "in":
      return i.length >= 3 && (typeof i[1] != "string" || Array.isArray(i[2]));
    case "!in":
    case "!has":
    case "none":
      return false;
    case "==":
    case "!=":
    case ">":
    case ">=":
    case "<":
    case "<=":
      return i.length !== 3 || Array.isArray(i[1]) || Array.isArray(i[2]);
    case "any":
    case "all":
      for (var t = 0, e = i.slice(1); t < e.length; t += 1) {
        var n = e[t];
        if (!Fm(n) && typeof n != "boolean")
          return false;
      }
      return true;
    default:
      return true;
  }
}
function rk(i, t) {
  if (t === void 0 && (t = "fill"), i == null)
    return {
      filter: function() {
        return true;
      },
      needGeometry: false,
      needFeature: false
    };
  Fm(i) || (i = Ia(i));
  var e = i, n = true;
  try {
    n = sk(e);
  } catch {
    console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
` + JSON.stringify(e, null, 2) + `
        `);
  }
  var o = Om["filter_" + t], r3 = Fh(n, o), s = null;
  if (r3.result === "error")
    throw new Error(r3.value.map(function(d) {
      return d.key + ": " + d.message;
    }).join(", "));
  s = function(d, c, g) {
    return r3.value.evaluate(d, c, {}, g);
  };
  var a = null, l = null;
  if (n !== e) {
    var h = Fh(e, o);
    if (h.result === "error")
      throw new Error(h.value.map(function(d) {
        return d.key + ": " + d.message;
      }).join(", "));
    a = function(d, c, g, f, m) {
      return h.value.evaluate(d, c, {}, g, void 0, void 0, f, m);
    }, l = !al(h.value.expression);
  }
  s = s;
  var u = jm(n);
  return {
    filter: s,
    dynamicFilter: a || void 0,
    needGeometry: u,
    needFeature: !!l
  };
}
function sk(i) {
  if (!Zo(i))
    return i;
  var t = Nh(i);
  return Gm(t), t = Nm(t), t;
}
function Nm(i) {
  if (!Array.isArray(i))
    return i;
  var t = hk(i);
  return t === true ? t : t.map(function(e) {
    return Nm(e);
  });
}
function Gm(i) {
  var t = false, e = [];
  if (i[0] === "case") {
    for (var n = 1; n < i.length - 1; n += 2)
      t = t || Zo(i[n]), e.push(i[n + 1]);
    e.push(i[i.length - 1]);
  } else if (i[0] === "match") {
    t = t || Zo(i[1]);
    for (var o = 2; o < i.length - 1; o += 2)
      e.push(i[o + 1]);
    e.push(i[i.length - 1]);
  } else if (i[0] === "step") {
    t = t || Zo(i[1]);
    for (var r3 = 1; r3 < i.length - 1; r3 += 2)
      e.push(i[r3 + 1]);
  }
  t && (i.length = 0, i.push.apply(i, ["any"].concat(e)));
  for (var s = 1; s < i.length; s++)
    Gm(i[s]);
}
function Zo(i) {
  if (!Array.isArray(i))
    return false;
  if (ak(i[0]))
    return true;
  for (var t = 1; t < i.length; t++) {
    var e = i[t];
    if (Zo(e))
      return true;
  }
  return false;
}
function ak(i) {
  return i === "pitch" || i === "distance-from-center";
}
var lk = /* @__PURE__ */ new Set([
  "in",
  "==",
  "!=",
  ">",
  ">=",
  "<",
  "<=",
  "to-boolean"
]);
function hk(i) {
  if (lk.has(i[0]))
    for (var t = 1; t < i.length; t++) {
      var e = i[t];
      if (Zo(e))
        return true;
    }
  return i;
}
function uk(i, t) {
  return i < t ? -1 : i > t ? 1 : 0;
}
function jm(i) {
  if (!Array.isArray(i))
    return false;
  if (i[0] === "within")
    return true;
  for (var t = 1; t < i.length; t++)
    if (jm(i[t]))
      return true;
  return false;
}
function Ia(i) {
  if (!i)
    return true;
  var t = i[0];
  if (i.length <= 1)
    return t !== "any";
  var e = t === "==" ? ih(i[1], i[2], "==") : t === "!=" ? $s(ih(i[1], i[2], "==")) : t === "<" || t === ">" || t === "<=" || t === ">=" ? ih(i[1], i[2], t) : t === "any" ? dk(i.slice(1)) : t === "all" ? ["all"].concat(i.slice(1).map(Ia)) : t === "none" ? ["all"].concat(i.slice(1).map(Ia).map($s)) : t === "in" ? tg(i[1], i.slice(2)) : t === "!in" ? $s(tg(i[1], i.slice(2))) : t === "has" ? eg(i[1]) : t === "!has" ? $s(eg(i[1])) : t === "within" ? i : true;
  return e;
}
function ih(i, t, e) {
  switch (i) {
    case "$type":
      return [
        "filter-type-" + e,
        t
      ];
    case "$id":
      return [
        "filter-id-" + e,
        t
      ];
    default:
      return [
        "filter-" + e,
        i,
        t
      ];
  }
}
function dk(i) {
  return ["any"].concat(i.map(Ia));
}
function tg(i, t) {
  if (t.length === 0)
    return false;
  switch (i) {
    case "$type":
      return [
        "filter-type-in",
        [
          "literal",
          t
        ]
      ];
    case "$id":
      return [
        "filter-id-in",
        [
          "literal",
          t
        ]
      ];
    default:
      return t.length > 200 && !t.some(function(e) {
        return typeof e != typeof t[0];
      }) ? [
        "filter-in-large",
        i,
        [
          "literal",
          t.sort(uk)
        ]
      ] : [
        "filter-in-small",
        i,
        [
          "literal",
          t
        ]
      ];
  }
}
function eg(i) {
  switch (i) {
    case "$type":
      return true;
    case "$id":
      return ["filter-has-id"];
    default:
      return [
        "filter-has",
        i
      ];
  }
}
function $s(i) {
  return [
    "!",
    i
  ];
}
var ck = [
  "type",
  "source",
  "source-layer",
  "minzoom",
  "maxzoom",
  "filter",
  "layout"
];
function gk(i, t) {
  var e = {};
  for (var n in i)
    n !== "ref" && (e[n] = i[n]);
  return ck.forEach(function(o) {
    o in t && (e[o] = t[o]);
  }), e;
}
function fk(i) {
  i = i.slice();
  for (var t = /* @__PURE__ */ Object.create(null), e = 0; e < i.length; e++)
    t[i[e].id] = i[e];
  for (var n = 0; n < i.length; n++)
    "ref" in i[n] && (i[n] = gk(i[n], t[i[n].ref]));
  return i;
}
var ig = {
  thin: 100,
  hairline: 100,
  "ultra-light": 100,
  "extra-light": 100,
  light: 200,
  book: 300,
  regular: 400,
  normal: 400,
  plain: 400,
  roman: 400,
  standard: 400,
  medium: 500,
  "semi-bold": 600,
  "demi-bold": 600,
  bold: 700,
  heavy: 800,
  black: 800,
  "extra-bold": 800,
  "ultra-black": 900,
  "extra-black": 900,
  "ultra-bold": 900,
  "heavy-black": 900,
  fat: 900,
  poster: 900
}, kr = " ", ng = /(italic|oblique)$/i, og = {}, rg = function(i, t, e) {
  var n = og[i];
  if (!n) {
    Array.isArray(i) || (i = [i]);
    for (var o = 400, r3 = "normal", s = [], a, l, h = 0, u = i.length; h < u; ++h) {
      var d = i[h], c = d.split(" "), g = c[c.length - 1].toLowerCase();
      g == "normal" || g == "italic" || g == "oblique" ? (r3 = l ? r3 : g, c.pop(), g = c[c.length - 1].toLowerCase()) : ng.test(g) && (g = g.replace(ng, ""), r3 = l ? r3 : c[c.length - 1].replace(g, ""));
      for (var f in ig) {
        var m = c.length > 1 ? c[c.length - 2].toLowerCase() : "";
        if (g == f || g == f.replace("-", "") || m + "-" + g == f) {
          o = a ? o : ig[f], c.pop(), m && f.startsWith(m) && c.pop();
          break;
        }
      }
      !a && typeof g == "number" && (o = g);
      var p = c.join(kr).replace("Klokantech Noto Sans", "Noto Sans");
      p.indexOf(kr) !== -1 && (p = '"' + p + '"'), s.push(p);
    }
    n = og[i] = [
      r3,
      o,
      s
    ];
  }
  return n[0] + kr + n[1] + kr + t + "px" + (e ? "/" + e : "") + kr + n[2];
};
function nh(i) {
  return i * Math.PI / 180;
}
var mk = function() {
  for (var i = [], t = 78271.51696402048; i.length <= 24; t /= 2)
    i.push(t);
  return i;
}();
function Bm(i, t) {
  if (typeof WorkerGlobalScope < "u" && self instanceof WorkerGlobalScope && typeof OffscreenCanvas < "u")
    return new OffscreenCanvas(i, t);
  var e = document.createElement("canvas");
  return e.width = i, e.height = t, e;
}
function pk(i, t) {
  for (var e = 0, n = t.length; e < n; ++e) {
    var o = t[e];
    if (o < i && e + 1 < n) {
      var r3 = t[e] / t[e + 1];
      return e + Math.log(t[e] / i) / Math.log(r3);
    }
  }
  return n - 1;
}
var vk = Array(256).join("\u200A");
function Gh(i, t) {
  if (t >= 0.05) {
    for (var e = "", n = i.split(`
`), o = vk.slice(0, Math.round(t / 0.1)), r3 = 0, s = n.length; r3 < s; ++r3)
      r3 > 0 && (e += `
`), e += n[r3].split("").join(o);
    return e;
  }
  return i;
}
var oh;
function Wm() {
  return oh || (oh = Bm(1, 1).getContext("2d")), oh;
}
function Fn(i, t) {
  return Wm().measureText(i).width + (i.length - 1) * t;
}
var sg = {};
function jh(i, t, e, n) {
  if (i.indexOf(`
`) !== -1) {
    for (var o = i.split(`
`), r3 = [], s = 0, a = o.length; s < a; ++s)
      r3.push(jh(o[s], t, e, n));
    return r3.join(`
`);
  }
  var l = e + "," + t + "," + i + "," + n, h = sg[l];
  if (!h) {
    var u = i.split(" ");
    if (u.length > 1) {
      var d = Wm();
      d.font = t;
      for (var c = d.measureText("M").width, g = c * e, f = "", m = [], p = 0, _ = u.length; p < _; ++p) {
        var v = u[p], y = f + (f ? " " : "") + v;
        Fn(y, n) <= g ? f = y : (f && m.push(f), f = v);
      }
      f && m.push(f);
      for (var x = 0, k = m.length; x < k && k > 1; ++x) {
        var w = m[x];
        if (Fn(w, n) < g * 0.35) {
          var E = x > 0 ? Fn(m[x - 1], n) : 1 / 0, C = x < k - 1 ? Fn(m[x + 1], n) : 1 / 0;
          m.splice(x, 1), k -= 1, E < C ? (m[x - 1] += " " + w, x -= 1) : m[x] = w + " " + m[x];
        }
      }
      for (var S = 0, z = m.length - 1; S < z; ++S) {
        var P = m[S], N = m[S + 1];
        if (Fn(P, n) > g * 0.7 && Fn(N, n) < g * 0.6) {
          var A = P.split(" "), st = A.pop();
          Fn(st, n) < g * 0.2 && (m[S] = A.join(" "), m[S + 1] = st + " " + N), z -= 1;
        }
      }
      h = m.join(`
`);
    } else
      h = i;
    h = Gh(h, n), sg[l] = h;
  }
  return h;
}
var _k = {
  Point: 1,
  MultiPoint: 1,
  LineString: 2,
  MultiLineString: 2,
  Polygon: 3,
  MultiPolygon: 3
}, yk = {
  center: [
    0.5,
    0.5
  ],
  left: [
    0,
    0.5
  ],
  right: [
    1,
    0.5
  ],
  top: [
    0.5,
    0
  ],
  bottom: [
    0.5,
    1
  ],
  "top-left": [
    0,
    0
  ],
  "top-right": [
    1,
    0
  ],
  "bottom-left": [
    0,
    1
  ],
  "bottom-right": [
    1,
    1
  ]
}, xk = function(i, t) {
  var e = ek(i, t);
  if (e.result === "error")
    throw new Error(e.value.map(function(n) {
      return n.key + ": " + n.message;
    }).join(", "));
  return e.value;
}, Bh = {}, za = { zoom: 0 }, Hs, rh;
function et(i, t, e, n, o, r3, s) {
  var a = i.id;
  r3 || (r3 = {}, console.warn("No functionCache provided to getValue()")), r3[a] || (r3[a] = {});
  var l = r3[a];
  if (!l[e]) {
    var h = (i[t] || Bh)[e], u = Om[t + "_" + i.type][e];
    h === void 0 && (h = u.default);
    var d = tk(h);
    if (!d && Lm(h) && (h = Kx(h, u), d = true), d) {
      var c = xk(h, u);
      l[e] = c.evaluate.bind(c);
    } else
      u.type == "color" && (h = At.parse(h)), l[e] = function() {
        return h;
      };
  }
  return za.zoom = n, l[e](za, o, s);
}
function bk(i, t, e, n) {
  var o = et(i, "layout", "icon-allow-overlap", t, e, n);
  if (!o)
    return "declutter";
  var r3 = et(i, "layout", "icon-ignore-placement", t, e, n);
  return r3 ? "none" : "obstacle";
}
function kk(i, t, e, n, o) {
  return o || console.warn("No filterCache provided to evaluateFilter()"), i in o || (o[i] = rk(t).filter), za.zoom = n, o[i](za, e);
}
function Nn(i, t) {
  if (i) {
    if (i.a === 0 || t === 0)
      return;
    var e = i.a;
    return t = t === void 0 ? 1 : t, e === 0 ? "transparent" : "rgba(" + Math.round(i.r * 255 / e) + "," + Math.round(i.g * 255 / e) + "," + Math.round(i.b * 255 / e) + "," + e * t + ")";
  }
  return i;
}
var wk = /\{[^{}}]*\}/g;
function sh(i, t) {
  return i.replace(wk, function(e) {
    return t[e.slice(1, -1)] || "";
  });
}
function Ck(i, t, e, n, o, r3, s) {
  if (n === void 0 && (n = mk), o === void 0 && (o = void 0), r3 === void 0 && (r3 = void 0), s === void 0 && (s = void 0), typeof t == "string" && (t = JSON.parse(t)), t.version != 8)
    throw new Error("glStyle version 8 required.");
  var a, l;
  if (r3) {
    if (typeof Image < "u") {
      var h = new Image();
      h.crossOrigin = "anonymous", h.onload = function() {
        a = h, l = [
          h.width,
          h.height
        ], i.changed(), h.onload = null;
      }, h.src = r3;
    } else if (typeof WorkerGlobalScope < "u" && self instanceof WorkerGlobalScope) {
      var u = self;
      u.postMessage({
        action: "loadImage",
        src: r3
      }), u.addEventListener("message", function(B) {
        B.data.action === "imageLoaded" && B.data.src === r3 && (a = B.data.image, l = [
          a.width,
          a.height
        ]);
      });
    }
  }
  for (var d = fk(t.layers), c = {}, g = [], f = {}, m = {}, p = {}, _ = {}, v, y = 0, x = d.length; y < x; ++y) {
    var k = d[y], w = k.id;
    if (typeof e == "string" && k.source == e || e.indexOf(w) !== -1) {
      var E = k["source-layer"];
      if (v) {
        if (k.source !== v)
          throw new Error('Layer "' + w + '" does not use source "' + v);
      } else {
        v = k.source;
        var C = t.sources[v];
        if (!C)
          throw new Error('Source "' + v + '" is not defined');
        var S = C.type;
        if (S !== "vector" && S !== "geojson")
          throw new Error('Source "' + v + '" is not of type "vector" or "geojson", but "' + S + '"');
      }
      var z = c[E];
      z || (z = [], c[E] = z), z.push({
        layer: k,
        index: y
      }), g.push(w);
    }
  }
  var P = new Te(), N = new _e(), A = [], st = function(j, B) {
    var F = j.getProperties(), U = c[F.layer];
    if (!!U) {
      var D = n.indexOf(B);
      D == -1 && (D = pk(B, n));
      for (var q = _k[j.getGeometry().getType()], W = {
        properties: F,
        type: q
      }, I = i.get("mapbox-featurestate")[j.getId()], nt = -1, b = 0, T = U.length; b < T; ++b) {
        var V = U[b], M = V.layer, $ = M.id, X = M.layout || Bh, vt = M.paint || Bh;
        if (!(X.visibility === "none" || "minzoom" in M && D < M.minzoom || "maxzoom" in M && D >= M.maxzoom)) {
          var Et = M.filter;
          if (!Et || kk($, Et, W, D, _)) {
            var _t = void 0, Ct = void 0, Lt = void 0, Pt = void 0, Ft = void 0, O = void 0, ht = V.index;
            if (q == 3 && (M.type == "fill" || M.type == "fill-extrusion"))
              if (Ct = et(M, "paint", M.type + "-opacity", D, W, p, I), M.type + "-pattern" in vt) {
                var ft = et(M, "paint", M.type + "-pattern", D, W, p, I);
                if (ft) {
                  var kt = typeof ft == "string" ? sh(ft, F) : ft.toString();
                  if (a && o && o[kt]) {
                    ++nt, O = A[nt], (!O || !O.getFill() || O.getStroke() || O.getText()) && (O = new ce({ fill: new _e() }), A[nt] = O), Lt = O.getFill(), O.setZIndex(ht);
                    var yt = kt + "." + Ct, ot = m[yt];
                    if (!ot) {
                      var it = o[kt], wt = Bm(it.width, it.height), Tt = wt.getContext("2d");
                      Tt.globalAlpha = Ct, Tt.drawImage(a, it.x, it.y, it.width, it.height, 0, 0, it.width, it.height), ot = Tt.createPattern(wt, "repeat"), m[yt] = ot;
                    }
                    Lt.setColor(ot);
                  }
                }
              } else
                _t = Nn(et(M, "paint", M.type + "-color", D, W, p, I), Ct), M.type + "-outline-color" in vt && (Ft = Nn(et(M, "paint", M.type + "-outline-color", D, W, p, I), Ct)), Ft || (Ft = _t), (_t || Ft) && (++nt, O = A[nt], (!O || _t && !O.getFill() || !_t && O.getFill() || Ft && !O.getStroke() || !Ft && O.getStroke() || O.getText()) && (O = new ce({
                  fill: _t ? new _e() : void 0,
                  stroke: Ft ? new Te() : void 0
                }), A[nt] = O), _t && (Lt = O.getFill(), Lt.setColor(_t)), Ft && (Pt = O.getStroke(), Pt.setColor(Ft), Pt.setWidth(0.5)), O.setZIndex(ht));
            if (q != 1 && M.type == "line") {
              _t = !("line-pattern" in vt) && "line-color" in vt ? Nn(et(M, "paint", "line-color", D, W, p, I), et(M, "paint", "line-opacity", D, W, p, I)) : void 0;
              var Nt = et(M, "paint", "line-width", D, W, p, I);
              _t && Nt > 0 && (++nt, O = A[nt], (!O || !O.getStroke() || O.getFill() || O.getText()) && (O = new ce({ stroke: new Te() }), A[nt] = O), Pt = O.getStroke(), Pt.setLineCap(et(M, "layout", "line-cap", D, W, p, I)), Pt.setLineJoin(et(M, "layout", "line-join", D, W, p, I)), Pt.setMiterLimit(et(M, "layout", "line-miter-limit", D, W, p, I)), Pt.setColor(_t), Pt.setWidth(Nt), Pt.setLineDash(vt["line-dasharray"] ? et(M, "paint", "line-dasharray", D, W, p, I).map(function(De) {
                return De * Nt;
              }) : null), O.setZIndex(ht));
            }
            var bt = false, ut = null, Ot = 0, St = void 0, dt = void 0, le = void 0;
            if ((q == 1 || q == 2) && "icon-image" in X) {
              var je = et(M, "layout", "icon-image", D, W, p, I);
              if (je) {
                St = typeof je == "string" ? sh(je, F) : je.toString();
                var Xt = void 0;
                if (a && o && o[St]) {
                  var xe = et(M, "layout", "icon-rotation-alignment", D, W, p, I);
                  if (q == 2) {
                    var Wt = j.getGeometry();
                    if (Wt.getFlatMidpoint || Wt.getFlatMidpoints) {
                      var Kt = Wt.getExtent(), Bi = Math.sqrt(Math.max(Math.pow((Kt[2] - Kt[0]) / B, 2), Math.pow((Kt[3] - Kt[1]) / B, 2)));
                      if (Bi > 150) {
                        var ie = Wt.getType() === "MultiLineString" ? Wt.getFlatMidpoints() : Wt.getFlatMidpoint();
                        rh || (Hs = [
                          NaN,
                          NaN
                        ], rh = new Rh("Point", Hs, [], {}, null)), Xt = rh, Hs[0] = ie[0], Hs[1] = ie[1];
                        var Be = et(M, "layout", "symbol-placement", D, W, p, I);
                        if (Be === "line" && xe === "map")
                          for (var ge = Wt.getStride(), Pe = Wt.getFlatCoordinates(), Ci = 0, Ss = Pe.length - ge; Ci < Ss; Ci += ge) {
                            var he = Pe[Ci], ui = Pe[Ci + 1], fe = Pe[Ci + ge], We = Pe[Ci + ge + 1], be = Math.min(he, fe), fo = Math.min(ui, We), mo = Math.max(he, fe), me = Math.max(ui, We);
                            if (ie[0] >= be && ie[0] <= mo && ie[1] >= fo && ie[1] <= me) {
                              Ot = Math.atan2(ui - We, fe - he);
                              break;
                            }
                          }
                      }
                    }
                  }
                  if (q !== 2 || Xt) {
                    var ke = et(M, "layout", "icon-size", D, W, p, I), Jt = vt["icon-color"] !== void 0 ? et(M, "paint", "icon-color", D, W, p, I) : null;
                    if (!Jt || Jt.a !== 0) {
                      var dr = St + "." + ke;
                      if (Jt !== null && (dr += "." + Jt), dt = f[dr], !dt) {
                        var cr = o[St], zp = bk(M, D, W, p), dl = void 0;
                        "icon-offset" in X && (dl = et(M, "layout", "icon-offset", D, W, p, I), dl[1] *= -1), dt = new Qa({
                          color: Jt ? [
                            Jt.r * 255,
                            Jt.g * 255,
                            Jt.b * 255,
                            Jt.a
                          ] : void 0,
                          img: a,
                          imgSize: l,
                          size: [
                            cr.width,
                            cr.height
                          ],
                          offset: [
                            cr.x,
                            cr.y
                          ],
                          rotateWithView: xe === "map",
                          scale: ke / cr.pixelRatio,
                          displacement: dl,
                          declutterMode: zp
                        }), f[dr] = dt;
                      }
                    }
                    dt && (++nt, O = A[nt], (!O || !O.getImage() || O.getFill() || O.getStroke()) && (O = new ce(), A[nt] = O), O.setGeometry(Xt), dt.setRotation(Ot + nh(et(M, "layout", "icon-rotate", D, W, p, I))), dt.setOpacity(et(M, "paint", "icon-opacity", D, W, p, I)), dt.setAnchor(yk[et(M, "layout", "icon-anchor", D, W, p, I)]), O.setImage(dt), ut = O.getText(), O.setText(void 0), O.setZIndex(ht), bt = true, le = false);
                  } else
                    le = true;
                }
              }
            }
            if (q == 1 && M.type === "circle") {
              ++nt, O = A[nt], (!O || !O.getImage() || O.getFill() || O.getStroke()) && (O = new ce(), A[nt] = O);
              var Md = "circle-radius" in vt ? et(M, "paint", "circle-radius", D, W, p, I) : 5, cl = Nn(et(M, "paint", "circle-stroke-color", D, W, p, I), et(M, "paint", "circle-stroke-opacity", D, W, p, I)), gl = Nn(et(M, "paint", "circle-color", D, W, p, I), et(M, "paint", "circle-opacity", D, W, p, I)), fl = et(M, "paint", "circle-stroke-width", D, W, p, I), Ed = Md + "." + cl + "." + gl + "." + fl;
              dt = f[Ed], dt || (dt = new go({
                radius: Md,
                stroke: cl && fl > 0 ? new Te({
                  width: fl,
                  color: cl
                }) : void 0,
                fill: gl ? new _e({ color: gl }) : void 0,
                declutterMode: "none"
              }), f[Ed] = dt), O.setImage(dt), ut = O.getText(), O.setText(void 0), O.setGeometry(void 0), O.setZIndex(ht), bt = true;
            }
            var ue = void 0, gr = void 0, fr = void 0, Wi = void 0, mr = void 0, ml = void 0;
            if ("text-field" in X) {
              Wi = Math.round(et(M, "layout", "text-size", D, W, p, I));
              var pl = et(M, "layout", "text-font", D, W, p, I);
              fr = et(M, "layout", "text-line-height", D, W, p, I), gr = rg(s ? s(pl) : pl, Wi, fr), gr.includes("sans-serif") || (gr += ",sans-serif"), mr = et(M, "layout", "text-letter-spacing", D, W, p, I), ml = et(M, "layout", "text-max-width", D, W, p, I);
              var po = et(M, "layout", "text-field", D, W, p, I);
              typeof po == "object" && po.sections ? po.sections.length === 1 ? ue = po.toString() : ue = po.sections.reduce(function(De, Zi, EE) {
                var Dd = Zi.fontStack ? Zi.fontStack.split(",") : pl, kl = rg(s ? s(Dd) : Dd, Wi * (Zi.scale || 1), fr), vo = Zi.text;
                if (vo === `
`)
                  return De.push(`
`, ""), De;
                if (q == 2) {
                  De.push(Gh(vo, mr), kl);
                  return;
                }
                vo = jh(vo, kl, ml, mr).split(`
`);
                for (var Is = 0, Ap = vo.length; Is < Ap; ++Is)
                  Is > 0 && De.push(`
`, ""), De.push(vo[Is], kl);
                return De;
              }, []) : ue = sh(po, F).trim(), Ct = et(M, "paint", "text-opacity", D, W, p, I);
            }
            if (ue && Ct && !le) {
              bt || (++nt, O = A[nt], (!O || !O.getText() || O.getFill() || O.getStroke()) && (O = new ce(), A[nt] = O), O.setImage(void 0), O.setGeometry(void 0)), O.getText() || O.setText(ut || new $f({
                padding: [
                  2,
                  2,
                  2,
                  2
                ]
              })), ut = O.getText();
              var Sd = X["text-transform"];
              Sd == "uppercase" ? ue = Array.isArray(ue) ? ue.map(function(De, Zi) {
                return Zi % 2 ? De : De.toUpperCase();
              }) : ue.toUpperCase() : Sd == "lowercase" && (ue = Array.isArray(ue) ? ue.map(function(De, Zi) {
                return Zi % 2 ? De : De.toLowerCase();
              }) : ue.toLowerCase());
              var Td = Array.isArray(ue) ? ue : q == 2 ? Gh(ue, mr) : jh(ue, gr, ml, mr);
              ut.setText(Td), ut.setFont(gr), ut.setRotation(nh(et(M, "layout", "text-rotate", D, W, p, I)));
              var Ts = et(M, "layout", "text-anchor", D, W, p, I), vl = bt || q == 1 ? "point" : et(M, "layout", "symbol-placement", D, W, p, I);
              ut.setPlacement(vl), ut.setOverflow(vl === "point");
              var An = et(M, "paint", "text-halo-width", D, W, p, I), Id = et(M, "layout", "text-offset", D, W, p, I), zd = et(M, "paint", "text-translate", D, W, p, I), _l = 0, yl = 0;
              if (vl == "point") {
                var xl = "center";
                Ts.indexOf("left") !== -1 ? (xl = "left", yl = An) : Ts.indexOf("right") !== -1 && (xl = "right", yl = -An), ut.setTextAlign(xl);
                var Rp = et(M, "layout", "text-rotation-alignment", D, W, p, I);
                ut.setRotateWithView(Rp == "map");
              } else
                ut.setMaxAngle(nh(et(M, "layout", "text-max-angle", D, W, p, I)) * ue.length / Td.length), ut.setTextAlign(), ut.setRotateWithView(false);
              var bl = "middle";
              Ts.indexOf("bottom") == 0 ? (bl = "bottom", _l = -An - 0.5 * (fr - 1) * Wi) : Ts.indexOf("top") == 0 && (bl = "top", _l = An + 0.5 * (fr - 1) * Wi), ut.setTextBaseline(bl);
              var Rd = et(M, "layout", "text-justify", D, W, p, I);
              ut.setJustify(Rd === "auto" ? void 0 : Rd), ut.setOffsetX(Id[0] * Wi + yl + zd[0]), ut.setOffsetY(Id[1] * Wi + _l + zd[1]), N.setColor(Nn(et(M, "paint", "text-color", D, W, p, I), Ct)), ut.setFill(N);
              var Ad = Nn(et(M, "paint", "text-halo-color", D, W, p, I), Ct);
              if (Ad) {
                P.setColor(Ad), An *= 2;
                var Pd = 0.5 * Wi;
                P.setWidth(An <= Pd ? An : Pd), ut.setStroke(P);
              } else
                ut.setStroke(void 0);
              var pr = et(M, "layout", "text-padding", D, W, p, I), vr = ut.getPadding();
              pr !== vr[0] && (vr[0] = pr, vr[1] = pr, vr[2] = pr, vr[3] = pr), O.setZIndex(ht);
            }
          }
        }
      }
      if (nt > -1)
        return A.length = nt + 1, A;
    }
  };
  return i.setStyle(st), i.set("mapbox-source", v), i.set("mapbox-layers", g), i.set("mapbox-featurestate", {}), st;
}
new Bn();
class Mk extends Yx {
  constructor(t) {
    t = t || {};
    const e = t.projection !== void 0 ? t.projection : "EPSG:3857", n = t.tileGrid !== void 0 ? t.tileGrid : _m({
      extent: nl(e),
      maxResolution: t.maxResolution,
      maxZoom: t.maxZoom,
      minZoom: t.minZoom,
      tileSize: t.tileSize
    });
    super({
      attributions: t.attributions,
      cacheSize: t.cacheSize,
      crossOrigin: t.crossOrigin,
      interpolate: t.interpolate,
      opaque: t.opaque,
      projection: e,
      reprojectionErrorThreshold: t.reprojectionErrorThreshold,
      tileGrid: n,
      tileLoadFunction: t.tileLoadFunction,
      tilePixelRatio: t.tilePixelRatio,
      tileUrlFunction: t.tileUrlFunction,
      url: t.url,
      urls: t.urls,
      wrapX: t.wrapX !== void 0 ? t.wrapX : true,
      transition: t.transition,
      attributionsCollapsible: t.attributionsCollapsible,
      zDirection: t.zDirection
    }), this.gutter_ = t.gutter !== void 0 ? t.gutter : 0;
  }
  getGutter() {
    return this.gutter_;
  }
}
const Zm = Mk, Ym = '&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.';
class Ek extends Zm {
  constructor(t) {
    t = t || {};
    let e;
    t.attributions !== void 0 ? e = t.attributions : e = [Ym];
    const n = t.crossOrigin !== void 0 ? t.crossOrigin : "anonymous", o = t.url !== void 0 ? t.url : "https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";
    super({
      attributions: e,
      attributionsCollapsible: false,
      cacheSize: t.cacheSize,
      crossOrigin: n,
      interpolate: t.interpolate,
      maxZoom: t.maxZoom !== void 0 ? t.maxZoom : 19,
      opaque: t.opaque !== void 0 ? t.opaque : true,
      reprojectionErrorThreshold: t.reprojectionErrorThreshold,
      tileLoadFunction: t.tileLoadFunction,
      transition: t.transition,
      url: o,
      wrapX: t.wrapX,
      zDirection: t.zDirection
    });
  }
}
const Sk = Ek;
function Xm(i, t = []) {
  return (...e) => ((n) => n.length >= i.length ? i(...n) : Xm(i, n))([...t, ...e]);
}
const Tk = Array.isArray;
function Ik(i, t, e) {
  if (!Tk(e))
    throw new TypeError("reduce: list must be array or iterable");
  let n = 0;
  const o = e.length;
  for (; n < o; )
    t = i(t, e[n], n, e), n++;
  return t;
}
const zk = Xm(Ik);
function Rk(i) {
  return typeof i == "string" ? i[i.length - 1] || "" : i[i.length - 1];
}
function Um(i, t) {
  return arguments.length === 1 ? (e) => Um(i, e) : i * t;
}
zk(Um, 1);
function Vm(i, t) {
  if (arguments.length === 1)
    return (o) => Vm(i, o);
  if (i < 1)
    throw new Error("First argument to splitEvery must be a positive integer");
  const e = [];
  let n = 0;
  for (; n < t.length; )
    e.push(t.slice(n, n += i));
  return e;
}
Pp``;
const Ak = "data:image/svg+xml;base64,PHN2ZyBpZD0iaWNvbiIKICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgPGRlZnM+CiAgICA8c3R5bGU+LmNscy0xe2ZpbGw6bm9uZTt9PC9zdHlsZT4KICA8L2RlZnM+CiAgPHRpdGxlPmVyYXNlPC90aXRsZT4KICA8cmVjdCBmaWxsPSJ3aGl0ZSIgeD0iNyIgeT0iMjciIHdpZHRoPSIyMyIgaGVpZ2h0PSIyIiAvPgogIDxwYXRoIGZpbGw9IndoaXRlIiBkPSJNMjcuMzgsMTAuNTEsMTkuNDUsMi41OWEyLDIsMCwwLDAtMi44MywwbC0xNCwxNGEyLDIsMCwwLDAsMCwyLjgzTDcuMTMsMjRoOS41OUwyNy4zOCwxMy4zNEEyLDIsMCwwLDAsMjcuMzgsMTAuNTFaTTE1Ljg5LDIySDhMNCwxOGw2LjMxLTYuMzEsNy45Myw3LjkyWm0zLjc2LTMuNzYtNy45Mi03LjkzTDE4LDQsMjYsMTEuOTNaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDApIi8+CiAgPHJlY3QgZmlsbD0id2hpdGUiIGlkPSJfVHJhbnNwYXJlbnRfUmVjdGFuZ2xlXyIgZGF0YS1uYW1lPSImbHQ7VHJhbnNwYXJlbnQgUmVjdGFuZ2xlJmd0OyIgY2xhc3M9ImNscy0xIiB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIC8+Cjwvc3ZnPg==", Pk = "data:image/svg+xml;base64,77u/PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c29kaXBvZGk9Imh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkIgogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIKICAgdmVyc2lvbj0iMS4xIgogICB3aWR0aD0iMTAwIgogICBoZWlnaHQ9IjEwMCIKICAgaWQ9InN2ZzQ0NjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Im5vcnRoLWFycm93LW4uc3ZnIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIxLjAgKDQwMzVhNGZiNDksIDIwMjAtMDUtMDEpIj4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEiCiAgICAgb2JqZWN0dG9sZXJhbmNlPSIxMCIKICAgICBncmlkdG9sZXJhbmNlPSIxMCIKICAgICBndWlkZXRvbGVyYW5jZT0iMTAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjE5MjAiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iMTAxNyIKICAgICBpZD0ibmFtZWR2aWV3MTEiCiAgICAgc2hvd2dyaWQ9ImZhbHNlIgogICAgIGlua3NjYXBlOnpvb209IjIuODI4NDI3MSIKICAgICBpbmtzY2FwZTpjeD0iLTk3LjYyODQ3NSIKICAgICBpbmtzY2FwZTpjeT0iNjQuODk0MjI2IgogICAgIGlua3NjYXBlOndpbmRvdy14PSItOCIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iLTgiCiAgICAgaW5rc2NhcGU6d2luZG93LW1heGltaXplZD0iMSIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJzdmc0NDYwIgogICAgIGlua3NjYXBlOmRvY3VtZW50LXJvdGF0aW9uPSIwIiAvPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0NDYyIiAvPgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTQ0NjUiPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgICAgPGRjOnRpdGxlPjwvZGM6dGl0bGU+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxwYXRoCiAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2NjY2NjY2NjY2NjY2NjY2N6Y2NjY2MiCiAgICAgZD0ibSA0Mi4wNjY0MDYsMCB2IDIwIGggMy43NTE5NTMgViA2Ljk1NzAzMTIgTCA1My44ODA4NTksMjAgaCA0LjA1MjczNSBWIDAgSCA1NC4xODE2NDEgViAxMy4zNTU0NjkgTCA0NS45OTYwOTQsMCBaIG0gNS41NzAzMTcsMjYuNjg3NTQxIC0yNS43NzE0ODksNjkuOTQ5MTc4IGMgLTAuODIyMDM0LDIuMjM4NzM0IDEuNjU4NjksNC4yNDc4MTEgMy42Nzc3MzUsMi45Nzg1MTUgTCA1MCw4NC4xOTUzMTIgNzQuNDU1MDc4LDk5LjYxNTIzNCBjIDIuMDE5NTI2LDEuMjcyOTg2IDQuNTA0MDY3LC0wLjczODExNiAzLjY3OTY4OCwtMi45Nzg1MTUgbCAtMjUuNzg5MDYzLC03MCBjIC0wLjQ3MzEyMywtMS4wOTU1OSAtMS4yODQwMDUsLTEuNjMxNDUgLTIuMzg0NzUyLC0xLjYzNDgxMyAtMS4xMDA3NDcsLTAuMDAzNCAtMi4wMTY5NzIsMC44NTYxIC0yLjMyNDIyOCwxLjY4NTYzNSB6IE0gNDcuNSw0MS41MTc1NzggdiAzOC4zNDM3NSBMIDI5LjA5OTYwOSw5MS40NjI4OTEgWiIKICAgICBzdHlsZT0iY29sb3I6IzAwMDAwMDtmb250LXN0eWxlOm5vcm1hbDtmb250LXZhcmlhbnQ6bm9ybWFsO2ZvbnQtd2VpZ2h0Om5vcm1hbDtmb250LXN0cmV0Y2g6bm9ybWFsO2ZvbnQtc2l6ZTptZWRpdW07bGluZS1oZWlnaHQ6bm9ybWFsO2ZvbnQtZmFtaWx5OnNhbnMtc2VyaWY7Zm9udC12YXJpYW50LWxpZ2F0dXJlczpub3JtYWw7Zm9udC12YXJpYW50LXBvc2l0aW9uOm5vcm1hbDtmb250LXZhcmlhbnQtY2Fwczpub3JtYWw7Zm9udC12YXJpYW50LW51bWVyaWM6bm9ybWFsO2ZvbnQtdmFyaWFudC1hbHRlcm5hdGVzOm5vcm1hbDtmb250LXZhcmlhbnQtZWFzdC1hc2lhbjpub3JtYWw7Zm9udC1mZWF0dXJlLXNldHRpbmdzOm5vcm1hbDtmb250LXZhcmlhdGlvbi1zZXR0aW5nczpub3JtYWw7dGV4dC1pbmRlbnQ6MDt0ZXh0LWFsaWduOnN0YXJ0O3RleHQtZGVjb3JhdGlvbjpub25lO3RleHQtZGVjb3JhdGlvbi1saW5lOm5vbmU7dGV4dC1kZWNvcmF0aW9uLXN0eWxlOnNvbGlkO3RleHQtZGVjb3JhdGlvbi1jb2xvcjojMDAwMDAwO2xldHRlci1zcGFjaW5nOm5vcm1hbDt3b3JkLXNwYWNpbmc6bm9ybWFsO3RleHQtdHJhbnNmb3JtOm5vbmU7d3JpdGluZy1tb2RlOmxyLXRiO2RpcmVjdGlvbjpsdHI7dGV4dC1vcmllbnRhdGlvbjptaXhlZDtkb21pbmFudC1iYXNlbGluZTphdXRvO2Jhc2VsaW5lLXNoaWZ0OmJhc2VsaW5lO3RleHQtYW5jaG9yOnN0YXJ0O3doaXRlLXNwYWNlOm5vcm1hbDtzaGFwZS1wYWRkaW5nOjA7c2hhcGUtbWFyZ2luOjA7aW5saW5lLXNpemU6MDtjbGlwLXJ1bGU6bm9uemVybztkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO3Zpc2liaWxpdHk6dmlzaWJsZTtpc29sYXRpb246YXV0bzttaXgtYmxlbmQtbW9kZTpub3JtYWw7Y29sb3ItaW50ZXJwb2xhdGlvbjpzUkdCO2NvbG9yLWludGVycG9sYXRpb24tZmlsdGVyczpsaW5lYXJSR0I7c29saWQtY29sb3I6IzAwMDAwMDtzb2xpZC1vcGFjaXR5OjE7dmVjdG9yLWVmZmVjdDpub25lO2ZpbGw6cmdiKDAsIDAsIDApO2ZpbGwtb3BhY2l0eToxO2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDo1O3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2UtZGFzaG9mZnNldDowO3N0cm9rZS1vcGFjaXR5OjE7Y29sb3ItcmVuZGVyaW5nOmF1dG87aW1hZ2UtcmVuZGVyaW5nOmF1dG87c2hhcGUtcmVuZGVyaW5nOmF1dG87dGV4dC1yZW5kZXJpbmc6YXV0bztlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlO3N0b3AtY29sb3I6IzAwMDAwMCIKICAgICBpZD0icGF0aDkxMCIgLz4KICA8ZwogICAgIHN0eWxlPSJmb250LXN0eWxlOm5vcm1hbDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zaXplOjI3Ljk0cHg7bGluZS1oZWlnaHQ6MTAwJTtmb250LWZhbWlseTpzYW5zLXNlcmlmO3RleHQtYWxpZ246ZW5kO2xldHRlci1zcGFjaW5nOjBweDt3b3JkLXNwYWNpbmc6MHB4O3RleHQtYW5jaG9yOmVuZDtmaWxsOnJnYigwLCAwLCAwKTtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS4xMTc2cHg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICBpZD0idGV4dDkwMyIKICAgICBhcmlhLWxhYmVsPSJOIiAvPgo8L3N2Zz4K", Dk = "data:image/svg+xml;base64,PHN2ZyBpZD0iaWNvbiIKICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgPGRlZnM+CiAgICA8c3R5bGU+LmNscy0xe2ZpbGw6bm9uZTt9PC9zdHlsZT4KICA8L2RlZnM+CiAgPHRpdGxlPnJlc2V0PC90aXRsZT4KICA8cGF0aCBmaWxsPSJ3aGl0ZSIgZD0iTTE4LDI4QTEyLDEyLDAsMSwwLDYsMTZ2Ni4yTDIuNCwxOC42LDEsMjBsNiw2LDYtNi0xLjQtMS40TDgsMjIuMlYxNkg4QTEwLDEwLDAsMSwxLDE4LDI2WiIvPgogIDxyZWN0IGZpbGw9IndoaXRlIiBpZD0iX1RyYW5zcGFyZW50X1JlY3RhbmdsZV8iIGRhdGEtbmFtZT0iJmx0O1RyYW5zcGFyZW50IFJlY3RhbmdsZSZndDsiIGNsYXNzPSJjbHMtMSIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIi8+Cjwvc3ZnPgo=", Lk = "data:image/svg+xml;base64,PHN2ZyBpZD0iaWNvbiIKICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgPGRlZnM+CiAgICA8c3R5bGU+LmNscy0xe2ZpbGw6bm9uZTt9PC9zdHlsZT4KICA8L2RlZnM+CiAgPHRpdGxlPnRyYXNoLWNhbjwvdGl0bGU+CiAgPHJlY3QgZmlsbD0id2hpdGUiIHg9IjEyIiB5PSIxMiIgd2lkdGg9IjIiIGhlaWdodD0iMTIiLz4KICA8cmVjdCBmaWxsPSJ3aGl0ZSIgeD0iMTgiIHk9IjEyIiB3aWR0aD0iMiIgaGVpZ2h0PSIxMiIvPgogIDxwYXRoIGZpbGw9IndoaXRlIiBkPSJNNCw2VjhINlYyOGEyLDIsMCwwLDAsMiwySDI0YTIsMiwwLDAsMCwyLTJWOGgyVjZaTTgsMjhWOEgyNFYyOFoiLz4KICA8cmVjdCBmaWxsPSJ3aGl0ZSIgeD0iMTIiIHk9IjIiIHdpZHRoPSI4IiBoZWlnaHQ9IjIiLz4KICA8cmVjdCBmaWxsPSJ3aGl0ZSIgaWQ9Il9UcmFuc3BhcmVudF9SZWN0YW5nbGVfIiBkYXRhLW5hbWU9IiZsdDtUcmFuc3BhcmVudCBSZWN0YW5nbGUmZ3Q7IiBjbGFzcz0iY2xzLTEiIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIvPgo8L3N2Zz4=";
function Ok(i) {
  return new X_({
    units: "metric",
    bar: i,
    steps: 4,
    text: false,
    minWidth: 140
  });
}
function Fk() {
  const i = document.createElement("img");
  i.src = Pk, i.title = "North";
  const t = document.createElement("div");
  return t.className = "north-arrow-control ol-unselectable ol-control", t.appendChild(i), new rr({ element: t });
}
function Nk(i, t) {
  const e = document.createElement("button");
  if (e.title = "Reset map view", t === "unicode")
    e.innerHTML = "\u21BB";
  else {
    const o = {
      reset: Dk,
      trash: Lk,
      erase: Ak
    }, r3 = document.createElement("img");
    r3.className = "reset-icon", r3.src = o[t], e.appendChild(r3);
  }
  e.addEventListener("click", i, false);
  const n = document.createElement("div");
  return n.className = "reset-control ol-unselectable ol-control", n.appendChild(e), new rr({ element: n });
}
const ll = new pn({
  features: [],
  wrapX: false
}), Gk = new io({
  source: ll,
  properties: {
    name: "pointsLayer"
  },
  style: new ce({
    image: new go({
      radius: 3,
      fill: new _e({
        color: "grey"
      })
    })
  })
});
function jk(i, t) {
  var n, o, r3;
  const e = i && ((r3 = (o = (n = i.getSource()) == null ? void 0 : n.getFeaturesInExtent(t)) == null ? void 0 : o.filter((s) => {
    var a;
    return ((a = s.getGeometry()) == null ? void 0 : a.getType()) !== "Point";
  })) == null ? void 0 : r3.flatMap((s) => s.flatCoordinates_));
  if (e)
    return Vm(2, e).forEach((s, a) => {
      ll.addFeature(
        new Pi({
          geometry: new si(s),
          i: a
        })
      );
    });
}
const qm = {
  color: "#ff0000",
  width: 3
}, Bk = new Te(qm), Wk = new Te({
  ...qm,
  lineDash: [2, 8]
}), $m = new _e({
  color: "rgba(255, 0, 0, 0.1)"
}), Hm = new tl({
  stroke: new Te({
    color: "red",
    width: 2
  }),
  points: 4,
  radius1: 15,
  radius2: 1
}), Km = new go({
  radius: 6,
  fill: new _e({
    color: "#ff0000"
  })
}), Zk = new ce({
  image: new tl({
    fill: new _e({
      color: "#fff"
    }),
    stroke: new Te({
      color: "#ff0000",
      width: 2
    }),
    points: 4,
    radius: 5,
    angle: Math.PI / 4
  }),
  geometry: function(i) {
    const t = i.getGeometry();
    if (t instanceof eo) {
      const e = t.getCoordinates()[0];
      return new ms(e);
    } else
      return;
  }
}), Ai = new pn(), ag = new io({
  source: Ai,
  style: [
    new ce({
      fill: $m,
      stroke: Bk
    }),
    Zk
  ]
});
function Yk(i) {
  return new rx({
    source: Ai,
    type: "Polygon",
    style: new ce({
      stroke: Wk,
      fill: $m,
      image: i === "crosshair" ? Hm : Km
    })
  });
}
const lg = new dx({
  source: ll,
  pixelTolerance: 15
});
function Xk(i) {
  return new hx({
    source: Ai,
    style: new ce({
      image: i === "crosshair" ? Hm : Km
    })
  });
}
const Uk = "data:image/svg+xml;base64,77u/PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c29kaXBvZGk9Imh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkIgogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIKICAgdmVyc2lvbj0iMS4xIgogICB3aWR0aD0iMTAwIgogICBoZWlnaHQ9IjEwMCIKICAgaWQ9InN2ZzQ0NjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9InVFQTE3LXBvaS1hbHQuc3ZnIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIxLjAgKDQwMzVhNGZiNDksIDIwMjAtMDUtMDEpIj4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEiCiAgICAgb2JqZWN0dG9sZXJhbmNlPSIxMCIKICAgICBncmlkdG9sZXJhbmNlPSIxMCIKICAgICBndWlkZXRvbGVyYW5jZT0iMTAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjE5MjAiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iMTAxNyIKICAgICBpZD0ibmFtZWR2aWV3MTEiCiAgICAgc2hvd2dyaWQ9ImZhbHNlIgogICAgIGlua3NjYXBlOnpvb209IjIuODU2NzExNCIKICAgICBpbmtzY2FwZTpjeD0iLTMxLjM3NjY1NyIKICAgICBpbmtzY2FwZTpjeT0iNTkuNTAwMTg0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSItOCIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iLTgiCiAgICAgaW5rc2NhcGU6d2luZG93LW1heGltaXplZD0iMSIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJzdmc0NDYwIgogICAgIGlua3NjYXBlOmRvY3VtZW50LXJvdGF0aW9uPSIwIiAvPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0NDYyIiAvPgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTQ0NjUiPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgICAgPGRjOnRpdGxlIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxwYXRoCiAgICAgZD0ibSA0Ny43ODE2MTQsNTUuMzU5OTU4IGMgNS41MTMyOSwwLjYzNDc4IDEwLjY4NzA5LC0xLjA0ODYzNCAxNC42Mzg1MjIsLTQuNzYzMDQ1IDQuMDEyMzI3LC0zLjc3MTIxNyA1LjgxNzEzMSwtNy45MTQzODggNS44MTcxMzEsLTEzLjM1NDE1OCAwLC01LjUwNzMzNyAtMS44MjMwNTIsLTkuNjMyODM1IC01Ljk1NTI1OSwtMTMuNDc4MTA4IC0xLjgyNjIzNiwtMS42OTkwMzkgLTQuMjI3MDUzLC0zLjA5NDUzNSAtNi44NDQyOTcsLTMuOTc3OTU0IC0yLjE0MDA0OCwtMC43MjI0OTUgLTYuODgyNywtMC45MDI0MDYgLTkuNDI2OTUyLC0wLjM1NzcyNiAtMi44MzI2MDQsMC42MDYyMzggLTYuMjAzMDg3LDIuMzY0OTE2IC04LjMzNTI5Miw0LjM0ODkxNCAtMy45OTAwNDgsMy43MTI0ODcgLTUuOTAxNzkxLDguMDc1MDE3IC01LjkwMTc5MSwxMy40NjUwNjQgMCwzLjIzMTM2IDAuNDcyMSw1LjI1NTEyNSAxLjkxNTU2Miw4LjIwNjI2IDEuMDUwMDgsMi4xNDY2OCAxLjQ0Mzg4NiwyLjY4MjA5NSAzLjQwNTkxNiw0LjYzMzEzNSAxLjcwODA1LDEuNjk4NTc0IDIuNjQ1MDQ0LDIuNDI1MDQxIDQuMDc0MjkxLDMuMTU4MzQgMi4zNTQ1NjMsMS4yMDgxMDIgNC40MDUwNzEsMS44NjUyNyA2LjYxMjE2OSwyLjExOTQ2OCB6IG0gMS4wMzYwNzYsNDQuMjEzNTUgYyAtMC4zODc4NjUsLTAuMjM1NDQgLTIuMTI2MjU2LC0xLjkyNTMxIC0zLjg2NDQzNywtMy43NTU1MyBDIDMxLjYzOTM2Niw4MS43OTg1NTggMjIuMzQ1MjM3LDY4LjE2MTE3MyAxNy4zMDAyMzEsNTUuMjQxMTQ3IDE1Ljc4MjI5NCw1MS4zNTQxNDEgMTUuMjE5ODAzLDQ5LjM5MTE1NiAxNC42MjU0ODYsNDUuOTExMjg0IDEyLjgwMjQzNiwzNS4yNDAxMyAxNC45ODU3NjksMjQuODE3MzIxIDIwLjg5Njg5NiwxNS45NTExNjUgMjMuMTQ3MjgsMTIuNTc2MzAyIDI3LjcxMjU0OCw4LjAwMDcxMzQgMzAuOTcxNjM0LDUuODUzNDQyNCBjIDExLjg5MTY0NCwtNy44MzUyNTcgMjYuMjIwMTcxLC03LjgwMjY1NyAzOC4xNjY1NSwwLjA4Njg4IDMuMTAwMzc3LDIuMDQ3MzU2IDcuNzEwODQsNi43MDE4NDI2IDkuOTA1NjMxLDkuOTk5Nzk0NiA0LjAxODQ4MSw2LjAzODg2NSA2LjE2MDAxNCwxMi4yMzcyNTkgNi44MTA1NywxOS43MTQ0NzIgMC41MzEwNyw2LjEwMjYyMyAtMC4zODMyMDgsMTIuMDYwMTU5IC0yLjg2Mjc0NSwxOC42OTQyMDQgLTQuODI1NjE1LDEyLjkwMjU2NiAtMTMuNTk3NTY3LDI1Ljc4MDgxNSAtMjguNzA1NDMyLDQyLjE0NDE0NSAtMy4zNzI4MTUsMy42NTI5OTIgLTMuOTcxMTYyLDMuOTkwMzYyIC01LjQ2ODUxOCwzLjA4MDYyIHoiCiAgICAgc3R5bGU9ImZpbGw6cmdiKDAsIDAsIDApO3N0cm9rZS13aWR0aDo0LjU1MzciCiAgICAgaWQ9InBhdGg0MTM1IgogICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9IjAiIC8+Cjwvc3ZnPgo=";
/**
 * splaytree v3.1.0
 * Fast Splay tree for Node and browser
 *
 * @author Alexander Milevski <info@w8r.name>
 * @license MIT
 * @preserve
 */
var Cn = function() {
  function i(t, e) {
    this.next = null, this.key = t, this.data = e, this.left = null, this.right = null;
  }
  return i;
}();
function Vk(i, t) {
  return i > t ? 1 : i < t ? -1 : 0;
}
function Ji(i, t, e) {
  for (var n = new Cn(null, null), o = n, r3 = n; ; ) {
    var s = e(i, t.key);
    if (s < 0) {
      if (t.left === null)
        break;
      if (e(i, t.left.key) < 0) {
        var a = t.left;
        if (t.left = a.right, a.right = t, t = a, t.left === null)
          break;
      }
      r3.left = t, r3 = t, t = t.left;
    } else if (s > 0) {
      if (t.right === null)
        break;
      if (e(i, t.right.key) > 0) {
        var a = t.right;
        if (t.right = a.left, a.left = t, t = a, t.right === null)
          break;
      }
      o.right = t, o = t, t = t.right;
    } else
      break;
  }
  return o.right = t.left, r3.left = t.right, t.left = n.right, t.right = n.left, t;
}
function ah(i, t, e, n) {
  var o = new Cn(i, t);
  if (e === null)
    return o.left = o.right = null, o;
  e = Ji(i, e, n);
  var r3 = n(i, e.key);
  return r3 < 0 ? (o.left = e.left, o.right = e, e.left = null) : r3 >= 0 && (o.right = e.right, o.left = e, e.right = null), o;
}
function hg(i, t, e) {
  var n = null, o = null;
  if (t) {
    t = Ji(i, t, e);
    var r3 = e(t.key, i);
    r3 === 0 ? (n = t.left, o = t.right) : r3 < 0 ? (o = t.right, t.right = null, n = t) : (n = t.left, t.left = null, o = t);
  }
  return { left: n, right: o };
}
function qk(i, t, e) {
  return t === null ? i : (i === null || (t = Ji(i.key, t, e), t.left = i), t);
}
function Wh(i, t, e, n, o) {
  if (i) {
    n("" + t + (e ? "\u2514\u2500\u2500 " : "\u251C\u2500\u2500 ") + o(i) + `
`);
    var r3 = t + (e ? "    " : "\u2502   ");
    i.left && Wh(i.left, r3, false, n, o), i.right && Wh(i.right, r3, true, n, o);
  }
}
var pd = function() {
  function i(t) {
    t === void 0 && (t = Vk), this._root = null, this._size = 0, this._comparator = t;
  }
  return i.prototype.insert = function(t, e) {
    return this._size++, this._root = ah(t, e, this._root, this._comparator);
  }, i.prototype.add = function(t, e) {
    var n = new Cn(t, e);
    this._root === null && (n.left = n.right = null, this._size++, this._root = n);
    var o = this._comparator, r3 = Ji(t, this._root, o), s = o(t, r3.key);
    return s === 0 ? this._root = r3 : (s < 0 ? (n.left = r3.left, n.right = r3, r3.left = null) : s > 0 && (n.right = r3.right, n.left = r3, r3.right = null), this._size++, this._root = n), this._root;
  }, i.prototype.remove = function(t) {
    this._root = this._remove(t, this._root, this._comparator);
  }, i.prototype._remove = function(t, e, n) {
    var o;
    if (e === null)
      return null;
    e = Ji(t, e, n);
    var r3 = n(t, e.key);
    return r3 === 0 ? (e.left === null ? o = e.right : (o = Ji(t, e.left, n), o.right = e.right), this._size--, o) : e;
  }, i.prototype.pop = function() {
    var t = this._root;
    if (t) {
      for (; t.left; )
        t = t.left;
      return this._root = Ji(t.key, this._root, this._comparator), this._root = this._remove(t.key, this._root, this._comparator), { key: t.key, data: t.data };
    }
    return null;
  }, i.prototype.findStatic = function(t) {
    for (var e = this._root, n = this._comparator; e; ) {
      var o = n(t, e.key);
      if (o === 0)
        return e;
      o < 0 ? e = e.left : e = e.right;
    }
    return null;
  }, i.prototype.find = function(t) {
    return this._root && (this._root = Ji(t, this._root, this._comparator), this._comparator(t, this._root.key) !== 0) ? null : this._root;
  }, i.prototype.contains = function(t) {
    for (var e = this._root, n = this._comparator; e; ) {
      var o = n(t, e.key);
      if (o === 0)
        return true;
      o < 0 ? e = e.left : e = e.right;
    }
    return false;
  }, i.prototype.forEach = function(t, e) {
    for (var n = this._root, o = [], r3 = false; !r3; )
      n !== null ? (o.push(n), n = n.left) : o.length !== 0 ? (n = o.pop(), t.call(e, n), n = n.right) : r3 = true;
    return this;
  }, i.prototype.range = function(t, e, n, o) {
    for (var r3 = [], s = this._comparator, a = this._root, l; r3.length !== 0 || a; )
      if (a)
        r3.push(a), a = a.left;
      else {
        if (a = r3.pop(), l = s(a.key, e), l > 0)
          break;
        if (s(a.key, t) >= 0 && n.call(o, a))
          return this;
        a = a.right;
      }
    return this;
  }, i.prototype.keys = function() {
    var t = [];
    return this.forEach(function(e) {
      var n = e.key;
      return t.push(n);
    }), t;
  }, i.prototype.values = function() {
    var t = [];
    return this.forEach(function(e) {
      var n = e.data;
      return t.push(n);
    }), t;
  }, i.prototype.min = function() {
    return this._root ? this.minNode(this._root).key : null;
  }, i.prototype.max = function() {
    return this._root ? this.maxNode(this._root).key : null;
  }, i.prototype.minNode = function(t) {
    if (t === void 0 && (t = this._root), t)
      for (; t.left; )
        t = t.left;
    return t;
  }, i.prototype.maxNode = function(t) {
    if (t === void 0 && (t = this._root), t)
      for (; t.right; )
        t = t.right;
    return t;
  }, i.prototype.at = function(t) {
    for (var e = this._root, n = false, o = 0, r3 = []; !n; )
      if (e)
        r3.push(e), e = e.left;
      else if (r3.length > 0) {
        if (e = r3.pop(), o === t)
          return e;
        o++, e = e.right;
      } else
        n = true;
    return null;
  }, i.prototype.next = function(t) {
    var e = this._root, n = null;
    if (t.right) {
      for (n = t.right; n.left; )
        n = n.left;
      return n;
    }
    for (var o = this._comparator; e; ) {
      var r3 = o(t.key, e.key);
      if (r3 === 0)
        break;
      r3 < 0 ? (n = e, e = e.left) : e = e.right;
    }
    return n;
  }, i.prototype.prev = function(t) {
    var e = this._root, n = null;
    if (t.left !== null) {
      for (n = t.left; n.right; )
        n = n.right;
      return n;
    }
    for (var o = this._comparator; e; ) {
      var r3 = o(t.key, e.key);
      if (r3 === 0)
        break;
      r3 < 0 ? e = e.left : (n = e, e = e.right);
    }
    return n;
  }, i.prototype.clear = function() {
    return this._root = null, this._size = 0, this;
  }, i.prototype.toList = function() {
    return Hk(this._root);
  }, i.prototype.load = function(t, e, n) {
    e === void 0 && (e = []), n === void 0 && (n = false);
    var o = t.length, r3 = this._comparator;
    if (n && Xh(t, e, 0, o - 1, r3), this._root === null)
      this._root = Zh(t, e, 0, o), this._size = o;
    else {
      var s = Kk(this.toList(), $k(t, e), r3);
      o = this._size + o, this._root = Yh({ head: s }, 0, o);
    }
    return this;
  }, i.prototype.isEmpty = function() {
    return this._root === null;
  }, Object.defineProperty(i.prototype, "size", {
    get: function() {
      return this._size;
    },
    enumerable: true,
    configurable: true
  }), Object.defineProperty(i.prototype, "root", {
    get: function() {
      return this._root;
    },
    enumerable: true,
    configurable: true
  }), i.prototype.toString = function(t) {
    t === void 0 && (t = function(n) {
      return String(n.key);
    });
    var e = [];
    return Wh(this._root, "", true, function(n) {
      return e.push(n);
    }, t), e.join("");
  }, i.prototype.update = function(t, e, n) {
    var o = this._comparator, r3 = hg(t, this._root, o), s = r3.left, a = r3.right;
    o(t, e) < 0 ? a = ah(e, n, a, o) : s = ah(e, n, s, o), this._root = qk(s, a, o);
  }, i.prototype.split = function(t) {
    return hg(t, this._root, this._comparator);
  }, i;
}();
function Zh(i, t, e, n) {
  var o = n - e;
  if (o > 0) {
    var r3 = e + Math.floor(o / 2), s = i[r3], a = t[r3], l = new Cn(s, a);
    return l.left = Zh(i, t, e, r3), l.right = Zh(i, t, r3 + 1, n), l;
  }
  return null;
}
function $k(i, t) {
  for (var e = new Cn(null, null), n = e, o = 0; o < i.length; o++)
    n = n.next = new Cn(i[o], t[o]);
  return n.next = null, e.next;
}
function Hk(i) {
  for (var t = i, e = [], n = false, o = new Cn(null, null), r3 = o; !n; )
    t ? (e.push(t), t = t.left) : e.length > 0 ? (t = r3 = r3.next = e.pop(), t = t.right) : n = true;
  return r3.next = null, o.next;
}
function Yh(i, t, e) {
  var n = e - t;
  if (n > 0) {
    var o = t + Math.floor(n / 2), r3 = Yh(i, t, o), s = i.head;
    return s.left = r3, i.head = i.head.next, s.right = Yh(i, o + 1, e), s;
  }
  return null;
}
function Kk(i, t, e) {
  for (var n = new Cn(null, null), o = n, r3 = i, s = t; r3 !== null && s !== null; )
    e(r3.key, s.key) < 0 ? (o.next = r3, r3 = r3.next) : (o.next = s, s = s.next), o = o.next;
  return r3 !== null ? o.next = r3 : s !== null && (o.next = s), n.next;
}
function Xh(i, t, e, n, o) {
  if (!(e >= n)) {
    for (var r3 = i[e + n >> 1], s = e - 1, a = n + 1; ; ) {
      do
        s++;
      while (o(i[s], r3) < 0);
      do
        a--;
      while (o(i[a], r3) > 0);
      if (s >= a)
        break;
      var l = i[s];
      i[s] = i[a], i[a] = l, l = t[s], t[s] = t[a], t[a] = l;
    }
    Xh(i, t, e, a, o), Xh(i, t, a + 1, n, o);
  }
}
function ti(i, t) {
  if (!(i instanceof t))
    throw new TypeError("Cannot call a class as a function");
}
function ug(i, t) {
  for (var e = 0; e < t.length; e++) {
    var n = t[e];
    n.enumerable = n.enumerable || false, n.configurable = true, "value" in n && (n.writable = true), Object.defineProperty(i, n.key, n);
  }
}
function Re(i, t, e) {
  return t && ug(i.prototype, t), e && ug(i, e), i;
}
var wr = function(t, e) {
  return t.ll.x <= e.x && e.x <= t.ur.x && t.ll.y <= e.y && e.y <= t.ur.y;
}, Uh = function(t, e) {
  if (e.ur.x < t.ll.x || t.ur.x < e.ll.x || e.ur.y < t.ll.y || t.ur.y < e.ll.y)
    return null;
  var n = t.ll.x < e.ll.x ? e.ll.x : t.ll.x, o = t.ur.x < e.ur.x ? t.ur.x : e.ur.x, r3 = t.ll.y < e.ll.y ? e.ll.y : t.ll.y, s = t.ur.y < e.ur.y ? t.ur.y : e.ur.y;
  return {
    ll: {
      x: n,
      y: r3
    },
    ur: {
      x: o,
      y: s
    }
  };
}, sn = Number.EPSILON;
sn === void 0 && (sn = Math.pow(2, -52));
var Jk = sn * sn, Vh = function(t, e) {
  if (-sn < t && t < sn && -sn < e && e < sn)
    return 0;
  var n = t - e;
  return n * n < Jk * t * e ? 0 : t < e ? -1 : 1;
}, Qk = /* @__PURE__ */ function() {
  function i() {
    ti(this, i), this.reset();
  }
  return Re(i, [{
    key: "reset",
    value: function() {
      this.xRounder = new dg(), this.yRounder = new dg();
    }
  }, {
    key: "round",
    value: function(e, n) {
      return {
        x: this.xRounder.round(e),
        y: this.yRounder.round(n)
      };
    }
  }]), i;
}(), dg = /* @__PURE__ */ function() {
  function i() {
    ti(this, i), this.tree = new pd(), this.round(0);
  }
  return Re(i, [{
    key: "round",
    value: function(e) {
      var n = this.tree.add(e), o = this.tree.prev(n);
      if (o !== null && Vh(n.key, o.key) === 0)
        return this.tree.remove(e), o.key;
      var r3 = this.tree.next(n);
      return r3 !== null && Vh(n.key, r3.key) === 0 ? (this.tree.remove(e), r3.key) : e;
    }
  }]), i;
}(), rs = new Qk(), Fr = function(t, e) {
  return t.x * e.y - t.y * e.x;
}, Jm = function(t, e) {
  return t.x * e.x + t.y * e.y;
}, cg = function(t, e, n) {
  var o = {
    x: e.x - t.x,
    y: e.y - t.y
  }, r3 = {
    x: n.x - t.x,
    y: n.y - t.y
  }, s = Fr(o, r3);
  return Vh(s, 0);
}, Ra = function(t) {
  return Math.sqrt(Jm(t, t));
}, tw = function(t, e, n) {
  var o = {
    x: e.x - t.x,
    y: e.y - t.y
  }, r3 = {
    x: n.x - t.x,
    y: n.y - t.y
  };
  return Fr(r3, o) / Ra(r3) / Ra(o);
}, ew = function(t, e, n) {
  var o = {
    x: e.x - t.x,
    y: e.y - t.y
  }, r3 = {
    x: n.x - t.x,
    y: n.y - t.y
  };
  return Jm(r3, o) / Ra(r3) / Ra(o);
}, gg = function(t, e, n) {
  return e.y === 0 ? null : {
    x: t.x + e.x / e.y * (n - t.y),
    y: n
  };
}, fg = function(t, e, n) {
  return e.x === 0 ? null : {
    x: n,
    y: t.y + e.y / e.x * (n - t.x)
  };
}, iw = function(t, e, n, o) {
  if (e.x === 0)
    return fg(n, o, t.x);
  if (o.x === 0)
    return fg(t, e, n.x);
  if (e.y === 0)
    return gg(n, o, t.y);
  if (o.y === 0)
    return gg(t, e, n.y);
  var r3 = Fr(e, o);
  if (r3 == 0)
    return null;
  var s = {
    x: n.x - t.x,
    y: n.y - t.y
  }, a = Fr(s, e) / r3, l = Fr(s, o) / r3, h = t.x + l * e.x, u = n.x + a * o.x, d = t.y + l * e.y, c = n.y + a * o.y, g = (h + u) / 2, f = (d + c) / 2;
  return {
    x: g,
    y: f
  };
}, di = /* @__PURE__ */ function() {
  Re(i, null, [{
    key: "compare",
    value: function(e, n) {
      var o = i.comparePoints(e.point, n.point);
      return o !== 0 ? o : (e.point !== n.point && e.link(n), e.isLeft !== n.isLeft ? e.isLeft ? 1 : -1 : Aa.compare(e.segment, n.segment));
    }
  }, {
    key: "comparePoints",
    value: function(e, n) {
      return e.x < n.x ? -1 : e.x > n.x ? 1 : e.y < n.y ? -1 : e.y > n.y ? 1 : 0;
    }
  }]);
  function i(t, e) {
    ti(this, i), t.events === void 0 ? t.events = [this] : t.events.push(this), this.point = t, this.isLeft = e;
  }
  return Re(i, [{
    key: "link",
    value: function(e) {
      if (e.point === this.point)
        throw new Error("Tried to link already linked events");
      for (var n = e.point.events, o = 0, r3 = n.length; o < r3; o++) {
        var s = n[o];
        this.point.events.push(s), s.point = this.point;
      }
      this.checkForConsuming();
    }
  }, {
    key: "checkForConsuming",
    value: function() {
      for (var e = this.point.events.length, n = 0; n < e; n++) {
        var o = this.point.events[n];
        if (o.segment.consumedBy === void 0)
          for (var r3 = n + 1; r3 < e; r3++) {
            var s = this.point.events[r3];
            s.consumedBy === void 0 && o.otherSE.point.events === s.otherSE.point.events && o.segment.consume(s.segment);
          }
      }
    }
  }, {
    key: "getAvailableLinkedEvents",
    value: function() {
      for (var e = [], n = 0, o = this.point.events.length; n < o; n++) {
        var r3 = this.point.events[n];
        r3 !== this && !r3.segment.ringOut && r3.segment.isInResult() && e.push(r3);
      }
      return e;
    }
  }, {
    key: "getLeftmostComparator",
    value: function(e) {
      var n = this, o = /* @__PURE__ */ new Map(), r3 = function(a) {
        var l = a.otherSE;
        o.set(a, {
          sine: tw(n.point, e.point, l.point),
          cosine: ew(n.point, e.point, l.point)
        });
      };
      return function(s, a) {
        o.has(s) || r3(s), o.has(a) || r3(a);
        var l = o.get(s), h = l.sine, u = l.cosine, d = o.get(a), c = d.sine, g = d.cosine;
        return h >= 0 && c >= 0 ? u < g ? 1 : u > g ? -1 : 0 : h < 0 && c < 0 ? u < g ? -1 : u > g ? 1 : 0 : c < h ? -1 : c > h ? 1 : 0;
      };
    }
  }]), i;
}(), nw = 0, Aa = /* @__PURE__ */ function() {
  Re(i, null, [{
    key: "compare",
    value: function(e, n) {
      var o = e.leftSE.point.x, r3 = n.leftSE.point.x, s = e.rightSE.point.x, a = n.rightSE.point.x;
      if (a < o)
        return 1;
      if (s < r3)
        return -1;
      var l = e.leftSE.point.y, h = n.leftSE.point.y, u = e.rightSE.point.y, d = n.rightSE.point.y;
      if (o < r3) {
        if (h < l && h < u)
          return 1;
        if (h > l && h > u)
          return -1;
        var c = e.comparePoint(n.leftSE.point);
        if (c < 0)
          return 1;
        if (c > 0)
          return -1;
        var g = n.comparePoint(e.rightSE.point);
        return g !== 0 ? g : -1;
      }
      if (o > r3) {
        if (l < h && l < d)
          return -1;
        if (l > h && l > d)
          return 1;
        var f = n.comparePoint(e.leftSE.point);
        if (f !== 0)
          return f;
        var m = e.comparePoint(n.rightSE.point);
        return m < 0 ? 1 : m > 0 ? -1 : 1;
      }
      if (l < h)
        return -1;
      if (l > h)
        return 1;
      if (s < a) {
        var p = n.comparePoint(e.rightSE.point);
        if (p !== 0)
          return p;
      }
      if (s > a) {
        var _ = e.comparePoint(n.rightSE.point);
        if (_ < 0)
          return 1;
        if (_ > 0)
          return -1;
      }
      if (s !== a) {
        var v = u - l, y = s - o, x = d - h, k = a - r3;
        if (v > y && x < k)
          return 1;
        if (v < y && x > k)
          return -1;
      }
      return s > a ? 1 : s < a || u < d ? -1 : u > d ? 1 : e.id < n.id ? -1 : e.id > n.id ? 1 : 0;
    }
  }]);
  function i(t, e, n, o) {
    ti(this, i), this.id = ++nw, this.leftSE = t, t.segment = this, t.otherSE = e, this.rightSE = e, e.segment = this, e.otherSE = t, this.rings = n, this.windings = o;
  }
  return Re(i, [{
    key: "replaceRightSE",
    value: function(e) {
      this.rightSE = e, this.rightSE.segment = this, this.rightSE.otherSE = this.leftSE, this.leftSE.otherSE = this.rightSE;
    }
  }, {
    key: "bbox",
    value: function() {
      var e = this.leftSE.point.y, n = this.rightSE.point.y;
      return {
        ll: {
          x: this.leftSE.point.x,
          y: e < n ? e : n
        },
        ur: {
          x: this.rightSE.point.x,
          y: e > n ? e : n
        }
      };
    }
  }, {
    key: "vector",
    value: function() {
      return {
        x: this.rightSE.point.x - this.leftSE.point.x,
        y: this.rightSE.point.y - this.leftSE.point.y
      };
    }
  }, {
    key: "isAnEndpoint",
    value: function(e) {
      return e.x === this.leftSE.point.x && e.y === this.leftSE.point.y || e.x === this.rightSE.point.x && e.y === this.rightSE.point.y;
    }
  }, {
    key: "comparePoint",
    value: function(e) {
      if (this.isAnEndpoint(e))
        return 0;
      var n = this.leftSE.point, o = this.rightSE.point, r3 = this.vector();
      if (n.x === o.x)
        return e.x === n.x ? 0 : e.x < n.x ? 1 : -1;
      var s = (e.y - n.y) / r3.y, a = n.x + s * r3.x;
      if (e.x === a)
        return 0;
      var l = (e.x - n.x) / r3.x, h = n.y + l * r3.y;
      return e.y === h ? 0 : e.y < h ? -1 : 1;
    }
  }, {
    key: "getIntersection",
    value: function(e) {
      var n = this.bbox(), o = e.bbox(), r3 = Uh(n, o);
      if (r3 === null)
        return null;
      var s = this.leftSE.point, a = this.rightSE.point, l = e.leftSE.point, h = e.rightSE.point, u = wr(n, l) && this.comparePoint(l) === 0, d = wr(o, s) && e.comparePoint(s) === 0, c = wr(n, h) && this.comparePoint(h) === 0, g = wr(o, a) && e.comparePoint(a) === 0;
      if (d && u)
        return g && !c ? a : !g && c ? h : null;
      if (d)
        return c && s.x === h.x && s.y === h.y ? null : s;
      if (u)
        return g && a.x === l.x && a.y === l.y ? null : l;
      if (g && c)
        return null;
      if (g)
        return a;
      if (c)
        return h;
      var f = iw(s, this.vector(), l, e.vector());
      return f === null || !wr(r3, f) ? null : rs.round(f.x, f.y);
    }
  }, {
    key: "split",
    value: function(e) {
      var n = [], o = e.events !== void 0, r3 = new di(e, true), s = new di(e, false), a = this.rightSE;
      this.replaceRightSE(s), n.push(s), n.push(r3);
      var l = new i(r3, a, this.rings.slice(), this.windings.slice());
      return di.comparePoints(l.leftSE.point, l.rightSE.point) > 0 && l.swapEvents(), di.comparePoints(this.leftSE.point, this.rightSE.point) > 0 && this.swapEvents(), o && (r3.checkForConsuming(), s.checkForConsuming()), n;
    }
  }, {
    key: "swapEvents",
    value: function() {
      var e = this.rightSE;
      this.rightSE = this.leftSE, this.leftSE = e, this.leftSE.isLeft = true, this.rightSE.isLeft = false;
      for (var n = 0, o = this.windings.length; n < o; n++)
        this.windings[n] *= -1;
    }
  }, {
    key: "consume",
    value: function(e) {
      for (var n = this, o = e; n.consumedBy; )
        n = n.consumedBy;
      for (; o.consumedBy; )
        o = o.consumedBy;
      var r3 = i.compare(n, o);
      if (r3 !== 0) {
        if (r3 > 0) {
          var s = n;
          n = o, o = s;
        }
        if (n.prev === o) {
          var a = n;
          n = o, o = a;
        }
        for (var l = 0, h = o.rings.length; l < h; l++) {
          var u = o.rings[l], d = o.windings[l], c = n.rings.indexOf(u);
          c === -1 ? (n.rings.push(u), n.windings.push(d)) : n.windings[c] += d;
        }
        o.rings = null, o.windings = null, o.consumedBy = n, o.leftSE.consumedBy = n.leftSE, o.rightSE.consumedBy = n.rightSE;
      }
    }
  }, {
    key: "prevInResult",
    value: function() {
      return this._prevInResult !== void 0 ? this._prevInResult : (this.prev ? this.prev.isInResult() ? this._prevInResult = this.prev : this._prevInResult = this.prev.prevInResult() : this._prevInResult = null, this._prevInResult);
    }
  }, {
    key: "beforeState",
    value: function() {
      if (this._beforeState !== void 0)
        return this._beforeState;
      if (!this.prev)
        this._beforeState = {
          rings: [],
          windings: [],
          multiPolys: []
        };
      else {
        var e = this.prev.consumedBy || this.prev;
        this._beforeState = e.afterState();
      }
      return this._beforeState;
    }
  }, {
    key: "afterState",
    value: function() {
      if (this._afterState !== void 0)
        return this._afterState;
      var e = this.beforeState();
      this._afterState = {
        rings: e.rings.slice(0),
        windings: e.windings.slice(0),
        multiPolys: []
      };
      for (var n = this._afterState.rings, o = this._afterState.windings, r3 = this._afterState.multiPolys, s = 0, a = this.rings.length; s < a; s++) {
        var l = this.rings[s], h = this.windings[s], u = n.indexOf(l);
        u === -1 ? (n.push(l), o.push(h)) : o[u] += h;
      }
      for (var d = [], c = [], g = 0, f = n.length; g < f; g++)
        if (o[g] !== 0) {
          var m = n[g], p = m.poly;
          if (c.indexOf(p) === -1)
            if (m.isExterior)
              d.push(p);
            else {
              c.indexOf(p) === -1 && c.push(p);
              var _ = d.indexOf(m.poly);
              _ !== -1 && d.splice(_, 1);
            }
        }
      for (var v = 0, y = d.length; v < y; v++) {
        var x = d[v].multiPoly;
        r3.indexOf(x) === -1 && r3.push(x);
      }
      return this._afterState;
    }
  }, {
    key: "isInResult",
    value: function() {
      if (this.consumedBy)
        return false;
      if (this._isInResult !== void 0)
        return this._isInResult;
      var e = this.beforeState().multiPolys, n = this.afterState().multiPolys;
      switch (ri.type) {
        case "union": {
          var o = e.length === 0, r3 = n.length === 0;
          this._isInResult = o !== r3;
          break;
        }
        case "intersection": {
          var s, a;
          e.length < n.length ? (s = e.length, a = n.length) : (s = n.length, a = e.length), this._isInResult = a === ri.numMultiPolys && s < a;
          break;
        }
        case "xor": {
          var l = Math.abs(e.length - n.length);
          this._isInResult = l % 2 === 1;
          break;
        }
        case "difference": {
          var h = function(d) {
            return d.length === 1 && d[0].isSubject;
          };
          this._isInResult = h(e) !== h(n);
          break;
        }
        default:
          throw new Error("Unrecognized operation type found ".concat(ri.type));
      }
      return this._isInResult;
    }
  }], [{
    key: "fromRing",
    value: function(e, n, o) {
      var r3, s, a, l = di.comparePoints(e, n);
      if (l < 0)
        r3 = e, s = n, a = 1;
      else if (l > 0)
        r3 = n, s = e, a = -1;
      else
        throw new Error("Tried to create degenerate segment at [".concat(e.x, ", ").concat(e.y, "]"));
      var h = new di(r3, true), u = new di(s, false);
      return new i(h, u, [o], [a]);
    }
  }]), i;
}(), mg = /* @__PURE__ */ function() {
  function i(t, e, n) {
    if (ti(this, i), !Array.isArray(t) || t.length === 0)
      throw new Error("Input geometry is not a valid Polygon or MultiPolygon");
    if (this.poly = e, this.isExterior = n, this.segments = [], typeof t[0][0] != "number" || typeof t[0][1] != "number")
      throw new Error("Input geometry is not a valid Polygon or MultiPolygon");
    var o = rs.round(t[0][0], t[0][1]);
    this.bbox = {
      ll: {
        x: o.x,
        y: o.y
      },
      ur: {
        x: o.x,
        y: o.y
      }
    };
    for (var r3 = o, s = 1, a = t.length; s < a; s++) {
      if (typeof t[s][0] != "number" || typeof t[s][1] != "number")
        throw new Error("Input geometry is not a valid Polygon or MultiPolygon");
      var l = rs.round(t[s][0], t[s][1]);
      l.x === r3.x && l.y === r3.y || (this.segments.push(Aa.fromRing(r3, l, this)), l.x < this.bbox.ll.x && (this.bbox.ll.x = l.x), l.y < this.bbox.ll.y && (this.bbox.ll.y = l.y), l.x > this.bbox.ur.x && (this.bbox.ur.x = l.x), l.y > this.bbox.ur.y && (this.bbox.ur.y = l.y), r3 = l);
    }
    (o.x !== r3.x || o.y !== r3.y) && this.segments.push(Aa.fromRing(r3, o, this));
  }
  return Re(i, [{
    key: "getSweepEvents",
    value: function() {
      for (var e = [], n = 0, o = this.segments.length; n < o; n++) {
        var r3 = this.segments[n];
        e.push(r3.leftSE), e.push(r3.rightSE);
      }
      return e;
    }
  }]), i;
}(), ow = /* @__PURE__ */ function() {
  function i(t, e) {
    if (ti(this, i), !Array.isArray(t))
      throw new Error("Input geometry is not a valid Polygon or MultiPolygon");
    this.exteriorRing = new mg(t[0], this, true), this.bbox = {
      ll: {
        x: this.exteriorRing.bbox.ll.x,
        y: this.exteriorRing.bbox.ll.y
      },
      ur: {
        x: this.exteriorRing.bbox.ur.x,
        y: this.exteriorRing.bbox.ur.y
      }
    }, this.interiorRings = [];
    for (var n = 1, o = t.length; n < o; n++) {
      var r3 = new mg(t[n], this, false);
      r3.bbox.ll.x < this.bbox.ll.x && (this.bbox.ll.x = r3.bbox.ll.x), r3.bbox.ll.y < this.bbox.ll.y && (this.bbox.ll.y = r3.bbox.ll.y), r3.bbox.ur.x > this.bbox.ur.x && (this.bbox.ur.x = r3.bbox.ur.x), r3.bbox.ur.y > this.bbox.ur.y && (this.bbox.ur.y = r3.bbox.ur.y), this.interiorRings.push(r3);
    }
    this.multiPoly = e;
  }
  return Re(i, [{
    key: "getSweepEvents",
    value: function() {
      for (var e = this.exteriorRing.getSweepEvents(), n = 0, o = this.interiorRings.length; n < o; n++)
        for (var r3 = this.interiorRings[n].getSweepEvents(), s = 0, a = r3.length; s < a; s++)
          e.push(r3[s]);
      return e;
    }
  }]), i;
}(), pg = /* @__PURE__ */ function() {
  function i(t, e) {
    if (ti(this, i), !Array.isArray(t))
      throw new Error("Input geometry is not a valid Polygon or MultiPolygon");
    try {
      typeof t[0][0][0] == "number" && (t = [t]);
    } catch {
    }
    this.polys = [], this.bbox = {
      ll: {
        x: Number.POSITIVE_INFINITY,
        y: Number.POSITIVE_INFINITY
      },
      ur: {
        x: Number.NEGATIVE_INFINITY,
        y: Number.NEGATIVE_INFINITY
      }
    };
    for (var n = 0, o = t.length; n < o; n++) {
      var r3 = new ow(t[n], this);
      r3.bbox.ll.x < this.bbox.ll.x && (this.bbox.ll.x = r3.bbox.ll.x), r3.bbox.ll.y < this.bbox.ll.y && (this.bbox.ll.y = r3.bbox.ll.y), r3.bbox.ur.x > this.bbox.ur.x && (this.bbox.ur.x = r3.bbox.ur.x), r3.bbox.ur.y > this.bbox.ur.y && (this.bbox.ur.y = r3.bbox.ur.y), this.polys.push(r3);
    }
    this.isSubject = e;
  }
  return Re(i, [{
    key: "getSweepEvents",
    value: function() {
      for (var e = [], n = 0, o = this.polys.length; n < o; n++)
        for (var r3 = this.polys[n].getSweepEvents(), s = 0, a = r3.length; s < a; s++)
          e.push(r3[s]);
      return e;
    }
  }]), i;
}(), rw = /* @__PURE__ */ function() {
  Re(i, null, [{
    key: "factory",
    value: function(e) {
      for (var n = [], o = 0, r3 = e.length; o < r3; o++) {
        var s = e[o];
        if (!(!s.isInResult() || s.ringOut)) {
          for (var a = null, l = s.leftSE, h = s.rightSE, u = [l], d = l.point, c = []; a = l, l = h, u.push(l), l.point !== d; )
            for (; ; ) {
              var g = l.getAvailableLinkedEvents();
              if (g.length === 0) {
                var f = u[0].point, m = u[u.length - 1].point;
                throw new Error("Unable to complete output ring starting at [".concat(f.x, ",") + " ".concat(f.y, "]. Last matching segment found ends at") + " [".concat(m.x, ", ").concat(m.y, "]."));
              }
              if (g.length === 1) {
                h = g[0].otherSE;
                break;
              }
              for (var p = null, _ = 0, v = c.length; _ < v; _++)
                if (c[_].point === l.point) {
                  p = _;
                  break;
                }
              if (p !== null) {
                var y = c.splice(p)[0], x = u.splice(y.index);
                x.unshift(x[0].otherSE), n.push(new i(x.reverse()));
                continue;
              }
              c.push({
                index: u.length,
                point: l.point
              });
              var k = l.getLeftmostComparator(a);
              h = g.sort(k)[0].otherSE;
              break;
            }
          n.push(new i(u));
        }
      }
      return n;
    }
  }]);
  function i(t) {
    ti(this, i), this.events = t;
    for (var e = 0, n = t.length; e < n; e++)
      t[e].segment.ringOut = this;
    this.poly = null;
  }
  return Re(i, [{
    key: "getGeom",
    value: function() {
      for (var e = this.events[0].point, n = [e], o = 1, r3 = this.events.length - 1; o < r3; o++) {
        var s = this.events[o].point, a = this.events[o + 1].point;
        cg(s, e, a) !== 0 && (n.push(s), e = s);
      }
      if (n.length === 1)
        return null;
      var l = n[0], h = n[1];
      cg(l, e, h) === 0 && n.shift(), n.push(n[0]);
      for (var u = this.isExteriorRing() ? 1 : -1, d = this.isExteriorRing() ? 0 : n.length - 1, c = this.isExteriorRing() ? n.length : -1, g = [], f = d; f != c; f += u)
        g.push([n[f].x, n[f].y]);
      return g;
    }
  }, {
    key: "isExteriorRing",
    value: function() {
      if (this._isExteriorRing === void 0) {
        var e = this.enclosingRing();
        this._isExteriorRing = e ? !e.isExteriorRing() : true;
      }
      return this._isExteriorRing;
    }
  }, {
    key: "enclosingRing",
    value: function() {
      return this._enclosingRing === void 0 && (this._enclosingRing = this._calcEnclosingRing()), this._enclosingRing;
    }
  }, {
    key: "_calcEnclosingRing",
    value: function() {
      for (var e = this.events[0], n = 1, o = this.events.length; n < o; n++) {
        var r3 = this.events[n];
        di.compare(e, r3) > 0 && (e = r3);
      }
      for (var s = e.segment.prevInResult(), a = s ? s.prevInResult() : null; ; ) {
        if (!s)
          return null;
        if (!a)
          return s.ringOut;
        if (a.ringOut !== s.ringOut)
          return a.ringOut.enclosingRing() !== s.ringOut ? s.ringOut : s.ringOut.enclosingRing();
        s = a.prevInResult(), a = s ? s.prevInResult() : null;
      }
    }
  }]), i;
}(), vg = /* @__PURE__ */ function() {
  function i(t) {
    ti(this, i), this.exteriorRing = t, t.poly = this, this.interiorRings = [];
  }
  return Re(i, [{
    key: "addInterior",
    value: function(e) {
      this.interiorRings.push(e), e.poly = this;
    }
  }, {
    key: "getGeom",
    value: function() {
      var e = [this.exteriorRing.getGeom()];
      if (e[0] === null)
        return null;
      for (var n = 0, o = this.interiorRings.length; n < o; n++) {
        var r3 = this.interiorRings[n].getGeom();
        r3 !== null && e.push(r3);
      }
      return e;
    }
  }]), i;
}(), sw = /* @__PURE__ */ function() {
  function i(t) {
    ti(this, i), this.rings = t, this.polys = this._composePolys(t);
  }
  return Re(i, [{
    key: "getGeom",
    value: function() {
      for (var e = [], n = 0, o = this.polys.length; n < o; n++) {
        var r3 = this.polys[n].getGeom();
        r3 !== null && e.push(r3);
      }
      return e;
    }
  }, {
    key: "_composePolys",
    value: function(e) {
      for (var n = [], o = 0, r3 = e.length; o < r3; o++) {
        var s = e[o];
        if (!s.poly)
          if (s.isExteriorRing())
            n.push(new vg(s));
          else {
            var a = s.enclosingRing();
            a.poly || n.push(new vg(a)), a.poly.addInterior(s);
          }
      }
      return n;
    }
  }]), i;
}(), aw = /* @__PURE__ */ function() {
  function i(t) {
    var e = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : Aa.compare;
    ti(this, i), this.queue = t, this.tree = new pd(e), this.segments = [];
  }
  return Re(i, [{
    key: "process",
    value: function(e) {
      var n = e.segment, o = [];
      if (e.consumedBy)
        return e.isLeft ? this.queue.remove(e.otherSE) : this.tree.remove(n), o;
      var r3 = e.isLeft ? this.tree.insert(n) : this.tree.find(n);
      if (!r3)
        throw new Error("Unable to find segment #".concat(n.id, " ") + "[".concat(n.leftSE.point.x, ", ").concat(n.leftSE.point.y, "] -> ") + "[".concat(n.rightSE.point.x, ", ").concat(n.rightSE.point.y, "] ") + "in SweepLine tree. Please submit a bug report.");
      for (var s = r3, a = r3, l = void 0, h = void 0; l === void 0; )
        s = this.tree.prev(s), s === null ? l = null : s.key.consumedBy === void 0 && (l = s.key);
      for (; h === void 0; )
        a = this.tree.next(a), a === null ? h = null : a.key.consumedBy === void 0 && (h = a.key);
      if (e.isLeft) {
        var u = null;
        if (l) {
          var d = l.getIntersection(n);
          if (d !== null && (n.isAnEndpoint(d) || (u = d), !l.isAnEndpoint(d)))
            for (var c = this._splitSafely(l, d), g = 0, f = c.length; g < f; g++)
              o.push(c[g]);
        }
        var m = null;
        if (h) {
          var p = h.getIntersection(n);
          if (p !== null && (n.isAnEndpoint(p) || (m = p), !h.isAnEndpoint(p)))
            for (var _ = this._splitSafely(h, p), v = 0, y = _.length; v < y; v++)
              o.push(_[v]);
        }
        if (u !== null || m !== null) {
          var x = null;
          if (u === null)
            x = m;
          else if (m === null)
            x = u;
          else {
            var k = di.comparePoints(u, m);
            x = k <= 0 ? u : m;
          }
          this.queue.remove(n.rightSE), o.push(n.rightSE);
          for (var w = n.split(x), E = 0, C = w.length; E < C; E++)
            o.push(w[E]);
        }
        o.length > 0 ? (this.tree.remove(n), o.push(e)) : (this.segments.push(n), n.prev = l);
      } else {
        if (l && h) {
          var S = l.getIntersection(h);
          if (S !== null) {
            if (!l.isAnEndpoint(S))
              for (var z = this._splitSafely(l, S), P = 0, N = z.length; P < N; P++)
                o.push(z[P]);
            if (!h.isAnEndpoint(S))
              for (var A = this._splitSafely(h, S), st = 0, j = A.length; st < j; st++)
                o.push(A[st]);
          }
        }
        this.tree.remove(n);
      }
      return o;
    }
  }, {
    key: "_splitSafely",
    value: function(e, n) {
      this.tree.remove(e);
      var o = e.rightSE;
      this.queue.remove(o);
      var r3 = e.split(n);
      return r3.push(o), e.consumedBy === void 0 && this.tree.insert(e), r3;
    }
  }]), i;
}(), _g = typeof process < "u" && process.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE || 1e6, lw = typeof process < "u" && process.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS || 1e6, hw = /* @__PURE__ */ function() {
  function i() {
    ti(this, i);
  }
  return Re(i, [{
    key: "run",
    value: function(e, n, o) {
      ri.type = e, rs.reset();
      for (var r3 = [new pg(n, true)], s = 0, a = o.length; s < a; s++)
        r3.push(new pg(o[s], false));
      if (ri.numMultiPolys = r3.length, ri.type === "difference")
        for (var l = r3[0], h = 1; h < r3.length; )
          Uh(r3[h].bbox, l.bbox) !== null ? h++ : r3.splice(h, 1);
      if (ri.type === "intersection") {
        for (var u = 0, d = r3.length; u < d; u++)
          for (var c = r3[u], g = u + 1, f = r3.length; g < f; g++)
            if (Uh(c.bbox, r3[g].bbox) === null)
              return [];
      }
      for (var m = new pd(di.compare), p = 0, _ = r3.length; p < _; p++)
        for (var v = r3[p].getSweepEvents(), y = 0, x = v.length; y < x; y++)
          if (m.insert(v[y]), m.size > _g)
            throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");
      for (var k = new aw(m), w = m.size, E = m.pop(); E; ) {
        var C = E.key;
        if (m.size === w) {
          var S = C.segment;
          throw new Error("Unable to pop() ".concat(C.isLeft ? "left" : "right", " SweepEvent ") + "[".concat(C.point.x, ", ").concat(C.point.y, "] from segment #").concat(S.id, " ") + "[".concat(S.leftSE.point.x, ", ").concat(S.leftSE.point.y, "] -> ") + "[".concat(S.rightSE.point.x, ", ").concat(S.rightSE.point.y, "] from queue. ") + "Please file a bug report.");
        }
        if (m.size > _g)
          throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");
        if (k.segments.length > lw)
          throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");
        for (var z = k.process(C), P = 0, N = z.length; P < N; P++) {
          var A = z[P];
          A.consumedBy === void 0 && m.insert(A);
        }
        w = m.size, E = m.pop();
      }
      rs.reset();
      var st = rw.factory(k.segments), j = new sw(st);
      return j.getGeom();
    }
  }]), i;
}(), ri = new hw(), uw = function(t) {
  for (var e = arguments.length, n = new Array(e > 1 ? e - 1 : 0), o = 1; o < e; o++)
    n[o - 1] = arguments[o];
  return ri.run("union", t, n);
}, dw = function(t) {
  for (var e = arguments.length, n = new Array(e > 1 ? e - 1 : 0), o = 1; o < e; o++)
    n[o - 1] = arguments[o];
  return ri.run("intersection", t, n);
}, cw = function(t) {
  for (var e = arguments.length, n = new Array(e > 1 ? e - 1 : 0), o = 1; o < e; o++)
    n[o - 1] = arguments[o];
  return ri.run("xor", t, n);
}, gw = function(t) {
  for (var e = arguments.length, n = new Array(e > 1 ? e - 1 : 0), o = 1; o < e; o++)
    n[o - 1] = arguments[o];
  return ri.run("difference", t, n);
}, fw = {
  union: uw,
  intersection: dw,
  xor: cw,
  difference: gw
};
function Qm(i, t, e) {
  e === void 0 && (e = {});
  var n = { type: "Feature" };
  return (e.id === 0 || e.id) && (n.id = e.id), e.bbox && (n.bbox = e.bbox), n.properties = t || {}, n.geometry = i, n;
}
function mw(i, t, e) {
  e === void 0 && (e = {});
  for (var n = 0, o = i; n < o.length; n++) {
    var r3 = o[n];
    if (r3.length < 4)
      throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");
    for (var s = 0; s < r3[r3.length - 1].length; s++)
      if (r3[r3.length - 1][s] !== r3[0][s])
        throw new Error("First and last Position are not equivalent.");
  }
  var a = {
    type: "Polygon",
    coordinates: i
  };
  return Qm(a, t, e);
}
function pw(i, t, e) {
  e === void 0 && (e = {});
  var n = {
    type: "MultiPolygon",
    coordinates: i
  };
  return Qm(n, t, e);
}
function yg(i) {
  return i.type === "Feature" ? i.geometry : i;
}
function vw(i, t, e) {
  e === void 0 && (e = {});
  var n = yg(i), o = yg(t), r3 = fw.union(n.coordinates, o.coordinates);
  return r3.length === 0 ? null : r3.length === 1 ? mw(r3[0], e.properties) : pw(r3, e.properties);
}
function lh(i, t) {
  const e = cf(i), n = Math.round(e * 100) / 100, o = n / 1e4;
  let r3;
  return t === "m2" ? r3 = n + " m\xB2" : t === "ha" && (r3 = o + " ha"), r3;
}
function Cr(i, t, e) {
  const n = t.getExtent();
  return i.getView().fit(vi$1(n, e));
}
function Pa(i, t) {
  const [e, n, o] = Array.from(Zr(i));
  return ku([e, n, o, t]);
}
const _w = "https://api.os.uk/features/v1/wfs", Co = new pn(), ci = new pn();
function yw(i, t, e) {
  return new io({
    source: ci,
    style: new ce({
      stroke: e ? void 0 : new Te({
        width: 3,
        color: i
      }),
      fill: new _e({
        color: t ? Pa(i, 0.2) : Pa(i, 0)
      })
    })
  });
}
function xg(i, t, e) {
  const n = `
    <ogc:Filter>
      <ogc:Contains>
      <ogc:PropertyName>SHAPE</ogc:PropertyName>
        <gml:Point srsName="urn:ogc:def:crs:EPSG::4326">
          <gml:coordinates>${X0(i).reverse().join(",")}</gml:coordinates>
        </gml:Point>
      </ogc:Contains>
    </ogc:Filter>
  `;
  fetch(xw({
    key: t,
    service: "WFS",
    request: "GetFeature",
    version: "2.0.0",
    typeNames: "Topography_TopographicArea",
    propertyName: "TOID,DescriptiveGroup,SHAPE",
    outputFormat: "GEOJSON",
    srsName: "urn:ogc:def:crs:EPSG::4326",
    filter: n,
    count: 1
  })).then((r3) => r3.json()).then((r3) => {
    if (!r3.features.length)
      return;
    const s = r3.features[0].properties, a = ["TOID", "DescriptiveGroup"];
    Object.keys(s).forEach(
      (u) => a.includes(u) || delete s[u]
    );
    const l = new Bn(), h = l.readFeatures(r3, {
      dataProjection: "EPSG:4326",
      featureProjection: "EPSG:3857"
    });
    e ? h.forEach((u) => {
      const d = u.getProperties().TOID, c = Co.getFeatureById(d);
      c ? Co.removeFeature(c) : (u.setId(d), Co.addFeature(u));
    }) : (Co.clear(), h.forEach((u) => {
      const d = u.getProperties().TOID;
      u.setId(d), Co.addFeature(u);
    })), ci.clear(), ci.addFeature(
      l.readFeature(
        Co.getFeatures().reduce((u, d) => {
          const c = l.writeFeatureObject(d).geometry;
          return u ? vw(u, c) : c;
        }, null)
      )
    );
  }).catch((r3) => console.log(r3));
}
function xw(i) {
  const t = Object.keys(i).map((e) => e + "=" + encodeURI(i[e])).join("&");
  return `${_w}?${t}`;
}
const bw = "https://api.os.uk/maps/raster/v1/zxy/Light_3857/{z}/{x}/{y}.png?key=", kw = "https://api.os.uk/maps/vector/v1/vts/tile/{z}/{y}/{x}.pbf?srs=3857&key=", ww = "https://api.os.uk/maps/vector/v1/vts/resources/styles?srs=3857&key=";
function Cw(i, t) {
  return new qx({
    source: t ? new Zm({
      url: bw + t,
      attributions: [i],
      attributionsCollapsible: false,
      maxZoom: 20
    }) : new Sk({
      attributions: [Ym]
    })
  });
}
function Mw(i, t) {
  let e = new Ex({
    declutter: true,
    source: new jx({
      format: new Z1(),
      url: kw + t,
      attributions: [i],
      attributionsCollapsible: false
    })
  });
  return t && fetch(ww + t).then((n) => n.json()).then((n) => Ck(e, n, "esri")).catch((n) => console.log(n)), e;
}
function Ew(i) {
  const t = Object.keys(i.defs), e = t.length;
  let n, o;
  for (n = 0; n < e; ++n) {
    const r3 = t[n];
    if (!Bt(r3)) {
      const s = i.defs(r3);
      let a = s.units;
      !a && s.projName === "longlat" && (a = "degrees"), ff(
        new Ya({
          code: r3,
          axisOrientation: s.axis,
          metersPerUnit: s.to_meter,
          units: a
        })
      );
    }
  }
  for (n = 0; n < e; ++n) {
    const r3 = t[n], s = Bt(r3);
    for (o = 0; o < e; ++o) {
      const a = t[o], l = Bt(a);
      if (!rf(r3, a))
        if (i.defs[r3] === i.defs[a])
          xh([s, l]);
        else {
          const h = i(r3, a);
          Y0(
            s,
            l,
            nc(s, l, h.forward),
            nc(l, s, h.inverse)
          );
        }
    }
  }
}
function Sw(i) {
  i("EPSG:4326", "+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"), i("EPSG:4269", "+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"), i("EPSG:3857", "+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"), i.WGS84 = i["EPSG:4326"], i["EPSG:3785"] = i["EPSG:3857"], i.GOOGLE = i["EPSG:3857"], i["EPSG:900913"] = i["EPSG:3857"], i["EPSG:102113"] = i["EPSG:3857"];
}
var ho = 1, uo = 2, ea = 3, Tw = 4, qh = 5, bg = 6378137, Iw = 6356752314e-3, kg = 0.0066943799901413165, Nr = 484813681109536e-20, R = Math.PI / 2, zw = 0.16666666666666666, Rw = 0.04722222222222222, Aw = 0.022156084656084655, Z = 1e-10, de = 0.017453292519943295, mi = 57.29577951308232, zt = Math.PI / 4, ss = Math.PI * 2, $t = 3.14159265359, Ge = {};
Ge.greenwich = 0;
Ge.lisbon = -9.131906111111;
Ge.paris = 2.337229166667;
Ge.bogota = -74.080916666667;
Ge.madrid = -3.687938888889;
Ge.rome = 12.452333333333;
Ge.bern = 7.439583333333;
Ge.jakarta = 106.807719444444;
Ge.ferro = -17.666666666667;
Ge.brussels = 4.367975;
Ge.stockholm = 18.058277777778;
Ge.athens = 23.7163375;
Ge.oslo = 10.722916666667;
const Pw = {
  ft: { to_meter: 0.3048 },
  "us-ft": { to_meter: 1200 / 3937 }
};
var wg = /[\s_\-\/\(\)]/g;
function Mn(i, t) {
  if (i[t])
    return i[t];
  for (var e = Object.keys(i), n = t.toLowerCase().replace(wg, ""), o = -1, r3, s; ++o < e.length; )
    if (r3 = e[o], s = r3.toLowerCase().replace(wg, ""), s === n)
      return i[r3];
}
function $h(i) {
  var t = {}, e = i.split("+").map(function(a) {
    return a.trim();
  }).filter(function(a) {
    return a;
  }).reduce(function(a, l) {
    var h = l.split("=");
    return h.push(true), a[h[0].toLowerCase()] = h[1], a;
  }, {}), n, o, r3, s = {
    proj: "projName",
    datum: "datumCode",
    rf: function(a) {
      t.rf = parseFloat(a);
    },
    lat_0: function(a) {
      t.lat0 = a * de;
    },
    lat_1: function(a) {
      t.lat1 = a * de;
    },
    lat_2: function(a) {
      t.lat2 = a * de;
    },
    lat_ts: function(a) {
      t.lat_ts = a * de;
    },
    lon_0: function(a) {
      t.long0 = a * de;
    },
    lon_1: function(a) {
      t.long1 = a * de;
    },
    lon_2: function(a) {
      t.long2 = a * de;
    },
    alpha: function(a) {
      t.alpha = parseFloat(a) * de;
    },
    gamma: function(a) {
      t.rectified_grid_angle = parseFloat(a);
    },
    lonc: function(a) {
      t.longc = a * de;
    },
    x_0: function(a) {
      t.x0 = parseFloat(a);
    },
    y_0: function(a) {
      t.y0 = parseFloat(a);
    },
    k_0: function(a) {
      t.k0 = parseFloat(a);
    },
    k: function(a) {
      t.k0 = parseFloat(a);
    },
    a: function(a) {
      t.a = parseFloat(a);
    },
    b: function(a) {
      t.b = parseFloat(a);
    },
    r_a: function() {
      t.R_A = true;
    },
    zone: function(a) {
      t.zone = parseInt(a, 10);
    },
    south: function() {
      t.utmSouth = true;
    },
    towgs84: function(a) {
      t.datum_params = a.split(",").map(function(l) {
        return parseFloat(l);
      });
    },
    to_meter: function(a) {
      t.to_meter = parseFloat(a);
    },
    units: function(a) {
      t.units = a;
      var l = Mn(Pw, a);
      l && (t.to_meter = l.to_meter);
    },
    from_greenwich: function(a) {
      t.from_greenwich = a * de;
    },
    pm: function(a) {
      var l = Mn(Ge, a);
      t.from_greenwich = (l || parseFloat(a)) * de;
    },
    nadgrids: function(a) {
      a === "@null" ? t.datumCode = "none" : t.nadgrids = a;
    },
    axis: function(a) {
      var l = "ewnsud";
      a.length === 3 && l.indexOf(a.substr(0, 1)) !== -1 && l.indexOf(a.substr(1, 1)) !== -1 && l.indexOf(a.substr(2, 1)) !== -1 && (t.axis = a);
    },
    approx: function() {
      t.approx = true;
    }
  };
  for (n in e)
    o = e[n], n in s ? (r3 = s[n], typeof r3 == "function" ? r3(o) : t[r3] = o) : t[n] = o;
  return typeof t.datumCode == "string" && t.datumCode !== "WGS84" && (t.datumCode = t.datumCode.toLowerCase()), t;
}
var as = 1, tp = 2, ep = 3, Da = 4, ip = 5, vd = -1, Dw = /\s/, Lw = /[A-Za-z]/, Ow = /[A-Za-z84_]/, hl = /[,\]]/, np = /[\d\.E\-\+]/;
function ji(i) {
  if (typeof i != "string")
    throw new Error("not a string");
  this.text = i.trim(), this.level = 0, this.place = 0, this.root = null, this.stack = [], this.currentObject = null, this.state = as;
}
ji.prototype.readCharicter = function() {
  var i = this.text[this.place++];
  if (this.state !== Da)
    for (; Dw.test(i); ) {
      if (this.place >= this.text.length)
        return;
      i = this.text[this.place++];
    }
  switch (this.state) {
    case as:
      return this.neutral(i);
    case tp:
      return this.keyword(i);
    case Da:
      return this.quoted(i);
    case ip:
      return this.afterquote(i);
    case ep:
      return this.number(i);
    case vd:
      return;
  }
};
ji.prototype.afterquote = function(i) {
  if (i === '"') {
    this.word += '"', this.state = Da;
    return;
  }
  if (hl.test(i)) {
    this.word = this.word.trim(), this.afterItem(i);
    return;
  }
  throw new Error(`havn't handled "` + i + '" in afterquote yet, index ' + this.place);
};
ji.prototype.afterItem = function(i) {
  if (i === ",") {
    this.word !== null && this.currentObject.push(this.word), this.word = null, this.state = as;
    return;
  }
  if (i === "]") {
    this.level--, this.word !== null && (this.currentObject.push(this.word), this.word = null), this.state = as, this.currentObject = this.stack.pop(), this.currentObject || (this.state = vd);
    return;
  }
};
ji.prototype.number = function(i) {
  if (np.test(i)) {
    this.word += i;
    return;
  }
  if (hl.test(i)) {
    this.word = parseFloat(this.word), this.afterItem(i);
    return;
  }
  throw new Error(`havn't handled "` + i + '" in number yet, index ' + this.place);
};
ji.prototype.quoted = function(i) {
  if (i === '"') {
    this.state = ip;
    return;
  }
  this.word += i;
};
ji.prototype.keyword = function(i) {
  if (Ow.test(i)) {
    this.word += i;
    return;
  }
  if (i === "[") {
    var t = [];
    t.push(this.word), this.level++, this.root === null ? this.root = t : this.currentObject.push(t), this.stack.push(this.currentObject), this.currentObject = t, this.state = as;
    return;
  }
  if (hl.test(i)) {
    this.afterItem(i);
    return;
  }
  throw new Error(`havn't handled "` + i + '" in keyword yet, index ' + this.place);
};
ji.prototype.neutral = function(i) {
  if (Lw.test(i)) {
    this.word = i, this.state = tp;
    return;
  }
  if (i === '"') {
    this.word = "", this.state = Da;
    return;
  }
  if (np.test(i)) {
    this.word = i, this.state = ep;
    return;
  }
  if (hl.test(i)) {
    this.afterItem(i);
    return;
  }
  throw new Error(`havn't handled "` + i + '" in neutral yet, index ' + this.place);
};
ji.prototype.output = function() {
  for (; this.place < this.text.length; )
    this.readCharicter();
  if (this.state === vd)
    return this.root;
  throw new Error('unable to parse string "' + this.text + '". State is ' + this.state);
};
function Fw(i) {
  var t = new ji(i);
  return t.output();
}
function Cg(i, t, e) {
  Array.isArray(t) && (e.unshift(t), t = null);
  var n = t ? {} : i, o = e.reduce(function(r3, s) {
    return Po(s, r3), r3;
  }, n);
  t && (i[t] = o);
}
function Po(i, t) {
  if (!Array.isArray(i)) {
    t[i] = true;
    return;
  }
  var e = i.shift();
  if (e === "PARAMETER" && (e = i.shift()), i.length === 1) {
    if (Array.isArray(i[0])) {
      t[e] = {}, Po(i[0], t[e]);
      return;
    }
    t[e] = i[0];
    return;
  }
  if (!i.length) {
    t[e] = true;
    return;
  }
  if (e === "TOWGS84") {
    t[e] = i;
    return;
  }
  if (e === "AXIS") {
    e in t || (t[e] = []), t[e].push(i);
    return;
  }
  Array.isArray(e) || (t[e] = {});
  var n;
  switch (e) {
    case "UNIT":
    case "PRIMEM":
    case "VERT_DATUM":
      t[e] = {
        name: i[0].toLowerCase(),
        convert: i[1]
      }, i.length === 3 && Po(i[2], t[e]);
      return;
    case "SPHEROID":
    case "ELLIPSOID":
      t[e] = {
        name: i[0],
        a: i[1],
        rf: i[2]
      }, i.length === 4 && Po(i[3], t[e]);
      return;
    case "PROJECTEDCRS":
    case "PROJCRS":
    case "GEOGCS":
    case "GEOCCS":
    case "PROJCS":
    case "LOCAL_CS":
    case "GEODCRS":
    case "GEODETICCRS":
    case "GEODETICDATUM":
    case "EDATUM":
    case "ENGINEERINGDATUM":
    case "VERT_CS":
    case "VERTCRS":
    case "VERTICALCRS":
    case "COMPD_CS":
    case "COMPOUNDCRS":
    case "ENGINEERINGCRS":
    case "ENGCRS":
    case "FITTED_CS":
    case "LOCAL_DATUM":
    case "DATUM":
      i[0] = ["name", i[0]], Cg(t, e, i);
      return;
    default:
      for (n = -1; ++n < i.length; )
        if (!Array.isArray(i[n]))
          return Po(i, t[e]);
      return Cg(t, e, i);
  }
}
var Nw = 0.017453292519943295;
function Gw(i, t) {
  var e = t[0], n = t[1];
  !(e in i) && n in i && (i[e] = i[n], t.length === 3 && (i[e] = t[2](i[e])));
}
function Ti(i) {
  return i * Nw;
}
function jw(i) {
  if (i.type === "GEOGCS" ? i.projName = "longlat" : i.type === "LOCAL_CS" ? (i.projName = "identity", i.local = true) : typeof i.PROJECTION == "object" ? i.projName = Object.keys(i.PROJECTION)[0] : i.projName = i.PROJECTION, i.AXIS) {
    for (var t = "", e = 0, n = i.AXIS.length; e < n; ++e) {
      var o = [i.AXIS[e][0].toLowerCase(), i.AXIS[e][1].toLowerCase()];
      o[0].indexOf("north") !== -1 || (o[0] === "y" || o[0] === "lat") && o[1] === "north" ? t += "n" : o[0].indexOf("south") !== -1 || (o[0] === "y" || o[0] === "lat") && o[1] === "south" ? t += "s" : o[0].indexOf("east") !== -1 || (o[0] === "x" || o[0] === "lon") && o[1] === "east" ? t += "e" : (o[0].indexOf("west") !== -1 || (o[0] === "x" || o[0] === "lon") && o[1] === "west") && (t += "w");
    }
    t.length === 2 && (t += "u"), t.length === 3 && (i.axis = t);
  }
  i.UNIT && (i.units = i.UNIT.name.toLowerCase(), i.units === "metre" && (i.units = "meter"), i.UNIT.convert && (i.type === "GEOGCS" ? i.DATUM && i.DATUM.SPHEROID && (i.to_meter = i.UNIT.convert * i.DATUM.SPHEROID.a) : i.to_meter = i.UNIT.convert));
  var r3 = i.GEOGCS;
  i.type === "GEOGCS" && (r3 = i), r3 && (r3.DATUM ? i.datumCode = r3.DATUM.name.toLowerCase() : i.datumCode = r3.name.toLowerCase(), i.datumCode.slice(0, 2) === "d_" && (i.datumCode = i.datumCode.slice(2)), (i.datumCode === "new_zealand_geodetic_datum_1949" || i.datumCode === "new_zealand_1949") && (i.datumCode = "nzgd49"), (i.datumCode === "wgs_1984" || i.datumCode === "world_geodetic_system_1984") && (i.PROJECTION === "Mercator_Auxiliary_Sphere" && (i.sphere = true), i.datumCode = "wgs84"), i.datumCode.slice(-6) === "_ferro" && (i.datumCode = i.datumCode.slice(0, -6)), i.datumCode.slice(-8) === "_jakarta" && (i.datumCode = i.datumCode.slice(0, -8)), ~i.datumCode.indexOf("belge") && (i.datumCode = "rnb72"), r3.DATUM && r3.DATUM.SPHEROID && (i.ellps = r3.DATUM.SPHEROID.name.replace("_19", "").replace(/[Cc]larke\_18/, "clrk"), i.ellps.toLowerCase().slice(0, 13) === "international" && (i.ellps = "intl"), i.a = r3.DATUM.SPHEROID.a, i.rf = parseFloat(r3.DATUM.SPHEROID.rf, 10)), r3.DATUM && r3.DATUM.TOWGS84 && (i.datum_params = r3.DATUM.TOWGS84), ~i.datumCode.indexOf("osgb_1936") && (i.datumCode = "osgb36"), ~i.datumCode.indexOf("osni_1952") && (i.datumCode = "osni52"), (~i.datumCode.indexOf("tm65") || ~i.datumCode.indexOf("geodetic_datum_of_1965")) && (i.datumCode = "ire65"), i.datumCode === "ch1903+" && (i.datumCode = "ch1903"), ~i.datumCode.indexOf("israel") && (i.datumCode = "isr93")), i.b && !isFinite(i.b) && (i.b = i.a);
  function s(h) {
    var u = i.to_meter || 1;
    return h * u;
  }
  var a = function(h) {
    return Gw(i, h);
  }, l = [
    ["standard_parallel_1", "Standard_Parallel_1"],
    ["standard_parallel_1", "Latitude of 1st standard parallel"],
    ["standard_parallel_2", "Standard_Parallel_2"],
    ["standard_parallel_2", "Latitude of 2nd standard parallel"],
    ["false_easting", "False_Easting"],
    ["false_easting", "False easting"],
    ["false-easting", "Easting at false origin"],
    ["false_northing", "False_Northing"],
    ["false_northing", "False northing"],
    ["false_northing", "Northing at false origin"],
    ["central_meridian", "Central_Meridian"],
    ["central_meridian", "Longitude of natural origin"],
    ["central_meridian", "Longitude of false origin"],
    ["latitude_of_origin", "Latitude_Of_Origin"],
    ["latitude_of_origin", "Central_Parallel"],
    ["latitude_of_origin", "Latitude of natural origin"],
    ["latitude_of_origin", "Latitude of false origin"],
    ["scale_factor", "Scale_Factor"],
    ["k0", "scale_factor"],
    ["latitude_of_center", "Latitude_Of_Center"],
    ["latitude_of_center", "Latitude_of_center"],
    ["lat0", "latitude_of_center", Ti],
    ["longitude_of_center", "Longitude_Of_Center"],
    ["longitude_of_center", "Longitude_of_center"],
    ["longc", "longitude_of_center", Ti],
    ["x0", "false_easting", s],
    ["y0", "false_northing", s],
    ["long0", "central_meridian", Ti],
    ["lat0", "latitude_of_origin", Ti],
    ["lat0", "standard_parallel_1", Ti],
    ["lat1", "standard_parallel_1", Ti],
    ["lat2", "standard_parallel_2", Ti],
    ["azimuth", "Azimuth"],
    ["alpha", "azimuth", Ti],
    ["srsCode", "name"]
  ];
  l.forEach(a), !i.long0 && i.longc && (i.projName === "Albers_Conic_Equal_Area" || i.projName === "Lambert_Azimuthal_Equal_Area") && (i.long0 = i.longc), !i.lat_ts && i.lat1 && (i.projName === "Stereographic_South_Pole" || i.projName === "Polar Stereographic (variant B)") && (i.lat0 = Ti(i.lat1 > 0 ? 90 : -90), i.lat_ts = i.lat1);
}
function op(i) {
  var t = Fw(i), e = t.shift(), n = t.shift();
  t.unshift(["name", n]), t.unshift(["type", e]);
  var o = {};
  return Po(t, o), jw(o), o;
}
function Ce(i) {
  var t = this;
  if (arguments.length === 2) {
    var e = arguments[1];
    typeof e == "string" ? e.charAt(0) === "+" ? Ce[i] = $h(arguments[1]) : Ce[i] = op(arguments[1]) : Ce[i] = e;
  } else if (arguments.length === 1) {
    if (Array.isArray(i))
      return i.map(function(n) {
        Array.isArray(n) ? Ce.apply(t, n) : Ce(n);
      });
    if (typeof i == "string") {
      if (i in Ce)
        return Ce[i];
    } else
      "EPSG" in i ? Ce["EPSG:" + i.EPSG] = i : "ESRI" in i ? Ce["ESRI:" + i.ESRI] = i : "IAU2000" in i ? Ce["IAU2000:" + i.IAU2000] = i : console.log(i);
    return;
  }
}
Sw(Ce);
function Bw(i) {
  return typeof i == "string";
}
function Ww(i) {
  return i in Ce;
}
var Zw = ["PROJECTEDCRS", "PROJCRS", "GEOGCS", "GEOCCS", "PROJCS", "LOCAL_CS", "GEODCRS", "GEODETICCRS", "GEODETICDATUM", "ENGCRS", "ENGINEERINGCRS"];
function Yw(i) {
  return Zw.some(function(t) {
    return i.indexOf(t) > -1;
  });
}
var Xw = ["3857", "900913", "3785", "102113"];
function Uw(i) {
  var t = Mn(i, "authority");
  if (!!t) {
    var e = Mn(t, "epsg");
    return e && Xw.indexOf(e) > -1;
  }
}
function Vw(i) {
  var t = Mn(i, "extension");
  if (!!t)
    return Mn(t, "proj4");
}
function qw(i) {
  return i[0] === "+";
}
function $w(i) {
  if (Bw(i)) {
    if (Ww(i))
      return Ce[i];
    if (Yw(i)) {
      var t = op(i);
      if (Uw(t))
        return Ce["EPSG:3857"];
      var e = Vw(t);
      return e ? $h(e) : t;
    }
    if (qw(i))
      return $h(i);
  } else
    return i;
}
function Mg(i, t) {
  i = i || {};
  var e, n;
  if (!t)
    return i;
  for (n in t)
    e = t[n], e !== void 0 && (i[n] = e);
  return i;
}
function bi(i, t, e) {
  var n = i * t;
  return e / Math.sqrt(1 - n * n);
}
function xs(i) {
  return i < 0 ? -1 : 1;
}
function Y(i) {
  return Math.abs(i) <= $t ? i : i - xs(i) * ss;
}
function ai(i, t, e) {
  var n = i * e, o = 0.5 * i;
  return n = Math.pow((1 - n) / (1 + n), o), Math.tan(0.5 * (R - t)) / n;
}
function ls(i, t) {
  for (var e = 0.5 * i, n, o, r3 = R - 2 * Math.atan(t), s = 0; s <= 15; s++)
    if (n = i * Math.sin(r3), o = R - 2 * Math.atan(t * Math.pow((1 - n) / (1 + n), e)) - r3, r3 += o, Math.abs(o) <= 1e-10)
      return r3;
  return -9999;
}
function Hw() {
  var i = this.b / this.a;
  this.es = 1 - i * i, "x0" in this || (this.x0 = 0), "y0" in this || (this.y0 = 0), this.e = Math.sqrt(this.es), this.lat_ts ? this.sphere ? this.k0 = Math.cos(this.lat_ts) : this.k0 = bi(this.e, Math.sin(this.lat_ts), Math.cos(this.lat_ts)) : this.k0 || (this.k ? this.k0 = this.k : this.k0 = 1);
}
function Kw(i) {
  var t = i.x, e = i.y;
  if (e * mi > 90 && e * mi < -90 && t * mi > 180 && t * mi < -180)
    return null;
  var n, o;
  if (Math.abs(Math.abs(e) - R) <= Z)
    return null;
  if (this.sphere)
    n = this.x0 + this.a * this.k0 * Y(t - this.long0), o = this.y0 + this.a * this.k0 * Math.log(Math.tan(zt + 0.5 * e));
  else {
    var r3 = Math.sin(e), s = ai(this.e, e, r3);
    n = this.x0 + this.a * this.k0 * Y(t - this.long0), o = this.y0 - this.a * this.k0 * Math.log(s);
  }
  return i.x = n, i.y = o, i;
}
function Jw(i) {
  var t = i.x - this.x0, e = i.y - this.y0, n, o;
  if (this.sphere)
    o = R - 2 * Math.atan(Math.exp(-e / (this.a * this.k0)));
  else {
    var r3 = Math.exp(-e / (this.a * this.k0));
    if (o = ls(this.e, r3), o === -9999)
      return null;
  }
  return n = Y(this.long0 + t / (this.a * this.k0)), i.x = n, i.y = o, i;
}
var Qw = ["Mercator", "Popular Visualisation Pseudo Mercator", "Mercator_1SP", "Mercator_Auxiliary_Sphere", "merc"];
const t2 = {
  init: Hw,
  forward: Kw,
  inverse: Jw,
  names: Qw
};
function e2() {
}
function Eg(i) {
  return i;
}
var i2 = ["longlat", "identity"];
const n2 = {
  init: e2,
  forward: Eg,
  inverse: Eg,
  names: i2
};
var o2 = [t2, n2], ia = {}, La = [];
function rp(i, t) {
  var e = La.length;
  return i.names ? (La[e] = i, i.names.forEach(function(n) {
    ia[n.toLowerCase()] = e;
  }), this) : (console.log(t), true);
}
function r2(i) {
  if (!i)
    return false;
  var t = i.toLowerCase();
  if (typeof ia[t] < "u" && La[ia[t]])
    return La[ia[t]];
}
function s2() {
  o2.forEach(rp);
}
const a2 = {
  start: s2,
  add: rp,
  get: r2
};
var rt = {};
rt.MERIT = {
  a: 6378137,
  rf: 298.257,
  ellipseName: "MERIT 1983"
};
rt.SGS85 = {
  a: 6378136,
  rf: 298.257,
  ellipseName: "Soviet Geodetic System 85"
};
rt.GRS80 = {
  a: 6378137,
  rf: 298.257222101,
  ellipseName: "GRS 1980(IUGG, 1980)"
};
rt.IAU76 = {
  a: 6378140,
  rf: 298.257,
  ellipseName: "IAU 1976"
};
rt.airy = {
  a: 6377563396e-3,
  b: 635625691e-2,
  ellipseName: "Airy 1830"
};
rt.APL4 = {
  a: 6378137,
  rf: 298.25,
  ellipseName: "Appl. Physics. 1965"
};
rt.NWL9D = {
  a: 6378145,
  rf: 298.25,
  ellipseName: "Naval Weapons Lab., 1965"
};
rt.mod_airy = {
  a: 6377340189e-3,
  b: 6356034446e-3,
  ellipseName: "Modified Airy"
};
rt.andrae = {
  a: 637710443e-2,
  rf: 300,
  ellipseName: "Andrae 1876 (Den., Iclnd.)"
};
rt.aust_SA = {
  a: 6378160,
  rf: 298.25,
  ellipseName: "Australian Natl & S. Amer. 1969"
};
rt.GRS67 = {
  a: 6378160,
  rf: 298.247167427,
  ellipseName: "GRS 67(IUGG 1967)"
};
rt.bessel = {
  a: 6377397155e-3,
  rf: 299.1528128,
  ellipseName: "Bessel 1841"
};
rt.bess_nam = {
  a: 6377483865e-3,
  rf: 299.1528128,
  ellipseName: "Bessel 1841 (Namibia)"
};
rt.clrk66 = {
  a: 63782064e-1,
  b: 63565838e-1,
  ellipseName: "Clarke 1866"
};
rt.clrk80 = {
  a: 6378249145e-3,
  rf: 293.4663,
  ellipseName: "Clarke 1880 mod."
};
rt.clrk58 = {
  a: 6378293645208759e-9,
  rf: 294.2606763692654,
  ellipseName: "Clarke 1858"
};
rt.CPM = {
  a: 63757387e-1,
  rf: 334.29,
  ellipseName: "Comm. des Poids et Mesures 1799"
};
rt.delmbr = {
  a: 6376428,
  rf: 311.5,
  ellipseName: "Delambre 1810 (Belgium)"
};
rt.engelis = {
  a: 637813605e-2,
  rf: 298.2566,
  ellipseName: "Engelis 1985"
};
rt.evrst30 = {
  a: 6377276345e-3,
  rf: 300.8017,
  ellipseName: "Everest 1830"
};
rt.evrst48 = {
  a: 6377304063e-3,
  rf: 300.8017,
  ellipseName: "Everest 1948"
};
rt.evrst56 = {
  a: 6377301243e-3,
  rf: 300.8017,
  ellipseName: "Everest 1956"
};
rt.evrst69 = {
  a: 6377295664e-3,
  rf: 300.8017,
  ellipseName: "Everest 1969"
};
rt.evrstSS = {
  a: 6377298556e-3,
  rf: 300.8017,
  ellipseName: "Everest (Sabah & Sarawak)"
};
rt.fschr60 = {
  a: 6378166,
  rf: 298.3,
  ellipseName: "Fischer (Mercury Datum) 1960"
};
rt.fschr60m = {
  a: 6378155,
  rf: 298.3,
  ellipseName: "Fischer 1960"
};
rt.fschr68 = {
  a: 6378150,
  rf: 298.3,
  ellipseName: "Fischer 1968"
};
rt.helmert = {
  a: 6378200,
  rf: 298.3,
  ellipseName: "Helmert 1906"
};
rt.hough = {
  a: 6378270,
  rf: 297,
  ellipseName: "Hough"
};
rt.intl = {
  a: 6378388,
  rf: 297,
  ellipseName: "International 1909 (Hayford)"
};
rt.kaula = {
  a: 6378163,
  rf: 298.24,
  ellipseName: "Kaula 1961"
};
rt.lerch = {
  a: 6378139,
  rf: 298.257,
  ellipseName: "Lerch 1979"
};
rt.mprts = {
  a: 6397300,
  rf: 191,
  ellipseName: "Maupertius 1738"
};
rt.new_intl = {
  a: 63781575e-1,
  b: 63567722e-1,
  ellipseName: "New International 1967"
};
rt.plessis = {
  a: 6376523,
  rf: 6355863,
  ellipseName: "Plessis 1817 (France)"
};
rt.krass = {
  a: 6378245,
  rf: 298.3,
  ellipseName: "Krassovsky, 1942"
};
rt.SEasia = {
  a: 6378155,
  b: 63567733205e-4,
  ellipseName: "Southeast Asia"
};
rt.walbeck = {
  a: 6376896,
  b: 63558348467e-4,
  ellipseName: "Walbeck"
};
rt.WGS60 = {
  a: 6378165,
  rf: 298.3,
  ellipseName: "WGS 60"
};
rt.WGS66 = {
  a: 6378145,
  rf: 298.25,
  ellipseName: "WGS 66"
};
rt.WGS7 = {
  a: 6378135,
  rf: 298.26,
  ellipseName: "WGS 72"
};
var l2 = rt.WGS84 = {
  a: 6378137,
  rf: 298.257223563,
  ellipseName: "WGS 84"
};
rt.sphere = {
  a: 6370997,
  b: 6370997,
  ellipseName: "Normal Sphere (r=6370997)"
};
function h2(i, t, e, n) {
  var o = i * i, r3 = t * t, s = (o - r3) / o, a = 0;
  n ? (i *= 1 - s * (zw + s * (Rw + s * Aw)), o = i * i, s = 0) : a = Math.sqrt(s);
  var l = (o - r3) / r3;
  return {
    es: s,
    e: a,
    ep2: l
  };
}
function u2(i, t, e, n, o) {
  if (!i) {
    var r3 = Mn(rt, n);
    r3 || (r3 = l2), i = r3.a, t = r3.b, e = r3.rf;
  }
  return e && !t && (t = (1 - 1 / e) * i), (e === 0 || Math.abs(i - t) < Z) && (o = true, t = i), {
    a: i,
    b: t,
    rf: e,
    sphere: o
  };
}
var ae = {};
ae.wgs84 = {
  towgs84: "0,0,0",
  ellipse: "WGS84",
  datumName: "WGS84"
};
ae.ch1903 = {
  towgs84: "674.374,15.056,405.346",
  ellipse: "bessel",
  datumName: "swiss"
};
ae.ggrs87 = {
  towgs84: "-199.87,74.79,246.62",
  ellipse: "GRS80",
  datumName: "Greek_Geodetic_Reference_System_1987"
};
ae.nad83 = {
  towgs84: "0,0,0",
  ellipse: "GRS80",
  datumName: "North_American_Datum_1983"
};
ae.nad27 = {
  nadgrids: "@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",
  ellipse: "clrk66",
  datumName: "North_American_Datum_1927"
};
ae.potsdam = {
  towgs84: "598.1,73.7,418.2,0.202,0.045,-2.455,6.7",
  ellipse: "bessel",
  datumName: "Potsdam Rauenberg 1950 DHDN"
};
ae.carthage = {
  towgs84: "-263.0,6.0,431.0",
  ellipse: "clark80",
  datumName: "Carthage 1934 Tunisia"
};
ae.hermannskogel = {
  towgs84: "577.326,90.129,463.919,5.137,1.474,5.297,2.4232",
  ellipse: "bessel",
  datumName: "Hermannskogel"
};
ae.osni52 = {
  towgs84: "482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",
  ellipse: "airy",
  datumName: "Irish National"
};
ae.ire65 = {
  towgs84: "482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",
  ellipse: "mod_airy",
  datumName: "Ireland 1965"
};
ae.rassadiran = {
  towgs84: "-133.63,-157.5,-158.62",
  ellipse: "intl",
  datumName: "Rassadiran"
};
ae.nzgd49 = {
  towgs84: "59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",
  ellipse: "intl",
  datumName: "New Zealand Geodetic Datum 1949"
};
ae.osgb36 = {
  towgs84: "446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",
  ellipse: "airy",
  datumName: "Airy 1830"
};
ae.s_jtsk = {
  towgs84: "589,76,480",
  ellipse: "bessel",
  datumName: "S-JTSK (Ferro)"
};
ae.beduaram = {
  towgs84: "-106,-87,188",
  ellipse: "clrk80",
  datumName: "Beduaram"
};
ae.gunung_segara = {
  towgs84: "-403,684,41",
  ellipse: "bessel",
  datumName: "Gunung Segara Jakarta"
};
ae.rnb72 = {
  towgs84: "106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",
  ellipse: "intl",
  datumName: "Reseau National Belge 1972"
};
function d2(i, t, e, n, o, r3, s) {
  var a = {};
  return i === void 0 || i === "none" ? a.datum_type = qh : a.datum_type = Tw, t && (a.datum_params = t.map(parseFloat), (a.datum_params[0] !== 0 || a.datum_params[1] !== 0 || a.datum_params[2] !== 0) && (a.datum_type = ho), a.datum_params.length > 3 && (a.datum_params[3] !== 0 || a.datum_params[4] !== 0 || a.datum_params[5] !== 0 || a.datum_params[6] !== 0) && (a.datum_type = uo, a.datum_params[3] *= Nr, a.datum_params[4] *= Nr, a.datum_params[5] *= Nr, a.datum_params[6] = a.datum_params[6] / 1e6 + 1)), s && (a.datum_type = ea, a.grids = s), a.a = e, a.b = n, a.es = o, a.ep2 = r3, a;
}
var sp = {};
function c2(i, t) {
  var e = new DataView(t), n = m2(e), o = p2(e, n);
  o.nSubgrids > 1 && console.log("Only single NTv2 subgrids are currently supported, subsequent sub grids are ignored");
  var r3 = v2(e, o, n), s = { header: o, subgrids: r3 };
  return sp[i] = s, s;
}
function g2(i) {
  if (i === void 0)
    return null;
  var t = i.split(",");
  return t.map(f2);
}
function f2(i) {
  if (i.length === 0)
    return null;
  var t = i[0] === "@";
  return t && (i = i.slice(1)), i === "null" ? { name: "null", mandatory: !t, grid: null, isNull: true } : {
    name: i,
    mandatory: !t,
    grid: sp[i] || null,
    isNull: false
  };
}
function Do(i) {
  return i / 3600 * Math.PI / 180;
}
function m2(i) {
  var t = i.getInt32(8, false);
  return t === 11 ? false : (t = i.getInt32(8, true), t !== 11 && console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian"), true);
}
function p2(i, t) {
  return {
    nFields: i.getInt32(8, t),
    nSubgridFields: i.getInt32(24, t),
    nSubgrids: i.getInt32(40, t),
    shiftType: Hh(i, 56, 56 + 8).trim(),
    fromSemiMajorAxis: i.getFloat64(120, t),
    fromSemiMinorAxis: i.getFloat64(136, t),
    toSemiMajorAxis: i.getFloat64(152, t),
    toSemiMinorAxis: i.getFloat64(168, t)
  };
}
function Hh(i, t, e) {
  return String.fromCharCode.apply(null, new Uint8Array(i.buffer.slice(t, e)));
}
function v2(i, t, e) {
  for (var n = 176, o = [], r3 = 0; r3 < t.nSubgrids; r3++) {
    var s = y2(i, n, e), a = x2(i, n, s, e), l = Math.round(
      1 + (s.upperLongitude - s.lowerLongitude) / s.longitudeInterval
    ), h = Math.round(
      1 + (s.upperLatitude - s.lowerLatitude) / s.latitudeInterval
    );
    o.push({
      ll: [Do(s.lowerLongitude), Do(s.lowerLatitude)],
      del: [Do(s.longitudeInterval), Do(s.latitudeInterval)],
      lim: [l, h],
      count: s.gridNodeCount,
      cvs: _2(a)
    });
  }
  return o;
}
function _2(i) {
  return i.map(function(t) {
    return [Do(t.longitudeShift), Do(t.latitudeShift)];
  });
}
function y2(i, t, e) {
  return {
    name: Hh(i, t + 8, t + 16).trim(),
    parent: Hh(i, t + 24, t + 24 + 8).trim(),
    lowerLatitude: i.getFloat64(t + 72, e),
    upperLatitude: i.getFloat64(t + 88, e),
    lowerLongitude: i.getFloat64(t + 104, e),
    upperLongitude: i.getFloat64(t + 120, e),
    latitudeInterval: i.getFloat64(t + 136, e),
    longitudeInterval: i.getFloat64(t + 152, e),
    gridNodeCount: i.getInt32(t + 168, e)
  };
}
function x2(i, t, e, n) {
  for (var o = t + 176, r3 = 16, s = [], a = 0; a < e.gridNodeCount; a++) {
    var l = {
      latitudeShift: i.getFloat32(o + a * r3, n),
      longitudeShift: i.getFloat32(o + a * r3 + 4, n),
      latitudeAccuracy: i.getFloat32(o + a * r3 + 8, n),
      longitudeAccuracy: i.getFloat32(o + a * r3 + 12, n)
    };
    s.push(l);
  }
  return s;
}
function _i(i, t) {
  if (!(this instanceof _i))
    return new _i(i);
  t = t || function(h) {
    if (h)
      throw h;
  };
  var e = $w(i);
  if (typeof e != "object") {
    t(i);
    return;
  }
  var n = _i.projections.get(e.projName);
  if (!n) {
    t(i);
    return;
  }
  if (e.datumCode && e.datumCode !== "none") {
    var o = Mn(ae, e.datumCode);
    o && (e.datum_params = e.datum_params || (o.towgs84 ? o.towgs84.split(",") : null), e.ellps = o.ellipse, e.datumName = o.datumName ? o.datumName : e.datumCode);
  }
  e.k0 = e.k0 || 1, e.axis = e.axis || "enu", e.ellps = e.ellps || "wgs84", e.lat1 = e.lat1 || e.lat0;
  var r3 = u2(e.a, e.b, e.rf, e.ellps, e.sphere), s = h2(r3.a, r3.b, r3.rf, e.R_A), a = g2(e.nadgrids), l = e.datum || d2(
    e.datumCode,
    e.datum_params,
    r3.a,
    r3.b,
    s.es,
    s.ep2,
    a
  );
  Mg(this, e), Mg(this, n), this.a = r3.a, this.b = r3.b, this.rf = r3.rf, this.sphere = r3.sphere, this.es = s.es, this.e = s.e, this.ep2 = s.ep2, this.datum = l, this.init(), t(null, this);
}
_i.projections = a2;
_i.projections.start();
function b2(i, t) {
  return i.datum_type !== t.datum_type || i.a !== t.a || Math.abs(i.es - t.es) > 5e-11 ? false : i.datum_type === ho ? i.datum_params[0] === t.datum_params[0] && i.datum_params[1] === t.datum_params[1] && i.datum_params[2] === t.datum_params[2] : i.datum_type === uo ? i.datum_params[0] === t.datum_params[0] && i.datum_params[1] === t.datum_params[1] && i.datum_params[2] === t.datum_params[2] && i.datum_params[3] === t.datum_params[3] && i.datum_params[4] === t.datum_params[4] && i.datum_params[5] === t.datum_params[5] && i.datum_params[6] === t.datum_params[6] : true;
}
function ap(i, t, e) {
  var n = i.x, o = i.y, r3 = i.z ? i.z : 0, s, a, l, h;
  if (o < -R && o > -1.001 * R)
    o = -R;
  else if (o > R && o < 1.001 * R)
    o = R;
  else {
    if (o < -R)
      return { x: -1 / 0, y: -1 / 0, z: i.z };
    if (o > R)
      return { x: 1 / 0, y: 1 / 0, z: i.z };
  }
  return n > Math.PI && (n -= 2 * Math.PI), a = Math.sin(o), h = Math.cos(o), l = a * a, s = e / Math.sqrt(1 - t * l), {
    x: (s + r3) * h * Math.cos(n),
    y: (s + r3) * h * Math.sin(n),
    z: (s * (1 - t) + r3) * a
  };
}
function lp(i, t, e, n) {
  var o = 1e-12, r3 = o * o, s = 30, a, l, h, u, d, c, g, f, m, p, _, v, y, x = i.x, k = i.y, w = i.z ? i.z : 0, E, C, S;
  if (a = Math.sqrt(x * x + k * k), l = Math.sqrt(x * x + k * k + w * w), a / e < o) {
    if (E = 0, l / e < o)
      return C = R, S = -n, {
        x: i.x,
        y: i.y,
        z: i.z
      };
  } else
    E = Math.atan2(k, x);
  h = w / l, u = a / l, d = 1 / Math.sqrt(1 - t * (2 - t) * u * u), f = u * (1 - t) * d, m = h * d, y = 0;
  do
    y++, g = e / Math.sqrt(1 - t * m * m), S = a * f + w * m - g * (1 - t * m * m), c = t * g / (g + S), d = 1 / Math.sqrt(1 - c * (2 - c) * u * u), p = u * (1 - c) * d, _ = h * d, v = _ * f - p * m, f = p, m = _;
  while (v * v > r3 && y < s);
  return C = Math.atan(_ / Math.abs(p)), {
    x: E,
    y: C,
    z: S
  };
}
function k2(i, t, e) {
  if (t === ho)
    return {
      x: i.x + e[0],
      y: i.y + e[1],
      z: i.z + e[2]
    };
  if (t === uo) {
    var n = e[0], o = e[1], r3 = e[2], s = e[3], a = e[4], l = e[5], h = e[6];
    return {
      x: h * (i.x - l * i.y + a * i.z) + n,
      y: h * (l * i.x + i.y - s * i.z) + o,
      z: h * (-a * i.x + s * i.y + i.z) + r3
    };
  }
}
function w2(i, t, e) {
  if (t === ho)
    return {
      x: i.x - e[0],
      y: i.y - e[1],
      z: i.z - e[2]
    };
  if (t === uo) {
    var n = e[0], o = e[1], r3 = e[2], s = e[3], a = e[4], l = e[5], h = e[6], u = (i.x - n) / h, d = (i.y - o) / h, c = (i.z - r3) / h;
    return {
      x: u + l * d - a * c,
      y: -l * u + d + s * c,
      z: a * u - s * d + c
    };
  }
}
function Ks(i) {
  return i === ho || i === uo;
}
function C2(i, t, e) {
  if (b2(i, t) || i.datum_type === qh || t.datum_type === qh)
    return e;
  var n = i.a, o = i.es;
  if (i.datum_type === ea) {
    var r3 = Sg(i, false, e);
    if (r3 !== 0)
      return;
    n = bg, o = kg;
  }
  var s = t.a, a = t.b, l = t.es;
  if (t.datum_type === ea && (s = bg, a = Iw, l = kg), o === l && n === s && !Ks(i.datum_type) && !Ks(t.datum_type))
    return e;
  if (e = ap(e, o, n), Ks(i.datum_type) && (e = k2(e, i.datum_type, i.datum_params)), Ks(t.datum_type) && (e = w2(e, t.datum_type, t.datum_params)), e = lp(e, l, s, a), t.datum_type === ea) {
    var h = Sg(t, true, e);
    if (h !== 0)
      return;
  }
  return e;
}
function Sg(i, t, e) {
  if (i.grids === null || i.grids.length === 0)
    return console.log("Grid shift grids not found"), -1;
  for (var n = { x: -e.x, y: e.y }, o = { x: Number.NaN, y: Number.NaN }, r3 = [], s = 0; s < i.grids.length; s++) {
    var a = i.grids[s];
    if (r3.push(a.name), a.isNull) {
      o = n;
      break;
    }
    if (a.mandatory, a.grid === null) {
      if (a.mandatory)
        return console.log("Unable to find mandatory grid '" + a.name + "'"), -1;
      continue;
    }
    var l = a.grid.subgrids[0], h = (Math.abs(l.del[1]) + Math.abs(l.del[0])) / 1e4, u = l.ll[0] - h, d = l.ll[1] - h, c = l.ll[0] + (l.lim[0] - 1) * l.del[0] + h, g = l.ll[1] + (l.lim[1] - 1) * l.del[1] + h;
    if (!(d > n.y || u > n.x || g < n.y || c < n.x) && (o = M2(n, t, l), !isNaN(o.x)))
      break;
  }
  return isNaN(o.x) ? (console.log("Failed to find a grid shift table for location '" + -n.x * mi + " " + n.y * mi + " tried: '" + r3 + "'"), -1) : (e.x = -o.x, e.y = o.y, 0);
}
function M2(i, t, e) {
  var n = { x: Number.NaN, y: Number.NaN };
  if (isNaN(i.x))
    return n;
  var o = { x: i.x, y: i.y };
  o.x -= e.ll[0], o.y -= e.ll[1], o.x = Y(o.x - Math.PI) + Math.PI;
  var r3 = Tg(o, e);
  if (t) {
    if (isNaN(r3.x))
      return n;
    r3.x = o.x - r3.x, r3.y = o.y - r3.y;
    var s = 9, a = 1e-12, l, h;
    do {
      if (h = Tg(r3, e), isNaN(h.x)) {
        console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");
        break;
      }
      l = { x: o.x - (h.x + r3.x), y: o.y - (h.y + r3.y) }, r3.x += l.x, r3.y += l.y;
    } while (s-- && Math.abs(l.x) > a && Math.abs(l.y) > a);
    if (s < 0)
      return console.log("Inverse grid shift iterator failed to converge."), n;
    n.x = Y(r3.x + e.ll[0]), n.y = r3.y + e.ll[1];
  } else
    isNaN(r3.x) || (n.x = i.x + r3.x, n.y = i.y + r3.y);
  return n;
}
function Tg(i, t) {
  var e = { x: i.x / t.del[0], y: i.y / t.del[1] }, n = { x: Math.floor(e.x), y: Math.floor(e.y) }, o = { x: e.x - 1 * n.x, y: e.y - 1 * n.y }, r3 = { x: Number.NaN, y: Number.NaN }, s;
  if (n.x < 0 || n.x >= t.lim[0] || n.y < 0 || n.y >= t.lim[1])
    return r3;
  s = n.y * t.lim[0] + n.x;
  var a = { x: t.cvs[s][0], y: t.cvs[s][1] };
  s++;
  var l = { x: t.cvs[s][0], y: t.cvs[s][1] };
  s += t.lim[0];
  var h = { x: t.cvs[s][0], y: t.cvs[s][1] };
  s--;
  var u = { x: t.cvs[s][0], y: t.cvs[s][1] }, d = o.x * o.y, c = o.x * (1 - o.y), g = (1 - o.x) * (1 - o.y), f = (1 - o.x) * o.y;
  return r3.x = g * a.x + c * l.x + f * u.x + d * h.x, r3.y = g * a.y + c * l.y + f * u.y + d * h.y, r3;
}
function Ig(i, t, e) {
  var n = e.x, o = e.y, r3 = e.z || 0, s, a, l, h = {};
  for (l = 0; l < 3; l++)
    if (!(t && l === 2 && e.z === void 0))
      switch (l === 0 ? (s = n, "ew".indexOf(i.axis[l]) !== -1 ? a = "x" : a = "y") : l === 1 ? (s = o, "ns".indexOf(i.axis[l]) !== -1 ? a = "y" : a = "x") : (s = r3, a = "z"), i.axis[l]) {
        case "e":
          h[a] = s;
          break;
        case "w":
          h[a] = -s;
          break;
        case "n":
          h[a] = s;
          break;
        case "s":
          h[a] = -s;
          break;
        case "u":
          e[a] !== void 0 && (h.z = s);
          break;
        case "d":
          e[a] !== void 0 && (h.z = -s);
          break;
        default:
          return null;
      }
  return h;
}
function hp(i) {
  var t = {
    x: i[0],
    y: i[1]
  };
  return i.length > 2 && (t.z = i[2]), i.length > 3 && (t.m = i[3]), t;
}
function E2(i) {
  zg(i.x), zg(i.y);
}
function zg(i) {
  if (typeof Number.isFinite == "function") {
    if (Number.isFinite(i))
      return;
    throw new TypeError("coordinates must be finite numbers");
  }
  if (typeof i != "number" || i !== i || !isFinite(i))
    throw new TypeError("coordinates must be finite numbers");
}
function S2(i, t) {
  return (i.datum.datum_type === ho || i.datum.datum_type === uo) && t.datumCode !== "WGS84" || (t.datum.datum_type === ho || t.datum.datum_type === uo) && i.datumCode !== "WGS84";
}
function Oa(i, t, e, n) {
  var o;
  if (Array.isArray(e) && (e = hp(e)), E2(e), i.datum && t.datum && S2(i, t) && (o = new _i("WGS84"), e = Oa(i, o, e, n), i = o), n && i.axis !== "enu" && (e = Ig(i, false, e)), i.projName === "longlat")
    e = {
      x: e.x * de,
      y: e.y * de,
      z: e.z || 0
    };
  else if (i.to_meter && (e = {
    x: e.x * i.to_meter,
    y: e.y * i.to_meter,
    z: e.z || 0
  }), e = i.inverse(e), !e)
    return;
  if (i.from_greenwich && (e.x += i.from_greenwich), e = C2(i.datum, t.datum, e), !!e)
    return t.from_greenwich && (e = {
      x: e.x - t.from_greenwich,
      y: e.y,
      z: e.z || 0
    }), t.projName === "longlat" ? e = {
      x: e.x * mi,
      y: e.y * mi,
      z: e.z || 0
    } : (e = t.forward(e), t.to_meter && (e = {
      x: e.x / t.to_meter,
      y: e.y / t.to_meter,
      z: e.z || 0
    })), n && t.axis !== "enu" ? Ig(t, true, e) : e;
}
var Rg = _i("WGS84");
function hh(i, t, e, n) {
  var o, r3, s;
  return Array.isArray(e) ? (o = Oa(i, t, e, n) || { x: NaN, y: NaN }, e.length > 2 ? typeof i.name < "u" && i.name === "geocent" || typeof t.name < "u" && t.name === "geocent" ? typeof o.z == "number" ? [o.x, o.y, o.z].concat(e.splice(3)) : [o.x, o.y, e[2]].concat(e.splice(3)) : [o.x, o.y].concat(e.splice(2)) : [o.x, o.y]) : (r3 = Oa(i, t, e, n), s = Object.keys(e), s.length === 2 || s.forEach(function(a) {
    if (typeof i.name < "u" && i.name === "geocent" || typeof t.name < "u" && t.name === "geocent") {
      if (a === "x" || a === "y" || a === "z")
        return;
    } else if (a === "x" || a === "y")
      return;
    r3[a] = e[a];
  }), r3);
}
function Ag(i) {
  return i instanceof _i ? i : i.oProj ? i.oProj : _i(i);
}
function Ne(i, t, e) {
  i = Ag(i);
  var n = false, o;
  return typeof t > "u" ? (t = i, i = Rg, n = true) : (typeof t.x < "u" || Array.isArray(t)) && (e = t, t = i, i = Rg, n = true), t = Ag(t), e ? hh(i, t, e) : (o = {
    forward: function(r3, s) {
      return hh(i, t, r3, s);
    },
    inverse: function(r3, s) {
      return hh(t, i, r3, s);
    }
  }, n && (o.oProj = t), o);
}
var Pg = 6, up = "AJSAJS", dp = "AFAFAF", Lo = 65, Le = 73, Ve = 79, Tr = 86, Ir = 90;
const T2 = {
  forward: cp,
  inverse: I2,
  toPoint: gp
};
function cp(i, t) {
  return t = t || 5, A2(z2({
    lat: i[1],
    lon: i[0]
  }), t);
}
function I2(i) {
  var t = _d(mp(i.toUpperCase()));
  return t.lat && t.lon ? [t.lon, t.lat, t.lon, t.lat] : [t.left, t.bottom, t.right, t.top];
}
function gp(i) {
  var t = _d(mp(i.toUpperCase()));
  return t.lat && t.lon ? [t.lon, t.lat] : [(t.left + t.right) / 2, (t.top + t.bottom) / 2];
}
function uh(i) {
  return i * (Math.PI / 180);
}
function Dg(i) {
  return 180 * (i / Math.PI);
}
function z2(i) {
  var t = i.lat, e = i.lon, n = 6378137, o = 669438e-8, r3 = 0.9996, s, a, l, h, u, d, c, g = uh(t), f = uh(e), m, p;
  p = Math.floor((e + 180) / 6) + 1, e === 180 && (p = 60), t >= 56 && t < 64 && e >= 3 && e < 12 && (p = 32), t >= 72 && t < 84 && (e >= 0 && e < 9 ? p = 31 : e >= 9 && e < 21 ? p = 33 : e >= 21 && e < 33 ? p = 35 : e >= 33 && e < 42 && (p = 37)), s = (p - 1) * 6 - 180 + 3, m = uh(s), a = o / (1 - o), l = n / Math.sqrt(1 - o * Math.sin(g) * Math.sin(g)), h = Math.tan(g) * Math.tan(g), u = a * Math.cos(g) * Math.cos(g), d = Math.cos(g) * (f - m), c = n * ((1 - o / 4 - 3 * o * o / 64 - 5 * o * o * o / 256) * g - (3 * o / 8 + 3 * o * o / 32 + 45 * o * o * o / 1024) * Math.sin(2 * g) + (15 * o * o / 256 + 45 * o * o * o / 1024) * Math.sin(4 * g) - 35 * o * o * o / 3072 * Math.sin(6 * g));
  var _ = r3 * l * (d + (1 - h + u) * d * d * d / 6 + (5 - 18 * h + h * h + 72 * u - 58 * a) * d * d * d * d * d / 120) + 5e5, v = r3 * (c + l * Math.tan(g) * (d * d / 2 + (5 - h + 9 * u + 4 * u * u) * d * d * d * d / 24 + (61 - 58 * h + h * h + 600 * u - 330 * a) * d * d * d * d * d * d / 720));
  return t < 0 && (v += 1e7), {
    northing: Math.round(v),
    easting: Math.round(_),
    zoneNumber: p,
    zoneLetter: R2(t)
  };
}
function _d(i) {
  var t = i.northing, e = i.easting, n = i.zoneLetter, o = i.zoneNumber;
  if (o < 0 || o > 60)
    return null;
  var r3 = 0.9996, s = 6378137, a = 669438e-8, l, h = (1 - Math.sqrt(1 - a)) / (1 + Math.sqrt(1 - a)), u, d, c, g, f, m, p, _, v, y = e - 5e5, x = t;
  n < "N" && (x -= 1e7), p = (o - 1) * 6 - 180 + 3, l = a / (1 - a), m = x / r3, _ = m / (s * (1 - a / 4 - 3 * a * a / 64 - 5 * a * a * a / 256)), v = _ + (3 * h / 2 - 27 * h * h * h / 32) * Math.sin(2 * _) + (21 * h * h / 16 - 55 * h * h * h * h / 32) * Math.sin(4 * _) + 151 * h * h * h / 96 * Math.sin(6 * _), u = s / Math.sqrt(1 - a * Math.sin(v) * Math.sin(v)), d = Math.tan(v) * Math.tan(v), c = l * Math.cos(v) * Math.cos(v), g = s * (1 - a) / Math.pow(1 - a * Math.sin(v) * Math.sin(v), 1.5), f = y / (u * r3);
  var k = v - u * Math.tan(v) / g * (f * f / 2 - (5 + 3 * d + 10 * c - 4 * c * c - 9 * l) * f * f * f * f / 24 + (61 + 90 * d + 298 * c + 45 * d * d - 252 * l - 3 * c * c) * f * f * f * f * f * f / 720);
  k = Dg(k);
  var w = (f - (1 + 2 * d + c) * f * f * f / 6 + (5 - 2 * c + 28 * d - 3 * c * c + 8 * l + 24 * d * d) * f * f * f * f * f / 120) / Math.cos(v);
  w = p + Dg(w);
  var E;
  if (i.accuracy) {
    var C = _d({
      northing: i.northing + i.accuracy,
      easting: i.easting + i.accuracy,
      zoneLetter: i.zoneLetter,
      zoneNumber: i.zoneNumber
    });
    E = {
      top: C.lat,
      right: C.lon,
      bottom: k,
      left: w
    };
  } else
    E = {
      lat: k,
      lon: w
    };
  return E;
}
function R2(i) {
  var t = "Z";
  return 84 >= i && i >= 72 ? t = "X" : 72 > i && i >= 64 ? t = "W" : 64 > i && i >= 56 ? t = "V" : 56 > i && i >= 48 ? t = "U" : 48 > i && i >= 40 ? t = "T" : 40 > i && i >= 32 ? t = "S" : 32 > i && i >= 24 ? t = "R" : 24 > i && i >= 16 ? t = "Q" : 16 > i && i >= 8 ? t = "P" : 8 > i && i >= 0 ? t = "N" : 0 > i && i >= -8 ? t = "M" : -8 > i && i >= -16 ? t = "L" : -16 > i && i >= -24 ? t = "K" : -24 > i && i >= -32 ? t = "J" : -32 > i && i >= -40 ? t = "H" : -40 > i && i >= -48 ? t = "G" : -48 > i && i >= -56 ? t = "F" : -56 > i && i >= -64 ? t = "E" : -64 > i && i >= -72 ? t = "D" : -72 > i && i >= -80 && (t = "C"), t;
}
function A2(i, t) {
  var e = "00000" + i.easting, n = "00000" + i.northing;
  return i.zoneNumber + i.zoneLetter + P2(i.easting, i.northing, i.zoneNumber) + e.substr(e.length - 5, t) + n.substr(n.length - 5, t);
}
function P2(i, t, e) {
  var n = fp(e), o = Math.floor(i / 1e5), r3 = Math.floor(t / 1e5) % 20;
  return D2(o, r3, n);
}
function fp(i) {
  var t = i % Pg;
  return t === 0 && (t = Pg), t;
}
function D2(i, t, e) {
  var n = e - 1, o = up.charCodeAt(n), r3 = dp.charCodeAt(n), s = o + i - 1, a = r3 + t, l = false;
  s > Ir && (s = s - Ir + Lo - 1, l = true), (s === Le || o < Le && s > Le || (s > Le || o < Le) && l) && s++, (s === Ve || o < Ve && s > Ve || (s > Ve || o < Ve) && l) && (s++, s === Le && s++), s > Ir && (s = s - Ir + Lo - 1), a > Tr ? (a = a - Tr + Lo - 1, l = true) : l = false, (a === Le || r3 < Le && a > Le || (a > Le || r3 < Le) && l) && a++, (a === Ve || r3 < Ve && a > Ve || (a > Ve || r3 < Ve) && l) && (a++, a === Le && a++), a > Tr && (a = a - Tr + Lo - 1);
  var h = String.fromCharCode(s) + String.fromCharCode(a);
  return h;
}
function mp(i) {
  if (i && i.length === 0)
    throw "MGRSPoint coverting from nothing";
  for (var t = i.length, e = null, n = "", o, r3 = 0; !/[A-Z]/.test(o = i.charAt(r3)); ) {
    if (r3 >= 2)
      throw "MGRSPoint bad conversion from: " + i;
    n += o, r3++;
  }
  var s = parseInt(n, 10);
  if (r3 === 0 || r3 + 3 > t)
    throw "MGRSPoint bad conversion from: " + i;
  var a = i.charAt(r3++);
  if (a <= "A" || a === "B" || a === "Y" || a >= "Z" || a === "I" || a === "O")
    throw "MGRSPoint zone letter " + a + " not handled: " + i;
  e = i.substring(r3, r3 += 2);
  for (var l = fp(s), h = L2(e.charAt(0), l), u = O2(e.charAt(1), l); u < F2(a); )
    u += 2e6;
  var d = t - r3;
  if (d % 2 !== 0)
    throw `MGRSPoint has to have an even number 
of digits after the zone letter and two 100km letters - front 
half for easting meters, second half for 
northing meters` + i;
  var c = d / 2, g = 0, f = 0, m, p, _, v, y;
  return c > 0 && (m = 1e5 / Math.pow(10, c), p = i.substring(r3, r3 + c), g = parseFloat(p) * m, _ = i.substring(r3 + c), f = parseFloat(_) * m), v = g + h, y = f + u, {
    easting: v,
    northing: y,
    zoneLetter: a,
    zoneNumber: s,
    accuracy: m
  };
}
function L2(i, t) {
  for (var e = up.charCodeAt(t - 1), n = 1e5, o = false; e !== i.charCodeAt(0); ) {
    if (e++, e === Le && e++, e === Ve && e++, e > Ir) {
      if (o)
        throw "Bad character: " + i;
      e = Lo, o = true;
    }
    n += 1e5;
  }
  return n;
}
function O2(i, t) {
  if (i > "V")
    throw "MGRSPoint given invalid Northing " + i;
  for (var e = dp.charCodeAt(t - 1), n = 0, o = false; e !== i.charCodeAt(0); ) {
    if (e++, e === Le && e++, e === Ve && e++, e > Tr) {
      if (o)
        throw "Bad character: " + i;
      e = Lo, o = true;
    }
    n += 1e5;
  }
  return n;
}
function F2(i) {
  var t;
  switch (i) {
    case "C":
      t = 11e5;
      break;
    case "D":
      t = 2e6;
      break;
    case "E":
      t = 28e5;
      break;
    case "F":
      t = 37e5;
      break;
    case "G":
      t = 46e5;
      break;
    case "H":
      t = 55e5;
      break;
    case "J":
      t = 64e5;
      break;
    case "K":
      t = 73e5;
      break;
    case "L":
      t = 82e5;
      break;
    case "M":
      t = 91e5;
      break;
    case "N":
      t = 0;
      break;
    case "P":
      t = 8e5;
      break;
    case "Q":
      t = 17e5;
      break;
    case "R":
      t = 26e5;
      break;
    case "S":
      t = 35e5;
      break;
    case "T":
      t = 44e5;
      break;
    case "U":
      t = 53e5;
      break;
    case "V":
      t = 62e5;
      break;
    case "W":
      t = 7e6;
      break;
    case "X":
      t = 79e5;
      break;
    default:
      t = -1;
  }
  if (t >= 0)
    return t;
  throw "Invalid zone letter: " + i;
}
function ir(i, t, e) {
  if (!(this instanceof ir))
    return new ir(i, t, e);
  if (Array.isArray(i))
    this.x = i[0], this.y = i[1], this.z = i[2] || 0;
  else if (typeof i == "object")
    this.x = i.x, this.y = i.y, this.z = i.z || 0;
  else if (typeof i == "string" && typeof t > "u") {
    var n = i.split(",");
    this.x = parseFloat(n[0], 10), this.y = parseFloat(n[1], 10), this.z = parseFloat(n[2], 10) || 0;
  } else
    this.x = i, this.y = t, this.z = e || 0;
  console.warn("proj4.Point will be removed in version 3, use proj4.toPoint");
}
ir.fromMGRS = function(i) {
  return new ir(gp(i));
};
ir.prototype.toMGRS = function(i) {
  return cp([this.x, this.y], i);
};
var N2 = 1, G2 = 0.25, Lg = 0.046875, Og = 0.01953125, Fg = 0.01068115234375, j2 = 0.75, B2 = 0.46875, W2 = 0.013020833333333334, Z2 = 0.007120768229166667, Y2 = 0.3645833333333333, X2 = 0.005696614583333333, U2 = 0.3076171875;
function pp(i) {
  var t = [];
  t[0] = N2 - i * (G2 + i * (Lg + i * (Og + i * Fg))), t[1] = i * (j2 - i * (Lg + i * (Og + i * Fg)));
  var e = i * i;
  return t[2] = e * (B2 - i * (W2 + i * Z2)), e *= i, t[3] = e * (Y2 - i * X2), t[4] = e * i * U2, t;
}
function ul(i, t, e, n) {
  return e *= t, t *= t, n[0] * i - e * (n[1] + t * (n[2] + t * (n[3] + t * n[4])));
}
var V2 = 20;
function vp(i, t, e) {
  for (var n = 1 / (1 - t), o = i, r3 = V2; r3; --r3) {
    var s = Math.sin(o), a = 1 - t * s * s;
    if (a = (ul(o, s, Math.cos(o), e) - i) * (a * Math.sqrt(a)) * n, o -= a, Math.abs(a) < Z)
      return o;
  }
  return o;
}
function q2() {
  this.x0 = this.x0 !== void 0 ? this.x0 : 0, this.y0 = this.y0 !== void 0 ? this.y0 : 0, this.long0 = this.long0 !== void 0 ? this.long0 : 0, this.lat0 = this.lat0 !== void 0 ? this.lat0 : 0, this.es && (this.en = pp(this.es), this.ml0 = ul(this.lat0, Math.sin(this.lat0), Math.cos(this.lat0), this.en));
}
function $2(i) {
  var t = i.x, e = i.y, n = Y(t - this.long0), o, r3, s, a = Math.sin(e), l = Math.cos(e);
  if (this.es) {
    var u = l * n, d = Math.pow(u, 2), c = this.ep2 * Math.pow(l, 2), g = Math.pow(c, 2), f = Math.abs(l) > Z ? Math.tan(e) : 0, m = Math.pow(f, 2), p = Math.pow(m, 2);
    o = 1 - this.es * Math.pow(a, 2), u = u / Math.sqrt(o);
    var _ = ul(e, a, l, this.en);
    r3 = this.a * (this.k0 * u * (1 + d / 6 * (1 - m + c + d / 20 * (5 - 18 * m + p + 14 * c - 58 * m * c + d / 42 * (61 + 179 * p - p * m - 479 * m))))) + this.x0, s = this.a * (this.k0 * (_ - this.ml0 + a * n * u / 2 * (1 + d / 12 * (5 - m + 9 * c + 4 * g + d / 30 * (61 + p - 58 * m + 270 * c - 330 * m * c + d / 56 * (1385 + 543 * p - p * m - 3111 * m)))))) + this.y0;
  } else {
    var h = l * Math.sin(n);
    if (Math.abs(Math.abs(h) - 1) < Z)
      return 93;
    if (r3 = 0.5 * this.a * this.k0 * Math.log((1 + h) / (1 - h)) + this.x0, s = l * Math.cos(n) / Math.sqrt(1 - Math.pow(h, 2)), h = Math.abs(s), h >= 1) {
      if (h - 1 > Z)
        return 93;
      s = 0;
    } else
      s = Math.acos(s);
    e < 0 && (s = -s), s = this.a * this.k0 * (s - this.lat0) + this.y0;
  }
  return i.x = r3, i.y = s, i;
}
function H2(i) {
  var t, e, n, o, r3 = (i.x - this.x0) * (1 / this.a), s = (i.y - this.y0) * (1 / this.a);
  if (this.es)
    if (t = this.ml0 + s / this.k0, e = vp(t, this.es, this.en), Math.abs(e) < R) {
      var d = Math.sin(e), c = Math.cos(e), g = Math.abs(c) > Z ? Math.tan(e) : 0, f = this.ep2 * Math.pow(c, 2), m = Math.pow(f, 2), p = Math.pow(g, 2), _ = Math.pow(p, 2);
      t = 1 - this.es * Math.pow(d, 2);
      var v = r3 * Math.sqrt(t) / this.k0, y = Math.pow(v, 2);
      t = t * g, n = e - t * y / (1 - this.es) * 0.5 * (1 - y / 12 * (5 + 3 * p - 9 * f * p + f - 4 * m - y / 30 * (61 + 90 * p - 252 * f * p + 45 * _ + 46 * f - y / 56 * (1385 + 3633 * p + 4095 * _ + 1574 * _ * p)))), o = Y(this.long0 + v * (1 - y / 6 * (1 + 2 * p + f - y / 20 * (5 + 28 * p + 24 * _ + 8 * f * p + 6 * f - y / 42 * (61 + 662 * p + 1320 * _ + 720 * _ * p)))) / c);
    } else
      n = R * xs(s), o = 0;
  else {
    var a = Math.exp(r3 / this.k0), l = 0.5 * (a - 1 / a), h = this.lat0 + s / this.k0, u = Math.cos(h);
    t = Math.sqrt((1 - Math.pow(u, 2)) / (1 + Math.pow(l, 2))), n = Math.asin(t), s < 0 && (n = -n), l === 0 && u === 0 ? o = 0 : o = Y(Math.atan2(l, u) + this.long0);
  }
  return i.x = o, i.y = n, i;
}
var K2 = ["Fast_Transverse_Mercator", "Fast Transverse Mercator"];
const na = {
  init: q2,
  forward: $2,
  inverse: H2,
  names: K2
};
function _p(i) {
  var t = Math.exp(i);
  return t = (t - 1 / t) / 2, t;
}
function ni(i, t) {
  i = Math.abs(i), t = Math.abs(t);
  var e = Math.max(i, t), n = Math.min(i, t) / (e || 1);
  return e * Math.sqrt(1 + Math.pow(n, 2));
}
function J2(i) {
  var t = 1 + i, e = t - 1;
  return e === 0 ? i : i * Math.log(t) / e;
}
function Q2(i) {
  var t = Math.abs(i);
  return t = J2(t * (1 + t / (ni(1, t) + 1))), i < 0 ? -t : t;
}
function yd(i, t) {
  for (var e = 2 * Math.cos(2 * t), n = i.length - 1, o = i[n], r3 = 0, s; --n >= 0; )
    s = -r3 + e * o + i[n], r3 = o, o = s;
  return t + s * Math.sin(2 * t);
}
function t5(i, t) {
  for (var e = 2 * Math.cos(t), n = i.length - 1, o = i[n], r3 = 0, s; --n >= 0; )
    s = -r3 + e * o + i[n], r3 = o, o = s;
  return Math.sin(t) * s;
}
function e5(i) {
  var t = Math.exp(i);
  return t = (t + 1 / t) / 2, t;
}
function yp(i, t, e) {
  for (var n = Math.sin(t), o = Math.cos(t), r3 = _p(e), s = e5(e), a = 2 * o * s, l = -2 * n * r3, h = i.length - 1, u = i[h], d = 0, c = 0, g = 0, f, m; --h >= 0; )
    f = c, m = d, c = u, d = g, u = -f + a * c - l * d + i[h], g = -m + l * c + a * d;
  return a = n * s, l = o * r3, [a * u - l * g, a * g + l * u];
}
function i5() {
  if (!this.approx && (isNaN(this.es) || this.es <= 0))
    throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');
  this.approx && (na.init.apply(this), this.forward = na.forward, this.inverse = na.inverse), this.x0 = this.x0 !== void 0 ? this.x0 : 0, this.y0 = this.y0 !== void 0 ? this.y0 : 0, this.long0 = this.long0 !== void 0 ? this.long0 : 0, this.lat0 = this.lat0 !== void 0 ? this.lat0 : 0, this.cgb = [], this.cbg = [], this.utg = [], this.gtu = [];
  var i = this.es / (1 + Math.sqrt(1 - this.es)), t = i / (2 - i), e = t;
  this.cgb[0] = t * (2 + t * (-2 / 3 + t * (-2 + t * (116 / 45 + t * (26 / 45 + t * (-2854 / 675)))))), this.cbg[0] = t * (-2 + t * (2 / 3 + t * (4 / 3 + t * (-82 / 45 + t * (32 / 45 + t * (4642 / 4725)))))), e = e * t, this.cgb[1] = e * (7 / 3 + t * (-8 / 5 + t * (-227 / 45 + t * (2704 / 315 + t * (2323 / 945))))), this.cbg[1] = e * (5 / 3 + t * (-16 / 15 + t * (-13 / 9 + t * (904 / 315 + t * (-1522 / 945))))), e = e * t, this.cgb[2] = e * (56 / 15 + t * (-136 / 35 + t * (-1262 / 105 + t * (73814 / 2835)))), this.cbg[2] = e * (-26 / 15 + t * (34 / 21 + t * (8 / 5 + t * (-12686 / 2835)))), e = e * t, this.cgb[3] = e * (4279 / 630 + t * (-332 / 35 + t * (-399572 / 14175))), this.cbg[3] = e * (1237 / 630 + t * (-12 / 5 + t * (-24832 / 14175))), e = e * t, this.cgb[4] = e * (4174 / 315 + t * (-144838 / 6237)), this.cbg[4] = e * (-734 / 315 + t * (109598 / 31185)), e = e * t, this.cgb[5] = e * (601676 / 22275), this.cbg[5] = e * (444337 / 155925), e = Math.pow(t, 2), this.Qn = this.k0 / (1 + t) * (1 + e * (1 / 4 + e * (1 / 64 + e / 256))), this.utg[0] = t * (-0.5 + t * (2 / 3 + t * (-37 / 96 + t * (1 / 360 + t * (81 / 512 + t * (-96199 / 604800)))))), this.gtu[0] = t * (0.5 + t * (-2 / 3 + t * (5 / 16 + t * (41 / 180 + t * (-127 / 288 + t * (7891 / 37800)))))), this.utg[1] = e * (-1 / 48 + t * (-1 / 15 + t * (437 / 1440 + t * (-46 / 105 + t * (1118711 / 3870720))))), this.gtu[1] = e * (13 / 48 + t * (-3 / 5 + t * (557 / 1440 + t * (281 / 630 + t * (-1983433 / 1935360))))), e = e * t, this.utg[2] = e * (-17 / 480 + t * (37 / 840 + t * (209 / 4480 + t * (-5569 / 90720)))), this.gtu[2] = e * (61 / 240 + t * (-103 / 140 + t * (15061 / 26880 + t * (167603 / 181440)))), e = e * t, this.utg[3] = e * (-4397 / 161280 + t * (11 / 504 + t * (830251 / 7257600))), this.gtu[3] = e * (49561 / 161280 + t * (-179 / 168 + t * (6601661 / 7257600))), e = e * t, this.utg[4] = e * (-4583 / 161280 + t * (108847 / 3991680)), this.gtu[4] = e * (34729 / 80640 + t * (-3418889 / 1995840)), e = e * t, this.utg[5] = e * (-20648693 / 638668800), this.gtu[5] = e * (212378941 / 319334400);
  var n = yd(this.cbg, this.lat0);
  this.Zb = -this.Qn * (n + t5(this.gtu, 2 * n));
}
function n5(i) {
  var t = Y(i.x - this.long0), e = i.y;
  e = yd(this.cbg, e);
  var n = Math.sin(e), o = Math.cos(e), r3 = Math.sin(t), s = Math.cos(t);
  e = Math.atan2(n, s * o), t = Math.atan2(r3 * o, ni(n, o * s)), t = Q2(Math.tan(t));
  var a = yp(this.gtu, 2 * e, 2 * t);
  e = e + a[0], t = t + a[1];
  var l, h;
  return Math.abs(t) <= 2.623395162778 ? (l = this.a * (this.Qn * t) + this.x0, h = this.a * (this.Qn * e + this.Zb) + this.y0) : (l = 1 / 0, h = 1 / 0), i.x = l, i.y = h, i;
}
function o5(i) {
  var t = (i.x - this.x0) * (1 / this.a), e = (i.y - this.y0) * (1 / this.a);
  e = (e - this.Zb) / this.Qn, t = t / this.Qn;
  var n, o;
  if (Math.abs(t) <= 2.623395162778) {
    var r3 = yp(this.utg, 2 * e, 2 * t);
    e = e + r3[0], t = t + r3[1], t = Math.atan(_p(t));
    var s = Math.sin(e), a = Math.cos(e), l = Math.sin(t), h = Math.cos(t);
    e = Math.atan2(s * h, ni(l, h * a)), t = Math.atan2(l, h * a), n = Y(t + this.long0), o = yd(this.cgb, e);
  } else
    n = 1 / 0, o = 1 / 0;
  return i.x = n, i.y = o, i;
}
var r5 = ["Extended_Transverse_Mercator", "Extended Transverse Mercator", "etmerc", "Transverse_Mercator", "Transverse Mercator", "tmerc"];
const oa = {
  init: i5,
  forward: n5,
  inverse: o5,
  names: r5
};
function s5(i, t) {
  if (i === void 0) {
    if (i = Math.floor((Y(t) + Math.PI) * 30 / Math.PI) + 1, i < 0)
      return 0;
    if (i > 60)
      return 60;
  }
  return i;
}
var a5 = "etmerc";
function l5() {
  var i = s5(this.zone, this.long0);
  if (i === void 0)
    throw new Error("unknown utm zone");
  this.lat0 = 0, this.long0 = (6 * Math.abs(i) - 183) * de, this.x0 = 5e5, this.y0 = this.utmSouth ? 1e7 : 0, this.k0 = 0.9996, oa.init.apply(this), this.forward = oa.forward, this.inverse = oa.inverse;
}
var h5 = ["Universal Transverse Mercator System", "utm"];
const u5 = {
  init: l5,
  names: h5,
  dependsOn: a5
};
function xd(i, t) {
  return Math.pow((1 - i) / (1 + i), t);
}
var d5 = 20;
function c5() {
  var i = Math.sin(this.lat0), t = Math.cos(this.lat0);
  t *= t, this.rc = Math.sqrt(1 - this.es) / (1 - this.es * i * i), this.C = Math.sqrt(1 + this.es * t * t / (1 - this.es)), this.phic0 = Math.asin(i / this.C), this.ratexp = 0.5 * this.C * this.e, this.K = Math.tan(0.5 * this.phic0 + zt) / (Math.pow(Math.tan(0.5 * this.lat0 + zt), this.C) * xd(this.e * i, this.ratexp));
}
function g5(i) {
  var t = i.x, e = i.y;
  return i.y = 2 * Math.atan(this.K * Math.pow(Math.tan(0.5 * e + zt), this.C) * xd(this.e * Math.sin(e), this.ratexp)) - R, i.x = this.C * t, i;
}
function f5(i) {
  for (var t = 1e-14, e = i.x / this.C, n = i.y, o = Math.pow(Math.tan(0.5 * n + zt) / this.K, 1 / this.C), r3 = d5; r3 > 0 && (n = 2 * Math.atan(o * xd(this.e * Math.sin(i.y), -0.5 * this.e)) - R, !(Math.abs(n - i.y) < t)); --r3)
    i.y = n;
  return r3 ? (i.x = e, i.y = n, i) : null;
}
var m5 = ["gauss"];
const bd = {
  init: c5,
  forward: g5,
  inverse: f5,
  names: m5
};
function p5() {
  bd.init.apply(this), this.rc && (this.sinc0 = Math.sin(this.phic0), this.cosc0 = Math.cos(this.phic0), this.R2 = 2 * this.rc, this.title || (this.title = "Oblique Stereographic Alternative"));
}
function v5(i) {
  var t, e, n, o;
  return i.x = Y(i.x - this.long0), bd.forward.apply(this, [i]), t = Math.sin(i.y), e = Math.cos(i.y), n = Math.cos(i.x), o = this.k0 * this.R2 / (1 + this.sinc0 * t + this.cosc0 * e * n), i.x = o * e * Math.sin(i.x), i.y = o * (this.cosc0 * t - this.sinc0 * e * n), i.x = this.a * i.x + this.x0, i.y = this.a * i.y + this.y0, i;
}
function _5(i) {
  var t, e, n, o, r3;
  if (i.x = (i.x - this.x0) / this.a, i.y = (i.y - this.y0) / this.a, i.x /= this.k0, i.y /= this.k0, r3 = Math.sqrt(i.x * i.x + i.y * i.y)) {
    var s = 2 * Math.atan2(r3, this.R2);
    t = Math.sin(s), e = Math.cos(s), o = Math.asin(e * this.sinc0 + i.y * t * this.cosc0 / r3), n = Math.atan2(i.x * t, r3 * this.cosc0 * e - i.y * this.sinc0 * t);
  } else
    o = this.phic0, n = 0;
  return i.x = n, i.y = o, bd.inverse.apply(this, [i]), i.x = Y(i.x + this.long0), i;
}
var y5 = ["Stereographic_North_Pole", "Oblique_Stereographic", "Polar_Stereographic", "sterea", "Oblique Stereographic Alternative", "Double_Stereographic"];
const x5 = {
  init: p5,
  forward: v5,
  inverse: _5,
  names: y5
};
function b5(i, t, e) {
  return t *= e, Math.tan(0.5 * (R + i)) * Math.pow((1 - t) / (1 + t), 0.5 * e);
}
function k5() {
  this.coslat0 = Math.cos(this.lat0), this.sinlat0 = Math.sin(this.lat0), this.sphere ? this.k0 === 1 && !isNaN(this.lat_ts) && Math.abs(this.coslat0) <= Z && (this.k0 = 0.5 * (1 + xs(this.lat0) * Math.sin(this.lat_ts))) : (Math.abs(this.coslat0) <= Z && (this.lat0 > 0 ? this.con = 1 : this.con = -1), this.cons = Math.sqrt(Math.pow(1 + this.e, 1 + this.e) * Math.pow(1 - this.e, 1 - this.e)), this.k0 === 1 && !isNaN(this.lat_ts) && Math.abs(this.coslat0) <= Z && (this.k0 = 0.5 * this.cons * bi(this.e, Math.sin(this.lat_ts), Math.cos(this.lat_ts)) / ai(this.e, this.con * this.lat_ts, this.con * Math.sin(this.lat_ts))), this.ms1 = bi(this.e, this.sinlat0, this.coslat0), this.X0 = 2 * Math.atan(this.ssfn_(this.lat0, this.sinlat0, this.e)) - R, this.cosX0 = Math.cos(this.X0), this.sinX0 = Math.sin(this.X0));
}
function w5(i) {
  var t = i.x, e = i.y, n = Math.sin(e), o = Math.cos(e), r3, s, a, l, h, u, d = Y(t - this.long0);
  return Math.abs(Math.abs(t - this.long0) - Math.PI) <= Z && Math.abs(e + this.lat0) <= Z ? (i.x = NaN, i.y = NaN, i) : this.sphere ? (r3 = 2 * this.k0 / (1 + this.sinlat0 * n + this.coslat0 * o * Math.cos(d)), i.x = this.a * r3 * o * Math.sin(d) + this.x0, i.y = this.a * r3 * (this.coslat0 * n - this.sinlat0 * o * Math.cos(d)) + this.y0, i) : (s = 2 * Math.atan(this.ssfn_(e, n, this.e)) - R, l = Math.cos(s), a = Math.sin(s), Math.abs(this.coslat0) <= Z ? (h = ai(this.e, e * this.con, this.con * n), u = 2 * this.a * this.k0 * h / this.cons, i.x = this.x0 + u * Math.sin(t - this.long0), i.y = this.y0 - this.con * u * Math.cos(t - this.long0), i) : (Math.abs(this.sinlat0) < Z ? (r3 = 2 * this.a * this.k0 / (1 + l * Math.cos(d)), i.y = r3 * a) : (r3 = 2 * this.a * this.k0 * this.ms1 / (this.cosX0 * (1 + this.sinX0 * a + this.cosX0 * l * Math.cos(d))), i.y = r3 * (this.cosX0 * a - this.sinX0 * l * Math.cos(d)) + this.y0), i.x = r3 * l * Math.sin(d) + this.x0, i));
}
function C5(i) {
  i.x -= this.x0, i.y -= this.y0;
  var t, e, n, o, r3, s = Math.sqrt(i.x * i.x + i.y * i.y);
  if (this.sphere) {
    var a = 2 * Math.atan(s / (2 * this.a * this.k0));
    return t = this.long0, e = this.lat0, s <= Z ? (i.x = t, i.y = e, i) : (e = Math.asin(Math.cos(a) * this.sinlat0 + i.y * Math.sin(a) * this.coslat0 / s), Math.abs(this.coslat0) < Z ? this.lat0 > 0 ? t = Y(this.long0 + Math.atan2(i.x, -1 * i.y)) : t = Y(this.long0 + Math.atan2(i.x, i.y)) : t = Y(this.long0 + Math.atan2(i.x * Math.sin(a), s * this.coslat0 * Math.cos(a) - i.y * this.sinlat0 * Math.sin(a))), i.x = t, i.y = e, i);
  } else if (Math.abs(this.coslat0) <= Z) {
    if (s <= Z)
      return e = this.lat0, t = this.long0, i.x = t, i.y = e, i;
    i.x *= this.con, i.y *= this.con, n = s * this.cons / (2 * this.a * this.k0), e = this.con * ls(this.e, n), t = this.con * Y(this.con * this.long0 + Math.atan2(i.x, -1 * i.y));
  } else
    o = 2 * Math.atan(s * this.cosX0 / (2 * this.a * this.k0 * this.ms1)), t = this.long0, s <= Z ? r3 = this.X0 : (r3 = Math.asin(Math.cos(o) * this.sinX0 + i.y * Math.sin(o) * this.cosX0 / s), t = Y(this.long0 + Math.atan2(i.x * Math.sin(o), s * this.cosX0 * Math.cos(o) - i.y * this.sinX0 * Math.sin(o)))), e = -1 * ls(this.e, Math.tan(0.5 * (R + r3)));
  return i.x = t, i.y = e, i;
}
var M5 = ["stere", "Stereographic_South_Pole", "Polar Stereographic (variant B)"];
const E5 = {
  init: k5,
  forward: w5,
  inverse: C5,
  names: M5,
  ssfn_: b5
};
function S5() {
  var i = this.lat0;
  this.lambda0 = this.long0;
  var t = Math.sin(i), e = this.a, n = this.rf, o = 1 / n, r3 = 2 * o - Math.pow(o, 2), s = this.e = Math.sqrt(r3);
  this.R = this.k0 * e * Math.sqrt(1 - r3) / (1 - r3 * Math.pow(t, 2)), this.alpha = Math.sqrt(1 + r3 / (1 - r3) * Math.pow(Math.cos(i), 4)), this.b0 = Math.asin(t / this.alpha);
  var a = Math.log(Math.tan(Math.PI / 4 + this.b0 / 2)), l = Math.log(Math.tan(Math.PI / 4 + i / 2)), h = Math.log((1 + s * t) / (1 - s * t));
  this.K = a - this.alpha * l + this.alpha * s / 2 * h;
}
function T5(i) {
  var t = Math.log(Math.tan(Math.PI / 4 - i.y / 2)), e = this.e / 2 * Math.log((1 + this.e * Math.sin(i.y)) / (1 - this.e * Math.sin(i.y))), n = -this.alpha * (t + e) + this.K, o = 2 * (Math.atan(Math.exp(n)) - Math.PI / 4), r3 = this.alpha * (i.x - this.lambda0), s = Math.atan(Math.sin(r3) / (Math.sin(this.b0) * Math.tan(o) + Math.cos(this.b0) * Math.cos(r3))), a = Math.asin(Math.cos(this.b0) * Math.sin(o) - Math.sin(this.b0) * Math.cos(o) * Math.cos(r3));
  return i.y = this.R / 2 * Math.log((1 + Math.sin(a)) / (1 - Math.sin(a))) + this.y0, i.x = this.R * s + this.x0, i;
}
function I5(i) {
  for (var t = i.x - this.x0, e = i.y - this.y0, n = t / this.R, o = 2 * (Math.atan(Math.exp(e / this.R)) - Math.PI / 4), r3 = Math.asin(Math.cos(this.b0) * Math.sin(o) + Math.sin(this.b0) * Math.cos(o) * Math.cos(n)), s = Math.atan(Math.sin(n) / (Math.cos(this.b0) * Math.cos(n) - Math.sin(this.b0) * Math.tan(o))), a = this.lambda0 + s / this.alpha, l = 0, h = r3, u = -1e3, d = 0; Math.abs(h - u) > 1e-7; ) {
    if (++d > 20)
      return;
    l = 1 / this.alpha * (Math.log(Math.tan(Math.PI / 4 + r3 / 2)) - this.K) + this.e * Math.log(Math.tan(Math.PI / 4 + Math.asin(this.e * Math.sin(h)) / 2)), u = h, h = 2 * Math.atan(Math.exp(l)) - Math.PI / 2;
  }
  return i.x = a, i.y = h, i;
}
var z5 = ["somerc"];
const R5 = {
  init: S5,
  forward: T5,
  inverse: I5,
  names: z5
};
var Ro = 1e-7;
function A5(i) {
  var t = ["Hotine_Oblique_Mercator", "Hotine_Oblique_Mercator_Azimuth_Natural_Origin"], e = typeof i.PROJECTION == "object" ? Object.keys(i.PROJECTION)[0] : i.PROJECTION;
  return "no_uoff" in i || "no_off" in i || t.indexOf(e) !== -1;
}
function P5() {
  var i, t, e, n, o, r3, s, a, l, h, u = 0, d, c = 0, g = 0, f = 0, m = 0, p = 0, _ = 0;
  this.no_off = A5(this), this.no_rot = "no_rot" in this;
  var v = false;
  "alpha" in this && (v = true);
  var y = false;
  if ("rectified_grid_angle" in this && (y = true), v && (_ = this.alpha), y && (u = this.rectified_grid_angle * de), v || y)
    c = this.longc;
  else if (g = this.long1, m = this.lat1, f = this.long2, p = this.lat2, Math.abs(m - p) <= Ro || (i = Math.abs(m)) <= Ro || Math.abs(i - R) <= Ro || Math.abs(Math.abs(this.lat0) - R) <= Ro || Math.abs(Math.abs(p) - R) <= Ro)
    throw new Error();
  var x = 1 - this.es;
  t = Math.sqrt(x), Math.abs(this.lat0) > Z ? (a = Math.sin(this.lat0), e = Math.cos(this.lat0), i = 1 - this.es * a * a, this.B = e * e, this.B = Math.sqrt(1 + this.es * this.B * this.B / x), this.A = this.B * this.k0 * t / i, n = this.B * t / (e * Math.sqrt(i)), o = n * n - 1, o <= 0 ? o = 0 : (o = Math.sqrt(o), this.lat0 < 0 && (o = -o)), this.E = o += n, this.E *= Math.pow(ai(this.e, this.lat0, a), this.B)) : (this.B = 1 / t, this.A = this.k0, this.E = n = o = 1), v || y ? (v ? (d = Math.asin(Math.sin(_) / n), y || (u = _)) : (d = u, _ = Math.asin(n * Math.sin(d))), this.lam0 = c - Math.asin(0.5 * (o - 1 / o) * Math.tan(d)) / this.B) : (r3 = Math.pow(ai(this.e, m, Math.sin(m)), this.B), s = Math.pow(ai(this.e, p, Math.sin(p)), this.B), o = this.E / r3, l = (s - r3) / (s + r3), h = this.E * this.E, h = (h - s * r3) / (h + s * r3), i = g - f, i < -Math.pi ? f -= ss : i > Math.pi && (f += ss), this.lam0 = Y(0.5 * (g + f) - Math.atan(h * Math.tan(0.5 * this.B * (g - f)) / l) / this.B), d = Math.atan(2 * Math.sin(this.B * Y(g - this.lam0)) / (o - 1 / o)), u = _ = Math.asin(n * Math.sin(d))), this.singam = Math.sin(d), this.cosgam = Math.cos(d), this.sinrot = Math.sin(u), this.cosrot = Math.cos(u), this.rB = 1 / this.B, this.ArB = this.A * this.rB, this.BrA = 1 / this.ArB, this.A * this.B, this.no_off ? this.u_0 = 0 : (this.u_0 = Math.abs(this.ArB * Math.atan(Math.sqrt(n * n - 1) / Math.cos(_))), this.lat0 < 0 && (this.u_0 = -this.u_0)), o = 0.5 * d, this.v_pole_n = this.ArB * Math.log(Math.tan(zt - o)), this.v_pole_s = this.ArB * Math.log(Math.tan(zt + o));
}
function D5(i) {
  var t = {}, e, n, o, r3, s, a, l, h;
  if (i.x = i.x - this.lam0, Math.abs(Math.abs(i.y) - R) > Z) {
    if (s = this.E / Math.pow(ai(this.e, i.y, Math.sin(i.y)), this.B), a = 1 / s, e = 0.5 * (s - a), n = 0.5 * (s + a), r3 = Math.sin(this.B * i.x), o = (e * this.singam - r3 * this.cosgam) / n, Math.abs(Math.abs(o) - 1) < Z)
      throw new Error();
    h = 0.5 * this.ArB * Math.log((1 - o) / (1 + o)), a = Math.cos(this.B * i.x), Math.abs(a) < Ro ? l = this.A * i.x : l = this.ArB * Math.atan2(e * this.cosgam + r3 * this.singam, a);
  } else
    h = i.y > 0 ? this.v_pole_n : this.v_pole_s, l = this.ArB * i.y;
  return this.no_rot ? (t.x = l, t.y = h) : (l -= this.u_0, t.x = h * this.cosrot + l * this.sinrot, t.y = l * this.cosrot - h * this.sinrot), t.x = this.a * t.x + this.x0, t.y = this.a * t.y + this.y0, t;
}
function L5(i) {
  var t, e, n, o, r3, s, a, l = {};
  if (i.x = (i.x - this.x0) * (1 / this.a), i.y = (i.y - this.y0) * (1 / this.a), this.no_rot ? (e = i.y, t = i.x) : (e = i.x * this.cosrot - i.y * this.sinrot, t = i.y * this.cosrot + i.x * this.sinrot + this.u_0), n = Math.exp(-this.BrA * e), o = 0.5 * (n - 1 / n), r3 = 0.5 * (n + 1 / n), s = Math.sin(this.BrA * t), a = (s * this.cosgam + o * this.singam) / r3, Math.abs(Math.abs(a) - 1) < Z)
    l.x = 0, l.y = a < 0 ? -R : R;
  else {
    if (l.y = this.E / Math.sqrt((1 + a) / (1 - a)), l.y = ls(this.e, Math.pow(l.y, 1 / this.B)), l.y === 1 / 0)
      throw new Error();
    l.x = -this.rB * Math.atan2(o * this.cosgam - s * this.singam, Math.cos(this.BrA * t));
  }
  return l.x += this.lam0, l;
}
var O5 = ["Hotine_Oblique_Mercator", "Hotine Oblique Mercator", "Hotine_Oblique_Mercator_Azimuth_Natural_Origin", "Hotine_Oblique_Mercator_Two_Point_Natural_Origin", "Hotine_Oblique_Mercator_Azimuth_Center", "Oblique_Mercator", "omerc"];
const F5 = {
  init: P5,
  forward: D5,
  inverse: L5,
  names: O5
};
function N5() {
  if (this.lat2 || (this.lat2 = this.lat1), this.k0 || (this.k0 = 1), this.x0 = this.x0 || 0, this.y0 = this.y0 || 0, !(Math.abs(this.lat1 + this.lat2) < Z)) {
    var i = this.b / this.a;
    this.e = Math.sqrt(1 - i * i);
    var t = Math.sin(this.lat1), e = Math.cos(this.lat1), n = bi(this.e, t, e), o = ai(this.e, this.lat1, t), r3 = Math.sin(this.lat2), s = Math.cos(this.lat2), a = bi(this.e, r3, s), l = ai(this.e, this.lat2, r3), h = ai(this.e, this.lat0, Math.sin(this.lat0));
    Math.abs(this.lat1 - this.lat2) > Z ? this.ns = Math.log(n / a) / Math.log(o / l) : this.ns = t, isNaN(this.ns) && (this.ns = t), this.f0 = n / (this.ns * Math.pow(o, this.ns)), this.rh = this.a * this.f0 * Math.pow(h, this.ns), this.title || (this.title = "Lambert Conformal Conic");
  }
}
function G5(i) {
  var t = i.x, e = i.y;
  Math.abs(2 * Math.abs(e) - Math.PI) <= Z && (e = xs(e) * (R - 2 * Z));
  var n = Math.abs(Math.abs(e) - R), o, r3;
  if (n > Z)
    o = ai(this.e, e, Math.sin(e)), r3 = this.a * this.f0 * Math.pow(o, this.ns);
  else {
    if (n = e * this.ns, n <= 0)
      return null;
    r3 = 0;
  }
  var s = this.ns * Y(t - this.long0);
  return i.x = this.k0 * (r3 * Math.sin(s)) + this.x0, i.y = this.k0 * (this.rh - r3 * Math.cos(s)) + this.y0, i;
}
function j5(i) {
  var t, e, n, o, r3, s = (i.x - this.x0) / this.k0, a = this.rh - (i.y - this.y0) / this.k0;
  this.ns > 0 ? (t = Math.sqrt(s * s + a * a), e = 1) : (t = -Math.sqrt(s * s + a * a), e = -1);
  var l = 0;
  if (t !== 0 && (l = Math.atan2(e * s, e * a)), t !== 0 || this.ns > 0) {
    if (e = 1 / this.ns, n = Math.pow(t / (this.a * this.f0), e), o = ls(this.e, n), o === -9999)
      return null;
  } else
    o = -R;
  return r3 = Y(l / this.ns + this.long0), i.x = r3, i.y = o, i;
}
var B5 = [
  "Lambert Tangential Conformal Conic Projection",
  "Lambert_Conformal_Conic",
  "Lambert_Conformal_Conic_1SP",
  "Lambert_Conformal_Conic_2SP",
  "lcc",
  "Lambert Conic Conformal (1SP)",
  "Lambert Conic Conformal (2SP)"
];
const W5 = {
  init: N5,
  forward: G5,
  inverse: j5,
  names: B5
};
function Z5() {
  this.a = 6377397155e-3, this.es = 0.006674372230614, this.e = Math.sqrt(this.es), this.lat0 || (this.lat0 = 0.863937979737193), this.long0 || (this.long0 = 0.7417649320975901 - 0.308341501185665), this.k0 || (this.k0 = 0.9999), this.s45 = 0.785398163397448, this.s90 = 2 * this.s45, this.fi0 = this.lat0, this.e2 = this.es, this.e = Math.sqrt(this.e2), this.alfa = Math.sqrt(1 + this.e2 * Math.pow(Math.cos(this.fi0), 4) / (1 - this.e2)), this.uq = 1.04216856380474, this.u0 = Math.asin(Math.sin(this.fi0) / this.alfa), this.g = Math.pow((1 + this.e * Math.sin(this.fi0)) / (1 - this.e * Math.sin(this.fi0)), this.alfa * this.e / 2), this.k = Math.tan(this.u0 / 2 + this.s45) / Math.pow(Math.tan(this.fi0 / 2 + this.s45), this.alfa) * this.g, this.k1 = this.k0, this.n0 = this.a * Math.sqrt(1 - this.e2) / (1 - this.e2 * Math.pow(Math.sin(this.fi0), 2)), this.s0 = 1.37008346281555, this.n = Math.sin(this.s0), this.ro0 = this.k1 * this.n0 / Math.tan(this.s0), this.ad = this.s90 - this.uq;
}
function Y5(i) {
  var t, e, n, o, r3, s, a, l = i.x, h = i.y, u = Y(l - this.long0);
  return t = Math.pow((1 + this.e * Math.sin(h)) / (1 - this.e * Math.sin(h)), this.alfa * this.e / 2), e = 2 * (Math.atan(this.k * Math.pow(Math.tan(h / 2 + this.s45), this.alfa) / t) - this.s45), n = -u * this.alfa, o = Math.asin(Math.cos(this.ad) * Math.sin(e) + Math.sin(this.ad) * Math.cos(e) * Math.cos(n)), r3 = Math.asin(Math.cos(e) * Math.sin(n) / Math.cos(o)), s = this.n * r3, a = this.ro0 * Math.pow(Math.tan(this.s0 / 2 + this.s45), this.n) / Math.pow(Math.tan(o / 2 + this.s45), this.n), i.y = a * Math.cos(s) / 1, i.x = a * Math.sin(s) / 1, this.czech || (i.y *= -1, i.x *= -1), i;
}
function X5(i) {
  var t, e, n, o, r3, s, a, l, h = i.x;
  i.x = i.y, i.y = h, this.czech || (i.y *= -1, i.x *= -1), s = Math.sqrt(i.x * i.x + i.y * i.y), r3 = Math.atan2(i.y, i.x), o = r3 / Math.sin(this.s0), n = 2 * (Math.atan(Math.pow(this.ro0 / s, 1 / this.n) * Math.tan(this.s0 / 2 + this.s45)) - this.s45), t = Math.asin(Math.cos(this.ad) * Math.sin(n) - Math.sin(this.ad) * Math.cos(n) * Math.cos(o)), e = Math.asin(Math.cos(n) * Math.sin(o) / Math.cos(t)), i.x = this.long0 - e / this.alfa, a = t, l = 0;
  var u = 0;
  do
    i.y = 2 * (Math.atan(Math.pow(this.k, -1 / this.alfa) * Math.pow(Math.tan(t / 2 + this.s45), 1 / this.alfa) * Math.pow((1 + this.e * Math.sin(a)) / (1 - this.e * Math.sin(a)), this.e / 2)) - this.s45), Math.abs(a - i.y) < 1e-10 && (l = 1), a = i.y, u += 1;
  while (l === 0 && u < 15);
  return u >= 15 ? null : i;
}
var U5 = ["Krovak", "krovak"];
const V5 = {
  init: Z5,
  forward: Y5,
  inverse: X5,
  names: U5
};
function Ie(i, t, e, n, o) {
  return i * o - t * Math.sin(2 * o) + e * Math.sin(4 * o) - n * Math.sin(6 * o);
}
function bs(i) {
  return 1 - 0.25 * i * (1 + i / 16 * (3 + 1.25 * i));
}
function ks(i) {
  return 0.375 * i * (1 + 0.25 * i * (1 + 0.46875 * i));
}
function ws(i) {
  return 0.05859375 * i * i * (1 + 0.75 * i);
}
function Cs(i) {
  return i * i * i * (35 / 3072);
}
function nr(i, t, e) {
  var n = t * e;
  return i / Math.sqrt(1 - n * n);
}
function ur(i) {
  return Math.abs(i) < R ? i : i - xs(i) * Math.PI;
}
function Fa(i, t, e, n, o) {
  var r3, s;
  r3 = i / t;
  for (var a = 0; a < 15; a++)
    if (s = (i - (t * r3 - e * Math.sin(2 * r3) + n * Math.sin(4 * r3) - o * Math.sin(6 * r3))) / (t - 2 * e * Math.cos(2 * r3) + 4 * n * Math.cos(4 * r3) - 6 * o * Math.cos(6 * r3)), r3 += s, Math.abs(s) <= 1e-10)
      return r3;
  return NaN;
}
function q5() {
  this.sphere || (this.e0 = bs(this.es), this.e1 = ks(this.es), this.e2 = ws(this.es), this.e3 = Cs(this.es), this.ml0 = this.a * Ie(this.e0, this.e1, this.e2, this.e3, this.lat0));
}
function $5(i) {
  var t, e, n = i.x, o = i.y;
  if (n = Y(n - this.long0), this.sphere)
    t = this.a * Math.asin(Math.cos(o) * Math.sin(n)), e = this.a * (Math.atan2(Math.tan(o), Math.cos(n)) - this.lat0);
  else {
    var r3 = Math.sin(o), s = Math.cos(o), a = nr(this.a, this.e, r3), l = Math.tan(o) * Math.tan(o), h = n * Math.cos(o), u = h * h, d = this.es * s * s / (1 - this.es), c = this.a * Ie(this.e0, this.e1, this.e2, this.e3, o);
    t = a * h * (1 - u * l * (1 / 6 - (8 - l + 8 * d) * u / 120)), e = c - this.ml0 + a * r3 / s * u * (0.5 + (5 - l + 6 * d) * u / 24);
  }
  return i.x = t + this.x0, i.y = e + this.y0, i;
}
function H5(i) {
  i.x -= this.x0, i.y -= this.y0;
  var t = i.x / this.a, e = i.y / this.a, n, o;
  if (this.sphere) {
    var r3 = e + this.lat0;
    n = Math.asin(Math.sin(r3) * Math.cos(t)), o = Math.atan2(Math.tan(t), Math.cos(r3));
  } else {
    var s = this.ml0 / this.a + e, a = Fa(s, this.e0, this.e1, this.e2, this.e3);
    if (Math.abs(Math.abs(a) - R) <= Z)
      return i.x = this.long0, i.y = R, e < 0 && (i.y *= -1), i;
    var l = nr(this.a, this.e, Math.sin(a)), h = l * l * l / this.a / this.a * (1 - this.es), u = Math.pow(Math.tan(a), 2), d = t * this.a / l, c = d * d;
    n = a - l * Math.tan(a) / h * d * d * (0.5 - (1 + 3 * u) * d * d / 24), o = d * (1 - c * (u / 3 + (1 + 3 * u) * u * c / 15)) / Math.cos(a);
  }
  return i.x = Y(o + this.long0), i.y = ur(n), i;
}
var K5 = ["Cassini", "Cassini_Soldner", "cass"];
const J5 = {
  init: q5,
  forward: $5,
  inverse: H5,
  names: K5
};
function gn(i, t) {
  var e;
  return i > 1e-7 ? (e = i * t, (1 - i * i) * (t / (1 - e * e) - 0.5 / i * Math.log((1 - e) / (1 + e)))) : 2 * t;
}
var Q5 = 1, tC = 2, eC = 3, iC = 4;
function nC() {
  var i = Math.abs(this.lat0);
  if (Math.abs(i - R) < Z ? this.mode = this.lat0 < 0 ? this.S_POLE : this.N_POLE : Math.abs(i) < Z ? this.mode = this.EQUIT : this.mode = this.OBLIQ, this.es > 0) {
    var t;
    switch (this.qp = gn(this.e, 1), this.mmf = 0.5 / (1 - this.es), this.apa = cC(this.es), this.mode) {
      case this.N_POLE:
        this.dd = 1;
        break;
      case this.S_POLE:
        this.dd = 1;
        break;
      case this.EQUIT:
        this.rq = Math.sqrt(0.5 * this.qp), this.dd = 1 / this.rq, this.xmf = 1, this.ymf = 0.5 * this.qp;
        break;
      case this.OBLIQ:
        this.rq = Math.sqrt(0.5 * this.qp), t = Math.sin(this.lat0), this.sinb1 = gn(this.e, t) / this.qp, this.cosb1 = Math.sqrt(1 - this.sinb1 * this.sinb1), this.dd = Math.cos(this.lat0) / (Math.sqrt(1 - this.es * t * t) * this.rq * this.cosb1), this.ymf = (this.xmf = this.rq) / this.dd, this.xmf *= this.dd;
        break;
    }
  } else
    this.mode === this.OBLIQ && (this.sinph0 = Math.sin(this.lat0), this.cosph0 = Math.cos(this.lat0));
}
function oC(i) {
  var t, e, n, o, r3, s, a, l, h, u, d = i.x, c = i.y;
  if (d = Y(d - this.long0), this.sphere) {
    if (r3 = Math.sin(c), u = Math.cos(c), n = Math.cos(d), this.mode === this.OBLIQ || this.mode === this.EQUIT) {
      if (e = this.mode === this.EQUIT ? 1 + u * n : 1 + this.sinph0 * r3 + this.cosph0 * u * n, e <= Z)
        return null;
      e = Math.sqrt(2 / e), t = e * u * Math.sin(d), e *= this.mode === this.EQUIT ? r3 : this.cosph0 * r3 - this.sinph0 * u * n;
    } else if (this.mode === this.N_POLE || this.mode === this.S_POLE) {
      if (this.mode === this.N_POLE && (n = -n), Math.abs(c + this.lat0) < Z)
        return null;
      e = zt - c * 0.5, e = 2 * (this.mode === this.S_POLE ? Math.cos(e) : Math.sin(e)), t = e * Math.sin(d), e *= n;
    }
  } else {
    switch (a = 0, l = 0, h = 0, n = Math.cos(d), o = Math.sin(d), r3 = Math.sin(c), s = gn(this.e, r3), (this.mode === this.OBLIQ || this.mode === this.EQUIT) && (a = s / this.qp, l = Math.sqrt(1 - a * a)), this.mode) {
      case this.OBLIQ:
        h = 1 + this.sinb1 * a + this.cosb1 * l * n;
        break;
      case this.EQUIT:
        h = 1 + l * n;
        break;
      case this.N_POLE:
        h = R + c, s = this.qp - s;
        break;
      case this.S_POLE:
        h = c - R, s = this.qp + s;
        break;
    }
    if (Math.abs(h) < Z)
      return null;
    switch (this.mode) {
      case this.OBLIQ:
      case this.EQUIT:
        h = Math.sqrt(2 / h), this.mode === this.OBLIQ ? e = this.ymf * h * (this.cosb1 * a - this.sinb1 * l * n) : e = (h = Math.sqrt(2 / (1 + l * n))) * a * this.ymf, t = this.xmf * h * l * o;
        break;
      case this.N_POLE:
      case this.S_POLE:
        s >= 0 ? (t = (h = Math.sqrt(s)) * o, e = n * (this.mode === this.S_POLE ? h : -h)) : t = e = 0;
        break;
    }
  }
  return i.x = this.a * t + this.x0, i.y = this.a * e + this.y0, i;
}
function rC(i) {
  i.x -= this.x0, i.y -= this.y0;
  var t = i.x / this.a, e = i.y / this.a, n, o, r3, s, a, l, h;
  if (this.sphere) {
    var u = 0, d, c = 0;
    if (d = Math.sqrt(t * t + e * e), o = d * 0.5, o > 1)
      return null;
    switch (o = 2 * Math.asin(o), (this.mode === this.OBLIQ || this.mode === this.EQUIT) && (c = Math.sin(o), u = Math.cos(o)), this.mode) {
      case this.EQUIT:
        o = Math.abs(d) <= Z ? 0 : Math.asin(e * c / d), t *= c, e = u * d;
        break;
      case this.OBLIQ:
        o = Math.abs(d) <= Z ? this.lat0 : Math.asin(u * this.sinph0 + e * c * this.cosph0 / d), t *= c * this.cosph0, e = (u - Math.sin(o) * this.sinph0) * d;
        break;
      case this.N_POLE:
        e = -e, o = R - o;
        break;
      case this.S_POLE:
        o -= R;
        break;
    }
    n = e === 0 && (this.mode === this.EQUIT || this.mode === this.OBLIQ) ? 0 : Math.atan2(t, e);
  } else {
    if (h = 0, this.mode === this.OBLIQ || this.mode === this.EQUIT) {
      if (t /= this.dd, e *= this.dd, l = Math.sqrt(t * t + e * e), l < Z)
        return i.x = this.long0, i.y = this.lat0, i;
      s = 2 * Math.asin(0.5 * l / this.rq), r3 = Math.cos(s), t *= s = Math.sin(s), this.mode === this.OBLIQ ? (h = r3 * this.sinb1 + e * s * this.cosb1 / l, a = this.qp * h, e = l * this.cosb1 * r3 - e * this.sinb1 * s) : (h = e * s / l, a = this.qp * h, e = l * r3);
    } else if (this.mode === this.N_POLE || this.mode === this.S_POLE) {
      if (this.mode === this.N_POLE && (e = -e), a = t * t + e * e, !a)
        return i.x = this.long0, i.y = this.lat0, i;
      h = 1 - a / this.qp, this.mode === this.S_POLE && (h = -h);
    }
    n = Math.atan2(t, e), o = gC(Math.asin(h), this.apa);
  }
  return i.x = Y(this.long0 + n), i.y = o, i;
}
var sC = 0.3333333333333333, aC = 0.17222222222222222, lC = 0.10257936507936508, hC = 0.06388888888888888, uC = 0.0664021164021164, dC = 0.016415012942191543;
function cC(i) {
  var t, e = [];
  return e[0] = i * sC, t = i * i, e[0] += t * aC, e[1] = t * hC, t *= i, e[0] += t * lC, e[1] += t * uC, e[2] = t * dC, e;
}
function gC(i, t) {
  var e = i + i;
  return i + t[0] * Math.sin(e) + t[1] * Math.sin(e + e) + t[2] * Math.sin(e + e + e);
}
var fC = ["Lambert Azimuthal Equal Area", "Lambert_Azimuthal_Equal_Area", "laea"];
const mC = {
  init: nC,
  forward: oC,
  inverse: rC,
  names: fC,
  S_POLE: Q5,
  N_POLE: tC,
  EQUIT: eC,
  OBLIQ: iC
};
function En(i) {
  return Math.abs(i) > 1 && (i = i > 1 ? 1 : -1), Math.asin(i);
}
function pC() {
  Math.abs(this.lat1 + this.lat2) < Z || (this.temp = this.b / this.a, this.es = 1 - Math.pow(this.temp, 2), this.e3 = Math.sqrt(this.es), this.sin_po = Math.sin(this.lat1), this.cos_po = Math.cos(this.lat1), this.t1 = this.sin_po, this.con = this.sin_po, this.ms1 = bi(this.e3, this.sin_po, this.cos_po), this.qs1 = gn(this.e3, this.sin_po, this.cos_po), this.sin_po = Math.sin(this.lat2), this.cos_po = Math.cos(this.lat2), this.t2 = this.sin_po, this.ms2 = bi(this.e3, this.sin_po, this.cos_po), this.qs2 = gn(this.e3, this.sin_po, this.cos_po), this.sin_po = Math.sin(this.lat0), this.cos_po = Math.cos(this.lat0), this.t3 = this.sin_po, this.qs0 = gn(this.e3, this.sin_po, this.cos_po), Math.abs(this.lat1 - this.lat2) > Z ? this.ns0 = (this.ms1 * this.ms1 - this.ms2 * this.ms2) / (this.qs2 - this.qs1) : this.ns0 = this.con, this.c = this.ms1 * this.ms1 + this.ns0 * this.qs1, this.rh = this.a * Math.sqrt(this.c - this.ns0 * this.qs0) / this.ns0);
}
function vC(i) {
  var t = i.x, e = i.y;
  this.sin_phi = Math.sin(e), this.cos_phi = Math.cos(e);
  var n = gn(this.e3, this.sin_phi, this.cos_phi), o = this.a * Math.sqrt(this.c - this.ns0 * n) / this.ns0, r3 = this.ns0 * Y(t - this.long0), s = o * Math.sin(r3) + this.x0, a = this.rh - o * Math.cos(r3) + this.y0;
  return i.x = s, i.y = a, i;
}
function _C(i) {
  var t, e, n, o, r3, s;
  return i.x -= this.x0, i.y = this.rh - i.y + this.y0, this.ns0 >= 0 ? (t = Math.sqrt(i.x * i.x + i.y * i.y), n = 1) : (t = -Math.sqrt(i.x * i.x + i.y * i.y), n = -1), o = 0, t !== 0 && (o = Math.atan2(n * i.x, n * i.y)), n = t * this.ns0 / this.a, this.sphere ? s = Math.asin((this.c - n * n) / (2 * this.ns0)) : (e = (this.c - n * n) / this.ns0, s = this.phi1z(this.e3, e)), r3 = Y(o / this.ns0 + this.long0), i.x = r3, i.y = s, i;
}
function yC(i, t) {
  var e, n, o, r3, s, a = En(0.5 * t);
  if (i < Z)
    return a;
  for (var l = i * i, h = 1; h <= 25; h++)
    if (e = Math.sin(a), n = Math.cos(a), o = i * e, r3 = 1 - o * o, s = 0.5 * r3 * r3 / n * (t / (1 - l) - e / r3 + 0.5 / i * Math.log((1 - o) / (1 + o))), a = a + s, Math.abs(s) <= 1e-7)
      return a;
  return null;
}
var xC = ["Albers_Conic_Equal_Area", "Albers", "aea"];
const bC = {
  init: pC,
  forward: vC,
  inverse: _C,
  names: xC,
  phi1z: yC
};
function kC() {
  this.sin_p14 = Math.sin(this.lat0), this.cos_p14 = Math.cos(this.lat0), this.infinity_dist = 1e3 * this.a, this.rc = 1;
}
function wC(i) {
  var t, e, n, o, r3, s, a, l, h = i.x, u = i.y;
  return n = Y(h - this.long0), t = Math.sin(u), e = Math.cos(u), o = Math.cos(n), s = this.sin_p14 * t + this.cos_p14 * e * o, r3 = 1, s > 0 || Math.abs(s) <= Z ? (a = this.x0 + this.a * r3 * e * Math.sin(n) / s, l = this.y0 + this.a * r3 * (this.cos_p14 * t - this.sin_p14 * e * o) / s) : (a = this.x0 + this.infinity_dist * e * Math.sin(n), l = this.y0 + this.infinity_dist * (this.cos_p14 * t - this.sin_p14 * e * o)), i.x = a, i.y = l, i;
}
function CC(i) {
  var t, e, n, o, r3, s;
  return i.x = (i.x - this.x0) / this.a, i.y = (i.y - this.y0) / this.a, i.x /= this.k0, i.y /= this.k0, (t = Math.sqrt(i.x * i.x + i.y * i.y)) ? (o = Math.atan2(t, this.rc), e = Math.sin(o), n = Math.cos(o), s = En(n * this.sin_p14 + i.y * e * this.cos_p14 / t), r3 = Math.atan2(i.x * e, t * this.cos_p14 * n - i.y * this.sin_p14 * e), r3 = Y(this.long0 + r3)) : (s = this.phic0, r3 = 0), i.x = r3, i.y = s, i;
}
var MC = ["gnom"];
const EC = {
  init: kC,
  forward: wC,
  inverse: CC,
  names: MC
};
function SC(i, t) {
  var e = 1 - (1 - i * i) / (2 * i) * Math.log((1 - i) / (1 + i));
  if (Math.abs(Math.abs(t) - e) < 1e-6)
    return t < 0 ? -1 * R : R;
  for (var n = Math.asin(0.5 * t), o, r3, s, a, l = 0; l < 30; l++)
    if (r3 = Math.sin(n), s = Math.cos(n), a = i * r3, o = Math.pow(1 - a * a, 2) / (2 * s) * (t / (1 - i * i) - r3 / (1 - a * a) + 0.5 / i * Math.log((1 - a) / (1 + a))), n += o, Math.abs(o) <= 1e-10)
      return n;
  return NaN;
}
function TC() {
  this.sphere || (this.k0 = bi(this.e, Math.sin(this.lat_ts), Math.cos(this.lat_ts)));
}
function IC(i) {
  var t = i.x, e = i.y, n, o, r3 = Y(t - this.long0);
  if (this.sphere)
    n = this.x0 + this.a * r3 * Math.cos(this.lat_ts), o = this.y0 + this.a * Math.sin(e) / Math.cos(this.lat_ts);
  else {
    var s = gn(this.e, Math.sin(e));
    n = this.x0 + this.a * this.k0 * r3, o = this.y0 + this.a * s * 0.5 / this.k0;
  }
  return i.x = n, i.y = o, i;
}
function zC(i) {
  i.x -= this.x0, i.y -= this.y0;
  var t, e;
  return this.sphere ? (t = Y(this.long0 + i.x / this.a / Math.cos(this.lat_ts)), e = Math.asin(i.y / this.a * Math.cos(this.lat_ts))) : (e = SC(this.e, 2 * i.y * this.k0 / this.a), t = Y(this.long0 + i.x / (this.a * this.k0))), i.x = t, i.y = e, i;
}
var RC = ["cea"];
const AC = {
  init: TC,
  forward: IC,
  inverse: zC,
  names: RC
};
function PC() {
  this.x0 = this.x0 || 0, this.y0 = this.y0 || 0, this.lat0 = this.lat0 || 0, this.long0 = this.long0 || 0, this.lat_ts = this.lat_ts || 0, this.title = this.title || "Equidistant Cylindrical (Plate Carre)", this.rc = Math.cos(this.lat_ts);
}
function DC(i) {
  var t = i.x, e = i.y, n = Y(t - this.long0), o = ur(e - this.lat0);
  return i.x = this.x0 + this.a * n * this.rc, i.y = this.y0 + this.a * o, i;
}
function LC(i) {
  var t = i.x, e = i.y;
  return i.x = Y(this.long0 + (t - this.x0) / (this.a * this.rc)), i.y = ur(this.lat0 + (e - this.y0) / this.a), i;
}
var OC = ["Equirectangular", "Equidistant_Cylindrical", "eqc"];
const FC = {
  init: PC,
  forward: DC,
  inverse: LC,
  names: OC
};
var Ng = 20;
function NC() {
  this.temp = this.b / this.a, this.es = 1 - Math.pow(this.temp, 2), this.e = Math.sqrt(this.es), this.e0 = bs(this.es), this.e1 = ks(this.es), this.e2 = ws(this.es), this.e3 = Cs(this.es), this.ml0 = this.a * Ie(this.e0, this.e1, this.e2, this.e3, this.lat0);
}
function GC(i) {
  var t = i.x, e = i.y, n, o, r3, s = Y(t - this.long0);
  if (r3 = s * Math.sin(e), this.sphere)
    Math.abs(e) <= Z ? (n = this.a * s, o = -1 * this.a * this.lat0) : (n = this.a * Math.sin(r3) / Math.tan(e), o = this.a * (ur(e - this.lat0) + (1 - Math.cos(r3)) / Math.tan(e)));
  else if (Math.abs(e) <= Z)
    n = this.a * s, o = -1 * this.ml0;
  else {
    var a = nr(this.a, this.e, Math.sin(e)) / Math.tan(e);
    n = a * Math.sin(r3), o = this.a * Ie(this.e0, this.e1, this.e2, this.e3, e) - this.ml0 + a * (1 - Math.cos(r3));
  }
  return i.x = n + this.x0, i.y = o + this.y0, i;
}
function jC(i) {
  var t, e, n, o, r3, s, a, l, h;
  if (n = i.x - this.x0, o = i.y - this.y0, this.sphere)
    if (Math.abs(o + this.a * this.lat0) <= Z)
      t = Y(n / this.a + this.long0), e = 0;
    else {
      s = this.lat0 + o / this.a, a = n * n / this.a / this.a + s * s, l = s;
      var u;
      for (r3 = Ng; r3; --r3)
        if (u = Math.tan(l), h = -1 * (s * (l * u + 1) - l - 0.5 * (l * l + a) * u) / ((l - s) / u - 1), l += h, Math.abs(h) <= Z) {
          e = l;
          break;
        }
      t = Y(this.long0 + Math.asin(n * Math.tan(l) / this.a) / Math.sin(e));
    }
  else if (Math.abs(o + this.ml0) <= Z)
    e = 0, t = Y(this.long0 + n / this.a);
  else {
    s = (this.ml0 + o) / this.a, a = n * n / this.a / this.a + s * s, l = s;
    var d, c, g, f, m;
    for (r3 = Ng; r3; --r3)
      if (m = this.e * Math.sin(l), d = Math.sqrt(1 - m * m) * Math.tan(l), c = this.a * Ie(this.e0, this.e1, this.e2, this.e3, l), g = this.e0 - 2 * this.e1 * Math.cos(2 * l) + 4 * this.e2 * Math.cos(4 * l) - 6 * this.e3 * Math.cos(6 * l), f = c / this.a, h = (s * (d * f + 1) - f - 0.5 * d * (f * f + a)) / (this.es * Math.sin(2 * l) * (f * f + a - 2 * s * f) / (4 * d) + (s - f) * (d * g - 2 / Math.sin(2 * l)) - g), l -= h, Math.abs(h) <= Z) {
        e = l;
        break;
      }
    d = Math.sqrt(1 - this.es * Math.pow(Math.sin(e), 2)) * Math.tan(e), t = Y(this.long0 + Math.asin(n * d / this.a) / Math.sin(e));
  }
  return i.x = t, i.y = e, i;
}
var BC = ["Polyconic", "poly"];
const WC = {
  init: NC,
  forward: GC,
  inverse: jC,
  names: BC
};
function ZC() {
  this.A = [], this.A[1] = 0.6399175073, this.A[2] = -0.1358797613, this.A[3] = 0.063294409, this.A[4] = -0.02526853, this.A[5] = 0.0117879, this.A[6] = -55161e-7, this.A[7] = 26906e-7, this.A[8] = -1333e-6, this.A[9] = 67e-5, this.A[10] = -34e-5, this.B_re = [], this.B_im = [], this.B_re[1] = 0.7557853228, this.B_im[1] = 0, this.B_re[2] = 0.249204646, this.B_im[2] = 3371507e-9, this.B_re[3] = -1541739e-9, this.B_im[3] = 0.04105856, this.B_re[4] = -0.10162907, this.B_im[4] = 0.01727609, this.B_re[5] = -0.26623489, this.B_im[5] = -0.36249218, this.B_re[6] = -0.6870983, this.B_im[6] = -1.1651967, this.C_re = [], this.C_im = [], this.C_re[1] = 1.3231270439, this.C_im[1] = 0, this.C_re[2] = -0.577245789, this.C_im[2] = -7809598e-9, this.C_re[3] = 0.508307513, this.C_im[3] = -0.112208952, this.C_re[4] = -0.15094762, this.C_im[4] = 0.18200602, this.C_re[5] = 1.01418179, this.C_im[5] = 1.64497696, this.C_re[6] = 1.9660549, this.C_im[6] = 2.5127645, this.D = [], this.D[1] = 1.5627014243, this.D[2] = 0.5185406398, this.D[3] = -0.03333098, this.D[4] = -0.1052906, this.D[5] = -0.0368594, this.D[6] = 7317e-6, this.D[7] = 0.0122, this.D[8] = 394e-5, this.D[9] = -13e-4;
}
function YC(i) {
  var t, e = i.x, n = i.y, o = n - this.lat0, r3 = e - this.long0, s = o / Nr * 1e-5, a = r3, l = 1, h = 0;
  for (t = 1; t <= 10; t++)
    l = l * s, h = h + this.A[t] * l;
  var u = h, d = a, c = 1, g = 0, f, m, p = 0, _ = 0;
  for (t = 1; t <= 6; t++)
    f = c * u - g * d, m = g * u + c * d, c = f, g = m, p = p + this.B_re[t] * c - this.B_im[t] * g, _ = _ + this.B_im[t] * c + this.B_re[t] * g;
  return i.x = _ * this.a + this.x0, i.y = p * this.a + this.y0, i;
}
function XC(i) {
  var t, e = i.x, n = i.y, o = e - this.x0, r3 = n - this.y0, s = r3 / this.a, a = o / this.a, l = 1, h = 0, u, d, c = 0, g = 0;
  for (t = 1; t <= 6; t++)
    u = l * s - h * a, d = h * s + l * a, l = u, h = d, c = c + this.C_re[t] * l - this.C_im[t] * h, g = g + this.C_im[t] * l + this.C_re[t] * h;
  for (var f = 0; f < this.iterations; f++) {
    var m = c, p = g, _, v, y = s, x = a;
    for (t = 2; t <= 6; t++)
      _ = m * c - p * g, v = p * c + m * g, m = _, p = v, y = y + (t - 1) * (this.B_re[t] * m - this.B_im[t] * p), x = x + (t - 1) * (this.B_im[t] * m + this.B_re[t] * p);
    m = 1, p = 0;
    var k = this.B_re[1], w = this.B_im[1];
    for (t = 2; t <= 6; t++)
      _ = m * c - p * g, v = p * c + m * g, m = _, p = v, k = k + t * (this.B_re[t] * m - this.B_im[t] * p), w = w + t * (this.B_im[t] * m + this.B_re[t] * p);
    var E = k * k + w * w;
    c = (y * k + x * w) / E, g = (x * k - y * w) / E;
  }
  var C = c, S = g, z = 1, P = 0;
  for (t = 1; t <= 9; t++)
    z = z * C, P = P + this.D[t] * z;
  var N = this.lat0 + P * Nr * 1e5, A = this.long0 + S;
  return i.x = A, i.y = N, i;
}
var UC = ["New_Zealand_Map_Grid", "nzmg"];
const VC = {
  init: ZC,
  forward: YC,
  inverse: XC,
  names: UC
};
function qC() {
}
function $C(i) {
  var t = i.x, e = i.y, n = Y(t - this.long0), o = this.x0 + this.a * n, r3 = this.y0 + this.a * Math.log(Math.tan(Math.PI / 4 + e / 2.5)) * 1.25;
  return i.x = o, i.y = r3, i;
}
function HC(i) {
  i.x -= this.x0, i.y -= this.y0;
  var t = Y(this.long0 + i.x / this.a), e = 2.5 * (Math.atan(Math.exp(0.8 * i.y / this.a)) - Math.PI / 4);
  return i.x = t, i.y = e, i;
}
var KC = ["Miller_Cylindrical", "mill"];
const JC = {
  init: qC,
  forward: $C,
  inverse: HC,
  names: KC
};
var QC = 20;
function tM() {
  this.sphere ? (this.n = 1, this.m = 0, this.es = 0, this.C_y = Math.sqrt((this.m + 1) / this.n), this.C_x = this.C_y / (this.m + 1)) : this.en = pp(this.es);
}
function eM(i) {
  var t, e, n = i.x, o = i.y;
  if (n = Y(n - this.long0), this.sphere) {
    if (!this.m)
      o = this.n !== 1 ? Math.asin(this.n * Math.sin(o)) : o;
    else
      for (var r3 = this.n * Math.sin(o), s = QC; s; --s) {
        var a = (this.m * o + Math.sin(o) - r3) / (this.m + Math.cos(o));
        if (o -= a, Math.abs(a) < Z)
          break;
      }
    t = this.a * this.C_x * n * (this.m + Math.cos(o)), e = this.a * this.C_y * o;
  } else {
    var l = Math.sin(o), h = Math.cos(o);
    e = this.a * ul(o, l, h, this.en), t = this.a * n * h / Math.sqrt(1 - this.es * l * l);
  }
  return i.x = t, i.y = e, i;
}
function iM(i) {
  var t, e, n, o;
  return i.x -= this.x0, n = i.x / this.a, i.y -= this.y0, t = i.y / this.a, this.sphere ? (t /= this.C_y, n = n / (this.C_x * (this.m + Math.cos(t))), this.m ? t = En((this.m * t + Math.sin(t)) / this.n) : this.n !== 1 && (t = En(Math.sin(t) / this.n)), n = Y(n + this.long0), t = ur(t)) : (t = vp(i.y / this.a, this.es, this.en), o = Math.abs(t), o < R ? (o = Math.sin(t), e = this.long0 + i.x * Math.sqrt(1 - this.es * o * o) / (this.a * Math.cos(t)), n = Y(e)) : o - Z < R && (n = this.long0)), i.x = n, i.y = t, i;
}
var nM = ["Sinusoidal", "sinu"];
const oM = {
  init: tM,
  forward: eM,
  inverse: iM,
  names: nM
};
function rM() {
}
function sM(i) {
  for (var t = i.x, e = i.y, n = Y(t - this.long0), o = e, r3 = Math.PI * Math.sin(e); ; ) {
    var s = -(o + Math.sin(o) - r3) / (1 + Math.cos(o));
    if (o += s, Math.abs(s) < Z)
      break;
  }
  o /= 2, Math.PI / 2 - Math.abs(e) < Z && (n = 0);
  var a = 0.900316316158 * this.a * n * Math.cos(o) + this.x0, l = 1.4142135623731 * this.a * Math.sin(o) + this.y0;
  return i.x = a, i.y = l, i;
}
function aM(i) {
  var t, e;
  i.x -= this.x0, i.y -= this.y0, e = i.y / (1.4142135623731 * this.a), Math.abs(e) > 0.999999999999 && (e = 0.999999999999), t = Math.asin(e);
  var n = Y(this.long0 + i.x / (0.900316316158 * this.a * Math.cos(t)));
  n < -Math.PI && (n = -Math.PI), n > Math.PI && (n = Math.PI), e = (2 * t + Math.sin(2 * t)) / Math.PI, Math.abs(e) > 1 && (e = 1);
  var o = Math.asin(e);
  return i.x = n, i.y = o, i;
}
var lM = ["Mollweide", "moll"];
const hM = {
  init: rM,
  forward: sM,
  inverse: aM,
  names: lM
};
function uM() {
  Math.abs(this.lat1 + this.lat2) < Z || (this.lat2 = this.lat2 || this.lat1, this.temp = this.b / this.a, this.es = 1 - Math.pow(this.temp, 2), this.e = Math.sqrt(this.es), this.e0 = bs(this.es), this.e1 = ks(this.es), this.e2 = ws(this.es), this.e3 = Cs(this.es), this.sinphi = Math.sin(this.lat1), this.cosphi = Math.cos(this.lat1), this.ms1 = bi(this.e, this.sinphi, this.cosphi), this.ml1 = Ie(this.e0, this.e1, this.e2, this.e3, this.lat1), Math.abs(this.lat1 - this.lat2) < Z ? this.ns = this.sinphi : (this.sinphi = Math.sin(this.lat2), this.cosphi = Math.cos(this.lat2), this.ms2 = bi(this.e, this.sinphi, this.cosphi), this.ml2 = Ie(this.e0, this.e1, this.e2, this.e3, this.lat2), this.ns = (this.ms1 - this.ms2) / (this.ml2 - this.ml1)), this.g = this.ml1 + this.ms1 / this.ns, this.ml0 = Ie(this.e0, this.e1, this.e2, this.e3, this.lat0), this.rh = this.a * (this.g - this.ml0));
}
function dM(i) {
  var t = i.x, e = i.y, n;
  if (this.sphere)
    n = this.a * (this.g - e);
  else {
    var o = Ie(this.e0, this.e1, this.e2, this.e3, e);
    n = this.a * (this.g - o);
  }
  var r3 = this.ns * Y(t - this.long0), s = this.x0 + n * Math.sin(r3), a = this.y0 + this.rh - n * Math.cos(r3);
  return i.x = s, i.y = a, i;
}
function cM(i) {
  i.x -= this.x0, i.y = this.rh - i.y + this.y0;
  var t, e, n, o;
  this.ns >= 0 ? (e = Math.sqrt(i.x * i.x + i.y * i.y), t = 1) : (e = -Math.sqrt(i.x * i.x + i.y * i.y), t = -1);
  var r3 = 0;
  if (e !== 0 && (r3 = Math.atan2(t * i.x, t * i.y)), this.sphere)
    return o = Y(this.long0 + r3 / this.ns), n = ur(this.g - e / this.a), i.x = o, i.y = n, i;
  var s = this.g - e / this.a;
  return n = Fa(s, this.e0, this.e1, this.e2, this.e3), o = Y(this.long0 + r3 / this.ns), i.x = o, i.y = n, i;
}
var gM = ["Equidistant_Conic", "eqdc"];
const fM = {
  init: uM,
  forward: dM,
  inverse: cM,
  names: gM
};
function mM() {
  this.R = this.a;
}
function pM(i) {
  var t = i.x, e = i.y, n = Y(t - this.long0), o, r3;
  Math.abs(e) <= Z && (o = this.x0 + this.R * n, r3 = this.y0);
  var s = En(2 * Math.abs(e / Math.PI));
  (Math.abs(n) <= Z || Math.abs(Math.abs(e) - R) <= Z) && (o = this.x0, e >= 0 ? r3 = this.y0 + Math.PI * this.R * Math.tan(0.5 * s) : r3 = this.y0 + Math.PI * this.R * -Math.tan(0.5 * s));
  var a = 0.5 * Math.abs(Math.PI / n - n / Math.PI), l = a * a, h = Math.sin(s), u = Math.cos(s), d = u / (h + u - 1), c = d * d, g = d * (2 / h - 1), f = g * g, m = Math.PI * this.R * (a * (d - f) + Math.sqrt(l * (d - f) * (d - f) - (f + l) * (c - f))) / (f + l);
  n < 0 && (m = -m), o = this.x0 + m;
  var p = l + d;
  return m = Math.PI * this.R * (g * p - a * Math.sqrt((f + l) * (l + 1) - p * p)) / (f + l), e >= 0 ? r3 = this.y0 + m : r3 = this.y0 - m, i.x = o, i.y = r3, i;
}
function vM(i) {
  var t, e, n, o, r3, s, a, l, h, u, d, c, g;
  return i.x -= this.x0, i.y -= this.y0, d = Math.PI * this.R, n = i.x / d, o = i.y / d, r3 = n * n + o * o, s = -Math.abs(o) * (1 + r3), a = s - 2 * o * o + n * n, l = -2 * s + 1 + 2 * o * o + r3 * r3, g = o * o / l + (2 * a * a * a / l / l / l - 9 * s * a / l / l) / 27, h = (s - a * a / 3 / l) / l, u = 2 * Math.sqrt(-h / 3), d = 3 * g / h / u, Math.abs(d) > 1 && (d >= 0 ? d = 1 : d = -1), c = Math.acos(d) / 3, i.y >= 0 ? e = (-u * Math.cos(c + Math.PI / 3) - a / 3 / l) * Math.PI : e = -(-u * Math.cos(c + Math.PI / 3) - a / 3 / l) * Math.PI, Math.abs(n) < Z ? t = this.long0 : t = Y(this.long0 + Math.PI * (r3 - 1 + Math.sqrt(1 + 2 * (n * n - o * o) + r3 * r3)) / 2 / n), i.x = t, i.y = e, i;
}
var _M = ["Van_der_Grinten_I", "VanDerGrinten", "vandg"];
const yM = {
  init: mM,
  forward: pM,
  inverse: vM,
  names: _M
};
function xM() {
  this.sin_p12 = Math.sin(this.lat0), this.cos_p12 = Math.cos(this.lat0);
}
function bM(i) {
  var t = i.x, e = i.y, n = Math.sin(i.y), o = Math.cos(i.y), r3 = Y(t - this.long0), s, a, l, h, u, d, c, g, f, m, p, _, v, y, x, k, w, E, C, S, z, P, N;
  return this.sphere ? Math.abs(this.sin_p12 - 1) <= Z ? (i.x = this.x0 + this.a * (R - e) * Math.sin(r3), i.y = this.y0 - this.a * (R - e) * Math.cos(r3), i) : Math.abs(this.sin_p12 + 1) <= Z ? (i.x = this.x0 + this.a * (R + e) * Math.sin(r3), i.y = this.y0 + this.a * (R + e) * Math.cos(r3), i) : (E = this.sin_p12 * n + this.cos_p12 * o * Math.cos(r3), k = Math.acos(E), w = k ? k / Math.sin(k) : 1, i.x = this.x0 + this.a * w * o * Math.sin(r3), i.y = this.y0 + this.a * w * (this.cos_p12 * n - this.sin_p12 * o * Math.cos(r3)), i) : (s = bs(this.es), a = ks(this.es), l = ws(this.es), h = Cs(this.es), Math.abs(this.sin_p12 - 1) <= Z ? (u = this.a * Ie(s, a, l, h, R), d = this.a * Ie(s, a, l, h, e), i.x = this.x0 + (u - d) * Math.sin(r3), i.y = this.y0 - (u - d) * Math.cos(r3), i) : Math.abs(this.sin_p12 + 1) <= Z ? (u = this.a * Ie(s, a, l, h, R), d = this.a * Ie(s, a, l, h, e), i.x = this.x0 + (u + d) * Math.sin(r3), i.y = this.y0 + (u + d) * Math.cos(r3), i) : (c = n / o, g = nr(this.a, this.e, this.sin_p12), f = nr(this.a, this.e, n), m = Math.atan((1 - this.es) * c + this.es * g * this.sin_p12 / (f * o)), p = Math.atan2(Math.sin(r3), this.cos_p12 * Math.tan(m) - this.sin_p12 * Math.cos(r3)), p === 0 ? C = Math.asin(this.cos_p12 * Math.sin(m) - this.sin_p12 * Math.cos(m)) : Math.abs(Math.abs(p) - Math.PI) <= Z ? C = -Math.asin(this.cos_p12 * Math.sin(m) - this.sin_p12 * Math.cos(m)) : C = Math.asin(Math.sin(r3) * Math.cos(m) / Math.sin(p)), _ = this.e * this.sin_p12 / Math.sqrt(1 - this.es), v = this.e * this.cos_p12 * Math.cos(p) / Math.sqrt(1 - this.es), y = _ * v, x = v * v, S = C * C, z = S * C, P = z * C, N = P * C, k = g * C * (1 - S * x * (1 - x) / 6 + z / 8 * y * (1 - 2 * x) + P / 120 * (x * (4 - 7 * x) - 3 * _ * _ * (1 - 7 * x)) - N / 48 * y), i.x = this.x0 + k * Math.sin(p), i.y = this.y0 + k * Math.cos(p), i));
}
function kM(i) {
  i.x -= this.x0, i.y -= this.y0;
  var t, e, n, o, r3, s, a, l, h, u, d, c, g, f, m, p, _, v, y, x, k, w, E, C;
  return this.sphere ? (t = Math.sqrt(i.x * i.x + i.y * i.y), t > 2 * R * this.a ? void 0 : (e = t / this.a, n = Math.sin(e), o = Math.cos(e), r3 = this.long0, Math.abs(t) <= Z ? s = this.lat0 : (s = En(o * this.sin_p12 + i.y * n * this.cos_p12 / t), a = Math.abs(this.lat0) - R, Math.abs(a) <= Z ? this.lat0 >= 0 ? r3 = Y(this.long0 + Math.atan2(i.x, -i.y)) : r3 = Y(this.long0 - Math.atan2(-i.x, i.y)) : r3 = Y(this.long0 + Math.atan2(i.x * n, t * this.cos_p12 * o - i.y * this.sin_p12 * n))), i.x = r3, i.y = s, i)) : (l = bs(this.es), h = ks(this.es), u = ws(this.es), d = Cs(this.es), Math.abs(this.sin_p12 - 1) <= Z ? (c = this.a * Ie(l, h, u, d, R), t = Math.sqrt(i.x * i.x + i.y * i.y), g = c - t, s = Fa(g / this.a, l, h, u, d), r3 = Y(this.long0 + Math.atan2(i.x, -1 * i.y)), i.x = r3, i.y = s, i) : Math.abs(this.sin_p12 + 1) <= Z ? (c = this.a * Ie(l, h, u, d, R), t = Math.sqrt(i.x * i.x + i.y * i.y), g = t - c, s = Fa(g / this.a, l, h, u, d), r3 = Y(this.long0 + Math.atan2(i.x, i.y)), i.x = r3, i.y = s, i) : (t = Math.sqrt(i.x * i.x + i.y * i.y), p = Math.atan2(i.x, i.y), f = nr(this.a, this.e, this.sin_p12), _ = Math.cos(p), v = this.e * this.cos_p12 * _, y = -v * v / (1 - this.es), x = 3 * this.es * (1 - y) * this.sin_p12 * this.cos_p12 * _ / (1 - this.es), k = t / f, w = k - y * (1 + y) * Math.pow(k, 3) / 6 - x * (1 + 3 * y) * Math.pow(k, 4) / 24, E = 1 - y * w * w / 2 - k * w * w * w / 6, m = Math.asin(this.sin_p12 * Math.cos(w) + this.cos_p12 * Math.sin(w) * _), r3 = Y(this.long0 + Math.asin(Math.sin(p) * Math.sin(w) / Math.cos(m))), C = Math.sin(m), s = Math.atan2((C - this.es * E * this.sin_p12) * Math.tan(m), C * (1 - this.es)), i.x = r3, i.y = s, i));
}
var wM = ["Azimuthal_Equidistant", "aeqd"];
const CM = {
  init: xM,
  forward: bM,
  inverse: kM,
  names: wM
};
function MM() {
  this.sin_p14 = Math.sin(this.lat0), this.cos_p14 = Math.cos(this.lat0);
}
function EM(i) {
  var t, e, n, o, r3, s, a, l, h = i.x, u = i.y;
  return n = Y(h - this.long0), t = Math.sin(u), e = Math.cos(u), o = Math.cos(n), s = this.sin_p14 * t + this.cos_p14 * e * o, r3 = 1, (s > 0 || Math.abs(s) <= Z) && (a = this.a * r3 * e * Math.sin(n), l = this.y0 + this.a * r3 * (this.cos_p14 * t - this.sin_p14 * e * o)), i.x = a, i.y = l, i;
}
function SM(i) {
  var t, e, n, o, r3, s, a;
  return i.x -= this.x0, i.y -= this.y0, t = Math.sqrt(i.x * i.x + i.y * i.y), e = En(t / this.a), n = Math.sin(e), o = Math.cos(e), s = this.long0, Math.abs(t) <= Z ? (a = this.lat0, i.x = s, i.y = a, i) : (a = En(o * this.sin_p14 + i.y * n * this.cos_p14 / t), r3 = Math.abs(this.lat0) - R, Math.abs(r3) <= Z ? (this.lat0 >= 0 ? s = Y(this.long0 + Math.atan2(i.x, -i.y)) : s = Y(this.long0 - Math.atan2(-i.x, i.y)), i.x = s, i.y = a, i) : (s = Y(this.long0 + Math.atan2(i.x * n, t * this.cos_p14 * o - i.y * this.sin_p14 * n)), i.x = s, i.y = a, i));
}
var TM = ["ortho"];
const IM = {
  init: MM,
  forward: EM,
  inverse: SM,
  names: TM
};
var Ut = {
  FRONT: 1,
  RIGHT: 2,
  BACK: 3,
  LEFT: 4,
  TOP: 5,
  BOTTOM: 6
}, Rt = {
  AREA_0: 1,
  AREA_1: 2,
  AREA_2: 3,
  AREA_3: 4
};
function zM() {
  this.x0 = this.x0 || 0, this.y0 = this.y0 || 0, this.lat0 = this.lat0 || 0, this.long0 = this.long0 || 0, this.lat_ts = this.lat_ts || 0, this.title = this.title || "Quadrilateralized Spherical Cube", this.lat0 >= R - zt / 2 ? this.face = Ut.TOP : this.lat0 <= -(R - zt / 2) ? this.face = Ut.BOTTOM : Math.abs(this.long0) <= zt ? this.face = Ut.FRONT : Math.abs(this.long0) <= R + zt ? this.face = this.long0 > 0 ? Ut.RIGHT : Ut.LEFT : this.face = Ut.BACK, this.es !== 0 && (this.one_minus_f = 1 - (this.a - this.b) / this.a, this.one_minus_f_squared = this.one_minus_f * this.one_minus_f);
}
function RM(i) {
  var t = { x: 0, y: 0 }, e, n, o, r3, s, a, l = { value: 0 };
  if (i.x -= this.long0, this.es !== 0 ? e = Math.atan(this.one_minus_f_squared * Math.tan(i.y)) : e = i.y, n = i.x, this.face === Ut.TOP)
    r3 = R - e, n >= zt && n <= R + zt ? (l.value = Rt.AREA_0, o = n - R) : n > R + zt || n <= -(R + zt) ? (l.value = Rt.AREA_1, o = n > 0 ? n - $t : n + $t) : n > -(R + zt) && n <= -zt ? (l.value = Rt.AREA_2, o = n + R) : (l.value = Rt.AREA_3, o = n);
  else if (this.face === Ut.BOTTOM)
    r3 = R + e, n >= zt && n <= R + zt ? (l.value = Rt.AREA_0, o = -n + R) : n < zt && n >= -zt ? (l.value = Rt.AREA_1, o = -n) : n < -zt && n >= -(R + zt) ? (l.value = Rt.AREA_2, o = -n - R) : (l.value = Rt.AREA_3, o = n > 0 ? -n + $t : -n - $t);
  else {
    var h, u, d, c, g, f, m;
    this.face === Ut.RIGHT ? n = Yo(n, +R) : this.face === Ut.BACK ? n = Yo(n, +$t) : this.face === Ut.LEFT && (n = Yo(n, -R)), c = Math.sin(e), g = Math.cos(e), f = Math.sin(n), m = Math.cos(n), h = g * m, u = g * f, d = c, this.face === Ut.FRONT ? (r3 = Math.acos(h), o = Js(r3, d, u, l)) : this.face === Ut.RIGHT ? (r3 = Math.acos(u), o = Js(r3, d, -h, l)) : this.face === Ut.BACK ? (r3 = Math.acos(-h), o = Js(r3, d, -u, l)) : this.face === Ut.LEFT ? (r3 = Math.acos(-u), o = Js(r3, d, h, l)) : (r3 = o = 0, l.value = Rt.AREA_0);
  }
  return a = Math.atan(12 / $t * (o + Math.acos(Math.sin(o) * Math.cos(zt)) - R)), s = Math.sqrt((1 - Math.cos(r3)) / (Math.cos(a) * Math.cos(a)) / (1 - Math.cos(Math.atan(1 / Math.cos(o))))), l.value === Rt.AREA_1 ? a += R : l.value === Rt.AREA_2 ? a += $t : l.value === Rt.AREA_3 && (a += 1.5 * $t), t.x = s * Math.cos(a), t.y = s * Math.sin(a), t.x = t.x * this.a + this.x0, t.y = t.y * this.a + this.y0, i.x = t.x, i.y = t.y, i;
}
function AM(i) {
  var t = { lam: 0, phi: 0 }, e, n, o, r3, s, a, l, h, u, d = { value: 0 };
  if (i.x = (i.x - this.x0) / this.a, i.y = (i.y - this.y0) / this.a, n = Math.atan(Math.sqrt(i.x * i.x + i.y * i.y)), e = Math.atan2(i.y, i.x), i.x >= 0 && i.x >= Math.abs(i.y) ? d.value = Rt.AREA_0 : i.y >= 0 && i.y >= Math.abs(i.x) ? (d.value = Rt.AREA_1, e -= R) : i.x < 0 && -i.x >= Math.abs(i.y) ? (d.value = Rt.AREA_2, e = e < 0 ? e + $t : e - $t) : (d.value = Rt.AREA_3, e += R), u = $t / 12 * Math.tan(e), s = Math.sin(u) / (Math.cos(u) - 1 / Math.sqrt(2)), a = Math.atan(s), o = Math.cos(e), r3 = Math.tan(n), l = 1 - o * o * r3 * r3 * (1 - Math.cos(Math.atan(1 / Math.cos(a)))), l < -1 ? l = -1 : l > 1 && (l = 1), this.face === Ut.TOP)
    h = Math.acos(l), t.phi = R - h, d.value === Rt.AREA_0 ? t.lam = a + R : d.value === Rt.AREA_1 ? t.lam = a < 0 ? a + $t : a - $t : d.value === Rt.AREA_2 ? t.lam = a - R : t.lam = a;
  else if (this.face === Ut.BOTTOM)
    h = Math.acos(l), t.phi = h - R, d.value === Rt.AREA_0 ? t.lam = -a + R : d.value === Rt.AREA_1 ? t.lam = -a : d.value === Rt.AREA_2 ? t.lam = -a - R : t.lam = a < 0 ? -a - $t : -a + $t;
  else {
    var c, g, f;
    c = l, u = c * c, u >= 1 ? f = 0 : f = Math.sqrt(1 - u) * Math.sin(a), u += f * f, u >= 1 ? g = 0 : g = Math.sqrt(1 - u), d.value === Rt.AREA_1 ? (u = g, g = -f, f = u) : d.value === Rt.AREA_2 ? (g = -g, f = -f) : d.value === Rt.AREA_3 && (u = g, g = f, f = -u), this.face === Ut.RIGHT ? (u = c, c = -g, g = u) : this.face === Ut.BACK ? (c = -c, g = -g) : this.face === Ut.LEFT && (u = c, c = g, g = -u), t.phi = Math.acos(-f) - R, t.lam = Math.atan2(g, c), this.face === Ut.RIGHT ? t.lam = Yo(t.lam, -R) : this.face === Ut.BACK ? t.lam = Yo(t.lam, -$t) : this.face === Ut.LEFT && (t.lam = Yo(t.lam, +R));
  }
  if (this.es !== 0) {
    var m, p, _;
    m = t.phi < 0 ? 1 : 0, p = Math.tan(t.phi), _ = this.b / Math.sqrt(p * p + this.one_minus_f_squared), t.phi = Math.atan(Math.sqrt(this.a * this.a - _ * _) / (this.one_minus_f * _)), m && (t.phi = -t.phi);
  }
  return t.lam += this.long0, i.x = t.lam, i.y = t.phi, i;
}
function Js(i, t, e, n) {
  var o;
  return i < Z ? (n.value = Rt.AREA_0, o = 0) : (o = Math.atan2(t, e), Math.abs(o) <= zt ? n.value = Rt.AREA_0 : o > zt && o <= R + zt ? (n.value = Rt.AREA_1, o -= R) : o > R + zt || o <= -(R + zt) ? (n.value = Rt.AREA_2, o = o >= 0 ? o - $t : o + $t) : (n.value = Rt.AREA_3, o += R)), o;
}
function Yo(i, t) {
  var e = i + t;
  return e < -$t ? e += ss : e > +$t && (e -= ss), e;
}
var PM = ["Quadrilateralized Spherical Cube", "Quadrilateralized_Spherical_Cube", "qsc"];
const DM = {
  init: zM,
  forward: RM,
  inverse: AM,
  names: PM
};
var Kh = [
  [1, 22199e-21, -715515e-10, 31103e-10],
  [0.9986, -482243e-9, -24897e-9, -13309e-10],
  [0.9954, -83103e-8, -448605e-10, -986701e-12],
  [0.99, -135364e-8, -59661e-9, 36777e-10],
  [0.9822, -167442e-8, -449547e-11, -572411e-11],
  [0.973, -214868e-8, -903571e-10, 18736e-12],
  [0.96, -305085e-8, -900761e-10, 164917e-11],
  [0.9427, -382792e-8, -653386e-10, -26154e-10],
  [0.9216, -467746e-8, -10457e-8, 481243e-11],
  [0.8962, -536223e-8, -323831e-10, -543432e-11],
  [0.8679, -609363e-8, -113898e-9, 332484e-11],
  [0.835, -698325e-8, -640253e-10, 934959e-12],
  [0.7986, -755338e-8, -500009e-10, 935324e-12],
  [0.7597, -798324e-8, -35971e-9, -227626e-11],
  [0.7186, -851367e-8, -701149e-10, -86303e-10],
  [0.6732, -986209e-8, -199569e-9, 191974e-10],
  [0.6213, -0.010418, 883923e-10, 624051e-11],
  [0.5722, -906601e-8, 182e-6, 624051e-11],
  [0.5322, -677797e-8, 275608e-9, 624051e-11]
], zr = [
  [-520417e-23, 0.0124, 121431e-23, -845284e-16],
  [0.062, 0.0124, -126793e-14, 422642e-15],
  [0.124, 0.0124, 507171e-14, -160604e-14],
  [0.186, 0.0123999, -190189e-13, 600152e-14],
  [0.248, 0.0124002, 710039e-13, -224e-10],
  [0.31, 0.0123992, -264997e-12, 835986e-13],
  [0.372, 0.0124029, 988983e-12, -311994e-12],
  [0.434, 0.0123893, -369093e-11, -435621e-12],
  [0.4958, 0.0123198, -102252e-10, -345523e-12],
  [0.5571, 0.0121916, -154081e-10, -582288e-12],
  [0.6176, 0.0119938, -241424e-10, -525327e-12],
  [0.6769, 0.011713, -320223e-10, -516405e-12],
  [0.7346, 0.0113541, -397684e-10, -609052e-12],
  [0.7903, 0.0109107, -489042e-10, -104739e-11],
  [0.8435, 0.0103431, -64615e-9, -140374e-14],
  [0.8936, 969686e-8, -64636e-9, -8547e-9],
  [0.9394, 840947e-8, -192841e-9, -42106e-10],
  [0.9761, 616527e-8, -256e-6, -42106e-10],
  [1, 328947e-8, -319159e-9, -42106e-10]
], xp = 0.8487, bp = 1.3523, kp = mi / 5, LM = 1 / kp, Oo = 18, Na = function(i, t) {
  return i[0] + t * (i[1] + t * (i[2] + t * i[3]));
}, OM = function(i, t) {
  return i[1] + t * (2 * i[2] + t * 3 * i[3]);
};
function FM(i, t, e, n) {
  for (var o = t; n; --n) {
    var r3 = i(o);
    if (o -= r3, Math.abs(r3) < e)
      break;
  }
  return o;
}
function NM() {
  this.x0 = this.x0 || 0, this.y0 = this.y0 || 0, this.long0 = this.long0 || 0, this.es = 0, this.title = this.title || "Robinson";
}
function GM(i) {
  var t = Y(i.x - this.long0), e = Math.abs(i.y), n = Math.floor(e * kp);
  n < 0 ? n = 0 : n >= Oo && (n = Oo - 1), e = mi * (e - LM * n);
  var o = {
    x: Na(Kh[n], e) * t,
    y: Na(zr[n], e)
  };
  return i.y < 0 && (o.y = -o.y), o.x = o.x * this.a * xp + this.x0, o.y = o.y * this.a * bp + this.y0, o;
}
function jM(i) {
  var t = {
    x: (i.x - this.x0) / (this.a * xp),
    y: Math.abs(i.y - this.y0) / (this.a * bp)
  };
  if (t.y >= 1)
    t.x /= Kh[Oo][0], t.y = i.y < 0 ? -R : R;
  else {
    var e = Math.floor(t.y * Oo);
    for (e < 0 ? e = 0 : e >= Oo && (e = Oo - 1); ; )
      if (zr[e][0] > t.y)
        --e;
      else if (zr[e + 1][0] <= t.y)
        ++e;
      else
        break;
    var n = zr[e], o = 5 * (t.y - n[0]) / (zr[e + 1][0] - n[0]);
    o = FM(function(r3) {
      return (Na(n, r3) - t.y) / OM(n, r3);
    }, o, Z, 100), t.x /= Na(Kh[e], o), t.y = (5 * e + o) * de, i.y < 0 && (t.y = -t.y);
  }
  return t.x = Y(t.x + this.long0), t;
}
var BM = ["Robinson", "robin"];
const WM = {
  init: NM,
  forward: GM,
  inverse: jM,
  names: BM
};
function ZM() {
  this.name = "geocent";
}
function YM(i) {
  var t = ap(i, this.es, this.a);
  return t;
}
function XM(i) {
  var t = lp(i, this.es, this.a, this.b);
  return t;
}
var UM = ["Geocentric", "geocentric", "geocent", "Geocent"];
const VM = {
  init: ZM,
  forward: YM,
  inverse: XM,
  names: UM
};
var ve = {
  N_POLE: 0,
  S_POLE: 1,
  EQUIT: 2,
  OBLIQ: 3
}, Mr = {
  h: { def: 1e5, num: true },
  azi: { def: 0, num: true, degrees: true },
  tilt: { def: 0, num: true, degrees: true },
  long0: { def: 0, num: true },
  lat0: { def: 0, num: true }
};
function qM() {
  if (Object.keys(Mr).forEach(function(e) {
    if (typeof this[e] > "u")
      this[e] = Mr[e].def;
    else {
      if (Mr[e].num && isNaN(this[e]))
        throw new Error("Invalid parameter value, must be numeric " + e + " = " + this[e]);
      Mr[e].num && (this[e] = parseFloat(this[e]));
    }
    Mr[e].degrees && (this[e] = this[e] * de);
  }.bind(this)), Math.abs(Math.abs(this.lat0) - R) < Z ? this.mode = this.lat0 < 0 ? ve.S_POLE : ve.N_POLE : Math.abs(this.lat0) < Z ? this.mode = ve.EQUIT : (this.mode = ve.OBLIQ, this.sinph0 = Math.sin(this.lat0), this.cosph0 = Math.cos(this.lat0)), this.pn1 = this.h / this.a, this.pn1 <= 0 || this.pn1 > 1e10)
    throw new Error("Invalid height");
  this.p = 1 + this.pn1, this.rp = 1 / this.p, this.h1 = 1 / this.pn1, this.pfact = (this.p + 1) * this.h1, this.es = 0;
  var i = this.tilt, t = this.azi;
  this.cg = Math.cos(t), this.sg = Math.sin(t), this.cw = Math.cos(i), this.sw = Math.sin(i);
}
function $M(i) {
  i.x -= this.long0;
  var t = Math.sin(i.y), e = Math.cos(i.y), n = Math.cos(i.x), o, r3;
  switch (this.mode) {
    case ve.OBLIQ:
      r3 = this.sinph0 * t + this.cosph0 * e * n;
      break;
    case ve.EQUIT:
      r3 = e * n;
      break;
    case ve.S_POLE:
      r3 = -t;
      break;
    case ve.N_POLE:
      r3 = t;
      break;
  }
  switch (r3 = this.pn1 / (this.p - r3), o = r3 * e * Math.sin(i.x), this.mode) {
    case ve.OBLIQ:
      r3 *= this.cosph0 * t - this.sinph0 * e * n;
      break;
    case ve.EQUIT:
      r3 *= t;
      break;
    case ve.N_POLE:
      r3 *= -(e * n);
      break;
    case ve.S_POLE:
      r3 *= e * n;
      break;
  }
  var s, a;
  return s = r3 * this.cg + o * this.sg, a = 1 / (s * this.sw * this.h1 + this.cw), o = (o * this.cg - r3 * this.sg) * this.cw * a, r3 = s * a, i.x = o * this.a, i.y = r3 * this.a, i;
}
function HM(i) {
  i.x /= this.a, i.y /= this.a;
  var t = { x: i.x, y: i.y }, e, n, o;
  o = 1 / (this.pn1 - i.y * this.sw), e = this.pn1 * i.x * o, n = this.pn1 * i.y * this.cw * o, i.x = e * this.cg + n * this.sg, i.y = n * this.cg - e * this.sg;
  var r3 = ni(i.x, i.y);
  if (Math.abs(r3) < Z)
    t.x = 0, t.y = i.y;
  else {
    var s, a;
    switch (a = 1 - r3 * r3 * this.pfact, a = (this.p - Math.sqrt(a)) / (this.pn1 / r3 + r3 / this.pn1), s = Math.sqrt(1 - a * a), this.mode) {
      case ve.OBLIQ:
        t.y = Math.asin(s * this.sinph0 + i.y * a * this.cosph0 / r3), i.y = (s - this.sinph0 * Math.sin(t.y)) * r3, i.x *= a * this.cosph0;
        break;
      case ve.EQUIT:
        t.y = Math.asin(i.y * a / r3), i.y = s * r3, i.x *= a;
        break;
      case ve.N_POLE:
        t.y = Math.asin(s), i.y = -i.y;
        break;
      case ve.S_POLE:
        t.y = -Math.asin(s);
        break;
    }
    t.x = Math.atan2(i.x, i.y);
  }
  return i.x = t.x + this.long0, i.y = t.y, i;
}
var KM = ["Tilted_Perspective", "tpers"];
const JM = {
  init: qM,
  forward: $M,
  inverse: HM,
  names: KM
};
function QM() {
  if (this.flip_axis = this.sweep === "x" ? 1 : 0, this.h = Number(this.h), this.radius_g_1 = this.h / this.a, this.radius_g_1 <= 0 || this.radius_g_1 > 1e10)
    throw new Error();
  if (this.radius_g = 1 + this.radius_g_1, this.C = this.radius_g * this.radius_g - 1, this.es !== 0) {
    var i = 1 - this.es, t = 1 / i;
    this.radius_p = Math.sqrt(i), this.radius_p2 = i, this.radius_p_inv2 = t, this.shape = "ellipse";
  } else
    this.radius_p = 1, this.radius_p2 = 1, this.radius_p_inv2 = 1, this.shape = "sphere";
  this.title || (this.title = "Geostationary Satellite View");
}
function tE(i) {
  var t = i.x, e = i.y, n, o, r3, s;
  if (t = t - this.long0, this.shape === "ellipse") {
    e = Math.atan(this.radius_p2 * Math.tan(e));
    var a = this.radius_p / ni(this.radius_p * Math.cos(e), Math.sin(e));
    if (o = a * Math.cos(t) * Math.cos(e), r3 = a * Math.sin(t) * Math.cos(e), s = a * Math.sin(e), (this.radius_g - o) * o - r3 * r3 - s * s * this.radius_p_inv2 < 0)
      return i.x = Number.NaN, i.y = Number.NaN, i;
    n = this.radius_g - o, this.flip_axis ? (i.x = this.radius_g_1 * Math.atan(r3 / ni(s, n)), i.y = this.radius_g_1 * Math.atan(s / n)) : (i.x = this.radius_g_1 * Math.atan(r3 / n), i.y = this.radius_g_1 * Math.atan(s / ni(r3, n)));
  } else
    this.shape === "sphere" && (n = Math.cos(e), o = Math.cos(t) * n, r3 = Math.sin(t) * n, s = Math.sin(e), n = this.radius_g - o, this.flip_axis ? (i.x = this.radius_g_1 * Math.atan(r3 / ni(s, n)), i.y = this.radius_g_1 * Math.atan(s / n)) : (i.x = this.radius_g_1 * Math.atan(r3 / n), i.y = this.radius_g_1 * Math.atan(s / ni(r3, n))));
  return i.x = i.x * this.a, i.y = i.y * this.a, i;
}
function eE(i) {
  var t = -1, e = 0, n = 0, o, r3, s, a;
  if (i.x = i.x / this.a, i.y = i.y / this.a, this.shape === "ellipse") {
    this.flip_axis ? (n = Math.tan(i.y / this.radius_g_1), e = Math.tan(i.x / this.radius_g_1) * ni(1, n)) : (e = Math.tan(i.x / this.radius_g_1), n = Math.tan(i.y / this.radius_g_1) * ni(1, e));
    var l = n / this.radius_p;
    if (o = e * e + l * l + t * t, r3 = 2 * this.radius_g * t, s = r3 * r3 - 4 * o * this.C, s < 0)
      return i.x = Number.NaN, i.y = Number.NaN, i;
    a = (-r3 - Math.sqrt(s)) / (2 * o), t = this.radius_g + a * t, e *= a, n *= a, i.x = Math.atan2(e, t), i.y = Math.atan(n * Math.cos(i.x) / t), i.y = Math.atan(this.radius_p_inv2 * Math.tan(i.y));
  } else if (this.shape === "sphere") {
    if (this.flip_axis ? (n = Math.tan(i.y / this.radius_g_1), e = Math.tan(i.x / this.radius_g_1) * Math.sqrt(1 + n * n)) : (e = Math.tan(i.x / this.radius_g_1), n = Math.tan(i.y / this.radius_g_1) * Math.sqrt(1 + e * e)), o = e * e + n * n + t * t, r3 = 2 * this.radius_g * t, s = r3 * r3 - 4 * o * this.C, s < 0)
      return i.x = Number.NaN, i.y = Number.NaN, i;
    a = (-r3 - Math.sqrt(s)) / (2 * o), t = this.radius_g + a * t, e *= a, n *= a, i.x = Math.atan2(e, t), i.y = Math.atan(n * Math.cos(i.x) / t);
  }
  return i.x = i.x + this.long0, i;
}
var iE = ["Geostationary Satellite View", "Geostationary_Satellite", "geos"];
const nE = {
  init: QM,
  forward: tE,
  inverse: eE,
  names: iE
};
function oE(i) {
  i.Proj.projections.add(na), i.Proj.projections.add(oa), i.Proj.projections.add(u5), i.Proj.projections.add(x5), i.Proj.projections.add(E5), i.Proj.projections.add(R5), i.Proj.projections.add(F5), i.Proj.projections.add(W5), i.Proj.projections.add(V5), i.Proj.projections.add(J5), i.Proj.projections.add(mC), i.Proj.projections.add(bC), i.Proj.projections.add(EC), i.Proj.projections.add(AC), i.Proj.projections.add(FC), i.Proj.projections.add(WC), i.Proj.projections.add(VC), i.Proj.projections.add(JC), i.Proj.projections.add(oM), i.Proj.projections.add(hM), i.Proj.projections.add(fM), i.Proj.projections.add(yM), i.Proj.projections.add(CM), i.Proj.projections.add(IM), i.Proj.projections.add(DM), i.Proj.projections.add(WM), i.Proj.projections.add(VM), i.Proj.projections.add(JM), i.Proj.projections.add(nE);
}
Ne.defaultDatum = "WGS84";
Ne.Proj = _i;
Ne.WGS84 = new Ne.Proj("WGS84");
Ne.Point = ir;
Ne.toPoint = hp;
Ne.defs = Ce;
Ne.nadgrid = c2;
Ne.transform = Oa;
Ne.mgrs = T2;
Ne.version = "__VERSION__";
oE(Ne);
Ne.defs(
  "EPSG:27700",
  "+proj=tmerc +lat_0=49 +lon_0=-2 +k=0.9996012717 +x_0=400000 +y_0=-100000 +ellps=airy +datum=OSGB36 +units=m +no_defs"
);
Ew(Ne);
const Gg = Bt("EPSG:27700"), rE = `:host{display:block;width:650px;height:650px;position:relative}.map{height:100%;opacity:0;transition:opacity .25s;overflow:hidden;border:#000000 solid .15em}.map:focus{outline:#ffdd00 solid .25em}.ol-control button{border-radius:0!important;background-color:#2c2c2c!important;cursor:pointer;min-width:44px;min-height:44px;font-size:1.75rem}.ol-control button:hover{background-color:#2c2c2cd9!important}.reset-control{top:114px;left:.5em}.reset-control img{width:30px;height:auto}.north-arrow-control img{width:44px;height:auto}.north-arrow-control{top:.5em;right:.5em;border-radius:0!important;background-color:none!important}#area{position:absolute;bottom:0;left:0;z-index:100;background:white}
`;
var jg = Object.freeze, wp = Object.defineProperty, sE = Object.getOwnPropertyDescriptor, xt = (i, t, e, n) => {
  for (var o = n > 1 ? void 0 : n ? sE(t, e) : t, r3 = i.length - 1, s; r3 >= 0; r3--)
    (s = i[r3]) && (o = (n ? s(t, e, o) : s(o)) || o);
  return n && o && wp(t, e, o), o;
}, aE = (i, t) => jg(wp(i, "raw", { value: jg(t || i.slice()) })), Bg;
let gt = class extends Un {
  constructor() {
    super(), this.id = "map", this.latitude = 51.507351, this.longitude = -0.127758, this.projection = "EPSG:4326", this.zoom = 10, this.minZoom = 7, this.maxZoom = 22, this.drawMode = false, this.drawGeojsonData = {
      type: "Feature",
      geometry: {}
    }, this.drawGeojsonDataBuffer = 100, this.drawPointer = "crosshair", this.showFeaturesAtPoint = false, this.clickFeatures = false, this.featureColor = "#0000ff", this.featureFill = false, this.featureBorderNone = false, this.featureBuffer = 40, this.showMarker = false, this.markerImage = "circle", this.markerLatitude = this.latitude, this.markerLongitude = this.longitude, this.markerColor = "#000000", this.geojsonData = {
      type: "FeatureCollection",
      features: []
    }, this.geojsonColor = "#ff0000", this.geojsonFill = false, this.geojsonBuffer = 12, this.disableVectorTiles = false, this.osVectorTilesApiKey = "a69TM3Yjy4YUiAXFAyI6KyadBPrwYqex", this.osFeaturesApiKey = "a69TM3Yjy4YUiAXFAyI6KyadBPrwYqex", this.osCopyright = `\xA9 Crown copyright and database rights ${new Date().getFullYear()} OS (0)100024857`, this.hideResetControl = false, this.resetControlImage = "unicode", this.staticMode = false, this.areaUnit = "m2", this.showScale = false, this.useScaleBarStyle = false, this.showNorthArrow = false, this.dispatch = (i, t) => this.dispatchEvent(
      new CustomEvent(i, {
        detail: t
      })
    );
  }
  firstUpdated() {
    var p;
    const i = this.renderRoot.querySelector(`#${this.id}`), t = !this.disableVectorTiles && Boolean(this.osVectorTilesApiKey), e = Cw(
      this.osCopyright,
      this.osVectorTilesApiKey
    ), n = Mw(
      this.osCopyright,
      this.osVectorTilesApiKey
    ), o = this.projection === "EPSG:27700" && Boolean(Gg) ? Gg : this.projection, r3 = ha(
      [this.longitude, this.latitude],
      o,
      "EPSG:3857"
    ), s = new W_({
      target: i,
      layers: [t ? n : e],
      view: new Ki({
        projection: "EPSG:3857",
        extent: U0(
          [-10.76418, 49.528423, 1.9134116, 61.331151],
          "EPSG:4326",
          "EPSG:3857"
        ),
        minZoom: this.minZoom,
        maxZoom: this.maxZoom,
        center: r3,
        zoom: this.zoom,
        enableRotation: false
      }),
      controls: Df({
        attribution: true,
        zoom: !this.staticMode,
        rotate: false
      }),
      interactions: jf({
        doubleClickZoom: !this.staticMode,
        dragPan: !this.staticMode,
        mouseWheelZoom: !this.staticMode
      })
    });
    this.map = s, window.olMap = { VITE_APP_OS_VECTOR_TILES_API_KEY: "a69TM3Yjy4YUiAXFAyI6KyadBPrwYqex", VITE_APP_OS_FEATURES_API_KEY: "a69TM3Yjy4YUiAXFAyI6KyadBPrwYqex", VITE_APP_OS_PLACES_API_KEY: "a69TM3Yjy4YUiAXFAyI6KyadBPrwYqex", BASE_URL: "/", MODE: "production", DEV: false, PROD: true }.VITEST ? this.map : void 0;
    const a = Yk(this.drawPointer), l = Xk(this.drawPointer);
    this.showScale && s.addControl(Ok(this.useScaleBarStyle)), this.showNorthArrow && s.addControl(Fk());
    const h = () => {
      this.showFeaturesAtPoint ? Cr(s, ci, this.featureBuffer) : d.getFeatures().length > 0 ? Cr(s, d, this.geojsonBuffer) : (s.getView().setCenter(r3), s.getView().setZoom(this.zoom)), this.drawMode && (Ai.clear(), this.dispatch("geojsonChange", {}), this.dispatch(
        "areaChange",
        `0 ${this.areaUnit === "m2" ? "m\xB2" : this.areaUnit}`
      ), s.addInteraction(a), s.addInteraction(lg));
    };
    this.hideResetControl || s.addControl(Nk(h, this.resetControlImage));
    const u = (p = this.renderRoot) == null ? void 0 : p.querySelectorAll(".ol-control button");
    u == null || u.forEach(
      (_) => _.setAttribute("aria-label", _.getAttribute("title") || "")
    ), s.on("pointerdrag", () => {
      s.getViewport().style.cursor = "grabbing";
    }), s.on("pointermove", () => {
      s.getViewport().style.cursor = "grab";
    });
    const d = new pn();
    if (this.geojsonData.type === "FeatureCollection") {
      let _ = new Bn().readFeatures(this.geojsonData, {
        featureProjection: "EPSG:3857"
      });
      d.addFeatures(_);
    } else if (this.geojsonData.type === "Feature") {
      let _ = new Bn().readFeature(this.geojsonData, {
        featureProjection: "EPSG:3857"
      });
      d.addFeature(_);
    }
    const c = new io({
      source: d,
      style: new ce({
        stroke: new Te({
          color: this.geojsonColor,
          width: 3
        }),
        fill: new _e({
          color: this.geojsonFill ? Pa(this.geojsonColor, 0.2) : Pa(this.geojsonColor, 0)
        })
      })
    });
    if (s.addLayer(c), d.getFeatures().length > 0) {
      Cr(s, d, this.geojsonBuffer);
      const _ = d.getFeatures()[0].getGeometry();
      _ && this.dispatch("geojsonDataArea", lh(_, this.areaUnit));
    }
    if (this.drawMode) {
      Ai.clear();
      const _ = Object.keys(this.drawGeojsonData.geometry).length > 0;
      if (_) {
        let v = new Bn().readFeature(this.drawGeojsonData, {
          featureProjection: "EPSG:3857"
        });
        Ai.addFeature(v), Cr(s, Ai, this.drawGeojsonDataBuffer);
      }
      s.addLayer(ag), _ || s.addInteraction(a), s.addInteraction(l), s.addInteraction(lg), Ai.on("change", () => {
        var y;
        const v = Ai.getFeatures();
        if (v.length > 0) {
          const x = (y = Rk(v)) == null ? void 0 : y.getGeometry();
          this.dispatch(
            "geojsonChange",
            new Bn().writeFeaturesObject(v, {
              featureProjection: "EPSG:3857"
            })
          ), x && this.dispatch(
            "areaChange",
            lh(x, this.areaUnit)
          ), s.removeInteraction(a);
        }
      });
    }
    if (this.drawMode && Boolean(this.osVectorTilesApiKey) && !this.disableVectorTiles) {
      s.addLayer(Gk), ag.setZIndex(1001);
      const v = () => {
        ll.clear();
        const y = s.getView().getZoom();
        if (y && y >= 20) {
          const x = s.getView().calculateExtent(s.getSize());
          jk(n, x);
        }
      };
      s.on("loadend", v), s.on("moveend", () => {
        var x;
        ((x = n.getSource()) == null ? void 0 : x.getState()) === "ready" && setTimeout(v, 200);
      });
    }
    if (this.showFeaturesAtPoint && Boolean(this.osFeaturesApiKey)) {
      xg(r3, this.osFeaturesApiKey, false), this.clickFeatures && s.on("singleclick", (v) => {
        xg(v.coordinate, this.osFeaturesApiKey, true);
      });
      const _ = yw(
        this.featureColor,
        this.featureFill,
        this.featureBorderNone
      );
      s.addLayer(_), ci.on("change", () => {
        if (ci.getState() === "ready" && ci.getFeatures().length > 0) {
          Cr(s, ci, this.featureBuffer), this.dispatch(
            "featuresGeojsonChange",
            new Bn().writeFeaturesObject(ci.getFeatures(), {
              featureProjection: "EPSG:3857"
            })
          );
          const v = ci.getFeatures()[0].getGeometry();
          v && this.dispatch(
            "featuresAreaChange",
            lh(v, this.areaUnit)
          );
        }
      });
    }
    const g = new go({
      radius: 9,
      fill: new _e({ color: this.markerColor })
    }), f = new Qa({ src: Uk, scale: 0.5 }), m = () => {
      switch (this.markerImage) {
        case "circle":
          return g;
        case "pin":
          return f;
      }
    };
    if (this.showMarker) {
      const _ = new si(
        ha(
          [this.markerLongitude, this.markerLatitude],
          o,
          "EPSG:3857"
        )
      ), v = new io({
        source: new pn({
          features: [new Pi(_)]
        }),
        style: new ce({ image: m() })
      });
      s.addLayer(v);
    }
    setTimeout(() => {
      window.dispatchEvent(new Event("resize")), i.style.opacity = "1", this.dispatch("ready");
    }, 500);
  }
  render() {
    return Qi(Bg || (Bg = aE([`<script src="https://cdn.polyfill.io/v2/polyfill.min.js"><\/script>
      <link rel="stylesheet" href="https://cdn.skypack.dev/ol@^6.6.1/ol.css" />
      <div id="`, '" class="map" tabindex="0" />'])), this.id);
  }
  disconnectedCallback() {
    var i;
    super.disconnectedCallback(), (i = this.map) == null || i.dispose();
  }
};
gt.styles = Ga(rE);
xt([
  K({ type: String })
], gt.prototype, "id", 2);
xt([
  K({ type: Number })
], gt.prototype, "latitude", 2);
xt([
  K({ type: Number })
], gt.prototype, "longitude", 2);
xt([
  K({ type: String })
], gt.prototype, "projection", 2);
xt([
  K({ type: Number })
], gt.prototype, "zoom", 2);
xt([
  K({ type: Number })
], gt.prototype, "minZoom", 2);
xt([
  K({ type: Number })
], gt.prototype, "maxZoom", 2);
xt([
  K({ type: Boolean })
], gt.prototype, "drawMode", 2);
xt([
  K({ type: Object })
], gt.prototype, "drawGeojsonData", 2);
xt([
  K({ type: Number })
], gt.prototype, "drawGeojsonDataBuffer", 2);
xt([
  K({ type: String })
], gt.prototype, "drawPointer", 2);
xt([
  K({ type: Boolean })
], gt.prototype, "showFeaturesAtPoint", 2);
xt([
  K({ type: Boolean })
], gt.prototype, "clickFeatures", 2);
xt([
  K({ type: String })
], gt.prototype, "featureColor", 2);
xt([
  K({ type: Boolean })
], gt.prototype, "featureFill", 2);
xt([
  K({ type: Boolean })
], gt.prototype, "featureBorderNone", 2);
xt([
  K({ type: Number })
], gt.prototype, "featureBuffer", 2);
xt([
  K({ type: Boolean })
], gt.prototype, "showMarker", 2);
xt([
  K({ type: String })
], gt.prototype, "markerImage", 2);
xt([
  K({ type: Number })
], gt.prototype, "markerLatitude", 2);
xt([
  K({ type: Number })
], gt.prototype, "markerLongitude", 2);
xt([
  K({ type: String })
], gt.prototype, "markerColor", 2);
xt([
  K({ type: Object })
], gt.prototype, "geojsonData", 2);
xt([
  K({ type: String })
], gt.prototype, "geojsonColor", 2);
xt([
  K({ type: Boolean })
], gt.prototype, "geojsonFill", 2);
xt([
  K({ type: Number })
], gt.prototype, "geojsonBuffer", 2);
xt([
  K({ type: Boolean })
], gt.prototype, "disableVectorTiles", 2);
xt([
  K({ type: String })
], gt.prototype, "osVectorTilesApiKey", 2);
xt([
  K({ type: String })
], gt.prototype, "osFeaturesApiKey", 2);
xt([
  K({ type: String })
], gt.prototype, "osCopyright", 2);
xt([
  K({ type: Boolean })
], gt.prototype, "hideResetControl", 2);
xt([
  K({ type: String })
], gt.prototype, "resetControlImage", 2);
xt([
  K({ type: Boolean })
], gt.prototype, "staticMode", 2);
xt([
  K({ type: String })
], gt.prototype, "areaUnit", 2);
xt([
  K({ type: Boolean })
], gt.prototype, "showScale", 2);
xt([
  K({ type: Boolean })
], gt.prototype, "useScaleBarStyle", 2);
xt([
  K({ type: Boolean })
], gt.prototype, "showNorthArrow", 2);
gt = xt([
  iu("my-map")
], gt);
var Cp = { exports: {} };
(function(i, t) {
  (function(n, o) {
    i.exports = o();
  })(window, function() {
    return function(e) {
      var n = {};
      function o(r3) {
        if (n[r3])
          return n[r3].exports;
        var s = n[r3] = { i: r3, l: false, exports: {} };
        return e[r3].call(s.exports, s, s.exports, o), s.l = true, s.exports;
      }
      return o.m = e, o.c = n, o.d = function(r3, s, a) {
        o.o(r3, s) || Object.defineProperty(r3, s, { enumerable: true, get: a });
      }, o.r = function(r3) {
        typeof Symbol < "u" && Symbol.toStringTag && Object.defineProperty(r3, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(r3, "__esModule", { value: true });
      }, o.t = function(r3, s) {
        if (1 & s && (r3 = o(r3)), 8 & s || 4 & s && typeof r3 == "object" && r3 && r3.__esModule)
          return r3;
        var a = /* @__PURE__ */ Object.create(null);
        if (o.r(a), Object.defineProperty(a, "default", { enumerable: true, value: r3 }), 2 & s && typeof r3 != "string")
          for (var l in r3)
            o.d(a, l, function(h) {
              return r3[h];
            }.bind(null, l));
        return a;
      }, o.n = function(r3) {
        var s = r3 && r3.__esModule ? function() {
          return r3.default;
        } : function() {
          return r3;
        };
        return o.d(s, "a", s), s;
      }, o.o = function(r3, s) {
        return Object.prototype.hasOwnProperty.call(r3, s);
      }, o.p = "/", o(o.s = 37);
    }([function(e, n, o) {
      var r3 = o(1), s = o(6), a = o(7), l = o(16), h = o(18), u = "prototype", d = function(c, g, f) {
        var m, p, _, v, y = c & d.F, x = c & d.G, k = c & d.S, w = c & d.P, E = c & d.B, C = x ? r3 : k ? r3[g] || (r3[g] = {}) : (r3[g] || {})[u], S = x ? s : s[g] || (s[g] = {}), z = S[u] || (S[u] = {});
        for (m in x && (f = g), f)
          _ = ((p = !y && C && C[m] !== void 0) ? C : f)[m], v = E && p ? h(_, r3) : w && typeof _ == "function" ? h(Function.call, _) : _, C && l(C, m, _, c & d.U), S[m] != _ && a(S, m, v), w && z[m] != _ && (z[m] = _);
      };
      r3.core = s, d.F = 1, d.G = 2, d.S = 4, d.P = 8, d.B = 16, d.W = 32, d.U = 64, d.R = 128, e.exports = d;
    }, function(e, n) {
      var o = e.exports = typeof window < "u" && window.Math == Math ? window : typeof self < "u" && self.Math == Math ? self : Function("return this")();
      typeof __g == "number" && (__g = o);
    }, function(e, n) {
      e.exports = function(o) {
        return typeof o == "object" ? o !== null : typeof o == "function";
      };
    }, function(e, n, o) {
      e.exports = !o(4)(function() {
        return Object.defineProperty({}, "a", { get: function() {
          return 7;
        } }).a != 7;
      });
    }, function(e, n) {
      e.exports = function(o) {
        try {
          return !!o();
        } catch {
          return true;
        }
      };
    }, function(e, n, o) {
      o.r(n), o.d(n, "h", function() {
        return h;
      }), o.d(n, "createElement", function() {
        return h;
      }), o.d(n, "cloneElement", function() {
        return c;
      }), o.d(n, "Component", function() {
        return W;
      }), o.d(n, "render", function() {
        return I;
      }), o.d(n, "rerender", function() {
        return p;
      }), o.d(n, "options", function() {
        return s;
      });
      var r3 = function() {
      }, s = {}, a = [], l = [];
      function h(b, T) {
        var V, M, $, X, vt = l;
        for (X = arguments.length; 2 < X--; )
          a.push(arguments[X]);
        for (T && T.children != null && (a.length || a.push(T.children), delete T.children); a.length; )
          if ((M = a.pop()) && M.pop !== void 0)
            for (X = M.length; X--; )
              a.push(M[X]);
          else
            typeof M == "boolean" && (M = null), ($ = typeof b != "function") && (M == null ? M = "" : typeof M == "number" ? M = String(M) : typeof M != "string" && ($ = false)), $ && V ? vt[vt.length - 1] += M : vt === l ? vt = [M] : vt.push(M), V = $;
        var Et = new r3();
        return Et.nodeName = b, Et.children = vt, Et.attributes = T == null ? void 0 : T, Et.key = T == null ? void 0 : T.key, s.vnode !== void 0 && s.vnode(Et), Et;
      }
      function u(b, T) {
        for (var V in T)
          b[V] = T[V];
        return b;
      }
      var d = typeof Promise == "function" ? Promise.resolve().then.bind(Promise.resolve()) : setTimeout;
      function c(b, T) {
        return h(b.nodeName, u(u({}, b.attributes), T), 2 < arguments.length ? [].slice.call(arguments, 2) : b.children);
      }
      var g = /acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i, f = [];
      function m(b) {
        !b._dirty && (b._dirty = true) && f.push(b) == 1 && (s.debounceRendering || d)(p);
      }
      function p() {
        var b, T = f;
        for (f = []; b = T.pop(); )
          b._dirty && D(b);
      }
      function _(b, T) {
        return b.normalizedNodeName === T || b.nodeName.toLowerCase() === T.toLowerCase();
      }
      function v(b) {
        var T = u({}, b.attributes);
        T.children = b.children;
        var V = b.nodeName.defaultProps;
        if (V !== void 0)
          for (var M in V)
            T[M] === void 0 && (T[M] = V[M]);
        return T;
      }
      function y(b) {
        var T = b.parentNode;
        T && T.removeChild(b);
      }
      function x(b, T, V, M, $) {
        if (T === "className" && (T = "class"), T !== "key")
          if (T === "ref")
            V && V(null), M && M(b);
          else if (T !== "class" || $)
            if (T === "style") {
              if (M && typeof M != "string" && typeof V != "string" || (b.style.cssText = M || ""), M && typeof M == "object") {
                if (typeof V != "string")
                  for (var X in V)
                    X in M || (b.style[X] = "");
                for (var X in M)
                  b.style[X] = typeof M[X] == "number" && g.test(X) === false ? M[X] + "px" : M[X];
              }
            } else if (T === "dangerouslySetInnerHTML")
              M && (b.innerHTML = M.__html || "");
            else if (T[0] == "o" && T[1] == "n") {
              var vt = T !== (T = T.replace(/Capture$/, ""));
              T = T.toLowerCase().substring(2), M ? V || b.addEventListener(T, k, vt) : b.removeEventListener(T, k, vt), (b._listeners || (b._listeners = {}))[T] = M;
            } else if (T !== "list" && T !== "type" && !$ && T in b) {
              try {
                b[T] = M == null ? "" : M;
              } catch {
              }
              M != null && M !== false || T == "spellcheck" || b.removeAttribute(T);
            } else {
              var Et = $ && T !== (T = T.replace(/^xlink:?/, ""));
              M == null || M === false ? Et ? b.removeAttributeNS("http://www.w3.org/1999/xlink", T.toLowerCase()) : b.removeAttribute(T) : typeof M != "function" && (Et ? b.setAttributeNS("http://www.w3.org/1999/xlink", T.toLowerCase(), M) : b.setAttribute(T, M));
            }
          else
            b.className = M || "";
      }
      function k(b) {
        return this._listeners[b.type](s.event && s.event(b) || b);
      }
      var w = [], E = 0, C = false, S = false;
      function z() {
        for (var b; b = w.pop(); )
          s.afterMount && s.afterMount(b), b.componentDidMount && b.componentDidMount();
      }
      function P(b, T, V, M, $, X) {
        E++ || (C = $ != null && $.ownerSVGElement !== void 0, S = b != null && !("__preactattr_" in b));
        var vt = N(b, T, V, M, X);
        return $ && vt.parentNode !== $ && $.appendChild(vt), --E || (S = false, X || z()), vt;
      }
      function N(b, T, V, M, $) {
        var X = b, vt = C;
        if (T != null && typeof T != "boolean" || (T = ""), typeof T == "string" || typeof T == "number")
          return b && b.splitText !== void 0 && b.parentNode && (!b._component || $) ? b.nodeValue != T && (b.nodeValue = T) : (X = document.createTextNode(T), b && (b.parentNode && b.parentNode.replaceChild(X, b), A(b, true))), X.__preactattr_ = true, X;
        var Et = T.nodeName;
        if (typeof Et == "function")
          return function(ht, ft, kt, yt) {
            for (var ot = ht && ht._component, it = ot, wt = ht, Tt = ot && ht._componentConstructor === ft.nodeName, Nt = Tt, bt = v(ft); ot && !Nt && (ot = ot._parentComponent); )
              Nt = ot.constructor === ft.nodeName;
            return ot && Nt && (!yt || ot._component) ? (U(ot, bt, 3, kt, yt), ht = ot.base) : (it && !Tt && (q(it), ht = wt = null), ot = B(ft.nodeName, bt, kt), ht && !ot.nextBase && (ot.nextBase = ht, wt = null), U(ot, bt, 1, kt, yt), ht = ot.base, wt && ht !== wt && (wt._component = null, A(wt, false))), ht;
          }(b, T, V, M);
        if (C = Et === "svg" || Et !== "foreignObject" && C, Et = String(Et), (!b || !_(b, Et)) && (X = function(ht, ft) {
          var kt = ft ? document.createElementNS("http://www.w3.org/2000/svg", ht) : document.createElement(ht);
          return kt.normalizedNodeName = ht, kt;
        }(Et, C), b)) {
          for (; b.firstChild; )
            X.appendChild(b.firstChild);
          b.parentNode && b.parentNode.replaceChild(X, b), A(b, true);
        }
        var _t = X.firstChild, Ct = X.__preactattr_, Lt = T.children;
        if (Ct == null) {
          Ct = X.__preactattr_ = {};
          for (var Pt = X.attributes, Ft = Pt.length; Ft--; )
            Ct[Pt[Ft].name] = Pt[Ft].value;
        }
        return !S && Lt && Lt.length === 1 && typeof Lt[0] == "string" && _t != null && _t.splitText !== void 0 && _t.nextSibling == null ? _t.nodeValue != Lt[0] && (_t.nodeValue = Lt[0]) : (Lt && Lt.length || _t != null) && function(ht, ft, kt, yt, ot) {
          var it, wt, Tt, Nt, bt, ut = ht.childNodes, Ot = [], St = {}, dt = 0, le = 0, je = ut.length, Xt = 0, xe = ft ? ft.length : 0;
          if (je !== 0)
            for (var Wt = 0; Wt < je; Wt++) {
              var Kt = ut[Wt], Bi = Kt.__preactattr_, ie = xe && Bi ? Kt._component ? Kt._component.__key : Bi.key : null;
              ie != null ? (dt++, St[ie] = Kt) : (Bi || (Kt.splitText !== void 0 ? !ot || Kt.nodeValue.trim() : ot)) && (Ot[Xt++] = Kt);
            }
          if (xe !== 0)
            for (var Wt = 0; Wt < xe; Wt++) {
              Nt = ft[Wt], bt = null;
              var ie = Nt.key;
              if (ie != null)
                dt && St[ie] !== void 0 && (bt = St[ie], St[ie] = void 0, dt--);
              else if (le < Xt) {
                for (it = le; it < Xt; it++)
                  if (Ot[it] !== void 0 && (Be = wt = Ot[it], Pe = ot, typeof (ge = Nt) == "string" || typeof ge == "number" ? Be.splitText !== void 0 : typeof ge.nodeName == "string" ? !Be._componentConstructor && _(Be, ge.nodeName) : Pe || Be._componentConstructor === ge.nodeName)) {
                    bt = wt, Ot[it] = void 0, it === Xt - 1 && Xt--, it === le && le++;
                    break;
                  }
              }
              bt = N(bt, Nt, kt, yt), Tt = ut[Wt], bt && bt !== ht && bt !== Tt && (Tt == null ? ht.appendChild(bt) : bt === Tt.nextSibling ? y(Tt) : ht.insertBefore(bt, Tt));
            }
          var Be, ge, Pe;
          if (dt)
            for (var Wt in St)
              St[Wt] !== void 0 && A(St[Wt], false);
          for (; le <= Xt; )
            (bt = Ot[Xt--]) !== void 0 && A(bt, false);
        }(X, Lt, V, M, S || Ct.dangerouslySetInnerHTML != null), function(ht, ft, kt) {
          var yt;
          for (yt in kt)
            ft && ft[yt] != null || kt[yt] == null || x(ht, yt, kt[yt], kt[yt] = void 0, C);
          for (yt in ft)
            yt === "children" || yt === "innerHTML" || yt in kt && ft[yt] === (yt === "value" || yt === "checked" ? ht[yt] : kt[yt]) || x(ht, yt, kt[yt], kt[yt] = ft[yt], C);
        }(X, T.attributes, Ct), C = vt, X;
      }
      function A(b, T) {
        var V = b._component;
        V ? q(V) : (b.__preactattr_ != null && b.__preactattr_.ref && b.__preactattr_.ref(null), T !== false && b.__preactattr_ != null || y(b), st(b));
      }
      function st(b) {
        for (b = b.lastChild; b; ) {
          var T = b.previousSibling;
          A(b, true), b = T;
        }
      }
      var j = [];
      function B(b, T, V) {
        var M, $ = j.length;
        for (b.prototype && b.prototype.render ? (M = new b(T, V), W.call(M, T, V)) : ((M = new W(T, V)).constructor = b, M.render = F); $--; )
          if (j[$].constructor === b)
            return M.nextBase = j[$].nextBase, j.splice($, 1), M;
        return M;
      }
      function F(b, T, V) {
        return this.constructor(b, V);
      }
      function U(b, T, V, M, $) {
        b._disable || (b._disable = true, b.__ref = T.ref, b.__key = T.key, delete T.ref, delete T.key, typeof b.constructor.getDerivedStateFromProps > "u" && (!b.base || $ ? b.componentWillMount && b.componentWillMount() : b.componentWillReceiveProps && b.componentWillReceiveProps(T, M)), M && M !== b.context && (b.prevContext || (b.prevContext = b.context), b.context = M), b.prevProps || (b.prevProps = b.props), b.props = T, b._disable = false, V !== 0 && (V !== 1 && s.syncComponentUpdates === false && b.base ? m(b) : D(b, 1, $)), b.__ref && b.__ref(b));
      }
      function D(b, T, V, M) {
        if (!b._disable) {
          var $, X, vt, Et = b.props, _t = b.state, Ct = b.context, Lt = b.prevProps || Et, Pt = b.prevState || _t, Ft = b.prevContext || Ct, O = b.base, ht = b.nextBase, ft = O || ht, kt = b._component, yt = false, ot = Ft;
          if (b.constructor.getDerivedStateFromProps && (_t = u(u({}, _t), b.constructor.getDerivedStateFromProps(Et, _t)), b.state = _t), O && (b.props = Lt, b.state = Pt, b.context = Ft, T !== 2 && b.shouldComponentUpdate && b.shouldComponentUpdate(Et, _t, Ct) === false ? yt = true : b.componentWillUpdate && b.componentWillUpdate(Et, _t, Ct), b.props = Et, b.state = _t, b.context = Ct), b.prevProps = b.prevState = b.prevContext = b.nextBase = null, b._dirty = false, !yt) {
            $ = b.render(Et, _t, Ct), b.getChildContext && (Ct = u(u({}, Ct), b.getChildContext())), O && b.getSnapshotBeforeUpdate && (ot = b.getSnapshotBeforeUpdate(Lt, Pt));
            var it, wt, Tt = $ && $.nodeName;
            if (typeof Tt == "function") {
              var Nt = v($);
              (X = kt) && X.constructor === Tt && Nt.key == X.__key ? U(X, Nt, 1, Ct, false) : (it = X, b._component = X = B(Tt, Nt, Ct), X.nextBase = X.nextBase || ht, X._parentComponent = b, U(X, Nt, 0, Ct, false), D(X, 1, V, true)), wt = X.base;
            } else
              vt = ft, (it = kt) && (vt = b._component = null), (ft || T === 1) && (vt && (vt._component = null), wt = function(dt, le, je, Xt, xe, Wt) {
                E++ || (C = xe != null && xe.ownerSVGElement !== void 0, S = dt != null && !("__preactattr_" in dt));
                var Kt = N(dt, le, je, Xt, Wt);
                return xe && Kt.parentNode !== xe && xe.appendChild(Kt), --E || (S = false, Wt || z()), Kt;
              }(vt, $, Ct, V || !O, ft && ft.parentNode, true));
            if (ft && wt !== ft && X !== kt) {
              var bt = ft.parentNode;
              bt && wt !== bt && (bt.replaceChild(wt, ft), it || (ft._component = null, A(ft, false)));
            }
            if (it && q(it), (b.base = wt) && !M) {
              for (var ut = b, Ot = b; Ot = Ot._parentComponent; )
                (ut = Ot).base = wt;
              wt._component = ut, wt._componentConstructor = ut.constructor;
            }
          }
          for (!O || V ? w.unshift(b) : yt || (b.componentDidUpdate && b.componentDidUpdate(Lt, Pt, ot), s.afterUpdate && s.afterUpdate(b)); b._renderCallbacks.length; )
            b._renderCallbacks.pop().call(b);
          E || M || z();
        }
      }
      function q(b) {
        s.beforeUnmount && s.beforeUnmount(b);
        var T = b.base;
        b._disable = true, b.componentWillUnmount && b.componentWillUnmount(), b.base = null;
        var V = b._component;
        V ? q(V) : T && (T.__preactattr_ && T.__preactattr_.ref && T.__preactattr_.ref(null), y(b.nextBase = T), j.push(b), st(T)), b.__ref && b.__ref(null);
      }
      function W(b, T) {
        this._dirty = true, this.context = T, this.props = b, this.state = this.state || {}, this._renderCallbacks = [];
      }
      function I(b, T, V) {
        return P(V, b, {}, false, T, false);
      }
      u(W.prototype, { setState: function(b, T) {
        this.prevState || (this.prevState = this.state), this.state = u(u({}, this.state), typeof b == "function" ? b(this.state, this.props) : b), T && this._renderCallbacks.push(T), m(this);
      }, forceUpdate: function(b) {
        b && this._renderCallbacks.push(b), D(this, 2);
      }, render: function() {
      } });
      var nt = { h, createElement: h, cloneElement: c, Component: W, render: I, rerender: p, options: s };
      n.default = nt;
    }, function(e, n) {
      var o = e.exports = { version: "2.5.7" };
      typeof __e == "number" && (__e = o);
    }, function(e, n, o) {
      var r3 = o(8), s = o(40);
      e.exports = o(3) ? function(a, l, h) {
        return r3.f(a, l, s(1, h));
      } : function(a, l, h) {
        return a[l] = h, a;
      };
    }, function(e, n, o) {
      var r3 = o(9), s = o(38), a = o(39), l = Object.defineProperty;
      n.f = o(3) ? Object.defineProperty : function(h, u, d) {
        if (r3(h), u = a(u, true), r3(d), s)
          try {
            return l(h, u, d);
          } catch {
          }
        if ("get" in d || "set" in d)
          throw TypeError("Accessors not supported!");
        return "value" in d && (h[u] = d.value), h;
      };
    }, function(e, n, o) {
      var r3 = o(2);
      e.exports = function(s) {
        if (!r3(s))
          throw TypeError(s + " is not an object!");
        return s;
      };
    }, function(e, n) {
      var o = 0, r3 = Math.random();
      e.exports = function(s) {
        return "Symbol(".concat(s === void 0 ? "" : s, ")_", (++o + r3).toString(36));
      };
    }, function(e, n, o) {
      var r3 = o(22);
      e.exports = Object("z").propertyIsEnumerable(0) ? Object : function(s) {
        return r3(s) == "String" ? s.split("") : Object(s);
      };
    }, function(e, n) {
      e.exports = function(o) {
        if (o == null)
          throw TypeError("Can't call method on  " + o);
        return o;
      };
    }, function(e, n, o) {
      var r3 = o(4);
      e.exports = function(s, a) {
        return !!s && r3(function() {
          a ? s.call(null, function() {
          }, 1) : s.call(null);
        });
      };
    }, function(e, n, o) {
      var r3 = o(0);
      r3(r3.S + r3.F, "Object", { assign: o(41) });
    }, function(e, n, o) {
      var r3 = o(2), s = o(1).document, a = r3(s) && r3(s.createElement);
      e.exports = function(l) {
        return a ? s.createElement(l) : {};
      };
    }, function(e, n, o) {
      var r3 = o(1), s = o(7), a = o(17), l = o(10)("src"), h = "toString", u = Function[h], d = ("" + u).split(h);
      o(6).inspectSource = function(c) {
        return u.call(c);
      }, (e.exports = function(c, g, f, m) {
        var p = typeof f == "function";
        p && (a(f, "name") || s(f, "name", g)), c[g] !== f && (p && (a(f, l) || s(f, l, c[g] ? "" + c[g] : d.join(String(g)))), c === r3 ? c[g] = f : m ? c[g] ? c[g] = f : s(c, g, f) : (delete c[g], s(c, g, f)));
      })(Function.prototype, h, function() {
        return typeof this == "function" && this[l] || u.call(this);
      });
    }, function(e, n) {
      var o = {}.hasOwnProperty;
      e.exports = function(r3, s) {
        return o.call(r3, s);
      };
    }, function(e, n, o) {
      var r3 = o(19);
      e.exports = function(s, a, l) {
        if (r3(s), a === void 0)
          return s;
        switch (l) {
          case 1:
            return function(h) {
              return s.call(a, h);
            };
          case 2:
            return function(h, u) {
              return s.call(a, h, u);
            };
          case 3:
            return function(h, u, d) {
              return s.call(a, h, u, d);
            };
        }
        return function() {
          return s.apply(a, arguments);
        };
      };
    }, function(e, n) {
      e.exports = function(o) {
        if (typeof o != "function")
          throw TypeError(o + " is not a function!");
        return o;
      };
    }, function(e, n, o) {
      var r3 = o(42), s = o(28);
      e.exports = Object.keys || function(a) {
        return r3(a, s);
      };
    }, function(e, n, o) {
      var r3 = o(11), s = o(12);
      e.exports = function(a) {
        return r3(s(a));
      };
    }, function(e, n) {
      var o = {}.toString;
      e.exports = function(r3) {
        return o.call(r3).slice(8, -1);
      };
    }, function(e, n, o) {
      var r3 = o(21), s = o(24), a = o(43);
      e.exports = function(l) {
        return function(h, u, d) {
          var c, g = r3(h), f = s(g.length), m = a(d, f);
          if (l && u != u) {
            for (; m < f; )
              if ((c = g[m++]) != c)
                return true;
          } else
            for (; m < f; m++)
              if ((l || m in g) && g[m] === u)
                return l || m || 0;
          return !l && -1;
        };
      };
    }, function(e, n, o) {
      var r3 = o(25), s = Math.min;
      e.exports = function(a) {
        return 0 < a ? s(r3(a), 9007199254740991) : 0;
      };
    }, function(e, n) {
      var o = Math.ceil, r3 = Math.floor;
      e.exports = function(s) {
        return isNaN(s = +s) ? 0 : (0 < s ? r3 : o)(s);
      };
    }, function(e, n, o) {
      var r3 = o(27)("keys"), s = o(10);
      e.exports = function(a) {
        return r3[a] || (r3[a] = s(a));
      };
    }, function(e, n, o) {
      var r3 = o(6), s = o(1), a = "__core-js_shared__", l = s[a] || (s[a] = {});
      (e.exports = function(h, u) {
        return l[h] || (l[h] = u !== void 0 ? u : {});
      })("versions", []).push({ version: r3.version, mode: o(44) ? "pure" : "global", copyright: "\xA9 2018 Denis Pushkarev (zloirock.ru)" });
    }, function(e, n) {
      e.exports = "constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",");
    }, function(e, n, o) {
      var r3 = o(12);
      e.exports = function(s) {
        return Object(r3(s));
      };
    }, function(e, n, o) {
      var r3 = o(8).f, s = Function.prototype, a = /^\s*function ([^ (]*)/;
      "name" in s || o(3) && r3(s, "name", { configurable: true, get: function() {
        try {
          return ("" + this).match(a)[1];
        } catch {
          return "";
        }
      } });
    }, function(e, n, o) {
      var r3 = o(0), s = o(32)(1);
      r3(r3.P + r3.F * !o(13)([].map, true), "Array", { map: function(a) {
        return s(this, a, arguments[1]);
      } });
    }, function(e, n, o) {
      var r3 = o(18), s = o(11), a = o(29), l = o(24), h = o(47);
      e.exports = function(u, d) {
        var c = u == 1, g = u == 2, f = u == 3, m = u == 4, p = u == 6, _ = u == 5 || p, v = d || h;
        return function(y, x, k) {
          for (var w, E, C = a(y), S = s(C), z = r3(x, k, 3), P = l(S.length), N = 0, A = c ? v(y, P) : g ? v(y, 0) : void 0; N < P; N++)
            if ((_ || N in S) && (E = z(w = S[N], N, C), u)) {
              if (c)
                A[N] = E;
              else if (E)
                switch (u) {
                  case 3:
                    return true;
                  case 5:
                    return w;
                  case 6:
                    return N;
                  case 2:
                    A.push(w);
                }
              else if (m)
                return false;
            }
          return p ? -1 : f || m ? m : A;
        };
      };
    }, function(e, n, o) {
      var r3 = o(22);
      e.exports = Array.isArray || function(s) {
        return r3(s) == "Array";
      };
    }, function(e, n, o) {
      var r3 = o(27)("wks"), s = o(10), a = o(1).Symbol, l = typeof a == "function";
      (e.exports = function(h) {
        return r3[h] || (r3[h] = l && a[h] || (l ? a : s)("Symbol." + h));
      }).store = r3;
    }, function(e, n, o) {
      var r3 = o(0), s = o(23)(false), a = [].indexOf, l = !!a && 1 / [1].indexOf(1, -0) < 0;
      r3(r3.P + r3.F * (l || !o(13)(a)), "Array", { indexOf: function(h) {
        return l ? a.apply(this, arguments) || 0 : s(this, h, arguments[1]);
      } });
    }, function(e, n, o) {
      var r3 = o(0);
      r3(r3.S, "Object", { create: o(52) });
    }, function(e, n, o) {
      n.__esModule = true, n.default = void 0, o(14), o(30), o(31), o(35), o(49), o(50);
      var r3 = o(5), s = function(d) {
        return d && d.__esModule ? d : { default: d };
      }(o(51));
      function a(u) {
        if (!u.element)
          throw new Error("element is not defined");
        if (!u.id)
          throw new Error("id is not defined");
        if (!u.source)
          throw new Error("source is not defined");
        Array.isArray(u.source) && (u.source = l(u.source)), (0, r3.render)((0, r3.createElement)(s.default, u), u.element);
      }
      var l = function(d) {
        return function(c, g) {
          g(d.filter(function(f) {
            return f.toLowerCase().indexOf(c.toLowerCase()) !== -1;
          }));
        };
      };
      a.enhanceSelectElement = function(u) {
        if (!u.selectElement)
          throw new Error("selectElement is not defined");
        if (!u.source) {
          var d = [].filter.call(u.selectElement.options, function(f) {
            return f.value || u.preserveNullOptions;
          });
          u.source = d.map(function(f) {
            return f.textContent || f.innerText;
          });
        }
        if (u.onConfirm = u.onConfirm || function(f) {
          var m = [].filter.call(u.selectElement.options, function(p) {
            return (p.textContent || p.innerText) === f;
          })[0];
          m && (m.selected = true);
        }, u.selectElement.value || u.defaultValue === void 0) {
          var c = u.selectElement.options[u.selectElement.options.selectedIndex];
          u.defaultValue = c.textContent || c.innerText;
        }
        u.name === void 0 && (u.name = ""), u.id === void 0 && (u.selectElement.id === void 0 ? u.id = "" : u.id = u.selectElement.id), u.autoselect === void 0 && (u.autoselect = true);
        var g = document.createElement("div");
        u.selectElement.parentNode.insertBefore(g, u.selectElement), a(Object.assign({}, u, { element: g })), u.selectElement.style.display = "none", u.selectElement.id = u.selectElement.id + "-select";
      };
      var h = a;
      n.default = h;
    }, function(e, n, o) {
      e.exports = !o(3) && !o(4)(function() {
        return Object.defineProperty(o(15)("div"), "a", { get: function() {
          return 7;
        } }).a != 7;
      });
    }, function(e, n, o) {
      var r3 = o(2);
      e.exports = function(s, a) {
        if (!r3(s))
          return s;
        var l, h;
        if (a && typeof (l = s.toString) == "function" && !r3(h = l.call(s)) || typeof (l = s.valueOf) == "function" && !r3(h = l.call(s)) || !a && typeof (l = s.toString) == "function" && !r3(h = l.call(s)))
          return h;
        throw TypeError("Can't convert object to primitive value");
      };
    }, function(e, n) {
      e.exports = function(o, r3) {
        return { enumerable: !(1 & o), configurable: !(2 & o), writable: !(4 & o), value: r3 };
      };
    }, function(e, n, o) {
      var r3 = o(20), s = o(45), a = o(46), l = o(29), h = o(11), u = Object.assign;
      e.exports = !u || o(4)(function() {
        var d = {}, c = {}, g = Symbol(), f = "abcdefghijklmnopqrst";
        return d[g] = 7, f.split("").forEach(function(m) {
          c[m] = m;
        }), u({}, d)[g] != 7 || Object.keys(u({}, c)).join("") != f;
      }) ? function(d, c) {
        for (var g = l(d), f = arguments.length, m = 1, p = s.f, _ = a.f; m < f; )
          for (var v, y = h(arguments[m++]), x = p ? r3(y).concat(p(y)) : r3(y), k = x.length, w = 0; w < k; )
            _.call(y, v = x[w++]) && (g[v] = y[v]);
        return g;
      } : u;
    }, function(e, n, o) {
      var r3 = o(17), s = o(21), a = o(23)(false), l = o(26)("IE_PROTO");
      e.exports = function(h, u) {
        var d, c = s(h), g = 0, f = [];
        for (d in c)
          d != l && r3(c, d) && f.push(d);
        for (; u.length > g; )
          r3(c, d = u[g++]) && (~a(f, d) || f.push(d));
        return f;
      };
    }, function(e, n, o) {
      var r3 = o(25), s = Math.max, a = Math.min;
      e.exports = function(l, h) {
        return (l = r3(l)) < 0 ? s(l + h, 0) : a(l, h);
      };
    }, function(e, n) {
      e.exports = false;
    }, function(e, n) {
      n.f = Object.getOwnPropertySymbols;
    }, function(e, n) {
      n.f = {}.propertyIsEnumerable;
    }, function(e, n, o) {
      var r3 = o(48);
      e.exports = function(s, a) {
        return new (r3(s))(a);
      };
    }, function(e, n, o) {
      var r3 = o(2), s = o(33), a = o(34)("species");
      e.exports = function(l) {
        var h;
        return s(l) && (typeof (h = l.constructor) != "function" || h !== Array && !s(h.prototype) || (h = void 0), r3(h) && (h = h[a]) === null && (h = void 0)), h === void 0 ? Array : h;
      };
    }, function(e, n, o) {
      var r3 = o(0), s = o(32)(2);
      r3(r3.P + r3.F * !o(13)([].filter, true), "Array", { filter: function(a) {
        return s(this, a, arguments[1]);
      } });
    }, function(e, n, o) {
      var r3 = o(0);
      r3(r3.S, "Array", { isArray: o(33) });
    }, function(e, n, o) {
      n.__esModule = true, n.default = void 0, o(14), o(36), o(30), o(31), o(35), o(55), o(58);
      var r3 = o(5), s = l(o(60)), a = l(o(61));
      function l(f) {
        return f && f.__esModule ? f : { default: f };
      }
      function h() {
        return (h = Object.assign || function(f) {
          for (var m = 1; m < arguments.length; m++) {
            var p = arguments[m];
            for (var _ in p)
              Object.prototype.hasOwnProperty.call(p, _) && (f[_] = p[_]);
          }
          return f;
        }).apply(this, arguments);
      }
      function u(f) {
        if (f === void 0)
          throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        return f;
      }
      var d = { 13: "enter", 27: "escape", 32: "space", 38: "up", 40: "down" };
      function c() {
        return typeof navigator < "u" && !(!navigator.userAgent.match(/(iPod|iPhone|iPad)/g) || !navigator.userAgent.match(/AppleWebKit/g));
      }
      var g = function(f) {
        function m(_) {
          var v;
          return (v = f.call(this, _) || this).elementReferences = {}, v.state = { focused: null, hovered: null, menuOpen: false, options: _.defaultValue ? [_.defaultValue] : [], query: _.defaultValue, validChoiceMade: false, selected: null, ariaHint: true }, v.handleComponentBlur = v.handleComponentBlur.bind(u(u(v))), v.handleKeyDown = v.handleKeyDown.bind(u(u(v))), v.handleUpArrow = v.handleUpArrow.bind(u(u(v))), v.handleDownArrow = v.handleDownArrow.bind(u(u(v))), v.handleEnter = v.handleEnter.bind(u(u(v))), v.handlePrintableKey = v.handlePrintableKey.bind(u(u(v))), v.handleListMouseLeave = v.handleListMouseLeave.bind(u(u(v))), v.handleOptionBlur = v.handleOptionBlur.bind(u(u(v))), v.handleOptionClick = v.handleOptionClick.bind(u(u(v))), v.handleOptionFocus = v.handleOptionFocus.bind(u(u(v))), v.handleOptionMouseDown = v.handleOptionMouseDown.bind(u(u(v))), v.handleOptionMouseEnter = v.handleOptionMouseEnter.bind(u(u(v))), v.handleInputBlur = v.handleInputBlur.bind(u(u(v))), v.handleInputChange = v.handleInputChange.bind(u(u(v))), v.handleInputFocus = v.handleInputFocus.bind(u(u(v))), v.pollInputElement = v.pollInputElement.bind(u(u(v))), v.getDirectInputChanges = v.getDirectInputChanges.bind(u(u(v))), v;
        }
        (function(v, y) {
          v.prototype = Object.create(y.prototype), (v.prototype.constructor = v).__proto__ = y;
        })(m, f);
        var p = m.prototype;
        return p.isQueryAnOption = function(_, v) {
          var y = this;
          return v.map(function(x) {
            return y.templateInputValue(x).toLowerCase();
          }).indexOf(_.toLowerCase()) !== -1;
        }, p.componentDidMount = function() {
          this.pollInputElement();
        }, p.componentWillUnmount = function() {
          clearTimeout(this.$pollInput);
        }, p.pollInputElement = function() {
          var _ = this;
          this.getDirectInputChanges(), this.$pollInput = setTimeout(function() {
            _.pollInputElement();
          }, 100);
        }, p.getDirectInputChanges = function() {
          var _ = this.elementReferences[-1];
          _ && _.value !== this.state.query && this.handleInputChange({ target: { value: _.value } });
        }, p.componentDidUpdate = function(_, v) {
          var y = this.state.focused, x = y === null, k = v.focused !== y;
          k && !x && this.elementReferences[y].focus();
          var w = y === -1, E = k && v.focused === null;
          if (w && E) {
            var C = this.elementReferences[y];
            C.setSelectionRange(0, C.value.length);
          }
        }, p.hasAutoselect = function() {
          return !c() && this.props.autoselect;
        }, p.templateInputValue = function(_) {
          var v = this.props.templates && this.props.templates.inputValue;
          return v ? v(_) : _;
        }, p.templateSuggestion = function(_) {
          var v = this.props.templates && this.props.templates.suggestion;
          return v ? v(_) : _;
        }, p.handleComponentBlur = function(_) {
          var v, y = this.state, x = y.options, k = y.query, w = y.selected;
          this.props.confirmOnBlur ? (v = _.query || k, this.props.onConfirm(x[w])) : v = k, this.setState({ focused: null, menuOpen: _.menuOpen || false, query: v, selected: null, validChoiceMade: this.isQueryAnOption(v, x) });
        }, p.handleListMouseLeave = function(_) {
          this.setState({ hovered: null });
        }, p.handleOptionBlur = function(_, v) {
          var y = this.state, x = y.focused, k = y.menuOpen, w = y.options, E = y.selected, C = _.relatedTarget === null, S = _.relatedTarget === this.elementReferences[-1], z = x !== v && x !== -1;
          if (!z && C || !(z || S)) {
            var P = k && c();
            this.handleComponentBlur({ menuOpen: P, query: this.templateInputValue(w[E]) });
          }
        }, p.handleInputBlur = function(_) {
          var v = this.state, y = v.focused, x = v.menuOpen, k = v.options, w = v.query, E = v.selected;
          if (y === -1) {
            var C = x && c(), S = c() ? w : this.templateInputValue(k[E]);
            this.handleComponentBlur({ menuOpen: C, query: S });
          }
        }, p.handleInputChange = function(_) {
          var v = this, y = this.props, x = y.minLength, k = y.source, w = y.showAllValues, E = this.hasAutoselect(), C = _.target.value, S = C.length === 0, z = this.state.query.length !== C.length, P = C.length >= x;
          this.setState({ query: C, ariaHint: S }), w || !S && z && P ? k(C, function(N) {
            var A = 0 < N.length;
            v.setState({ menuOpen: A, options: N, selected: E && A ? 0 : -1, validChoiceMade: false });
          }) : !S && P || this.setState({ menuOpen: false, options: [] });
        }, p.handleInputClick = function(_) {
          this.handleInputChange(_);
        }, p.handleInputFocus = function(_) {
          var v = this.state, y = v.query, x = v.validChoiceMade, k = v.options, w = this.props.minLength, E = !x && y.length >= w && 0 < k.length;
          E ? this.setState(function(C) {
            var S = C.menuOpen;
            return { focused: -1, menuOpen: E || S, selected: -1 };
          }) : this.setState({ focused: -1 });
        }, p.handleOptionFocus = function(_) {
          this.setState({ focused: _, hovered: null, selected: _ });
        }, p.handleOptionMouseEnter = function(_, v) {
          c() || this.setState({ hovered: v });
        }, p.handleOptionClick = function(_, v) {
          var y = this.state.options[v], x = this.templateInputValue(y);
          this.props.onConfirm(y), this.setState({ focused: -1, hovered: null, menuOpen: false, query: x, selected: -1, validChoiceMade: true }), this.forceUpdate();
        }, p.handleOptionMouseDown = function(_) {
          _.preventDefault();
        }, p.handleUpArrow = function(_) {
          _.preventDefault();
          var v = this.state, y = v.menuOpen, x = v.selected;
          x !== -1 && y && this.handleOptionFocus(x - 1);
        }, p.handleDownArrow = function(_) {
          var v = this;
          if (_.preventDefault(), this.props.showAllValues && this.state.menuOpen === false)
            _.preventDefault(), this.props.source("", function(E) {
              v.setState({ menuOpen: true, options: E, selected: 0, focused: 0, hovered: null });
            });
          else if (this.state.menuOpen === true) {
            var y = this.state, x = y.menuOpen, k = y.options, w = y.selected;
            w !== k.length - 1 && x && this.handleOptionFocus(w + 1);
          }
        }, p.handleSpace = function(_) {
          var v = this;
          this.props.showAllValues && this.state.menuOpen === false && this.state.query === "" && (_.preventDefault(), this.props.source("", function(y) {
            v.setState({ menuOpen: true, options: y });
          })), this.state.focused !== -1 && (_.preventDefault(), this.handleOptionClick(_, this.state.focused));
        }, p.handleEnter = function(_) {
          this.state.menuOpen && (_.preventDefault(), 0 <= this.state.selected && this.handleOptionClick(_, this.state.selected));
        }, p.handlePrintableKey = function(_) {
          var v = this.elementReferences[-1];
          _.target === v || v.focus();
        }, p.handleKeyDown = function(_) {
          switch (d[_.keyCode]) {
            case "up":
              this.handleUpArrow(_);
              break;
            case "down":
              this.handleDownArrow(_);
              break;
            case "space":
              this.handleSpace(_);
              break;
            case "enter":
              this.handleEnter(_);
              break;
            case "escape":
              this.handleComponentBlur({ query: this.state.query });
              break;
            default:
              (function(y) {
                return 47 < y && y < 58 || y === 32 || y === 8 || 64 < y && y < 91 || 95 < y && y < 112 || 185 < y && y < 193 || 218 < y && y < 223;
              })(_.keyCode) && this.handlePrintableKey(_);
          }
        }, p.render = function() {
          var _, v = this, y = this.props, x = y.cssNamespace, k = y.displayMenu, w = y.id, E = y.minLength, C = y.name, S = y.placeholder, z = y.required, P = y.showAllValues, N = y.tNoResults, A = y.tStatusQueryTooShort, st = y.tStatusNoResults, j = y.tStatusSelectedOption, B = y.tStatusResults, F = y.tAssistiveHint, U = y.dropdownArrow, D = this.state, q = D.focused, W = D.hovered, I = D.menuOpen, nt = D.options, b = D.query, T = D.selected, V = D.ariaHint, M = D.validChoiceMade, $ = this.hasAutoselect(), X = q === -1, vt = nt.length === 0, Et = b.length !== 0, _t = b.length >= E, Ct = this.props.showNoOptionsFound && X && vt && Et && _t, Lt = x + "__wrapper", Pt = x + "__input", Ft = q !== null ? " " + Pt + "--focused" : "", O = this.props.showAllValues ? " " + Pt + "--show-all-values" : " " + Pt + "--default", ht = x + "__dropdown-arrow-down", ft = q !== -1 && q !== null, kt = x + "__menu", yt = kt + "--" + k, ot = kt + "--" + (I || Ct ? "visible" : "hidden"), it = x + "__option", wt = x + "__hint", Tt = this.templateInputValue(nt[T]), Nt = Tt && Tt.toLowerCase().indexOf(b.toLowerCase()) === 0 && $ ? b + Tt.substr(b.length) : "", bt = w + "__assistiveHint", ut = V ? { "aria-describedby": bt } : null;
          return P && typeof (_ = U({ className: ht })) == "string" && (_ = (0, r3.createElement)("div", { className: x + "__dropdown-arrow-down-wrapper", dangerouslySetInnerHTML: { __html: _ } })), (0, r3.createElement)("div", { className: Lt, onKeyDown: this.handleKeyDown }, (0, r3.createElement)(s.default, { id: w, length: nt.length, queryLength: b.length, minQueryLength: E, selectedOption: this.templateInputValue(nt[T]), selectedOptionIndex: T, validChoiceMade: M, isInFocus: this.state.focused !== null, tQueryTooShort: A, tNoResults: st, tSelectedOption: j, tResults: B }), Nt && (0, r3.createElement)("span", null, (0, r3.createElement)("input", { className: wt, readonly: true, tabIndex: "-1", value: Nt })), (0, r3.createElement)("input", h({ "aria-expanded": I ? "true" : "false", "aria-activedescendant": !!ft && w + "__option--" + q, "aria-owns": w + "__listbox", "aria-autocomplete": this.hasAutoselect() ? "both" : "list" }, ut, { autoComplete: "off", className: "" + Pt + Ft + O, id: w, onClick: function(Ot) {
            return v.handleInputClick(Ot);
          }, onBlur: this.handleInputBlur }, function(St) {
            return { onInput: St };
          }(this.handleInputChange), { onFocus: this.handleInputFocus, name: C, placeholder: S, ref: function(Ot) {
            v.elementReferences[-1] = Ot;
          }, type: "text", role: "combobox", required: z, value: b })), _, (0, r3.createElement)("ul", { className: kt + " " + yt + " " + ot, onMouseLeave: function(Ot) {
            return v.handleListMouseLeave(Ot);
          }, id: w + "__listbox", role: "listbox" }, nt.map(function(Ot, St) {
            var dt = (q === -1 ? T === St : q === St) && W === null ? " " + it + "--focused" : "", le = St % 2 ? " " + it + "--odd" : "", je = c() ? "<span id=" + w + "__option-suffix--" + St + ' style="border:0;clip:rect(0 0 0 0);height:1px;marginBottom:-1px;marginRight:-1px;overflow:hidden;padding:0;position:absolute;whiteSpace:nowrap;width:1px"> ' + (St + 1) + " of " + nt.length + "</span>" : "";
            return (0, r3.createElement)("li", { "aria-selected": q === St ? "true" : "false", className: "" + it + dt + le, dangerouslySetInnerHTML: { __html: v.templateSuggestion(Ot) + je }, id: w + "__option--" + St, key: St, onBlur: function(Xt) {
              return v.handleOptionBlur(Xt, St);
            }, onClick: function(Xt) {
              return v.handleOptionClick(Xt, St);
            }, onMouseDown: v.handleOptionMouseDown, onMouseEnter: function(Xt) {
              return v.handleOptionMouseEnter(Xt, St);
            }, ref: function(Xt) {
              v.elementReferences[St] = Xt;
            }, role: "option", tabIndex: "-1", "aria-posinset": St + 1, "aria-setsize": nt.length });
          }), Ct && (0, r3.createElement)("li", { className: it + " " + it + "--no-results" }, N())), (0, r3.createElement)("span", { id: bt, style: { display: "none" } }, F()));
        }, m;
      }(r3.Component);
      (n.default = g).defaultProps = { autoselect: false, cssNamespace: "autocomplete", defaultValue: "", displayMenu: "inline", minLength: 0, name: "input-autocomplete", placeholder: "", onConfirm: function() {
      }, confirmOnBlur: true, showNoOptionsFound: true, showAllValues: false, required: false, tNoResults: function() {
        return "No results found";
      }, tAssistiveHint: function() {
        return "When autocomplete results are available use up and down arrows to review and enter to select.  Touch device users, explore by touch or with swipe gestures.";
      }, dropdownArrow: a.default };
    }, function(e, n, o) {
      var r3 = o(9), s = o(53), a = o(28), l = o(26)("IE_PROTO"), h = function() {
      }, u = "prototype", d = function() {
        var c, g = o(15)("iframe"), f = a.length;
        for (g.style.display = "none", o(54).appendChild(g), g.src = "javascript:", (c = g.contentWindow.document).open(), c.write("<script>document.F=Object<\/script>"), c.close(), d = c.F; f--; )
          delete d[u][a[f]];
        return d();
      };
      e.exports = Object.create || function(c, g) {
        var f;
        return c !== null ? (h[u] = r3(c), f = new h(), h[u] = null, f[l] = c) : f = d(), g === void 0 ? f : s(f, g);
      };
    }, function(e, n, o) {
      var r3 = o(8), s = o(9), a = o(20);
      e.exports = o(3) ? Object.defineProperties : function(l, h) {
        s(l);
        for (var u, d = a(h), c = d.length, g = 0; g < c; )
          r3.f(l, u = d[g++], h[u]);
        return l;
      };
    }, function(e, n, o) {
      var r3 = o(1).document;
      e.exports = r3 && r3.documentElement;
    }, function(e, n, o) {
      var r3 = o(0);
      r3(r3.P, "Function", { bind: o(56) });
    }, function(e, n, o) {
      var r3 = o(19), s = o(2), a = o(57), l = [].slice, h = {};
      e.exports = Function.bind || function(u) {
        var d = r3(this), c = l.call(arguments, 1), g = function() {
          var f = c.concat(l.call(arguments));
          return this instanceof g ? function(m, p, _) {
            if (!(p in h)) {
              for (var v = [], y = 0; y < p; y++)
                v[y] = "a[" + y + "]";
              h[p] = Function("F,a", "return new F(" + v.join(",") + ")");
            }
            return h[p](m, _);
          }(d, f.length, f) : a(d, f, u);
        };
        return s(d.prototype) && (g.prototype = d.prototype), g;
      };
    }, function(e, n) {
      e.exports = function(o, r3, s) {
        var a = s === void 0;
        switch (r3.length) {
          case 0:
            return a ? o() : o.call(s);
          case 1:
            return a ? o(r3[0]) : o.call(s, r3[0]);
          case 2:
            return a ? o(r3[0], r3[1]) : o.call(s, r3[0], r3[1]);
          case 3:
            return a ? o(r3[0], r3[1], r3[2]) : o.call(s, r3[0], r3[1], r3[2]);
          case 4:
            return a ? o(r3[0], r3[1], r3[2], r3[3]) : o.call(s, r3[0], r3[1], r3[2], r3[3]);
        }
        return o.apply(s, r3);
      };
    }, function(e, n, o) {
      o(59)("match", 1, function(r3, s, a) {
        return [function(l) {
          var h = r3(this), u = l == null ? void 0 : l[s];
          return u !== void 0 ? u.call(l, h) : new RegExp(l)[s](String(h));
        }, a];
      });
    }, function(e, n, o) {
      var r3 = o(7), s = o(16), a = o(4), l = o(12), h = o(34);
      e.exports = function(u, d, c) {
        var g = h(u), f = c(l, g, ""[u]), m = f[0], p = f[1];
        a(function() {
          var _ = {};
          return _[g] = function() {
            return 7;
          }, ""[u](_) != 7;
        }) && (s(String.prototype, u, m), r3(RegExp.prototype, g, d == 2 ? function(_, v) {
          return p.call(_, this, v);
        } : function(_) {
          return p.call(_, this);
        }));
      };
    }, function(e, n, o) {
      n.__esModule = true, n.default = void 0, o(36);
      var r3 = o(5), s = function(h, u, d) {
        var c;
        return function() {
          var g = this, f = arguments, m = function() {
            c = null, d || h.apply(g, f);
          }, p = d && !c;
          clearTimeout(c), c = setTimeout(m, u), p && h.apply(g, f);
        };
      }, a = function(l) {
        function h() {
          for (var d, c = arguments.length, g = new Array(c), f = 0; f < c; f++)
            g[f] = arguments[f];
          return (d = l.call.apply(l, [this].concat(g)) || this).state = { bump: false, debounced: false }, d;
        }
        (function(c, g) {
          c.prototype = Object.create(g.prototype), (c.prototype.constructor = c).__proto__ = g;
        })(h, l);
        var u = h.prototype;
        return u.componentWillMount = function() {
          var d = this;
          this.debounceStatusUpdate = s(function() {
            if (!d.state.debounced) {
              var c = !d.props.isInFocus || d.props.validChoiceMade;
              d.setState(function(g) {
                return { bump: !g.bump, debounced: true, silenced: c };
              });
            }
          }, 1400);
        }, u.componentWillReceiveProps = function(d) {
          d.queryLength, this.setState({ debounced: false });
        }, u.render = function() {
          var d = this.props, c = d.id, g = d.length, f = d.queryLength, m = d.minQueryLength, p = d.selectedOption, _ = d.selectedOptionIndex, v = d.tQueryTooShort, y = d.tNoResults, x = d.tSelectedOption, k = d.tResults, w = this.state, E = w.bump, C = w.debounced, S = w.silenced, z = f < m, P = g === 0, N = p ? x(p, g, _) : "", A = null;
          return A = z ? v(m) : P ? y() : k(g, N), this.debounceStatusUpdate(), (0, r3.createElement)("div", { style: { border: "0", clip: "rect(0 0 0 0)", height: "1px", marginBottom: "-1px", marginRight: "-1px", overflow: "hidden", padding: "0", position: "absolute", whiteSpace: "nowrap", width: "1px" } }, (0, r3.createElement)("div", { id: c + "__status--A", role: "status", "aria-atomic": "true", "aria-live": "polite" }, !S && C && E ? A : ""), (0, r3.createElement)("div", { id: c + "__status--B", role: "status", "aria-atomic": "true", "aria-live": "polite" }, S || !C || E ? "" : A));
        }, h;
      }(r3.Component);
      (n.default = a).defaultProps = { tQueryTooShort: function(l) {
        return "Type in " + l + " or more characters for results";
      }, tNoResults: function() {
        return "No search results";
      }, tSelectedOption: function(l, h, u) {
        return l + " " + (u + 1) + " of " + h + " is highlighted";
      }, tResults: function(l, h) {
        return l + " " + (l === 1 ? "result" : "results") + " " + (l === 1 ? "is" : "are") + " available. " + h;
      } };
    }, function(e, n, o) {
      n.__esModule = true, n.default = void 0;
      var r3 = o(5), s = function(l) {
        var h = l.className;
        return (0, r3.createElement)("svg", { version: "1.1", xmlns: "http://www.w3.org/2000/svg", className: h, focusable: "false" }, (0, r3.createElement)("g", { stroke: "none", fill: "none", "fill-rule": "evenodd" }, (0, r3.createElement)("polygon", { fill: "#000000", points: "0 0 22 0 11 17" })));
      };
      n.default = s;
    }]).default;
  });
})(Cp);
const lE = /* @__PURE__ */ v1(Cp.exports), hE = `@charset "UTF-8";.govuk-link{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:underline}/*! Copyright (c) 2011 by Margaret Calvert & Henrik Kubel. All rights reserved. The font has been customised for exclusive use on gov.uk. This cut is not commercially available. */@font-face{font-family:GDS Transport;font-style:normal;font-weight:400;src:url(/assets/fonts/light-94a07e06a1-v2.woff2) format("woff2"),url(/assets/fonts/light-f591b13f7d-v2.woff) format("woff");font-display:fallback}@font-face{font-family:GDS Transport;font-style:normal;font-weight:700;src:url(/assets/fonts/bold-b542beb274-v2.woff2) format("woff2"),url(/assets/fonts/bold-affa96571d-v2.woff) format("woff");font-display:fallback}@media print{.govuk-link{font-family:sans-serif}}.govuk-link:focus{outline:3px solid transparent;color:#0b0c0c;background-color:#fd0;box-shadow:0 -2px #fd0,0 4px #0b0c0c;text-decoration:none}.govuk-link:link{color:#1d70b8}.govuk-link:visited{color:#4c2c92}.govuk-link:hover{color:#003078}.govuk-link:active{color:#0b0c0c}.govuk-link:focus{color:#0b0c0c}@media print{[href^="/"].govuk-link:after,[href^="http://"].govuk-link:after,[href^="https://"].govuk-link:after{content:" (" attr(href) ")";font-size:90%;word-wrap:break-word}}.govuk-link--muted:link,.govuk-link--muted:visited{color:#505a5f}.govuk-link--muted:hover,.govuk-link--muted:active{color:#0b0c0c}.govuk-link--muted:focus{color:#0b0c0c}.govuk-link--text-colour:link,.govuk-link--text-colour:visited{color:#0b0c0c}@media print{.govuk-link--text-colour:link,.govuk-link--text-colour:visited{color:#000}}.govuk-link--text-colour:hover{color:#0b0c0cfc}.govuk-link--text-colour:active,.govuk-link--text-colour:focus{color:#0b0c0c}@media print{.govuk-link--text-colour:active,.govuk-link--text-colour:focus{color:#000}}.govuk-link--inverse:link,.govuk-link--inverse:visited{color:#fff}.govuk-link--inverse:hover,.govuk-link--inverse:active{color:#fffffffc}.govuk-link--inverse:focus{color:#0b0c0c}.govuk-link--no-underline:not(:hover):not(:active){text-decoration:none}.govuk-link--no-visited-state:link,.govuk-link--no-visited-state:visited{color:#1d70b8}.govuk-link--no-visited-state:hover{color:#003078}.govuk-link--no-visited-state:active{color:#0b0c0c}.govuk-link--no-visited-state:focus{color:#0b0c0c}.govuk-list{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.25;color:#0b0c0c;margin-top:0;margin-bottom:15px;padding-left:0;list-style-type:none}@media print{.govuk-list{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-list{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-list{font-size:14pt;line-height:1.15}}@media print{.govuk-list{color:#000}}@media (min-width: 40.0625em){.govuk-list{margin-bottom:20px}}.govuk-list .govuk-list{margin-top:10px}.govuk-list>li{margin-bottom:5px}.govuk-list--bullet{padding-left:20px;list-style-type:disc}.govuk-list--number{padding-left:20px;list-style-type:decimal}.govuk-list--bullet>li,.govuk-list--number>li{margin-bottom:0}@media (min-width: 40.0625em){.govuk-list--bullet>li,.govuk-list--number>li{margin-bottom:5px}}.govuk-list--spaced>li{margin-bottom:10px}@media (min-width: 40.0625em){.govuk-list--spaced>li{margin-bottom:15px}}.govuk-heading-xl{color:#0b0c0c;font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;font-size:32px;font-size:2rem;line-height:1.09375;display:block;margin-top:0;margin-bottom:30px}@media print{.govuk-heading-xl{color:#000}}@media print{.govuk-heading-xl{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-heading-xl{font-size:48px;font-size:3rem;line-height:1.0416666667}}@media print{.govuk-heading-xl{font-size:32pt;line-height:1.15}}@media (min-width: 40.0625em){.govuk-heading-xl{margin-bottom:50px}}.govuk-heading-l{color:#0b0c0c;font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;font-size:24px;font-size:1.5rem;line-height:1.0416666667;display:block;margin-top:0;margin-bottom:20px}@media print{.govuk-heading-l{color:#000}}@media print{.govuk-heading-l{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-heading-l{font-size:36px;font-size:2.25rem;line-height:1.1111111111}}@media print{.govuk-heading-l{font-size:24pt;line-height:1.05}}@media (min-width: 40.0625em){.govuk-heading-l{margin-bottom:30px}}.govuk-heading-m{color:#0b0c0c;font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;font-size:18px;font-size:1.125rem;line-height:1.1111111111;display:block;margin-top:0;margin-bottom:15px}@media print{.govuk-heading-m{color:#000}}@media print{.govuk-heading-m{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-heading-m{font-size:24px;font-size:1.5rem;line-height:1.25}}@media print{.govuk-heading-m{font-size:18pt;line-height:1.15}}@media (min-width: 40.0625em){.govuk-heading-m{margin-bottom:20px}}.govuk-heading-s{color:#0b0c0c;font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;font-size:16px;font-size:1rem;line-height:1.25;display:block;margin-top:0;margin-bottom:15px}@media print{.govuk-heading-s{color:#000}}@media print{.govuk-heading-s{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-heading-s{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-heading-s{font-size:14pt;line-height:1.15}}@media (min-width: 40.0625em){.govuk-heading-s{margin-bottom:20px}}.govuk-caption-xl{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:18px;font-size:1.125rem;line-height:1.1111111111;display:block;margin-bottom:5px;color:#505a5f}@media print{.govuk-caption-xl{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-caption-xl{font-size:27px;font-size:1.6875rem;line-height:1.1111111111}}@media print{.govuk-caption-xl{font-size:18pt;line-height:1.15}}.govuk-caption-l{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:18px;font-size:1.125rem;line-height:1.1111111111;display:block;margin-bottom:5px;color:#505a5f}@media print{.govuk-caption-l{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-caption-l{font-size:24px;font-size:1.5rem;line-height:1.25}}@media print{.govuk-caption-l{font-size:18pt;line-height:1.15}}@media (min-width: 40.0625em){.govuk-caption-l{margin-bottom:0}}.govuk-caption-m{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.25;display:block;color:#505a5f}@media print{.govuk-caption-m{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-caption-m{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-caption-m{font-size:14pt;line-height:1.15}}.govuk-body-lead,.govuk-body-l{color:#0b0c0c;font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:18px;font-size:1.125rem;line-height:1.1111111111;margin-top:0;margin-bottom:20px}@media print{.govuk-body-lead,.govuk-body-l{color:#000}}@media print{.govuk-body-lead,.govuk-body-l{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-body-lead,.govuk-body-l{font-size:24px;font-size:1.5rem;line-height:1.25}}@media print{.govuk-body-lead,.govuk-body-l{font-size:18pt;line-height:1.15}}@media (min-width: 40.0625em){.govuk-body-lead,.govuk-body-l{margin-bottom:30px}}.govuk-body,.govuk-body-m{color:#0b0c0c;font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.25;margin-top:0;margin-bottom:15px}@media print{.govuk-body,.govuk-body-m{color:#000}}@media print{.govuk-body,.govuk-body-m{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-body,.govuk-body-m{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-body,.govuk-body-m{font-size:14pt;line-height:1.15}}@media (min-width: 40.0625em){.govuk-body,.govuk-body-m{margin-bottom:20px}}.govuk-body-s{color:#0b0c0c;font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:14px;font-size:.875rem;line-height:1.1428571429;margin-top:0;margin-bottom:15px}@media print{.govuk-body-s{color:#000}}@media print{.govuk-body-s{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-body-s{font-size:16px;font-size:1rem;line-height:1.25}}@media print{.govuk-body-s{font-size:14pt;line-height:1.2}}@media (min-width: 40.0625em){.govuk-body-s{margin-bottom:20px}}.govuk-body-xs{color:#0b0c0c;font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:12px;font-size:.75rem;line-height:1.25;margin-top:0;margin-bottom:15px}@media print{.govuk-body-xs{color:#000}}@media print{.govuk-body-xs{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-body-xs{font-size:14px;font-size:.875rem;line-height:1.4285714286}}@media print{.govuk-body-xs{font-size:12pt;line-height:1.2}}@media (min-width: 40.0625em){.govuk-body-xs{margin-bottom:20px}}.govuk-body-l+.govuk-heading-l,.govuk-body-lead+.govuk-heading-l{padding-top:5px}@media (min-width: 40.0625em){.govuk-body-l+.govuk-heading-l,.govuk-body-lead+.govuk-heading-l{padding-top:10px}}.govuk-body-m+.govuk-heading-l,.govuk-body+.govuk-heading-l,.govuk-body-s+.govuk-heading-l,.govuk-list+.govuk-heading-l{padding-top:15px}@media (min-width: 40.0625em){.govuk-body-m+.govuk-heading-l,.govuk-body+.govuk-heading-l,.govuk-body-s+.govuk-heading-l,.govuk-list+.govuk-heading-l{padding-top:20px}}.govuk-body-m+.govuk-heading-m,.govuk-body+.govuk-heading-m,.govuk-body-s+.govuk-heading-m,.govuk-list+.govuk-heading-m,.govuk-body-m+.govuk-heading-s,.govuk-body+.govuk-heading-s,.govuk-body-s+.govuk-heading-s,.govuk-list+.govuk-heading-s{padding-top:5px}@media (min-width: 40.0625em){.govuk-body-m+.govuk-heading-m,.govuk-body+.govuk-heading-m,.govuk-body-s+.govuk-heading-m,.govuk-list+.govuk-heading-m,.govuk-body-m+.govuk-heading-s,.govuk-body+.govuk-heading-s,.govuk-body-s+.govuk-heading-s,.govuk-list+.govuk-heading-s{padding-top:10px}}.govuk-section-break{margin:0;border:0}.govuk-section-break--xl{margin-top:30px;margin-bottom:30px}@media (min-width: 40.0625em){.govuk-section-break--xl{margin-top:50px}}@media (min-width: 40.0625em){.govuk-section-break--xl{margin-bottom:50px}}.govuk-section-break--l{margin-top:20px;margin-bottom:20px}@media (min-width: 40.0625em){.govuk-section-break--l{margin-top:30px}}@media (min-width: 40.0625em){.govuk-section-break--l{margin-bottom:30px}}.govuk-section-break--m{margin-top:15px;margin-bottom:15px}@media (min-width: 40.0625em){.govuk-section-break--m{margin-top:20px}}@media (min-width: 40.0625em){.govuk-section-break--m{margin-bottom:20px}}.govuk-section-break--visible{border-bottom:1px solid #b1b4b6}.govuk-button-group{margin-bottom:5px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}@media (min-width: 40.0625em){.govuk-button-group{margin-bottom:15px}}.govuk-button-group .govuk-link{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.1875;display:inline-block;max-width:100%;margin-top:5px;margin-bottom:20px;text-align:center}@media print{.govuk-button-group .govuk-link{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-button-group .govuk-link{font-size:19px;font-size:1.1875rem;line-height:1}}@media print{.govuk-button-group .govuk-link{font-size:14pt;line-height:19px}}.govuk-button-group .govuk-button{margin-bottom:17px}@media (min-width: 40.0625em){.govuk-button-group{margin-right:-15px;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:baseline;-webkit-align-items:baseline;-ms-flex-align:baseline;align-items:baseline}.govuk-button-group .govuk-button,.govuk-button-group .govuk-link{margin-right:15px}.govuk-button-group .govuk-link{text-align:left}}.govuk-form-group{margin-bottom:20px}.govuk-form-group:after{content:"";display:block;clear:both}@media (min-width: 40.0625em){.govuk-form-group{margin-bottom:30px}}.govuk-form-group .govuk-form-group:last-of-type{margin-bottom:0}.govuk-form-group--error{padding-left:15px;border-left:5px solid #d4351c}.govuk-form-group--error .govuk-form-group{padding:0;border:0}.govuk-grid-row{margin-right:-15px;margin-left:-15px}.govuk-grid-row:after{content:"";display:block;clear:both}.govuk-grid-column-one-quarter{box-sizing:border-box;width:100%;padding:0 15px}@media (min-width: 40.0625em){.govuk-grid-column-one-quarter{width:25%;float:left}}.govuk-grid-column-one-third{box-sizing:border-box;width:100%;padding:0 15px}@media (min-width: 40.0625em){.govuk-grid-column-one-third{width:33.3333%;float:left}}.govuk-grid-column-one-half{box-sizing:border-box;width:100%;padding:0 15px}@media (min-width: 40.0625em){.govuk-grid-column-one-half{width:50%;float:left}}.govuk-grid-column-two-thirds{box-sizing:border-box;width:100%;padding:0 15px}@media (min-width: 40.0625em){.govuk-grid-column-two-thirds{width:66.6666%;float:left}}.govuk-grid-column-three-quarters{box-sizing:border-box;width:100%;padding:0 15px}@media (min-width: 40.0625em){.govuk-grid-column-three-quarters{width:75%;float:left}}.govuk-grid-column-full{box-sizing:border-box;width:100%;padding:0 15px}@media (min-width: 40.0625em){.govuk-grid-column-full{width:100%;float:left}}.govuk-grid-column-one-quarter-from-desktop{box-sizing:border-box;padding:0 15px}@media (min-width: 48.0625em){.govuk-grid-column-one-quarter-from-desktop{width:25%;float:left}}.govuk-grid-column-one-third-from-desktop{box-sizing:border-box;padding:0 15px}@media (min-width: 48.0625em){.govuk-grid-column-one-third-from-desktop{width:33.3333%;float:left}}.govuk-grid-column-one-half-from-desktop{box-sizing:border-box;padding:0 15px}@media (min-width: 48.0625em){.govuk-grid-column-one-half-from-desktop{width:50%;float:left}}.govuk-grid-column-two-thirds-from-desktop{box-sizing:border-box;padding:0 15px}@media (min-width: 48.0625em){.govuk-grid-column-two-thirds-from-desktop{width:66.6666%;float:left}}.govuk-grid-column-three-quarters-from-desktop{box-sizing:border-box;padding:0 15px}@media (min-width: 48.0625em){.govuk-grid-column-three-quarters-from-desktop{width:75%;float:left}}.govuk-grid-column-full-from-desktop{box-sizing:border-box;padding:0 15px}@media (min-width: 48.0625em){.govuk-grid-column-full-from-desktop{width:100%;float:left}}.govuk-main-wrapper{display:block;padding-top:20px;padding-bottom:20px}@media (min-width: 40.0625em){.govuk-main-wrapper{padding-top:40px;padding-bottom:40px}}.govuk-main-wrapper--auto-spacing:first-child,.govuk-main-wrapper--l{padding-top:30px}@media (min-width: 40.0625em){.govuk-main-wrapper--auto-spacing:first-child,.govuk-main-wrapper--l{padding-top:50px}}.govuk-template{background-color:#f3f2f1;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;text-size-adjust:100%}@media screen{.govuk-template{overflow-y:scroll}}.govuk-template__body{margin:0;background-color:#fff}.govuk-width-container{max-width:960px;margin-right:15px;margin-left:15px}@supports (margin: max(0px)){.govuk-width-container{margin-right:max(15px,calc(15px + env(safe-area-inset-right)));margin-left:max(15px,calc(15px + env(safe-area-inset-left)))}}@media (min-width: 40.0625em){.govuk-width-container{margin-right:30px;margin-left:30px}@supports (margin: max(0px)){.govuk-width-container{margin-right:max(30px,calc(15px + env(safe-area-inset-right)));margin-left:max(30px,calc(15px + env(safe-area-inset-left)))}}}@media (min-width: 1020px){.govuk-width-container{margin-right:auto;margin-left:auto}@supports (margin: max(0px)){.govuk-width-container{margin-right:auto;margin-left:auto}}}.govuk-accordion{margin-bottom:20px}@media (min-width: 40.0625em){.govuk-accordion{margin-bottom:30px}}.govuk-accordion__section{padding-top:15px}.govuk-accordion__section-heading{margin-top:0;margin-bottom:0;padding-top:15px;padding-bottom:15px}.govuk-accordion__section-button{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;font-size:18px;font-size:1.125rem;line-height:1.1111111111;color:#0b0c0c;display:block;margin-bottom:0;padding-top:15px}@media print{.govuk-accordion__section-button{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-accordion__section-button{font-size:24px;font-size:1.5rem;line-height:1.25}}@media print{.govuk-accordion__section-button{font-size:18pt;line-height:1.15}}@media print{.govuk-accordion__section-button{color:#000}}.govuk-accordion__section-content>:last-child{margin-bottom:0}.js-enabled .govuk-accordion{border-bottom:1px solid #b1b4b6}.js-enabled .govuk-accordion__section{padding-top:0}.js-enabled .govuk-accordion__section-content{display:none;padding-bottom:30px}@media (min-width: 40.0625em){.js-enabled .govuk-accordion__section-content{padding-bottom:50px}}.js-enabled .govuk-accordion__section--expanded .govuk-accordion__section-content{display:block}.js-enabled .govuk-accordion__show-all{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.25;position:relative;z-index:1;margin-bottom:9px;padding:5px 2px 5px 0;border-width:0;color:#1d70b8;background:none;cursor:pointer;-webkit-appearance:none}@media print{.js-enabled .govuk-accordion__show-all{font-family:sans-serif}}@media (min-width: 40.0625em){.js-enabled .govuk-accordion__show-all{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.js-enabled .govuk-accordion__show-all{font-size:14pt;line-height:1.15}}@media (min-width: 48.0625em){.js-enabled .govuk-accordion__show-all{margin-bottom:14px}}.js-enabled .govuk-accordion__show-all::-moz-focus-inner{padding:0;border:0}.js-enabled .govuk-accordion__show-all:hover{color:#0b0c0c;background:#f3f2f1;box-shadow:0 -2px #f3f2f1,0 4px #f3f2f1}.js-enabled .govuk-accordion__show-all:hover .govuk-accordion__section-toggle-text{color:#0b0c0c}.js-enabled .govuk-accordion__show-all:hover .govuk-accordion-nav__chevron{color:#0b0c0c;background:#0b0c0c}.js-enabled .govuk-accordion__show-all:hover .govuk-accordion-nav__chevron:after{color:#f3f2f1}.js-enabled .govuk-accordion__show-all:focus{outline:3px solid transparent;color:#0b0c0c;background-color:#fd0;box-shadow:0 -2px #fd0,0 4px #0b0c0c;text-decoration:none}.js-enabled .govuk-accordion__show-all:focus .govuk-accordion-nav__chevron{background:#0b0c0c}.js-enabled .govuk-accordion__show-all:focus .govuk-accordion-nav__chevron:after{color:#fd0}.js-enabled .govuk-accordion__section-heading{padding:0}.js-enabled .govuk-accordion-nav__chevron{box-sizing:border-box;display:inline-block;position:relative;width:1.25rem;height:1.25rem;border:.0625rem solid;border-radius:50%;vertical-align:middle}.js-enabled .govuk-accordion-nav__chevron:after{content:"";box-sizing:border-box;display:block;position:absolute;bottom:.3125rem;left:.375rem;width:.375rem;height:.375rem;-webkit-transform:rotate(-45deg);-ms-transform:rotate(-45deg);transform:rotate(-45deg);border-top:.125rem solid;border-right:.125rem solid}.js-enabled .govuk-accordion-nav__chevron--down{-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg)}.js-enabled .govuk-accordion__section-button{width:100%;padding:10px 0 0;border:0;border-top:1px solid #b1b4b6;border-bottom:10px solid transparent;color:#0b0c0c;background:none;text-align:left;cursor:pointer;-webkit-appearance:none}@media (min-width: 40.0625em){.js-enabled .govuk-accordion__section-button{padding-bottom:10px}}.js-enabled .govuk-accordion__section-button:active{color:#0b0c0c;background:none}.js-enabled .govuk-accordion__section-button:hover{color:#0b0c0c;background:#f3f2f1}.js-enabled .govuk-accordion__section-button:hover .govuk-accordion__section-toggle-text{color:#0b0c0c}.js-enabled .govuk-accordion__section-button:hover .govuk-accordion-nav__chevron{color:#0b0c0c;background:#0b0c0c}.js-enabled .govuk-accordion__section-button:hover .govuk-accordion-nav__chevron:after{color:#f3f2f1}.js-enabled .govuk-accordion__section-button:focus{outline:0}.js-enabled .govuk-accordion__section-button:focus .govuk-accordion__section-heading-text-focus,.js-enabled .govuk-accordion__section-button:focus .govuk-accordion__section-summary-focus,.js-enabled .govuk-accordion__section-button:focus .govuk-accordion__section-toggle-focus{outline:3px solid transparent;color:#0b0c0c;background-color:#fd0;box-shadow:0 -2px #fd0,0 4px #0b0c0c;text-decoration:none}.js-enabled .govuk-accordion__section-button:focus .govuk-accordion-nav__chevron{color:#0b0c0c;background:#0b0c0c}.js-enabled .govuk-accordion__section-button:focus .govuk-accordion-nav__chevron:after{color:#fd0}.js-enabled .govuk-accordion__section-button::-moz-focus-inner{padding:0;border:0}.js-enabled .govuk-accordion__section--expanded .govuk-accordion__section-button{padding-bottom:20px;border-bottom:0}.js-enabled .govuk-accordion__section-button:focus .govuk-accordion__section-toggle-focus{padding-bottom:3px}@media (min-width: 48.0625em){.js-enabled .govuk-accordion__section-button:focus .govuk-accordion__section-toggle-focus{padding-bottom:2px}}.js-enabled .govuk-accordion__section-toggle,.js-enabled .govuk-accordion__section-heading-text,.js-enabled .govuk-accordion__section-summary{display:block;margin-bottom:13px}.js-enabled .govuk-accordion__section-toggle .govuk-accordion__section-heading-text-focus,.js-enabled .govuk-accordion__section-toggle .govuk-accordion__section-summary-focus,.js-enabled .govuk-accordion__section-toggle .govuk-accordion__section-toggle-focus,.js-enabled .govuk-accordion__section-heading-text .govuk-accordion__section-heading-text-focus,.js-enabled .govuk-accordion__section-heading-text .govuk-accordion__section-summary-focus,.js-enabled .govuk-accordion__section-heading-text .govuk-accordion__section-toggle-focus,.js-enabled .govuk-accordion__section-summary .govuk-accordion__section-heading-text-focus,.js-enabled .govuk-accordion__section-summary .govuk-accordion__section-summary-focus,.js-enabled .govuk-accordion__section-summary .govuk-accordion__section-toggle-focus{display:inline}.js-enabled .govuk-accordion__section-toggle{font-size:16px;font-size:1rem;line-height:1.25;font-weight:400;color:#1d70b8}@media (min-width: 40.0625em){.js-enabled .govuk-accordion__section-toggle{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.js-enabled .govuk-accordion__section-toggle{font-size:14pt;line-height:1.15}}.js-enabled .govuk-accordion__show-all-text,.js-enabled .govuk-accordion__section-toggle-text{margin-left:5px;vertical-align:middle}@media screen and (forced-colors: active){.js-enabled .govuk-accordion__show-all:hover .govuk-accordion-nav__chevron,.js-enabled .govuk-accordion__section-button:hover .govuk-accordion-nav__chevron{background-color:transparent}.js-enabled .govuk-accordion__show-all:focus .govuk-accordion__section-heading-text-focus,.js-enabled .govuk-accordion__show-all:focus .govuk-accordion__section-summary-focus,.js-enabled .govuk-accordion__show-all:focus .govuk-accordion__section-toggle-focus,.js-enabled .govuk-accordion__show-all:focus .govuk-accordion-nav__chevron,.js-enabled .govuk-accordion__section-button:focus .govuk-accordion__section-heading-text-focus,.js-enabled .govuk-accordion__section-button:focus .govuk-accordion__section-summary-focus,.js-enabled .govuk-accordion__section-button:focus .govuk-accordion__section-toggle-focus,.js-enabled .govuk-accordion__section-button:focus .govuk-accordion-nav__chevron{background:transparent;background-color:transparent}}@media (hover: none){.js-enabled .govuk-accordion__section-header:hover{border-top-color:#b1b4b6;box-shadow:inset 0 3px #1d70b8}.js-enabled .govuk-accordion__section-header:hover .govuk-accordion__section-button{border-top-color:#b1b4b6}}.govuk-back-link{font-size:14px;font-size:.875rem;line-height:1.1428571429;font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:underline;display:inline-block;position:relative;margin-top:15px;margin-bottom:15px;padding-left:14px}@media (min-width: 40.0625em){.govuk-back-link{font-size:16px;font-size:1rem;line-height:1.25}}@media print{.govuk-back-link{font-size:14pt;line-height:1.2}}@media print{.govuk-back-link{font-family:sans-serif}}.govuk-back-link:focus{outline:3px solid transparent;color:#0b0c0c;background-color:#fd0;box-shadow:0 -2px #fd0,0 4px #0b0c0c;text-decoration:none}.govuk-back-link:link,.govuk-back-link:visited{color:#0b0c0c}@media print{.govuk-back-link:link,.govuk-back-link:visited{color:#000}}.govuk-back-link:hover{color:#0b0c0cfc}.govuk-back-link:active,.govuk-back-link:focus{color:#0b0c0c}@media print{.govuk-back-link:active,.govuk-back-link:focus{color:#000}}.govuk-back-link:before{content:"";display:block;position:absolute;top:0;bottom:0;left:3px;width:7px;height:7px;margin:auto 0;-webkit-transform:rotate(225deg);-ms-transform:rotate(225deg);transform:rotate(225deg);border:solid;border-width:1px 1px 0 0;border-color:#505a5f}.govuk-back-link:focus:before{border-color:#0b0c0c}.govuk-back-link:after{content:"";position:absolute;top:-14px;right:0;bottom:-14px;left:0}.govuk-breadcrumbs{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:14px;font-size:.875rem;line-height:1.1428571429;color:#0b0c0c;margin-top:15px;margin-bottom:10px}@media print{.govuk-breadcrumbs{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-breadcrumbs{font-size:16px;font-size:1rem;line-height:1.25}}@media print{.govuk-breadcrumbs{font-size:14pt;line-height:1.2}}@media print{.govuk-breadcrumbs{color:#000}}.govuk-breadcrumbs__list{margin:0;padding:0;list-style-type:none}.govuk-breadcrumbs__list:after{content:"";display:block;clear:both}.govuk-breadcrumbs__list-item{display:inline-block;position:relative;margin-bottom:5px;margin-left:10px;padding-left:15.655px;float:left}.govuk-breadcrumbs__list-item:before{content:"";display:block;position:absolute;top:0;bottom:0;left:-3.31px;width:7px;height:7px;margin:auto 0;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);border:solid;border-width:1px 1px 0 0;border-color:#505a5f}.govuk-breadcrumbs__list-item:first-child{margin-left:0;padding-left:0}.govuk-breadcrumbs__list-item:first-child:before{content:none;display:none}.govuk-breadcrumbs__link{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:underline}@media print{.govuk-breadcrumbs__link{font-family:sans-serif}}.govuk-breadcrumbs__link:focus{outline:3px solid transparent;color:#0b0c0c;background-color:#fd0;box-shadow:0 -2px #fd0,0 4px #0b0c0c;text-decoration:none}.govuk-breadcrumbs__link:link,.govuk-breadcrumbs__link:visited{color:#0b0c0c}@media print{.govuk-breadcrumbs__link:link,.govuk-breadcrumbs__link:visited{color:#000}}.govuk-breadcrumbs__link:hover{color:#0b0c0cfc}.govuk-breadcrumbs__link:active,.govuk-breadcrumbs__link:focus{color:#0b0c0c}@media print{.govuk-breadcrumbs__link:active,.govuk-breadcrumbs__link:focus{color:#000}}@media (max-width: 40.0525em){.govuk-breadcrumbs--collapse-on-mobile .govuk-breadcrumbs__list-item{display:none}.govuk-breadcrumbs--collapse-on-mobile .govuk-breadcrumbs__list-item:first-child,.govuk-breadcrumbs--collapse-on-mobile .govuk-breadcrumbs__list-item:last-child{display:inline-block}.govuk-breadcrumbs--collapse-on-mobile .govuk-breadcrumbs__list-item:before{top:6px;margin:0}.govuk-breadcrumbs--collapse-on-mobile .govuk-breadcrumbs__list{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}}.govuk-button{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.1875;box-sizing:border-box;display:inline-block;position:relative;width:100%;margin:0 0 22px;padding:8px 10px 7px;border:2px solid transparent;border-radius:0;color:#fff;background-color:#00703c;box-shadow:0 2px #002d18;text-align:center;vertical-align:top;cursor:pointer;-webkit-appearance:none}@media print{.govuk-button{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-button{font-size:19px;font-size:1.1875rem;line-height:1}}@media print{.govuk-button{font-size:14pt;line-height:19px}}@media (min-width: 40.0625em){.govuk-button{margin-bottom:32px}}@media (min-width: 40.0625em){.govuk-button{width:auto}}.govuk-button:link,.govuk-button:visited,.govuk-button:active,.govuk-button:hover{color:#fff;text-decoration:none}.govuk-button::-moz-focus-inner{padding:0;border:0}.govuk-button:hover{background-color:#005a30}.govuk-button:active{top:2px}.govuk-button:focus{border-color:#fd0;outline:3px solid transparent;box-shadow:inset 0 0 0 1px #fd0}.govuk-button:focus:not(:active):not(:hover){border-color:#fd0;color:#0b0c0c;background-color:#fd0;box-shadow:0 2px #0b0c0c}.govuk-button:before{content:"";display:block;position:absolute;top:-2px;right:-2px;bottom:-4px;left:-2px;background:transparent}.govuk-button:active:before{top:-4px}.govuk-button--disabled,.govuk-button[disabled=disabled],.govuk-button[disabled]{opacity:.5}.govuk-button--disabled:hover,.govuk-button[disabled=disabled]:hover,.govuk-button[disabled]:hover{background-color:#00703c;cursor:default}.govuk-button--disabled:active,.govuk-button[disabled=disabled]:active,.govuk-button[disabled]:active{top:0;box-shadow:0 2px #002d18}.govuk-button--secondary{background-color:#f3f2f1;box-shadow:0 2px #929191}.govuk-button--secondary,.govuk-button--secondary:link,.govuk-button--secondary:visited,.govuk-button--secondary:active,.govuk-button--secondary:hover{color:#0b0c0c}.govuk-button--secondary:hover{background-color:#dbdad9}.govuk-button--secondary:hover[disabled]{background-color:#f3f2f1}.govuk-button--warning{background-color:#d4351c;box-shadow:0 2px #55150b}.govuk-button--warning,.govuk-button--warning:link,.govuk-button--warning:visited,.govuk-button--warning:active,.govuk-button--warning:hover{color:#fff}.govuk-button--warning:hover{background-color:#aa2a16}.govuk-button--warning:hover[disabled]{background-color:#d4351c}.govuk-button--start{font-weight:700;font-size:18px;font-size:1.125rem;line-height:1;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;min-height:auto;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}@media (min-width: 40.0625em){.govuk-button--start{font-size:24px;font-size:1.5rem;line-height:1}}@media print{.govuk-button--start{font-size:18pt;line-height:1}}.govuk-button__start-icon{margin-left:5px;vertical-align:middle;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;forced-color-adjust:auto}@media (min-width: 48.0625em){.govuk-button__start-icon{margin-left:10px}}.govuk-error-message{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;font-size:16px;font-size:1rem;line-height:1.25;display:block;margin-top:0;margin-bottom:15px;clear:both;color:#d4351c}@media print{.govuk-error-message{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-error-message{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-error-message{font-size:14pt;line-height:1.15}}.govuk-fieldset{min-width:0;margin:0;padding:0;border:0}.govuk-fieldset:after{content:"";display:block;clear:both}@supports not (caret-color: auto){.govuk-fieldset,x:-moz-any-link{display:table-cell}}.govuk-fieldset__legend{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.25;color:#0b0c0c;box-sizing:border-box;display:table;max-width:100%;margin-bottom:10px;padding:0;white-space:normal}@media print{.govuk-fieldset__legend{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-fieldset__legend{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-fieldset__legend{font-size:14pt;line-height:1.15}}@media print{.govuk-fieldset__legend{color:#000}}.govuk-fieldset__legend--xl{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;font-size:32px;font-size:2rem;line-height:1.09375;margin-bottom:15px}@media print{.govuk-fieldset__legend--xl{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-fieldset__legend--xl{font-size:48px;font-size:3rem;line-height:1.0416666667}}@media print{.govuk-fieldset__legend--xl{font-size:32pt;line-height:1.15}}.govuk-fieldset__legend--l{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;font-size:24px;font-size:1.5rem;line-height:1.0416666667;margin-bottom:15px}@media print{.govuk-fieldset__legend--l{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-fieldset__legend--l{font-size:36px;font-size:2.25rem;line-height:1.1111111111}}@media print{.govuk-fieldset__legend--l{font-size:24pt;line-height:1.05}}.govuk-fieldset__legend--m{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;font-size:18px;font-size:1.125rem;line-height:1.1111111111;margin-bottom:15px}@media print{.govuk-fieldset__legend--m{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-fieldset__legend--m{font-size:24px;font-size:1.5rem;line-height:1.25}}@media print{.govuk-fieldset__legend--m{font-size:18pt;line-height:1.15}}.govuk-fieldset__legend--s{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;font-size:16px;font-size:1rem;line-height:1.25}@media print{.govuk-fieldset__legend--s{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-fieldset__legend--s{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-fieldset__legend--s{font-size:14pt;line-height:1.15}}.govuk-fieldset__heading{margin:0;font-size:inherit;font-weight:inherit}.govuk-hint{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.25;margin-bottom:15px;color:#505a5f}@media print{.govuk-hint{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-hint{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-hint{font-size:14pt;line-height:1.15}}.govuk-label:not(.govuk-label--m):not(.govuk-label--l):not(.govuk-label--xl)+.govuk-hint{margin-bottom:10px}.govuk-fieldset__legend:not(.govuk-fieldset__legend--m):not(.govuk-fieldset__legend--l):not(.govuk-fieldset__legend--xl)+.govuk-hint{margin-bottom:10px}.govuk-fieldset__legend+.govuk-hint{margin-top:-5px}.govuk-label{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.25;color:#0b0c0c;display:block;margin-bottom:5px}@media print{.govuk-label{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-label{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-label{font-size:14pt;line-height:1.15}}@media print{.govuk-label{color:#000}}.govuk-label--xl{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;font-size:32px;font-size:2rem;line-height:1.09375;margin-bottom:15px}@media print{.govuk-label--xl{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-label--xl{font-size:48px;font-size:3rem;line-height:1.0416666667}}@media print{.govuk-label--xl{font-size:32pt;line-height:1.15}}.govuk-label--l{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;font-size:24px;font-size:1.5rem;line-height:1.0416666667;margin-bottom:15px}@media print{.govuk-label--l{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-label--l{font-size:36px;font-size:2.25rem;line-height:1.1111111111}}@media print{.govuk-label--l{font-size:24pt;line-height:1.05}}.govuk-label--m{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;font-size:18px;font-size:1.125rem;line-height:1.1111111111;margin-bottom:10px}@media print{.govuk-label--m{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-label--m{font-size:24px;font-size:1.5rem;line-height:1.25}}@media print{.govuk-label--m{font-size:18pt;line-height:1.15}}.govuk-label--s{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;font-size:16px;font-size:1rem;line-height:1.25}@media print{.govuk-label--s{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-label--s{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-label--s{font-size:14pt;line-height:1.15}}.govuk-label-wrapper{margin:0}.govuk-checkboxes__item{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.25;display:block;position:relative;min-height:40px;margin-bottom:10px;padding-left:40px;clear:left}@media print{.govuk-checkboxes__item{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-checkboxes__item{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-checkboxes__item{font-size:14pt;line-height:1.15}}.govuk-checkboxes__item:last-child,.govuk-checkboxes__item:last-of-type{margin-bottom:0}.govuk-checkboxes__input{cursor:pointer;position:absolute;z-index:1;top:-2px;left:-2px;width:44px;height:44px;margin:0;opacity:0}.govuk-checkboxes__label{display:inline-block;margin-bottom:0;padding:8px 15px 5px;cursor:pointer;-ms-touch-action:manipulation;touch-action:manipulation}.govuk-checkboxes__label:before{content:"";box-sizing:border-box;position:absolute;top:0;left:0;width:40px;height:40px;border:2px solid currentColor;background:transparent}.govuk-checkboxes__label:after{content:"";box-sizing:border-box;position:absolute;top:11px;left:9px;width:23px;height:12px;-webkit-transform:rotate(-45deg);-ms-transform:rotate(-45deg);transform:rotate(-45deg);border:solid;border-width:0 0 5px 5px;border-top-color:transparent;opacity:0;background:transparent}.govuk-checkboxes__hint{display:block;padding-right:15px;padding-left:15px}.govuk-checkboxes__input:focus+.govuk-checkboxes__label:before{border-width:4px;outline:3px solid transparent;outline-offset:1px;box-shadow:0 0 0 3px #fd0}@media screen and (forced-colors: active),(-ms-high-contrast: active){.govuk-checkboxes__input:focus+.govuk-checkboxes__label:before{outline-color:Highlight}}.govuk-checkboxes__input:checked+.govuk-checkboxes__label:after{opacity:1}.govuk-checkboxes__input:disabled,.govuk-checkboxes__input:disabled+.govuk-checkboxes__label{cursor:default}.govuk-checkboxes__input:disabled+.govuk-checkboxes__label{opacity:.5}.govuk-checkboxes__divider{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.25;color:#0b0c0c;width:40px;margin-bottom:10px;text-align:center}@media print{.govuk-checkboxes__divider{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-checkboxes__divider{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-checkboxes__divider{font-size:14pt;line-height:1.15}}@media print{.govuk-checkboxes__divider{color:#000}}.govuk-checkboxes__conditional{margin-bottom:15px;margin-left:18px;padding-left:33px;border-left:4px solid #b1b4b6}@media (min-width: 40.0625em){.govuk-checkboxes__conditional{margin-bottom:20px}}.js-enabled .govuk-checkboxes__conditional--hidden{display:none}.govuk-checkboxes__conditional>:last-child{margin-bottom:0}.govuk-checkboxes--small .govuk-checkboxes__item{min-height:0;margin-bottom:0;padding-left:34px;float:left}.govuk-checkboxes--small .govuk-checkboxes__item:after{content:"";display:block;clear:both}.govuk-checkboxes--small .govuk-checkboxes__input{left:-10px}.govuk-checkboxes--small .govuk-checkboxes__label{margin-top:-2px;padding:13px 15px 13px 1px;float:left}@media (min-width: 40.0625em){.govuk-checkboxes--small .govuk-checkboxes__label{padding:11px 15px 10px 1px}}.govuk-checkboxes--small .govuk-checkboxes__label:before{top:8px;width:24px;height:24px}.govuk-checkboxes--small .govuk-checkboxes__label:after{top:15px;left:6px;width:12px;height:6.5px;border-width:0 0 3px 3px}.govuk-checkboxes--small .govuk-checkboxes__hint{padding:0;clear:both}.govuk-checkboxes--small .govuk-checkboxes__conditional{margin-left:10px;padding-left:20px;clear:both}.govuk-checkboxes--small .govuk-checkboxes__item:hover .govuk-checkboxes__input:not(:disabled)+.govuk-checkboxes__label:before{box-shadow:0 0 0 10px #b1b4b6}.govuk-checkboxes--small .govuk-checkboxes__item:hover .govuk-checkboxes__input:focus+.govuk-checkboxes__label:before{box-shadow:0 0 0 3px #fd0,0 0 0 10px #b1b4b6}@media (hover: none),(pointer: coarse){.govuk-checkboxes--small .govuk-checkboxes__item:hover .govuk-checkboxes__input:not(:disabled)+.govuk-checkboxes__label:before{box-shadow:initial}.govuk-checkboxes--small .govuk-checkboxes__item:hover .govuk-checkboxes__input:focus+.govuk-checkboxes__label:before{box-shadow:0 0 0 3px #fd0}}.govuk-textarea{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.25;box-sizing:border-box;display:block;width:100%;min-height:40px;margin-bottom:20px;padding:5px;resize:vertical;border:2px solid #0b0c0c;border-radius:0;-webkit-appearance:none}@media print{.govuk-textarea{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-textarea{font-size:19px;font-size:1.1875rem;line-height:1.25}}@media print{.govuk-textarea{font-size:14pt;line-height:1.25}}@media (min-width: 40.0625em){.govuk-textarea{margin-bottom:30px}}.govuk-textarea:focus{outline:3px solid #ffdd00;outline-offset:0;box-shadow:inset 0 0 0 2px}.govuk-textarea--error{border-color:#d4351c}.govuk-textarea--error:focus{border-color:#0b0c0c}.govuk-character-count{margin-bottom:20px}@media (min-width: 40.0625em){.govuk-character-count{margin-bottom:30px}}.govuk-character-count .govuk-form-group,.govuk-character-count .govuk-textarea{margin-bottom:5px}.govuk-character-count__message{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-font-feature-settings:"tnum" 1;font-feature-settings:"tnum" 1;font-weight:400;margin-top:0;margin-bottom:0}@media print{.govuk-character-count__message{font-family:sans-serif}}@supports (font-variant-numeric: tabular-nums){.govuk-character-count__message{-webkit-font-feature-settings:normal;font-feature-settings:normal;font-variant-numeric:tabular-nums}}.govuk-character-count__message--disabled{visibility:hidden}.govuk-cookie-banner{padding-top:20px;border-bottom:10px solid transparent;background-color:#f3f2f1}.govuk-cookie-banner[hidden]{display:none}.govuk-cookie-banner__message{margin-bottom:-10px}.govuk-cookie-banner__message[hidden]{display:none}.govuk-cookie-banner__message:focus{outline:none}.govuk-summary-list{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.25;color:#0b0c0c;margin:0 0 20px}@media print{.govuk-summary-list{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-summary-list{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-summary-list{font-size:14pt;line-height:1.15}}@media print{.govuk-summary-list{color:#000}}@media (min-width: 40.0625em){.govuk-summary-list{display:table;width:100%;table-layout:fixed;border-collapse:collapse}}@media (min-width: 40.0625em){.govuk-summary-list{margin-bottom:30px}}.govuk-summary-list__row{border-bottom:1px solid #b1b4b6}@media (max-width: 40.0525em){.govuk-summary-list__row{margin-bottom:15px}}@media (min-width: 40.0625em){.govuk-summary-list__row{display:table-row}}@media (min-width: 40.0625em){.govuk-summary-list__row--no-actions:after{content:"";display:table-cell;width:20%}}.govuk-summary-list__key,.govuk-summary-list__value,.govuk-summary-list__actions{margin:0}@media (min-width: 40.0625em){.govuk-summary-list__key,.govuk-summary-list__value,.govuk-summary-list__actions{display:table-cell;padding-top:10px;padding-right:20px;padding-bottom:10px}}.govuk-summary-list__actions{margin-bottom:15px}@media (min-width: 40.0625em){.govuk-summary-list__actions{width:20%;padding-right:0;text-align:right}}.govuk-summary-list__key,.govuk-summary-list__value{word-wrap:break-word;overflow-wrap:break-word}.govuk-summary-list__key{margin-bottom:5px;font-weight:700}@media (min-width: 40.0625em){.govuk-summary-list__key{width:30%}}@media (max-width: 40.0525em){.govuk-summary-list__value{margin-bottom:15px}}.govuk-summary-list__value>p{margin-bottom:10px}.govuk-summary-list__value>:last-child{margin-bottom:0}.govuk-summary-list__actions-list{width:100%;margin:0;padding:0}.govuk-summary-list__actions-list-item{display:inline;margin-right:10px;padding-right:10px}.govuk-summary-list__actions-list-item:not(:last-child){border-right:1px solid #b1b4b6}.govuk-summary-list__actions-list-item:last-child{margin-right:0;padding-right:0;border:0}.govuk-summary-list--no-border .govuk-summary-list__row{border:0}@media (min-width: 40.0625em){.govuk-summary-list--no-border .govuk-summary-list__key,.govuk-summary-list--no-border .govuk-summary-list__value,.govuk-summary-list--no-border .govuk-summary-list__actions{padding-bottom:11px}}.govuk-summary-list__row--no-border{border:0}@media (min-width: 40.0625em){.govuk-summary-list__row--no-border .govuk-summary-list__key,.govuk-summary-list__row--no-border .govuk-summary-list__value,.govuk-summary-list__row--no-border .govuk-summary-list__actions{padding-bottom:11px}}.govuk-input{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.25;box-sizing:border-box;width:100%;height:40px;height:2.5rem;margin-top:0;padding:5px;border:2px solid #0b0c0c;border-radius:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}@media print{.govuk-input{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-input{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-input{font-size:14pt;line-height:1.15}}.govuk-input:focus{outline:3px solid #ffdd00;outline-offset:0;box-shadow:inset 0 0 0 2px}.govuk-input::-webkit-outer-spin-button,.govuk-input::-webkit-inner-spin-button{margin:0;-webkit-appearance:none}.govuk-input[type=number]{-moz-appearance:textfield}.govuk-input--error{border-color:#d4351c}.govuk-input--error:focus{border-color:#0b0c0c}.govuk-input--width-30{max-width:59ex}.govuk-input--width-20{max-width:41ex}.govuk-input--width-10{max-width:23ex}.govuk-input--width-5{max-width:10.8ex}.govuk-input--width-4{max-width:9ex}.govuk-input--width-3{max-width:7.2ex}.govuk-input--width-2{max-width:5.4ex}.govuk-input__wrapper{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.govuk-input__wrapper .govuk-input{-webkit-box-flex:0;-webkit-flex:0 1 auto;-ms-flex:0 1 auto;flex:0 1 auto}.govuk-input__wrapper .govuk-input:focus{z-index:1}@media (max-width: 19.99em){.govuk-input__wrapper{display:block}.govuk-input__wrapper .govuk-input{max-width:100%}}.govuk-input__prefix,.govuk-input__suffix{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.25;box-sizing:border-box;display:inline-block;min-width:40px;min-width:2.5rem;height:40px;height:2.5rem;padding:5px;border:2px solid #0b0c0c;background-color:#f3f2f1;text-align:center;white-space:nowrap;cursor:default;-webkit-box-flex:0;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto}@media print{.govuk-input__prefix,.govuk-input__suffix{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-input__prefix,.govuk-input__suffix{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-input__prefix,.govuk-input__suffix{font-size:14pt;line-height:1.15}}@media (max-width: 40.0525em){.govuk-input__prefix,.govuk-input__suffix{line-height:1.6}}@media (max-width: 19.99em){.govuk-input__prefix,.govuk-input__suffix{display:block;height:100%;white-space:normal}}@media (max-width: 19.99em){.govuk-input__prefix{border-bottom:0}}@media (min-width: 20em){.govuk-input__prefix{border-right:0}}@media (max-width: 19.99em){.govuk-input__suffix{border-top:0}}@media (min-width: 20em){.govuk-input__suffix{border-left:0}}.govuk-date-input{font-size:0}.govuk-date-input:after{content:"";display:block;clear:both}.govuk-date-input__item{display:inline-block;margin-right:20px;margin-bottom:0}.govuk-date-input__label{display:block}.govuk-date-input__input{margin-bottom:0}.govuk-details{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.25;color:#0b0c0c;margin-bottom:20px;display:block}@media print{.govuk-details{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-details{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-details{font-size:14pt;line-height:1.15}}@media print{.govuk-details{color:#000}}@media (min-width: 40.0625em){.govuk-details{margin-bottom:30px}}.govuk-details__summary{display:inline-block;position:relative;margin-bottom:5px;padding-left:25px;color:#1d70b8;cursor:pointer}.govuk-details__summary:hover{color:#003078}.govuk-details__summary:focus{outline:3px solid transparent;color:#0b0c0c;background-color:#fd0;box-shadow:0 -2px #fd0,0 4px #0b0c0c;text-decoration:none}.govuk-details__summary-text{text-decoration:underline}.govuk-details__summary:focus .govuk-details__summary-text{text-decoration:none}.govuk-details__summary::-webkit-details-marker{display:none}.govuk-details__summary:before{content:"";position:absolute;top:-1px;bottom:0;left:0;margin:auto;display:block;width:0;height:0;border-style:solid;border-color:transparent;-webkit-clip-path:polygon(0% 0%,100% 50%,0% 100%);clip-path:polygon(0% 0%,100% 50%,0% 100%);border-width:7px 0 7px 12.124px;border-left-color:inherit}.govuk-details[open]>.govuk-details__summary:before{display:block;width:0;height:0;border-style:solid;border-color:transparent;-webkit-clip-path:polygon(0% 0%,50% 100%,100% 0%);clip-path:polygon(0% 0%,50% 100%,100% 0%);border-width:12.124px 7px 0 7px;border-top-color:inherit}.govuk-details__text{padding-top:15px;padding-bottom:15px;padding-left:20px;border-left:5px solid #b1b4b6}.govuk-details__text p{margin-top:0;margin-bottom:20px}.govuk-details__text>:last-child{margin-bottom:0}.govuk-error-summary{color:#0b0c0c;padding:15px;margin-bottom:30px;border:5px solid #d4351c}@media print{.govuk-error-summary{color:#000}}@media (min-width: 40.0625em){.govuk-error-summary{padding:20px}}@media (min-width: 40.0625em){.govuk-error-summary{margin-bottom:50px}}.govuk-error-summary:focus{outline:3px solid #ffdd00}.govuk-error-summary__title{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;font-size:18px;font-size:1.125rem;line-height:1.1111111111;margin-top:0;margin-bottom:15px}@media print{.govuk-error-summary__title{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-error-summary__title{font-size:24px;font-size:1.5rem;line-height:1.25}}@media print{.govuk-error-summary__title{font-size:18pt;line-height:1.15}}@media (min-width: 40.0625em){.govuk-error-summary__title{margin-bottom:20px}}.govuk-error-summary__body{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.25}@media print{.govuk-error-summary__body{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-error-summary__body{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-error-summary__body{font-size:14pt;line-height:1.15}}.govuk-error-summary__body p{margin-top:0;margin-bottom:15px}@media (min-width: 40.0625em){.govuk-error-summary__body p{margin-bottom:20px}}.govuk-error-summary__list{margin-top:0;margin-bottom:0}.govuk-error-summary__list a{font-weight:700;font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:underline}@media print{.govuk-error-summary__list a{font-family:sans-serif}}.govuk-error-summary__list a:focus{outline:3px solid transparent;color:#0b0c0c;background-color:#fd0;box-shadow:0 -2px #fd0,0 4px #0b0c0c;text-decoration:none}.govuk-error-summary__list a:link,.govuk-error-summary__list a:visited{color:#d4351c}.govuk-error-summary__list a:hover{color:#942514}.govuk-error-summary__list a:active{color:#d4351c}.govuk-error-summary__list a:focus{color:#0b0c0c}.govuk-file-upload{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.25;color:#0b0c0c;max-width:100%;margin-left:-5px;padding:5px}@media print{.govuk-file-upload{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-file-upload{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-file-upload{font-size:14pt;line-height:1.15}}@media print{.govuk-file-upload{color:#000}}.govuk-file-upload::-webkit-file-upload-button{-webkit-appearance:button;color:inherit;font:inherit}.govuk-file-upload:focus{outline:3px solid #ffdd00;box-shadow:inset 0 0 0 4px #0b0c0c}.govuk-file-upload:focus-within{outline:3px solid #ffdd00;box-shadow:inset 0 0 0 4px #0b0c0c}.govuk-footer{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:14px;font-size:.875rem;line-height:1.1428571429;padding-top:25px;padding-bottom:15px;border-top:1px solid #b1b4b6;color:#0b0c0c;background:#f3f2f1}@media print{.govuk-footer{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-footer{font-size:16px;font-size:1rem;line-height:1.25}}@media print{.govuk-footer{font-size:14pt;line-height:1.2}}@media (min-width: 40.0625em){.govuk-footer{padding-top:40px}}@media (min-width: 40.0625em){.govuk-footer{padding-bottom:25px}}.govuk-footer__link{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:underline}@media print{.govuk-footer__link{font-family:sans-serif}}.govuk-footer__link:focus{outline:3px solid transparent;color:#0b0c0c;background-color:#fd0;box-shadow:0 -2px #fd0,0 4px #0b0c0c;text-decoration:none}.govuk-footer__link:link,.govuk-footer__link:visited{color:#0b0c0c}@media print{.govuk-footer__link:link,.govuk-footer__link:visited{color:#000}}.govuk-footer__link:hover{color:#0b0c0cfc}.govuk-footer__link:active,.govuk-footer__link:focus{color:#0b0c0c}@media print{.govuk-footer__link:active,.govuk-footer__link:focus{color:#000}}.govuk-footer__section-break{margin:0 0 30px;border:0;border-bottom:1px solid #b1b4b6}@media (min-width: 40.0625em){.govuk-footer__section-break{margin-bottom:50px}}.govuk-footer__meta{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-right:-15px;margin-left:-15px;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}.govuk-footer__meta-item{margin-right:15px;margin-bottom:25px;margin-left:15px}.govuk-footer__meta-item--grow{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}@media (max-width: 40.0525em){.govuk-footer__meta-item--grow{-webkit-flex-basis:320px;-ms-flex-preferred-size:320px;flex-basis:320px}}.govuk-footer__licence-logo{display:inline-block;margin-right:10px;vertical-align:top;forced-color-adjust:auto}@media (max-width: 48.0525em){.govuk-footer__licence-logo{margin-bottom:15px}}.govuk-footer__licence-description{display:inline-block}.govuk-footer__copyright-logo{display:inline-block;min-width:125px;padding-top:112px;background-image:url(/assets/images/govuk-crest.png);background-repeat:no-repeat;background-position:50% 0%;background-size:125px 102px;text-align:center;white-space:nowrap}@media only screen and (-webkit-min-device-pixel-ratio: 2),only screen and (min-resolution: 192dpi),only screen and (min-resolution: 2dppx){.govuk-footer__copyright-logo{background-image:url(/assets/images/govuk-crest-2x.png)}}.govuk-footer__inline-list{margin-top:0;margin-bottom:15px;padding:0}.govuk-footer__meta-custom{margin-bottom:20px}.govuk-footer__inline-list-item{display:inline-block;margin-right:15px;margin-bottom:5px}.govuk-footer__heading{margin-bottom:30px;padding-bottom:20px;border-bottom:1px solid #b1b4b6}@media (max-width: 40.0525em){.govuk-footer__heading{padding-bottom:10px}}.govuk-footer__navigation{margin-right:-15px;margin-left:-15px}.govuk-footer__navigation:after{content:"";display:block;clear:both}.govuk-footer__section{display:inline-block;margin-bottom:30px;vertical-align:top}.govuk-footer__list{margin:0;padding:0;list-style:none;-webkit-column-gap:30px;column-gap:30px}.govuk-footer__list .govuk-footer__link:hover{text-decoration-thickness:auto}@media (min-width: 48.0625em){.govuk-footer__list--columns-2{-webkit-column-count:2;column-count:2}.govuk-footer__list--columns-3{-webkit-column-count:3;column-count:3}}.govuk-footer__list-item{margin-bottom:15px}@media (min-width: 40.0625em){.govuk-footer__list-item{margin-bottom:20px}}.govuk-footer__list-item:last-child{margin-bottom:0}.govuk-header{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:14px;font-size:.875rem;line-height:1.1428571429;border-bottom:10px solid #ffffff;color:#fff;background:#0b0c0c}@media print{.govuk-header{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-header{font-size:16px;font-size:1rem;line-height:1.25}}@media print{.govuk-header{font-size:14pt;line-height:1.2}}.govuk-header__container--full-width{padding:0 15px;border-color:#1d70b8}.govuk-header__container--full-width .govuk-header__menu-button{right:15px}.govuk-header__container{position:relative;margin-bottom:-10px;padding-top:10px;border-bottom:10px solid #1d70b8}.govuk-header__container:after{content:"";display:block;clear:both}.govuk-header__logotype{display:inline-block;margin-right:5px}@media (forced-colors: active){.govuk-header__logotype{forced-color-adjust:none;color:linktext}}.govuk-header__logotype:last-child{margin-right:0}.govuk-header__logotype-crown{position:relative;top:-1px;margin-right:1px;fill:currentColor;vertical-align:top}.govuk-header__logotype-crown-fallback-image{width:36px;height:32px;border:0;vertical-align:bottom}.govuk-header__product-name{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:18px;font-size:1.125rem;line-height:1;display:inline-table}@media print{.govuk-header__product-name{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-header__product-name{font-size:24px;font-size:1.5rem;line-height:1}}@media print{.govuk-header__product-name{font-size:18pt;line-height:1}}.govuk-header__link{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none}@media print{.govuk-header__link{font-family:sans-serif}}.govuk-header__link:link,.govuk-header__link:visited{color:#fff}.govuk-header__link:hover,.govuk-header__link:active{color:#fffffffc}.govuk-header__link:focus{color:#0b0c0c}.govuk-header__link:hover{text-decoration:underline;text-decoration-thickness:3px;text-underline-offset:.1em}.govuk-header__link:focus{outline:3px solid transparent;color:#0b0c0c;background-color:#fd0;box-shadow:0 -2px #fd0,0 4px #0b0c0c;text-decoration:none}.govuk-header__link--homepage{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;display:inline-block;margin-right:10px;font-size:30px;line-height:1}@media print{.govuk-header__link--homepage{font-family:sans-serif}}.govuk-header__link--homepage:link,.govuk-header__link--homepage:visited{text-decoration:none}.govuk-header__link--homepage:hover,.govuk-header__link--homepage:active{margin-bottom:-3px;border-bottom:3px solid}.govuk-header__link--homepage:focus{margin-bottom:0;border-bottom:0}.govuk-header__link--service-name{display:inline-block;margin-bottom:10px;font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;font-size:18px;font-size:1.125rem;line-height:1.1111111111}@media print{.govuk-header__link--service-name{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-header__link--service-name{font-size:24px;font-size:1.5rem;line-height:1.25}}@media print{.govuk-header__link--service-name{font-size:18pt;line-height:1.15}}.govuk-header__logo,.govuk-header__content{box-sizing:border-box}.govuk-header__logo{margin-bottom:10px;padding-right:50px}@media (min-width: 40.0625em){.govuk-header__logo{margin-bottom:10px}}@media (min-width: 48.0625em){.govuk-header__logo{width:33.33%;padding-right:15px;float:left;vertical-align:top}}@media (min-width: 48.0625em){.govuk-header__content{width:66.66%;padding-left:15px;float:left}}.govuk-header__menu-button{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:14px;font-size:.875rem;line-height:1.1428571429;display:none;position:absolute;top:20px;right:0;margin:0;padding:0;border:0;color:#fff;background:none;cursor:pointer}@media print{.govuk-header__menu-button{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-header__menu-button{font-size:16px;font-size:1rem;line-height:1.25}}@media print{.govuk-header__menu-button{font-size:14pt;line-height:1.2}}.govuk-header__menu-button:hover{-webkit-text-decoration:solid underline 3px;text-decoration:solid underline 3px;text-underline-offset:.1em}.govuk-header__menu-button:focus{outline:3px solid transparent;color:#0b0c0c;background-color:#fd0;box-shadow:0 -2px #fd0,0 4px #0b0c0c;text-decoration:none}.govuk-header__menu-button:after{display:inline-block;width:0;height:0;border-style:solid;border-color:transparent;-webkit-clip-path:polygon(0% 0%,50% 100%,100% 0%);clip-path:polygon(0% 0%,50% 100%,100% 0%);border-width:8.66px 5px 0 5px;border-top-color:inherit;content:"";margin-left:5px}@media (min-width: 40.0625em){.govuk-header__menu-button{top:15px}}.govuk-header__menu-button--open:after{display:inline-block;width:0;height:0;border-style:solid;border-color:transparent;-webkit-clip-path:polygon(50% 0%,0% 100%,100% 100%);clip-path:polygon(50% 0%,0% 100%,100% 100%);border-width:0 5px 8.66px 5px;border-bottom-color:inherit}@media (min-width: 48.0625em){.govuk-header__navigation{margin-bottom:10px}}.govuk-header__navigation-list{margin:0;padding:0;list-style:none}.js-enabled .govuk-header__menu-button{display:block}@media (min-width: 48.0625em){.js-enabled .govuk-header__menu-button{display:none}}.js-enabled .govuk-header__navigation-list{display:none}@media (min-width: 48.0625em){.js-enabled .govuk-header__navigation-list{display:block}}.js-enabled .govuk-header__navigation-list--open{display:block}@media (min-width: 48.0625em){.govuk-header__navigation--end{margin:0;padding:5px 0;text-align:right}}.govuk-header__navigation--no-service-name{padding-top:40px}.govuk-header__navigation-item{padding:10px 0;border-bottom:1px solid #2e3133}@media (min-width: 48.0625em){.govuk-header__navigation-item{display:inline-block;margin-right:15px;padding:5px 0;border:0}}.govuk-header__navigation-item a{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;font-size:14px;font-size:.875rem;line-height:1.1428571429;white-space:nowrap}@media print{.govuk-header__navigation-item a{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-header__navigation-item a{font-size:16px;font-size:1rem;line-height:1.25}}@media print{.govuk-header__navigation-item a{font-size:14pt;line-height:1.2}}.govuk-header__navigation-item--active a:link,.govuk-header__navigation-item--active a:hover,.govuk-header__navigation-item--active a:visited{color:#1d8feb}.govuk-header__navigation-item--active a:focus{color:#0b0c0c}.govuk-header__navigation-item:last-child{margin-right:0;border-bottom:0}@media print{.govuk-header{border-bottom-width:0;color:#0b0c0c;background:transparent}.govuk-header__logotype-crown-fallback-image{display:none}.govuk-header__link:link,.govuk-header__link:visited{color:#0b0c0c}.govuk-header__link:after{display:none}}.govuk-inset-text{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.25;color:#0b0c0c;padding:15px;margin-top:20px;margin-bottom:20px;clear:both;border-left:10px solid #b1b4b6}@media print{.govuk-inset-text{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-inset-text{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-inset-text{font-size:14pt;line-height:1.15}}@media print{.govuk-inset-text{color:#000}}@media (min-width: 40.0625em){.govuk-inset-text{margin-top:30px}}@media (min-width: 40.0625em){.govuk-inset-text{margin-bottom:30px}}.govuk-inset-text>:first-child{margin-top:0}.govuk-inset-text>:only-child,.govuk-inset-text>:last-child{margin-bottom:0}.govuk-notification-banner{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.25;margin-bottom:30px;border:5px solid #1d70b8;background-color:#1d70b8}@media print{.govuk-notification-banner{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-notification-banner{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-notification-banner{font-size:14pt;line-height:1.15}}@media (min-width: 40.0625em){.govuk-notification-banner{margin-bottom:50px}}.govuk-notification-banner:focus{outline:3px solid #ffdd00}.govuk-notification-banner__header{padding:2px 15px 5px;border-bottom:1px solid transparent}@media (min-width: 40.0625em){.govuk-notification-banner__header{padding:2px 20px 5px}}.govuk-notification-banner__title{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;font-size:16px;font-size:1rem;line-height:1.25;margin:0;padding:0;color:#fff}@media print{.govuk-notification-banner__title{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-notification-banner__title{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-notification-banner__title{font-size:14pt;line-height:1.15}}.govuk-notification-banner__content{color:#0b0c0c;padding:15px;background-color:#fff}@media print{.govuk-notification-banner__content{color:#000}}@media (min-width: 40.0625em){.govuk-notification-banner__content{padding:20px}}.govuk-notification-banner__content>*{box-sizing:border-box;max-width:605px}.govuk-notification-banner__content>:last-child{margin-bottom:0}.govuk-notification-banner__heading{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;font-size:18px;font-size:1.125rem;line-height:1.1111111111;margin:0 0 15px;padding:0}@media print{.govuk-notification-banner__heading{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-notification-banner__heading{font-size:24px;font-size:1.5rem;line-height:1.25}}@media print{.govuk-notification-banner__heading{font-size:18pt;line-height:1.15}}.govuk-notification-banner__link{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:underline}@media print{.govuk-notification-banner__link{font-family:sans-serif}}.govuk-notification-banner__link:focus{outline:3px solid transparent;color:#0b0c0c;background-color:#fd0;box-shadow:0 -2px #fd0,0 4px #0b0c0c;text-decoration:none}.govuk-notification-banner__link:link,.govuk-notification-banner__link:visited{color:#1d70b8}.govuk-notification-banner__link:hover{color:#003078}.govuk-notification-banner__link:active{color:#0b0c0c}.govuk-notification-banner__link:focus{color:#0b0c0c}.govuk-notification-banner--success{border-color:#00703c;background-color:#00703c}.govuk-notification-banner--success .govuk-notification-banner__link:link,.govuk-notification-banner--success .govuk-notification-banner__link:visited{color:#00703c}.govuk-notification-banner--success .govuk-notification-banner__link:hover{color:#004e2a}.govuk-notification-banner--success .govuk-notification-banner__link:active{color:#00703c}.govuk-notification-banner--success .govuk-notification-banner__link:focus{color:#0b0c0c}.govuk-panel{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.25;box-sizing:border-box;margin-bottom:15px;padding:35px;border:5px solid transparent;text-align:center}@media print{.govuk-panel{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-panel{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-panel{font-size:14pt;line-height:1.15}}@media (max-width: 40.0525em){.govuk-panel{padding:10px;overflow-wrap:break-word;word-wrap:break-word}}.govuk-panel--confirmation{color:#fff;background:#00703c}@media print{.govuk-panel--confirmation{border-color:currentColor;color:#000;background:none}}.govuk-panel__title{margin-top:0;margin-bottom:30px;font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;font-size:32px;font-size:2rem;line-height:1.09375}@media print{.govuk-panel__title{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-panel__title{font-size:48px;font-size:3rem;line-height:1.0416666667}}@media print{.govuk-panel__title{font-size:32pt;line-height:1.15}}.govuk-panel__title:last-child{margin-bottom:0}.govuk-panel__body{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:24px;font-size:1.5rem;line-height:1.0416666667}@media print{.govuk-panel__body{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-panel__body{font-size:36px;font-size:2.25rem;line-height:1.1111111111}}@media print{.govuk-panel__body{font-size:24pt;line-height:1.05}}.govuk-tag{display:inline-block;outline:2px solid transparent;outline-offset:-2px;color:#fff;background-color:#1d70b8;letter-spacing:1px;text-decoration:none;text-transform:uppercase;font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;font-size:14px;font-size:.875rem;line-height:1;padding:5px 8px 4px}@media print{.govuk-tag{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-tag{font-size:16px;font-size:1rem;line-height:1}}@media print{.govuk-tag{font-size:14pt;line-height:1}}.govuk-tag--grey{color:#383f43;background:#eeefef}.govuk-tag--purple{color:#3d2375;background:#dbd5e9}.govuk-tag--turquoise{color:#10403c;background:#bfe3e0}.govuk-tag--blue{color:#144e81;background:#d2e2f1}.govuk-tag--yellow{color:#594d00;background:#fff7bf}.govuk-tag--orange{color:#6e3619;background:#fcd6c3}.govuk-tag--red{color:#942514;background:#f6d7d2}.govuk-tag--pink{color:#80224d;background:#f7d7e6}.govuk-tag--green{color:#005a30;background:#cce2d8}.govuk-phase-banner{padding-top:10px;padding-bottom:10px;border-bottom:1px solid #b1b4b6}.govuk-phase-banner__content{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:14px;font-size:.875rem;line-height:1.1428571429;color:#0b0c0c;display:table;margin:0}@media print{.govuk-phase-banner__content{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-phase-banner__content{font-size:16px;font-size:1rem;line-height:1.25}}@media print{.govuk-phase-banner__content{font-size:14pt;line-height:1.2}}@media print{.govuk-phase-banner__content{color:#000}}.govuk-phase-banner__content__tag{margin-right:10px}.govuk-phase-banner__text{display:table-cell;vertical-align:middle}.govuk-tabs{margin-top:5px;margin-bottom:20px}@media (min-width: 40.0625em){.govuk-tabs{margin-top:5px}}@media (min-width: 40.0625em){.govuk-tabs{margin-bottom:30px}}.govuk-tabs__title{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.25;color:#0b0c0c;margin-bottom:10px}@media print{.govuk-tabs__title{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-tabs__title{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-tabs__title{font-size:14pt;line-height:1.15}}@media print{.govuk-tabs__title{color:#000}}.govuk-tabs__list{margin:0 0 20px;padding:0;list-style:none}@media (min-width: 40.0625em){.govuk-tabs__list{margin-bottom:30px}}.govuk-tabs__list-item{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.25;margin-left:25px}@media print{.govuk-tabs__list-item{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-tabs__list-item{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-tabs__list-item{font-size:14pt;line-height:1.15}}.govuk-tabs__list-item:before{color:#0b0c0c;content:"\\2014";margin-left:-25px;padding-right:5px}@media print{.govuk-tabs__list-item:before{color:#000}}.govuk-tabs__tab{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:underline;display:inline-block;margin-bottom:10px}@media print{.govuk-tabs__tab{font-family:sans-serif}}.govuk-tabs__tab:focus{outline:3px solid transparent;color:#0b0c0c;background-color:#fd0;box-shadow:0 -2px #fd0,0 4px #0b0c0c;text-decoration:none}.govuk-tabs__tab:link{color:#1d70b8}.govuk-tabs__tab:visited{color:#4c2c92}.govuk-tabs__tab:hover{color:#003078}.govuk-tabs__tab:active{color:#0b0c0c}.govuk-tabs__tab:focus{color:#0b0c0c}.govuk-tabs__panel{margin-bottom:30px}@media (min-width: 40.0625em){.govuk-tabs__panel{margin-bottom:50px}}@media (min-width: 40.0625em){.js-enabled .govuk-tabs__list{margin-bottom:0;border-bottom:1px solid #b1b4b6}.js-enabled .govuk-tabs__list:after{content:"";display:block;clear:both}.js-enabled .govuk-tabs__title{display:none}.js-enabled .govuk-tabs__list-item{position:relative;margin-right:5px;margin-bottom:0;margin-left:0;padding:10px 20px;float:left;background-color:#f3f2f1;text-align:center}.js-enabled .govuk-tabs__list-item:before{content:none}.js-enabled .govuk-tabs__list-item--selected{position:relative;margin-top:-5px;margin-bottom:-1px;padding:14px 19px 16px;border:1px solid #b1b4b6;border-bottom:0;background-color:#fff}.js-enabled .govuk-tabs__list-item--selected .govuk-tabs__tab{text-decoration:none}.js-enabled .govuk-tabs__tab{margin-bottom:0}.js-enabled .govuk-tabs__tab:link,.js-enabled .govuk-tabs__tab:visited{color:#0b0c0c}}@media print and (min-width: 40.0625em){.js-enabled .govuk-tabs__tab:link,.js-enabled .govuk-tabs__tab:visited{color:#000}}@media (min-width: 40.0625em){.js-enabled .govuk-tabs__tab:hover{color:#0b0c0cfc}}@media (min-width: 40.0625em){.js-enabled .govuk-tabs__tab:active,.js-enabled .govuk-tabs__tab:focus{color:#0b0c0c}}@media print and (min-width: 40.0625em){.js-enabled .govuk-tabs__tab:active,.js-enabled .govuk-tabs__tab:focus{color:#000}}@media (min-width: 40.0625em){.js-enabled .govuk-tabs__tab:after{content:"";position:absolute;top:0;right:0;bottom:0;left:0}}@media (min-width: 40.0625em){.js-enabled .govuk-tabs__panel{margin-bottom:0;padding:30px 20px;border:1px solid #b1b4b6;border-top:0}}@media (min-width: 40.0625em) and (min-width: 40.0625em){.js-enabled .govuk-tabs__panel{margin-bottom:0}}@media (min-width: 40.0625em){.js-enabled .govuk-tabs__panel>:last-child{margin-bottom:0}}@media (min-width: 40.0625em){.js-enabled .govuk-tabs__panel--hidden{display:none}}.govuk-radios__item{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.25;display:block;position:relative;min-height:40px;margin-bottom:10px;padding-left:40px;clear:left}@media print{.govuk-radios__item{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-radios__item{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-radios__item{font-size:14pt;line-height:1.15}}.govuk-radios__item:last-child,.govuk-radios__item:last-of-type{margin-bottom:0}.govuk-radios__input{cursor:pointer;position:absolute;z-index:1;top:-2px;left:-2px;width:44px;height:44px;margin:0;opacity:0}.govuk-radios__label{display:inline-block;margin-bottom:0;padding:8px 15px 5px;cursor:pointer;-ms-touch-action:manipulation;touch-action:manipulation}.govuk-radios__label:before{content:"";box-sizing:border-box;position:absolute;top:0;left:0;width:40px;height:40px;border:2px solid currentColor;border-radius:50%;background:transparent}.govuk-radios__label:after{content:"";position:absolute;top:10px;left:10px;width:0;height:0;border:10px solid currentColor;border-radius:50%;opacity:0;background:currentColor}.govuk-radios__hint{display:block;padding-right:15px;padding-left:15px}.govuk-radios__input:focus+.govuk-radios__label:before{border-width:4px;outline:3px solid transparent;outline-offset:1px;box-shadow:0 0 0 4px #fd0}@media screen and (forced-colors: active),(-ms-high-contrast: active){.govuk-radios__input:focus+.govuk-radios__label:before{outline-color:Highlight}}.govuk-radios__input:checked+.govuk-radios__label:after{opacity:1}.govuk-radios__input:disabled,.govuk-radios__input:disabled+.govuk-radios__label{cursor:default}.govuk-radios__input:disabled+.govuk-radios__label{opacity:.5}@media (min-width: 40.0625em){.govuk-radios--inline:after{content:"";display:block;clear:both}.govuk-radios--inline .govuk-radios__item{margin-right:20px;float:left;clear:none}}.govuk-radios__divider{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.25;color:#0b0c0c;width:40px;margin-bottom:10px;text-align:center}@media print{.govuk-radios__divider{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-radios__divider{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-radios__divider{font-size:14pt;line-height:1.15}}@media print{.govuk-radios__divider{color:#000}}.govuk-radios__conditional{margin-bottom:15px;margin-left:18px;padding-left:33px;border-left:4px solid #b1b4b6}@media (min-width: 40.0625em){.govuk-radios__conditional{margin-bottom:20px}}.js-enabled .govuk-radios__conditional--hidden{display:none}.govuk-radios__conditional>:last-child{margin-bottom:0}.govuk-radios--small .govuk-radios__item{min-height:0;margin-bottom:0;padding-left:34px;float:left}.govuk-radios--small .govuk-radios__item:after{content:"";display:block;clear:both}.govuk-radios--small .govuk-radios__input{left:-10px}.govuk-radios--small .govuk-radios__label{margin-top:-2px;padding:13px 15px 13px 1px;float:left}@media (min-width: 40.0625em){.govuk-radios--small .govuk-radios__label{padding:11px 15px 10px 1px}}.govuk-radios--small .govuk-radios__label:before{top:8px;width:24px;height:24px}.govuk-radios--small .govuk-radios__label:after{top:15px;left:7px;border-width:5px}.govuk-radios--small .govuk-radios__hint{padding:0;clear:both;pointer-events:none}.govuk-radios--small .govuk-radios__conditional{margin-left:10px;padding-left:20px;clear:both}.govuk-radios--small .govuk-radios__divider{width:24px;margin-bottom:5px}.govuk-radios--small .govuk-radios__item:hover .govuk-radios__input:not(:disabled)+.govuk-radios__label:before{box-shadow:0 0 0 10px #b1b4b6}.govuk-radios--small .govuk-radios__item:hover .govuk-radios__input:focus+.govuk-radios__label:before{box-shadow:0 0 0 4px #fd0,0 0 0 10px #b1b4b6}@media (hover: none),(pointer: coarse){.govuk-radios--small .govuk-radios__item:hover .govuk-radios__input:not(:disabled)+.govuk-radios__label:before{box-shadow:initial}.govuk-radios--small .govuk-radios__item:hover .govuk-radios__input:focus+.govuk-radios__label:before{box-shadow:0 0 0 4px #fd0}}.govuk-select{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.25;box-sizing:border-box;max-width:100%;height:40px;height:2.5rem;padding:5px;border:2px solid #0b0c0c;color:#0b0c0c;background-color:#fff}@media print{.govuk-select{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-select{font-size:19px;font-size:1.1875rem;line-height:1.25}}@media print{.govuk-select{font-size:14pt;line-height:1.25}}.govuk-select:focus{outline:3px solid #ffdd00;outline-offset:0;box-shadow:inset 0 0 0 2px}.govuk-select option:active,.govuk-select option:checked,.govuk-select:focus::-ms-value{color:#fff;background-color:#1d70b8}.govuk-select--error{border-color:#d4351c}.govuk-select--error:focus{border-color:#0b0c0c}.govuk-skip-link{position:absolute!important;width:1px!important;height:1px!important;margin:0!important;overflow:hidden!important;clip:rect(0 0 0 0)!important;-webkit-clip-path:inset(50%)!important;clip-path:inset(50%)!important;white-space:nowrap!important;font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:underline;font-size:14px;font-size:.875rem;line-height:1.1428571429;display:block;padding:10px 15px}.govuk-skip-link:active,.govuk-skip-link:focus{position:static!important;width:auto!important;height:auto!important;margin:inherit!important;overflow:visible!important;clip:auto!important;-webkit-clip-path:none!important;clip-path:none!important;white-space:inherit!important}@media print{.govuk-skip-link{font-family:sans-serif}}.govuk-skip-link:link,.govuk-skip-link:visited{color:#0b0c0c}@media print{.govuk-skip-link:link,.govuk-skip-link:visited{color:#000}}.govuk-skip-link:hover{color:#0b0c0cfc}.govuk-skip-link:active,.govuk-skip-link:focus{color:#0b0c0c}@media print{.govuk-skip-link:active,.govuk-skip-link:focus{color:#000}}@media (min-width: 40.0625em){.govuk-skip-link{font-size:16px;font-size:1rem;line-height:1.25}}@media print{.govuk-skip-link{font-size:14pt;line-height:1.2}}@supports (padding: max(0px)){.govuk-skip-link{padding-right:max(15px,calc(15px + env(safe-area-inset-right)));padding-left:max(15px,calc(15px + env(safe-area-inset-left)))}}.govuk-skip-link:focus{outline:3px solid #ffdd00;outline-offset:0;background-color:#fd0}.govuk-skip-link-focused-element:focus{outline:none}.govuk-table{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.25;color:#0b0c0c;width:100%;margin-bottom:20px;border-spacing:0;border-collapse:collapse}@media print{.govuk-table{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-table{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-table{font-size:14pt;line-height:1.15}}@media print{.govuk-table{color:#000}}@media (min-width: 40.0625em){.govuk-table{margin-bottom:30px}}.govuk-table__header{font-weight:700}.govuk-table__header,.govuk-table__cell{padding:10px 20px 10px 0;border-bottom:1px solid #b1b4b6;text-align:left;vertical-align:top}.govuk-table__cell--numeric{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-font-feature-settings:"tnum" 1;font-feature-settings:"tnum" 1;font-weight:400}@media print{.govuk-table__cell--numeric{font-family:sans-serif}}@supports (font-variant-numeric: tabular-nums){.govuk-table__cell--numeric{-webkit-font-feature-settings:normal;font-feature-settings:normal;font-variant-numeric:tabular-nums}}.govuk-table__header--numeric,.govuk-table__cell--numeric{text-align:right}.govuk-table__header:last-child,.govuk-table__cell:last-child{padding-right:0}.govuk-table__caption{font-weight:700;display:table-caption;text-align:left}.govuk-table__caption--xl{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;font-size:32px;font-size:2rem;line-height:1.09375;margin-bottom:15px}@media print{.govuk-table__caption--xl{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-table__caption--xl{font-size:48px;font-size:3rem;line-height:1.0416666667}}@media print{.govuk-table__caption--xl{font-size:32pt;line-height:1.15}}.govuk-table__caption--l{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;font-size:24px;font-size:1.5rem;line-height:1.0416666667;margin-bottom:15px}@media print{.govuk-table__caption--l{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-table__caption--l{font-size:36px;font-size:2.25rem;line-height:1.1111111111}}@media print{.govuk-table__caption--l{font-size:24pt;line-height:1.05}}.govuk-table__caption--m{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;font-size:18px;font-size:1.125rem;line-height:1.1111111111;margin-bottom:15px}@media print{.govuk-table__caption--m{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-table__caption--m{font-size:24px;font-size:1.5rem;line-height:1.25}}@media print{.govuk-table__caption--m{font-size:18pt;line-height:1.15}}.govuk-table__caption--s{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;font-size:16px;font-size:1rem;line-height:1.25}@media print{.govuk-table__caption--s{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-table__caption--s{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-table__caption--s{font-size:14pt;line-height:1.15}}.govuk-warning-text{position:relative;margin-bottom:20px;padding:10px 0}@media (min-width: 40.0625em){.govuk-warning-text{margin-bottom:30px}}.govuk-warning-text__assistive{position:absolute!important;width:1px!important;height:1px!important;margin:0!important;padding:0!important;overflow:hidden!important;clip:rect(0 0 0 0)!important;-webkit-clip-path:inset(50%)!important;clip-path:inset(50%)!important;border:0!important;white-space:nowrap!important}.govuk-warning-text__icon{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;box-sizing:border-box;display:inline-block;position:absolute;left:0;min-width:35px;min-height:35px;margin-top:-7px;border:3px solid #0b0c0c;border-radius:50%;color:#fff;background:#0b0c0c;font-size:30px;line-height:29px;text-align:center;-webkit-user-select:none;-ms-user-select:none;user-select:none;forced-color-adjust:none}@media print{.govuk-warning-text__icon{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-warning-text__icon{margin-top:-5px}}@media screen and (forced-colors: active){.govuk-warning-text__icon{border-color:windowText;color:windowText;background:transparent}}.govuk-warning-text__text{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;font-size:16px;font-size:1rem;line-height:1.25;color:#0b0c0c;display:block;padding-left:45px}@media print{.govuk-warning-text__text{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-warning-text__text{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-warning-text__text{font-size:14pt;line-height:1.15}}@media print{.govuk-warning-text__text{color:#000}}.govuk-clearfix:after{content:"";display:block;clear:both}.govuk-visually-hidden{position:absolute!important;width:1px!important;height:1px!important;margin:0!important;padding:0!important;overflow:hidden!important;clip:rect(0 0 0 0)!important;-webkit-clip-path:inset(50%)!important;clip-path:inset(50%)!important;border:0!important;white-space:nowrap!important}.govuk-visually-hidden-focusable{position:absolute!important;width:1px!important;height:1px!important;margin:0!important;overflow:hidden!important;clip:rect(0 0 0 0)!important;-webkit-clip-path:inset(50%)!important;clip-path:inset(50%)!important;white-space:nowrap!important}.govuk-visually-hidden-focusable:active,.govuk-visually-hidden-focusable:focus{position:static!important;width:auto!important;height:auto!important;margin:inherit!important;overflow:visible!important;clip:auto!important;-webkit-clip-path:none!important;clip-path:none!important;white-space:inherit!important}.govuk-\\!-display-inline{display:inline!important}.govuk-\\!-display-inline-block{display:inline-block!important}.govuk-\\!-display-block{display:block!important}.govuk-\\!-display-none{display:none!important}@media print{.govuk-\\!-display-none-print{display:none!important}}.govuk-\\!-margin-0{margin:0!important}@media (min-width: 40.0625em){.govuk-\\!-margin-0{margin:0!important}}.govuk-\\!-margin-top-0{margin-top:0!important}@media (min-width: 40.0625em){.govuk-\\!-margin-top-0{margin-top:0!important}}.govuk-\\!-margin-right-0{margin-right:0!important}@media (min-width: 40.0625em){.govuk-\\!-margin-right-0{margin-right:0!important}}.govuk-\\!-margin-bottom-0{margin-bottom:0!important}@media (min-width: 40.0625em){.govuk-\\!-margin-bottom-0{margin-bottom:0!important}}.govuk-\\!-margin-left-0{margin-left:0!important}@media (min-width: 40.0625em){.govuk-\\!-margin-left-0{margin-left:0!important}}.govuk-\\!-margin-1{margin:5px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-1{margin:5px!important}}.govuk-\\!-margin-top-1{margin-top:5px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-top-1{margin-top:5px!important}}.govuk-\\!-margin-right-1{margin-right:5px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-right-1{margin-right:5px!important}}.govuk-\\!-margin-bottom-1{margin-bottom:5px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-bottom-1{margin-bottom:5px!important}}.govuk-\\!-margin-left-1{margin-left:5px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-left-1{margin-left:5px!important}}.govuk-\\!-margin-2{margin:10px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-2{margin:10px!important}}.govuk-\\!-margin-top-2{margin-top:10px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-top-2{margin-top:10px!important}}.govuk-\\!-margin-right-2{margin-right:10px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-right-2{margin-right:10px!important}}.govuk-\\!-margin-bottom-2{margin-bottom:10px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-bottom-2{margin-bottom:10px!important}}.govuk-\\!-margin-left-2{margin-left:10px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-left-2{margin-left:10px!important}}.govuk-\\!-margin-3{margin:15px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-3{margin:15px!important}}.govuk-\\!-margin-top-3{margin-top:15px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-top-3{margin-top:15px!important}}.govuk-\\!-margin-right-3{margin-right:15px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-right-3{margin-right:15px!important}}.govuk-\\!-margin-bottom-3{margin-bottom:15px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-bottom-3{margin-bottom:15px!important}}.govuk-\\!-margin-left-3{margin-left:15px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-left-3{margin-left:15px!important}}.govuk-\\!-margin-4{margin:15px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-4{margin:20px!important}}.govuk-\\!-margin-top-4{margin-top:15px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-top-4{margin-top:20px!important}}.govuk-\\!-margin-right-4{margin-right:15px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-right-4{margin-right:20px!important}}.govuk-\\!-margin-bottom-4{margin-bottom:15px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-bottom-4{margin-bottom:20px!important}}.govuk-\\!-margin-left-4{margin-left:15px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-left-4{margin-left:20px!important}}.govuk-\\!-margin-5{margin:15px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-5{margin:25px!important}}.govuk-\\!-margin-top-5{margin-top:15px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-top-5{margin-top:25px!important}}.govuk-\\!-margin-right-5{margin-right:15px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-right-5{margin-right:25px!important}}.govuk-\\!-margin-bottom-5{margin-bottom:15px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-bottom-5{margin-bottom:25px!important}}.govuk-\\!-margin-left-5{margin-left:15px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-left-5{margin-left:25px!important}}.govuk-\\!-margin-6{margin:20px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-6{margin:30px!important}}.govuk-\\!-margin-top-6{margin-top:20px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-top-6{margin-top:30px!important}}.govuk-\\!-margin-right-6{margin-right:20px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-right-6{margin-right:30px!important}}.govuk-\\!-margin-bottom-6{margin-bottom:20px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-bottom-6{margin-bottom:30px!important}}.govuk-\\!-margin-left-6{margin-left:20px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-left-6{margin-left:30px!important}}.govuk-\\!-margin-7{margin:25px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-7{margin:40px!important}}.govuk-\\!-margin-top-7{margin-top:25px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-top-7{margin-top:40px!important}}.govuk-\\!-margin-right-7{margin-right:25px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-right-7{margin-right:40px!important}}.govuk-\\!-margin-bottom-7{margin-bottom:25px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-bottom-7{margin-bottom:40px!important}}.govuk-\\!-margin-left-7{margin-left:25px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-left-7{margin-left:40px!important}}.govuk-\\!-margin-8{margin:30px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-8{margin:50px!important}}.govuk-\\!-margin-top-8{margin-top:30px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-top-8{margin-top:50px!important}}.govuk-\\!-margin-right-8{margin-right:30px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-right-8{margin-right:50px!important}}.govuk-\\!-margin-bottom-8{margin-bottom:30px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-bottom-8{margin-bottom:50px!important}}.govuk-\\!-margin-left-8{margin-left:30px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-left-8{margin-left:50px!important}}.govuk-\\!-margin-9{margin:40px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-9{margin:60px!important}}.govuk-\\!-margin-top-9{margin-top:40px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-top-9{margin-top:60px!important}}.govuk-\\!-margin-right-9{margin-right:40px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-right-9{margin-right:60px!important}}.govuk-\\!-margin-bottom-9{margin-bottom:40px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-bottom-9{margin-bottom:60px!important}}.govuk-\\!-margin-left-9{margin-left:40px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-left-9{margin-left:60px!important}}.govuk-\\!-padding-0{padding:0!important}@media (min-width: 40.0625em){.govuk-\\!-padding-0{padding:0!important}}.govuk-\\!-padding-top-0{padding-top:0!important}@media (min-width: 40.0625em){.govuk-\\!-padding-top-0{padding-top:0!important}}.govuk-\\!-padding-right-0{padding-right:0!important}@media (min-width: 40.0625em){.govuk-\\!-padding-right-0{padding-right:0!important}}.govuk-\\!-padding-bottom-0{padding-bottom:0!important}@media (min-width: 40.0625em){.govuk-\\!-padding-bottom-0{padding-bottom:0!important}}.govuk-\\!-padding-left-0{padding-left:0!important}@media (min-width: 40.0625em){.govuk-\\!-padding-left-0{padding-left:0!important}}.govuk-\\!-padding-1{padding:5px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-1{padding:5px!important}}.govuk-\\!-padding-top-1{padding-top:5px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-top-1{padding-top:5px!important}}.govuk-\\!-padding-right-1{padding-right:5px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-right-1{padding-right:5px!important}}.govuk-\\!-padding-bottom-1{padding-bottom:5px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-bottom-1{padding-bottom:5px!important}}.govuk-\\!-padding-left-1{padding-left:5px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-left-1{padding-left:5px!important}}.govuk-\\!-padding-2{padding:10px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-2{padding:10px!important}}.govuk-\\!-padding-top-2{padding-top:10px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-top-2{padding-top:10px!important}}.govuk-\\!-padding-right-2{padding-right:10px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-right-2{padding-right:10px!important}}.govuk-\\!-padding-bottom-2{padding-bottom:10px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-bottom-2{padding-bottom:10px!important}}.govuk-\\!-padding-left-2{padding-left:10px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-left-2{padding-left:10px!important}}.govuk-\\!-padding-3{padding:15px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-3{padding:15px!important}}.govuk-\\!-padding-top-3{padding-top:15px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-top-3{padding-top:15px!important}}.govuk-\\!-padding-right-3{padding-right:15px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-right-3{padding-right:15px!important}}.govuk-\\!-padding-bottom-3{padding-bottom:15px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-bottom-3{padding-bottom:15px!important}}.govuk-\\!-padding-left-3{padding-left:15px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-left-3{padding-left:15px!important}}.govuk-\\!-padding-4{padding:15px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-4{padding:20px!important}}.govuk-\\!-padding-top-4{padding-top:15px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-top-4{padding-top:20px!important}}.govuk-\\!-padding-right-4{padding-right:15px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-right-4{padding-right:20px!important}}.govuk-\\!-padding-bottom-4{padding-bottom:15px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-bottom-4{padding-bottom:20px!important}}.govuk-\\!-padding-left-4{padding-left:15px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-left-4{padding-left:20px!important}}.govuk-\\!-padding-5{padding:15px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-5{padding:25px!important}}.govuk-\\!-padding-top-5{padding-top:15px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-top-5{padding-top:25px!important}}.govuk-\\!-padding-right-5{padding-right:15px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-right-5{padding-right:25px!important}}.govuk-\\!-padding-bottom-5{padding-bottom:15px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-bottom-5{padding-bottom:25px!important}}.govuk-\\!-padding-left-5{padding-left:15px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-left-5{padding-left:25px!important}}.govuk-\\!-padding-6{padding:20px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-6{padding:30px!important}}.govuk-\\!-padding-top-6{padding-top:20px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-top-6{padding-top:30px!important}}.govuk-\\!-padding-right-6{padding-right:20px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-right-6{padding-right:30px!important}}.govuk-\\!-padding-bottom-6{padding-bottom:20px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-bottom-6{padding-bottom:30px!important}}.govuk-\\!-padding-left-6{padding-left:20px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-left-6{padding-left:30px!important}}.govuk-\\!-padding-7{padding:25px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-7{padding:40px!important}}.govuk-\\!-padding-top-7{padding-top:25px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-top-7{padding-top:40px!important}}.govuk-\\!-padding-right-7{padding-right:25px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-right-7{padding-right:40px!important}}.govuk-\\!-padding-bottom-7{padding-bottom:25px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-bottom-7{padding-bottom:40px!important}}.govuk-\\!-padding-left-7{padding-left:25px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-left-7{padding-left:40px!important}}.govuk-\\!-padding-8{padding:30px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-8{padding:50px!important}}.govuk-\\!-padding-top-8{padding-top:30px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-top-8{padding-top:50px!important}}.govuk-\\!-padding-right-8{padding-right:30px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-right-8{padding-right:50px!important}}.govuk-\\!-padding-bottom-8{padding-bottom:30px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-bottom-8{padding-bottom:50px!important}}.govuk-\\!-padding-left-8{padding-left:30px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-left-8{padding-left:50px!important}}.govuk-\\!-padding-9{padding:40px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-9{padding:60px!important}}.govuk-\\!-padding-top-9{padding-top:40px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-top-9{padding-top:60px!important}}.govuk-\\!-padding-right-9{padding-right:40px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-right-9{padding-right:60px!important}}.govuk-\\!-padding-bottom-9{padding-bottom:40px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-bottom-9{padding-bottom:60px!important}}.govuk-\\!-padding-left-9{padding-left:40px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-left-9{padding-left:60px!important}}.govuk-\\!-text-align-left{text-align:left!important}.govuk-\\!-text-align-centre{text-align:center!important}.govuk-\\!-text-align-right{text-align:right!important}.govuk-\\!-font-size-80{font-size:53px!important;font-size:3.3125rem!important;line-height:1.0377358491!important}@media (min-width: 40.0625em){.govuk-\\!-font-size-80{font-size:80px!important;font-size:5rem!important;line-height:1!important}}@media print{.govuk-\\!-font-size-80{font-size:53pt!important;line-height:1.1!important}}.govuk-\\!-font-size-48{font-size:32px!important;font-size:2rem!important;line-height:1.09375!important}@media (min-width: 40.0625em){.govuk-\\!-font-size-48{font-size:48px!important;font-size:3rem!important;line-height:1.0416666667!important}}@media print{.govuk-\\!-font-size-48{font-size:32pt!important;line-height:1.15!important}}.govuk-\\!-font-size-36{font-size:24px!important;font-size:1.5rem!important;line-height:1.0416666667!important}@media (min-width: 40.0625em){.govuk-\\!-font-size-36{font-size:36px!important;font-size:2.25rem!important;line-height:1.1111111111!important}}@media print{.govuk-\\!-font-size-36{font-size:24pt!important;line-height:1.05!important}}.govuk-\\!-font-size-27{font-size:18px!important;font-size:1.125rem!important;line-height:1.1111111111!important}@media (min-width: 40.0625em){.govuk-\\!-font-size-27{font-size:27px!important;font-size:1.6875rem!important;line-height:1.1111111111!important}}@media print{.govuk-\\!-font-size-27{font-size:18pt!important;line-height:1.15!important}}.govuk-\\!-font-size-24{font-size:18px!important;font-size:1.125rem!important;line-height:1.1111111111!important}@media (min-width: 40.0625em){.govuk-\\!-font-size-24{font-size:24px!important;font-size:1.5rem!important;line-height:1.25!important}}@media print{.govuk-\\!-font-size-24{font-size:18pt!important;line-height:1.15!important}}.govuk-\\!-font-size-19{font-size:16px!important;font-size:1rem!important;line-height:1.25!important}@media (min-width: 40.0625em){.govuk-\\!-font-size-19{font-size:19px!important;font-size:1.1875rem!important;line-height:1.3157894737!important}}@media print{.govuk-\\!-font-size-19{font-size:14pt!important;line-height:1.15!important}}.govuk-\\!-font-size-16{font-size:14px!important;font-size:.875rem!important;line-height:1.1428571429!important}@media (min-width: 40.0625em){.govuk-\\!-font-size-16{font-size:16px!important;font-size:1rem!important;line-height:1.25!important}}@media print{.govuk-\\!-font-size-16{font-size:14pt!important;line-height:1.2!important}}.govuk-\\!-font-size-14{font-size:12px!important;font-size:.75rem!important;line-height:1.25!important}@media (min-width: 40.0625em){.govuk-\\!-font-size-14{font-size:14px!important;font-size:.875rem!important;line-height:1.4285714286!important}}@media print{.govuk-\\!-font-size-14{font-size:12pt!important;line-height:1.2!important}}.govuk-\\!-font-weight-regular{font-weight:400!important}.govuk-\\!-font-weight-bold{font-weight:700!important}.govuk-\\!-width-full,.govuk-\\!-width-three-quarters{width:100%!important}@media (min-width: 40.0625em){.govuk-\\!-width-three-quarters{width:75%!important}}.govuk-\\!-width-two-thirds{width:100%!important}@media (min-width: 40.0625em){.govuk-\\!-width-two-thirds{width:66.66%!important}}.govuk-\\!-width-one-half{width:100%!important}@media (min-width: 40.0625em){.govuk-\\!-width-one-half{width:50%!important}}.govuk-\\!-width-one-third{width:100%!important}@media (min-width: 40.0625em){.govuk-\\!-width-one-third{width:33.33%!important}}.govuk-\\!-width-one-quarter{width:100%!important}@media (min-width: 40.0625em){.govuk-\\!-width-one-quarter{width:25%!important}}:host .govuk-label{font-family:var(--autocomplete__font-family, "GDS Transport", arial, sans-serif)}:host .govuk-label--static{font-size:var(--autocomplete__label__font-size, 19px)}:host .autocomplete__input{font-family:var(--autocomplete__font-family, "GDS Transport", arial, sans-serif);font-size:var(--autocomplete__input__font-size, 19px);height:var(--autocomplete__input__height, 35px);padding:var(--autocomplete__input__padding, 5px 34px 5px 5px);z-index:calc(var(--autocomplete__dropdown-arrow-down__z-index, 1) + 1)}:host .autocomplete__dropdown-arrow-down{z-index:var(--autocomplete__dropdown-arrow-down__z-index, 1);top:calc((var(--autocomplete__input__height, 35px) - 17px) / 2)}:host .autocomplete__option{font-family:var(--autocomplete__font-family, "GDS Transport", arial, sans-serif);font-size:var(--autocomplete__input__font-size, 19px);padding:var(--autocomplete__option__padding, 5px);border-bottom:var(--autocomplete__option__border-bottom, solid 1px #b1b4b6)}:host .autocomplete__option--focused,:host .autocomplete__option:hover,.autocomplete__option--focused :host .autocomplete__option:hover{border-color:var(--autocomplete__option__hover-border-color, #1d70b8);background-color:var(--autocomplete__option__hover-background-color, #1d70b8)}:host .autocomplete__menu{max-height:var(--autocomplete__menu__max-height, 342px)}
`;
var Wg = Object.freeze, Mp = Object.defineProperty, uE = Object.getOwnPropertyDescriptor, Ue = (i, t, e, n) => {
  for (var o = n > 1 ? void 0 : n ? uE(t, e) : t, r3 = i.length - 1, s; r3 >= 0; r3--)
    (s = i[r3]) && (o = (n ? s(t, e, o) : s(o)) || o);
  return n && o && Mp(t, e, o), o;
}, dE = (i, t) => Wg(Mp(i, "raw", { value: Wg(t || i.slice()) })), Zg;
let Ae = class extends Un {
  constructor() {
    super(...arguments), this.id = "autocomplete", this.postcode = "SE5 0HU", this.label = "Select an address", this.initialAddress = "", this.osPlacesApiKey = "a69TM3Yjy4YUiAXFAyI6KyadBPrwYqex", this.arrowStyle = "default", this.labelStyle = "responsive", this._totalAddresses = void 0, this._addressesInPostcode = [], this._options = [], this._selectedAddress = null, this._osError = void 0, this.dispatch = (i, t) => this.dispatchEvent(
      new CustomEvent(i, {
        detail: t
      })
    );
  }
  connectedCallback() {
    super.connectedCallback(), this._fetchData();
  }
  disconnectedCallback() {
    super.disconnectedCallback();
  }
  _getLightDropdownArrow() {
    return '<svg class="autocomplete__dropdown-arrow-down" style="height: 17px;" viewBox="0 0 512 512" ><path d="M256,298.3L256,298.3L256,298.3l174.2-167.2c4.3-4.2,11.4-4.1,15.8,0.2l30.6,29.9c4.4,4.3,4.5,11.3,0.2,15.5L264.1,380.9  c-2.2,2.2-5.2,3.2-8.1,3c-3,0.1-5.9-0.9-8.1-3L35.2,176.7c-4.3-4.2-4.2-11.2,0.2-15.5L66,131.3c4.4-4.3,11.5-4.4,15.8-0.2L256,298.3  z"/></svg>';
  }
  firstUpdated() {
    lE({
      element: this.renderRoot.querySelector(`#${this.id}-container`),
      id: this.id,
      required: true,
      source: this._options,
      defaultValue: this.initialAddress,
      showAllValues: true,
      displayMenu: "overlay",
      dropdownArrow: this.arrowStyle === "light" ? this._getLightDropdownArrow : void 0,
      tNoResults: () => "No addresses found",
      onConfirm: (i) => {
        this._selectedAddress = this._addressesInPostcode.filter(
          (t) => t.LPI.ADDRESS.split(
            `, ${t.LPI.ADMINISTRATIVE_AREA}`
          )[0] === i
        )[0], this._selectedAddress && this.dispatch("addressSelection", { address: this._selectedAddress });
      }
    });
  }
  async _fetchData(i = 0, t = []) {
    const e = {
      postcode: this.postcode,
      dataset: "LPI",
      maxResults: "100",
      output_srs: "EPSG:4326",
      lr: "EN",
      key: this.osPlacesApiKey
    }, n = `https://api.os.uk/search/places/v1/postcode?${new URLSearchParams(
      e
    )}`;
    await fetch(n + `&offset=${i}`).then((o) => o.json()).then((o) => {
      var s, a, l;
      (o.error || o.fault) && (this._osError = ((s = o.error) == null ? void 0 : s.message) || ((a = o.fault) == null ? void 0 : a.faultstring) || "Something went wrong"), this._totalAddresses = (l = o.header) == null ? void 0 : l.totalresults;
      const r3 = t.concat(o.results || []);
      if (this._addressesInPostcode = r3, this.dispatch("ready", {
        postcode: this.postcode,
        status: `fetched ${this._addressesInPostcode.length}/${this._totalAddresses} addresses`
      }), o.results) {
        o.results.filter(
          (u) => u.LPI.LPI_LOGICAL_STATUS_CODE_DESCRIPTION === "APPROVED"
        ).map((u) => {
          this._options.push(
            u.LPI.ADDRESS.split(
              `, ${u.LPI.ADMINISTRATIVE_AREA}`
            )[0]
          );
        });
        const h = new Intl.Collator([], { numeric: true });
        this._options.sort((u, d) => h.compare(u, d));
      }
      this._totalAddresses && this._totalAddresses > this._addressesInPostcode.length && this._fetchData(
        this._addressesInPostcode.length,
        this._addressesInPostcode
      );
    }).catch((o) => console.log(o));
  }
  _getLabelClasses() {
    let i = "govuk-label";
    return this.labelStyle === "static" && (i += " govuk-label--static"), i;
  }
  _getErrorMessageContainer(i) {
    const t = i ? "govuk-warning-text" : "", e = i ? Qi` <span class="govuk-warning-text__icon" aria-hidden="true">!</span>
          <strong class="govuk-warning-text__text">
            <span class="govuk-warning-text__assistive">Warning</span>
            ${i}
          </strong>` : null;
    return Qi`<div
      id="error-message-container"
      class="${t}"
      role="status"
    >
      ${e}
    </div>`;
  }
  _getAutocomplete(i) {
    return i ? null : Qi`
          <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/accessible-autocomplete@2.0.4/dist/accessible-autocomplete.min.css"
          />
          <label class=${this._getLabelClasses()} for=${this.id}>
            ${this.label}
          </label>
          <div id="${this.id}-container" spellcheck="false"></div>
        `;
  }
  render() {
    let i;
    return this.osPlacesApiKey ? this._osError ? i = this._osError : this._totalAddresses === 0 && (i = `No addresses found in postcode ${this.postcode}`) : i = "Missing OS Places API key", Qi(Zg || (Zg = dE([`
      <script src="https://cdn.polyfill.io/v2/polyfill.min.js"><\/script>
      `, `
      `, `
    `])), this._getErrorMessageContainer(i), this._getAutocomplete(i));
  }
};
Ae.styles = Ga(hE);
Ue([
  K({ type: String })
], Ae.prototype, "id", 2);
Ue([
  K({ type: String })
], Ae.prototype, "postcode", 2);
Ue([
  K({ type: String })
], Ae.prototype, "label", 2);
Ue([
  K({ type: String })
], Ae.prototype, "initialAddress", 2);
Ue([
  K({ type: String })
], Ae.prototype, "osPlacesApiKey", 2);
Ue([
  K({ type: String })
], Ae.prototype, "arrowStyle", 2);
Ue([
  K({ type: String })
], Ae.prototype, "labelStyle", 2);
Ue([
  Sn()
], Ae.prototype, "_totalAddresses", 2);
Ue([
  Sn()
], Ae.prototype, "_addressesInPostcode", 2);
Ue([
  Sn()
], Ae.prototype, "_options", 2);
Ue([
  Sn()
], Ae.prototype, "_selectedAddress", 2);
Ue([
  Sn()
], Ae.prototype, "_osError", 2);
Ae = Ue([
  iu("address-autocomplete")
], Ae);
var Jh = globalThis && globalThis.__assign || function() {
  return Jh = Object.assign || function(i) {
    for (var t, e = 1, n = arguments.length; e < n; e++) {
      t = arguments[e];
      for (var o in t)
        Object.prototype.hasOwnProperty.call(t, o) && (i[o] = t[o]);
    }
    return i;
  }, Jh.apply(this, arguments);
}, Ep = /^([a-z]{1,2}\d)([a-z])$/i, cE = /[a-z]{2}$/i, Sp = /\d[a-z]{2}$/i, gE = /^[a-z]{1,2}\d[a-z\d]?\s*\d[a-z]{2}$/i, fE = /^[a-z]{1,2}/i, mE = {
  valid: false,
  postcode: null,
  incode: null,
  outcode: null,
  area: null,
  district: null,
  subDistrict: null,
  sector: null,
  unit: null
}, kd = function(i) {
  return i === null ? null : i[0];
}, pE = /\s+/gi, Tp = function(i) {
  return i.replace(pE, "").toUpperCase();
}, wd = function(i, t) {
  return Tp(i).match(t);
}, Ms = function(i) {
  return i.match(gE) !== null;
}, Qh = function(i) {
  var t = Es(i);
  if (t === null)
    return null;
  var e = Cd(i);
  return e === null ? null : t + " " + e;
}, Es = function(i) {
  return Ms(i) ? Tp(i).replace(Sp, "") : null;
}, Cd = function(i) {
  if (!Ms(i))
    return null;
  var t = wd(i, Sp);
  return kd(t);
}, vE = function(i) {
  if (!Ms(i))
    return null;
  var t = wd(i, fE);
  return kd(t);
}, _E = function(i) {
  var t = Es(i);
  if (t === null)
    return null;
  var e = Cd(i);
  return e === null ? null : t + " " + e[0];
}, yE = function(i) {
  if (!Ms(i))
    return null;
  var t = wd(i, cE);
  return kd(t);
}, xE = function(i) {
  var t = Es(i);
  if (t === null)
    return null;
  var e = t.match(Ep);
  return e === null ? t : e[1];
}, bE = function(i) {
  var t = Es(i);
  if (t === null)
    return null;
  var e = t.match(Ep);
  return e === null ? null : t;
}, kE = function(i) {
  return Ms(i) ? {
    valid: true,
    postcode: Qh(i),
    incode: Cd(i),
    outcode: Es(i),
    area: vE(i),
    district: xE(i),
    subDistrict: bE(i),
    sector: _E(i),
    unit: yE(i)
  } : Jh({}, mE);
};
const wE = `@charset "UTF-8";.govuk-link{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:underline}/*! Copyright (c) 2011 by Margaret Calvert & Henrik Kubel. All rights reserved. The font has been customised for exclusive use on gov.uk. This cut is not commercially available. */@font-face{font-family:GDS Transport;font-style:normal;font-weight:400;src:url(/assets/fonts/light-94a07e06a1-v2.woff2) format("woff2"),url(/assets/fonts/light-f591b13f7d-v2.woff) format("woff");font-display:fallback}@font-face{font-family:GDS Transport;font-style:normal;font-weight:700;src:url(/assets/fonts/bold-b542beb274-v2.woff2) format("woff2"),url(/assets/fonts/bold-affa96571d-v2.woff) format("woff");font-display:fallback}@media print{.govuk-link{font-family:sans-serif}}.govuk-link:focus{outline:3px solid transparent;color:#0b0c0c;background-color:#fd0;box-shadow:0 -2px #fd0,0 4px #0b0c0c;text-decoration:none}.govuk-link:link{color:#1d70b8}.govuk-link:visited{color:#4c2c92}.govuk-link:hover{color:#003078}.govuk-link:active{color:#0b0c0c}.govuk-link:focus{color:#0b0c0c}@media print{[href^="/"].govuk-link:after,[href^="http://"].govuk-link:after,[href^="https://"].govuk-link:after{content:" (" attr(href) ")";font-size:90%;word-wrap:break-word}}.govuk-link--muted:link,.govuk-link--muted:visited{color:#505a5f}.govuk-link--muted:hover,.govuk-link--muted:active{color:#0b0c0c}.govuk-link--muted:focus{color:#0b0c0c}.govuk-link--text-colour:link,.govuk-link--text-colour:visited{color:#0b0c0c}@media print{.govuk-link--text-colour:link,.govuk-link--text-colour:visited{color:#000}}.govuk-link--text-colour:hover{color:#0b0c0cfc}.govuk-link--text-colour:active,.govuk-link--text-colour:focus{color:#0b0c0c}@media print{.govuk-link--text-colour:active,.govuk-link--text-colour:focus{color:#000}}.govuk-link--inverse:link,.govuk-link--inverse:visited{color:#fff}.govuk-link--inverse:hover,.govuk-link--inverse:active{color:#fffffffc}.govuk-link--inverse:focus{color:#0b0c0c}.govuk-link--no-underline:not(:hover):not(:active){text-decoration:none}.govuk-link--no-visited-state:link,.govuk-link--no-visited-state:visited{color:#1d70b8}.govuk-link--no-visited-state:hover{color:#003078}.govuk-link--no-visited-state:active{color:#0b0c0c}.govuk-link--no-visited-state:focus{color:#0b0c0c}.govuk-list{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.25;color:#0b0c0c;margin-top:0;margin-bottom:15px;padding-left:0;list-style-type:none}@media print{.govuk-list{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-list{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-list{font-size:14pt;line-height:1.15}}@media print{.govuk-list{color:#000}}@media (min-width: 40.0625em){.govuk-list{margin-bottom:20px}}.govuk-list .govuk-list{margin-top:10px}.govuk-list>li{margin-bottom:5px}.govuk-list--bullet{padding-left:20px;list-style-type:disc}.govuk-list--number{padding-left:20px;list-style-type:decimal}.govuk-list--bullet>li,.govuk-list--number>li{margin-bottom:0}@media (min-width: 40.0625em){.govuk-list--bullet>li,.govuk-list--number>li{margin-bottom:5px}}.govuk-list--spaced>li{margin-bottom:10px}@media (min-width: 40.0625em){.govuk-list--spaced>li{margin-bottom:15px}}.govuk-heading-xl{color:#0b0c0c;font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;font-size:32px;font-size:2rem;line-height:1.09375;display:block;margin-top:0;margin-bottom:30px}@media print{.govuk-heading-xl{color:#000}}@media print{.govuk-heading-xl{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-heading-xl{font-size:48px;font-size:3rem;line-height:1.0416666667}}@media print{.govuk-heading-xl{font-size:32pt;line-height:1.15}}@media (min-width: 40.0625em){.govuk-heading-xl{margin-bottom:50px}}.govuk-heading-l{color:#0b0c0c;font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;font-size:24px;font-size:1.5rem;line-height:1.0416666667;display:block;margin-top:0;margin-bottom:20px}@media print{.govuk-heading-l{color:#000}}@media print{.govuk-heading-l{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-heading-l{font-size:36px;font-size:2.25rem;line-height:1.1111111111}}@media print{.govuk-heading-l{font-size:24pt;line-height:1.05}}@media (min-width: 40.0625em){.govuk-heading-l{margin-bottom:30px}}.govuk-heading-m{color:#0b0c0c;font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;font-size:18px;font-size:1.125rem;line-height:1.1111111111;display:block;margin-top:0;margin-bottom:15px}@media print{.govuk-heading-m{color:#000}}@media print{.govuk-heading-m{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-heading-m{font-size:24px;font-size:1.5rem;line-height:1.25}}@media print{.govuk-heading-m{font-size:18pt;line-height:1.15}}@media (min-width: 40.0625em){.govuk-heading-m{margin-bottom:20px}}.govuk-heading-s{color:#0b0c0c;font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;font-size:16px;font-size:1rem;line-height:1.25;display:block;margin-top:0;margin-bottom:15px}@media print{.govuk-heading-s{color:#000}}@media print{.govuk-heading-s{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-heading-s{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-heading-s{font-size:14pt;line-height:1.15}}@media (min-width: 40.0625em){.govuk-heading-s{margin-bottom:20px}}.govuk-caption-xl{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:18px;font-size:1.125rem;line-height:1.1111111111;display:block;margin-bottom:5px;color:#505a5f}@media print{.govuk-caption-xl{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-caption-xl{font-size:27px;font-size:1.6875rem;line-height:1.1111111111}}@media print{.govuk-caption-xl{font-size:18pt;line-height:1.15}}.govuk-caption-l{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:18px;font-size:1.125rem;line-height:1.1111111111;display:block;margin-bottom:5px;color:#505a5f}@media print{.govuk-caption-l{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-caption-l{font-size:24px;font-size:1.5rem;line-height:1.25}}@media print{.govuk-caption-l{font-size:18pt;line-height:1.15}}@media (min-width: 40.0625em){.govuk-caption-l{margin-bottom:0}}.govuk-caption-m{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.25;display:block;color:#505a5f}@media print{.govuk-caption-m{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-caption-m{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-caption-m{font-size:14pt;line-height:1.15}}.govuk-body-lead,.govuk-body-l{color:#0b0c0c;font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:18px;font-size:1.125rem;line-height:1.1111111111;margin-top:0;margin-bottom:20px}@media print{.govuk-body-lead,.govuk-body-l{color:#000}}@media print{.govuk-body-lead,.govuk-body-l{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-body-lead,.govuk-body-l{font-size:24px;font-size:1.5rem;line-height:1.25}}@media print{.govuk-body-lead,.govuk-body-l{font-size:18pt;line-height:1.15}}@media (min-width: 40.0625em){.govuk-body-lead,.govuk-body-l{margin-bottom:30px}}.govuk-body,.govuk-body-m{color:#0b0c0c;font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.25;margin-top:0;margin-bottom:15px}@media print{.govuk-body,.govuk-body-m{color:#000}}@media print{.govuk-body,.govuk-body-m{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-body,.govuk-body-m{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-body,.govuk-body-m{font-size:14pt;line-height:1.15}}@media (min-width: 40.0625em){.govuk-body,.govuk-body-m{margin-bottom:20px}}.govuk-body-s{color:#0b0c0c;font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:14px;font-size:.875rem;line-height:1.1428571429;margin-top:0;margin-bottom:15px}@media print{.govuk-body-s{color:#000}}@media print{.govuk-body-s{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-body-s{font-size:16px;font-size:1rem;line-height:1.25}}@media print{.govuk-body-s{font-size:14pt;line-height:1.2}}@media (min-width: 40.0625em){.govuk-body-s{margin-bottom:20px}}.govuk-body-xs{color:#0b0c0c;font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:12px;font-size:.75rem;line-height:1.25;margin-top:0;margin-bottom:15px}@media print{.govuk-body-xs{color:#000}}@media print{.govuk-body-xs{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-body-xs{font-size:14px;font-size:.875rem;line-height:1.4285714286}}@media print{.govuk-body-xs{font-size:12pt;line-height:1.2}}@media (min-width: 40.0625em){.govuk-body-xs{margin-bottom:20px}}.govuk-body-l+.govuk-heading-l,.govuk-body-lead+.govuk-heading-l{padding-top:5px}@media (min-width: 40.0625em){.govuk-body-l+.govuk-heading-l,.govuk-body-lead+.govuk-heading-l{padding-top:10px}}.govuk-body-m+.govuk-heading-l,.govuk-body+.govuk-heading-l,.govuk-body-s+.govuk-heading-l,.govuk-list+.govuk-heading-l{padding-top:15px}@media (min-width: 40.0625em){.govuk-body-m+.govuk-heading-l,.govuk-body+.govuk-heading-l,.govuk-body-s+.govuk-heading-l,.govuk-list+.govuk-heading-l{padding-top:20px}}.govuk-body-m+.govuk-heading-m,.govuk-body+.govuk-heading-m,.govuk-body-s+.govuk-heading-m,.govuk-list+.govuk-heading-m,.govuk-body-m+.govuk-heading-s,.govuk-body+.govuk-heading-s,.govuk-body-s+.govuk-heading-s,.govuk-list+.govuk-heading-s{padding-top:5px}@media (min-width: 40.0625em){.govuk-body-m+.govuk-heading-m,.govuk-body+.govuk-heading-m,.govuk-body-s+.govuk-heading-m,.govuk-list+.govuk-heading-m,.govuk-body-m+.govuk-heading-s,.govuk-body+.govuk-heading-s,.govuk-body-s+.govuk-heading-s,.govuk-list+.govuk-heading-s{padding-top:10px}}.govuk-section-break{margin:0;border:0}.govuk-section-break--xl{margin-top:30px;margin-bottom:30px}@media (min-width: 40.0625em){.govuk-section-break--xl{margin-top:50px}}@media (min-width: 40.0625em){.govuk-section-break--xl{margin-bottom:50px}}.govuk-section-break--l{margin-top:20px;margin-bottom:20px}@media (min-width: 40.0625em){.govuk-section-break--l{margin-top:30px}}@media (min-width: 40.0625em){.govuk-section-break--l{margin-bottom:30px}}.govuk-section-break--m{margin-top:15px;margin-bottom:15px}@media (min-width: 40.0625em){.govuk-section-break--m{margin-top:20px}}@media (min-width: 40.0625em){.govuk-section-break--m{margin-bottom:20px}}.govuk-section-break--visible{border-bottom:1px solid #b1b4b6}.govuk-button-group{margin-bottom:5px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}@media (min-width: 40.0625em){.govuk-button-group{margin-bottom:15px}}.govuk-button-group .govuk-link{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.1875;display:inline-block;max-width:100%;margin-top:5px;margin-bottom:20px;text-align:center}@media print{.govuk-button-group .govuk-link{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-button-group .govuk-link{font-size:19px;font-size:1.1875rem;line-height:1}}@media print{.govuk-button-group .govuk-link{font-size:14pt;line-height:19px}}.govuk-button-group .govuk-button{margin-bottom:17px}@media (min-width: 40.0625em){.govuk-button-group{margin-right:-15px;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:baseline;-webkit-align-items:baseline;-ms-flex-align:baseline;align-items:baseline}.govuk-button-group .govuk-button,.govuk-button-group .govuk-link{margin-right:15px}.govuk-button-group .govuk-link{text-align:left}}.govuk-form-group{margin-bottom:20px}.govuk-form-group:after{content:"";display:block;clear:both}@media (min-width: 40.0625em){.govuk-form-group{margin-bottom:30px}}.govuk-form-group .govuk-form-group:last-of-type{margin-bottom:0}.govuk-form-group--error{padding-left:15px;border-left:5px solid #d4351c}.govuk-form-group--error .govuk-form-group{padding:0;border:0}.govuk-grid-row{margin-right:-15px;margin-left:-15px}.govuk-grid-row:after{content:"";display:block;clear:both}.govuk-grid-column-one-quarter{box-sizing:border-box;width:100%;padding:0 15px}@media (min-width: 40.0625em){.govuk-grid-column-one-quarter{width:25%;float:left}}.govuk-grid-column-one-third{box-sizing:border-box;width:100%;padding:0 15px}@media (min-width: 40.0625em){.govuk-grid-column-one-third{width:33.3333%;float:left}}.govuk-grid-column-one-half{box-sizing:border-box;width:100%;padding:0 15px}@media (min-width: 40.0625em){.govuk-grid-column-one-half{width:50%;float:left}}.govuk-grid-column-two-thirds{box-sizing:border-box;width:100%;padding:0 15px}@media (min-width: 40.0625em){.govuk-grid-column-two-thirds{width:66.6666%;float:left}}.govuk-grid-column-three-quarters{box-sizing:border-box;width:100%;padding:0 15px}@media (min-width: 40.0625em){.govuk-grid-column-three-quarters{width:75%;float:left}}.govuk-grid-column-full{box-sizing:border-box;width:100%;padding:0 15px}@media (min-width: 40.0625em){.govuk-grid-column-full{width:100%;float:left}}.govuk-grid-column-one-quarter-from-desktop{box-sizing:border-box;padding:0 15px}@media (min-width: 48.0625em){.govuk-grid-column-one-quarter-from-desktop{width:25%;float:left}}.govuk-grid-column-one-third-from-desktop{box-sizing:border-box;padding:0 15px}@media (min-width: 48.0625em){.govuk-grid-column-one-third-from-desktop{width:33.3333%;float:left}}.govuk-grid-column-one-half-from-desktop{box-sizing:border-box;padding:0 15px}@media (min-width: 48.0625em){.govuk-grid-column-one-half-from-desktop{width:50%;float:left}}.govuk-grid-column-two-thirds-from-desktop{box-sizing:border-box;padding:0 15px}@media (min-width: 48.0625em){.govuk-grid-column-two-thirds-from-desktop{width:66.6666%;float:left}}.govuk-grid-column-three-quarters-from-desktop{box-sizing:border-box;padding:0 15px}@media (min-width: 48.0625em){.govuk-grid-column-three-quarters-from-desktop{width:75%;float:left}}.govuk-grid-column-full-from-desktop{box-sizing:border-box;padding:0 15px}@media (min-width: 48.0625em){.govuk-grid-column-full-from-desktop{width:100%;float:left}}.govuk-main-wrapper{display:block;padding-top:20px;padding-bottom:20px}@media (min-width: 40.0625em){.govuk-main-wrapper{padding-top:40px;padding-bottom:40px}}.govuk-main-wrapper--auto-spacing:first-child,.govuk-main-wrapper--l{padding-top:30px}@media (min-width: 40.0625em){.govuk-main-wrapper--auto-spacing:first-child,.govuk-main-wrapper--l{padding-top:50px}}.govuk-template{background-color:#f3f2f1;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;text-size-adjust:100%}@media screen{.govuk-template{overflow-y:scroll}}.govuk-template__body{margin:0;background-color:#fff}.govuk-width-container{max-width:960px;margin-right:15px;margin-left:15px}@supports (margin: max(0px)){.govuk-width-container{margin-right:max(15px,calc(15px + env(safe-area-inset-right)));margin-left:max(15px,calc(15px + env(safe-area-inset-left)))}}@media (min-width: 40.0625em){.govuk-width-container{margin-right:30px;margin-left:30px}@supports (margin: max(0px)){.govuk-width-container{margin-right:max(30px,calc(15px + env(safe-area-inset-right)));margin-left:max(30px,calc(15px + env(safe-area-inset-left)))}}}@media (min-width: 1020px){.govuk-width-container{margin-right:auto;margin-left:auto}@supports (margin: max(0px)){.govuk-width-container{margin-right:auto;margin-left:auto}}}.govuk-accordion{margin-bottom:20px}@media (min-width: 40.0625em){.govuk-accordion{margin-bottom:30px}}.govuk-accordion__section{padding-top:15px}.govuk-accordion__section-heading{margin-top:0;margin-bottom:0;padding-top:15px;padding-bottom:15px}.govuk-accordion__section-button{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;font-size:18px;font-size:1.125rem;line-height:1.1111111111;color:#0b0c0c;display:block;margin-bottom:0;padding-top:15px}@media print{.govuk-accordion__section-button{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-accordion__section-button{font-size:24px;font-size:1.5rem;line-height:1.25}}@media print{.govuk-accordion__section-button{font-size:18pt;line-height:1.15}}@media print{.govuk-accordion__section-button{color:#000}}.govuk-accordion__section-content>:last-child{margin-bottom:0}.js-enabled .govuk-accordion{border-bottom:1px solid #b1b4b6}.js-enabled .govuk-accordion__section{padding-top:0}.js-enabled .govuk-accordion__section-content{display:none;padding-bottom:30px}@media (min-width: 40.0625em){.js-enabled .govuk-accordion__section-content{padding-bottom:50px}}.js-enabled .govuk-accordion__section--expanded .govuk-accordion__section-content{display:block}.js-enabled .govuk-accordion__show-all{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.25;position:relative;z-index:1;margin-bottom:9px;padding:5px 2px 5px 0;border-width:0;color:#1d70b8;background:none;cursor:pointer;-webkit-appearance:none}@media print{.js-enabled .govuk-accordion__show-all{font-family:sans-serif}}@media (min-width: 40.0625em){.js-enabled .govuk-accordion__show-all{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.js-enabled .govuk-accordion__show-all{font-size:14pt;line-height:1.15}}@media (min-width: 48.0625em){.js-enabled .govuk-accordion__show-all{margin-bottom:14px}}.js-enabled .govuk-accordion__show-all::-moz-focus-inner{padding:0;border:0}.js-enabled .govuk-accordion__show-all:hover{color:#0b0c0c;background:#f3f2f1;box-shadow:0 -2px #f3f2f1,0 4px #f3f2f1}.js-enabled .govuk-accordion__show-all:hover .govuk-accordion__section-toggle-text{color:#0b0c0c}.js-enabled .govuk-accordion__show-all:hover .govuk-accordion-nav__chevron{color:#0b0c0c;background:#0b0c0c}.js-enabled .govuk-accordion__show-all:hover .govuk-accordion-nav__chevron:after{color:#f3f2f1}.js-enabled .govuk-accordion__show-all:focus{outline:3px solid transparent;color:#0b0c0c;background-color:#fd0;box-shadow:0 -2px #fd0,0 4px #0b0c0c;text-decoration:none}.js-enabled .govuk-accordion__show-all:focus .govuk-accordion-nav__chevron{background:#0b0c0c}.js-enabled .govuk-accordion__show-all:focus .govuk-accordion-nav__chevron:after{color:#fd0}.js-enabled .govuk-accordion__section-heading{padding:0}.js-enabled .govuk-accordion-nav__chevron{box-sizing:border-box;display:inline-block;position:relative;width:1.25rem;height:1.25rem;border:.0625rem solid;border-radius:50%;vertical-align:middle}.js-enabled .govuk-accordion-nav__chevron:after{content:"";box-sizing:border-box;display:block;position:absolute;bottom:.3125rem;left:.375rem;width:.375rem;height:.375rem;-webkit-transform:rotate(-45deg);-ms-transform:rotate(-45deg);transform:rotate(-45deg);border-top:.125rem solid;border-right:.125rem solid}.js-enabled .govuk-accordion-nav__chevron--down{-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg)}.js-enabled .govuk-accordion__section-button{width:100%;padding:10px 0 0;border:0;border-top:1px solid #b1b4b6;border-bottom:10px solid transparent;color:#0b0c0c;background:none;text-align:left;cursor:pointer;-webkit-appearance:none}@media (min-width: 40.0625em){.js-enabled .govuk-accordion__section-button{padding-bottom:10px}}.js-enabled .govuk-accordion__section-button:active{color:#0b0c0c;background:none}.js-enabled .govuk-accordion__section-button:hover{color:#0b0c0c;background:#f3f2f1}.js-enabled .govuk-accordion__section-button:hover .govuk-accordion__section-toggle-text{color:#0b0c0c}.js-enabled .govuk-accordion__section-button:hover .govuk-accordion-nav__chevron{color:#0b0c0c;background:#0b0c0c}.js-enabled .govuk-accordion__section-button:hover .govuk-accordion-nav__chevron:after{color:#f3f2f1}.js-enabled .govuk-accordion__section-button:focus{outline:0}.js-enabled .govuk-accordion__section-button:focus .govuk-accordion__section-heading-text-focus,.js-enabled .govuk-accordion__section-button:focus .govuk-accordion__section-summary-focus,.js-enabled .govuk-accordion__section-button:focus .govuk-accordion__section-toggle-focus{outline:3px solid transparent;color:#0b0c0c;background-color:#fd0;box-shadow:0 -2px #fd0,0 4px #0b0c0c;text-decoration:none}.js-enabled .govuk-accordion__section-button:focus .govuk-accordion-nav__chevron{color:#0b0c0c;background:#0b0c0c}.js-enabled .govuk-accordion__section-button:focus .govuk-accordion-nav__chevron:after{color:#fd0}.js-enabled .govuk-accordion__section-button::-moz-focus-inner{padding:0;border:0}.js-enabled .govuk-accordion__section--expanded .govuk-accordion__section-button{padding-bottom:20px;border-bottom:0}.js-enabled .govuk-accordion__section-button:focus .govuk-accordion__section-toggle-focus{padding-bottom:3px}@media (min-width: 48.0625em){.js-enabled .govuk-accordion__section-button:focus .govuk-accordion__section-toggle-focus{padding-bottom:2px}}.js-enabled .govuk-accordion__section-toggle,.js-enabled .govuk-accordion__section-heading-text,.js-enabled .govuk-accordion__section-summary{display:block;margin-bottom:13px}.js-enabled .govuk-accordion__section-toggle .govuk-accordion__section-heading-text-focus,.js-enabled .govuk-accordion__section-toggle .govuk-accordion__section-summary-focus,.js-enabled .govuk-accordion__section-toggle .govuk-accordion__section-toggle-focus,.js-enabled .govuk-accordion__section-heading-text .govuk-accordion__section-heading-text-focus,.js-enabled .govuk-accordion__section-heading-text .govuk-accordion__section-summary-focus,.js-enabled .govuk-accordion__section-heading-text .govuk-accordion__section-toggle-focus,.js-enabled .govuk-accordion__section-summary .govuk-accordion__section-heading-text-focus,.js-enabled .govuk-accordion__section-summary .govuk-accordion__section-summary-focus,.js-enabled .govuk-accordion__section-summary .govuk-accordion__section-toggle-focus{display:inline}.js-enabled .govuk-accordion__section-toggle{font-size:16px;font-size:1rem;line-height:1.25;font-weight:400;color:#1d70b8}@media (min-width: 40.0625em){.js-enabled .govuk-accordion__section-toggle{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.js-enabled .govuk-accordion__section-toggle{font-size:14pt;line-height:1.15}}.js-enabled .govuk-accordion__show-all-text,.js-enabled .govuk-accordion__section-toggle-text{margin-left:5px;vertical-align:middle}@media screen and (forced-colors: active){.js-enabled .govuk-accordion__show-all:hover .govuk-accordion-nav__chevron,.js-enabled .govuk-accordion__section-button:hover .govuk-accordion-nav__chevron{background-color:transparent}.js-enabled .govuk-accordion__show-all:focus .govuk-accordion__section-heading-text-focus,.js-enabled .govuk-accordion__show-all:focus .govuk-accordion__section-summary-focus,.js-enabled .govuk-accordion__show-all:focus .govuk-accordion__section-toggle-focus,.js-enabled .govuk-accordion__show-all:focus .govuk-accordion-nav__chevron,.js-enabled .govuk-accordion__section-button:focus .govuk-accordion__section-heading-text-focus,.js-enabled .govuk-accordion__section-button:focus .govuk-accordion__section-summary-focus,.js-enabled .govuk-accordion__section-button:focus .govuk-accordion__section-toggle-focus,.js-enabled .govuk-accordion__section-button:focus .govuk-accordion-nav__chevron{background:transparent;background-color:transparent}}@media (hover: none){.js-enabled .govuk-accordion__section-header:hover{border-top-color:#b1b4b6;box-shadow:inset 0 3px #1d70b8}.js-enabled .govuk-accordion__section-header:hover .govuk-accordion__section-button{border-top-color:#b1b4b6}}.govuk-back-link{font-size:14px;font-size:.875rem;line-height:1.1428571429;font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:underline;display:inline-block;position:relative;margin-top:15px;margin-bottom:15px;padding-left:14px}@media (min-width: 40.0625em){.govuk-back-link{font-size:16px;font-size:1rem;line-height:1.25}}@media print{.govuk-back-link{font-size:14pt;line-height:1.2}}@media print{.govuk-back-link{font-family:sans-serif}}.govuk-back-link:focus{outline:3px solid transparent;color:#0b0c0c;background-color:#fd0;box-shadow:0 -2px #fd0,0 4px #0b0c0c;text-decoration:none}.govuk-back-link:link,.govuk-back-link:visited{color:#0b0c0c}@media print{.govuk-back-link:link,.govuk-back-link:visited{color:#000}}.govuk-back-link:hover{color:#0b0c0cfc}.govuk-back-link:active,.govuk-back-link:focus{color:#0b0c0c}@media print{.govuk-back-link:active,.govuk-back-link:focus{color:#000}}.govuk-back-link:before{content:"";display:block;position:absolute;top:0;bottom:0;left:3px;width:7px;height:7px;margin:auto 0;-webkit-transform:rotate(225deg);-ms-transform:rotate(225deg);transform:rotate(225deg);border:solid;border-width:1px 1px 0 0;border-color:#505a5f}.govuk-back-link:focus:before{border-color:#0b0c0c}.govuk-back-link:after{content:"";position:absolute;top:-14px;right:0;bottom:-14px;left:0}.govuk-breadcrumbs{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:14px;font-size:.875rem;line-height:1.1428571429;color:#0b0c0c;margin-top:15px;margin-bottom:10px}@media print{.govuk-breadcrumbs{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-breadcrumbs{font-size:16px;font-size:1rem;line-height:1.25}}@media print{.govuk-breadcrumbs{font-size:14pt;line-height:1.2}}@media print{.govuk-breadcrumbs{color:#000}}.govuk-breadcrumbs__list{margin:0;padding:0;list-style-type:none}.govuk-breadcrumbs__list:after{content:"";display:block;clear:both}.govuk-breadcrumbs__list-item{display:inline-block;position:relative;margin-bottom:5px;margin-left:10px;padding-left:15.655px;float:left}.govuk-breadcrumbs__list-item:before{content:"";display:block;position:absolute;top:0;bottom:0;left:-3.31px;width:7px;height:7px;margin:auto 0;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);border:solid;border-width:1px 1px 0 0;border-color:#505a5f}.govuk-breadcrumbs__list-item:first-child{margin-left:0;padding-left:0}.govuk-breadcrumbs__list-item:first-child:before{content:none;display:none}.govuk-breadcrumbs__link{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:underline}@media print{.govuk-breadcrumbs__link{font-family:sans-serif}}.govuk-breadcrumbs__link:focus{outline:3px solid transparent;color:#0b0c0c;background-color:#fd0;box-shadow:0 -2px #fd0,0 4px #0b0c0c;text-decoration:none}.govuk-breadcrumbs__link:link,.govuk-breadcrumbs__link:visited{color:#0b0c0c}@media print{.govuk-breadcrumbs__link:link,.govuk-breadcrumbs__link:visited{color:#000}}.govuk-breadcrumbs__link:hover{color:#0b0c0cfc}.govuk-breadcrumbs__link:active,.govuk-breadcrumbs__link:focus{color:#0b0c0c}@media print{.govuk-breadcrumbs__link:active,.govuk-breadcrumbs__link:focus{color:#000}}@media (max-width: 40.0525em){.govuk-breadcrumbs--collapse-on-mobile .govuk-breadcrumbs__list-item{display:none}.govuk-breadcrumbs--collapse-on-mobile .govuk-breadcrumbs__list-item:first-child,.govuk-breadcrumbs--collapse-on-mobile .govuk-breadcrumbs__list-item:last-child{display:inline-block}.govuk-breadcrumbs--collapse-on-mobile .govuk-breadcrumbs__list-item:before{top:6px;margin:0}.govuk-breadcrumbs--collapse-on-mobile .govuk-breadcrumbs__list{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}}.govuk-button{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.1875;box-sizing:border-box;display:inline-block;position:relative;width:100%;margin:0 0 22px;padding:8px 10px 7px;border:2px solid transparent;border-radius:0;color:#fff;background-color:#00703c;box-shadow:0 2px #002d18;text-align:center;vertical-align:top;cursor:pointer;-webkit-appearance:none}@media print{.govuk-button{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-button{font-size:19px;font-size:1.1875rem;line-height:1}}@media print{.govuk-button{font-size:14pt;line-height:19px}}@media (min-width: 40.0625em){.govuk-button{margin-bottom:32px}}@media (min-width: 40.0625em){.govuk-button{width:auto}}.govuk-button:link,.govuk-button:visited,.govuk-button:active,.govuk-button:hover{color:#fff;text-decoration:none}.govuk-button::-moz-focus-inner{padding:0;border:0}.govuk-button:hover{background-color:#005a30}.govuk-button:active{top:2px}.govuk-button:focus{border-color:#fd0;outline:3px solid transparent;box-shadow:inset 0 0 0 1px #fd0}.govuk-button:focus:not(:active):not(:hover){border-color:#fd0;color:#0b0c0c;background-color:#fd0;box-shadow:0 2px #0b0c0c}.govuk-button:before{content:"";display:block;position:absolute;top:-2px;right:-2px;bottom:-4px;left:-2px;background:transparent}.govuk-button:active:before{top:-4px}.govuk-button--disabled,.govuk-button[disabled=disabled],.govuk-button[disabled]{opacity:.5}.govuk-button--disabled:hover,.govuk-button[disabled=disabled]:hover,.govuk-button[disabled]:hover{background-color:#00703c;cursor:default}.govuk-button--disabled:active,.govuk-button[disabled=disabled]:active,.govuk-button[disabled]:active{top:0;box-shadow:0 2px #002d18}.govuk-button--secondary{background-color:#f3f2f1;box-shadow:0 2px #929191}.govuk-button--secondary,.govuk-button--secondary:link,.govuk-button--secondary:visited,.govuk-button--secondary:active,.govuk-button--secondary:hover{color:#0b0c0c}.govuk-button--secondary:hover{background-color:#dbdad9}.govuk-button--secondary:hover[disabled]{background-color:#f3f2f1}.govuk-button--warning{background-color:#d4351c;box-shadow:0 2px #55150b}.govuk-button--warning,.govuk-button--warning:link,.govuk-button--warning:visited,.govuk-button--warning:active,.govuk-button--warning:hover{color:#fff}.govuk-button--warning:hover{background-color:#aa2a16}.govuk-button--warning:hover[disabled]{background-color:#d4351c}.govuk-button--start{font-weight:700;font-size:18px;font-size:1.125rem;line-height:1;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;min-height:auto;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}@media (min-width: 40.0625em){.govuk-button--start{font-size:24px;font-size:1.5rem;line-height:1}}@media print{.govuk-button--start{font-size:18pt;line-height:1}}.govuk-button__start-icon{margin-left:5px;vertical-align:middle;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;forced-color-adjust:auto}@media (min-width: 48.0625em){.govuk-button__start-icon{margin-left:10px}}.govuk-error-message{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;font-size:16px;font-size:1rem;line-height:1.25;display:block;margin-top:0;margin-bottom:15px;clear:both;color:#d4351c}@media print{.govuk-error-message{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-error-message{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-error-message{font-size:14pt;line-height:1.15}}.govuk-fieldset{min-width:0;margin:0;padding:0;border:0}.govuk-fieldset:after{content:"";display:block;clear:both}@supports not (caret-color: auto){.govuk-fieldset,x:-moz-any-link{display:table-cell}}.govuk-fieldset__legend{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.25;color:#0b0c0c;box-sizing:border-box;display:table;max-width:100%;margin-bottom:10px;padding:0;white-space:normal}@media print{.govuk-fieldset__legend{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-fieldset__legend{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-fieldset__legend{font-size:14pt;line-height:1.15}}@media print{.govuk-fieldset__legend{color:#000}}.govuk-fieldset__legend--xl{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;font-size:32px;font-size:2rem;line-height:1.09375;margin-bottom:15px}@media print{.govuk-fieldset__legend--xl{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-fieldset__legend--xl{font-size:48px;font-size:3rem;line-height:1.0416666667}}@media print{.govuk-fieldset__legend--xl{font-size:32pt;line-height:1.15}}.govuk-fieldset__legend--l{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;font-size:24px;font-size:1.5rem;line-height:1.0416666667;margin-bottom:15px}@media print{.govuk-fieldset__legend--l{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-fieldset__legend--l{font-size:36px;font-size:2.25rem;line-height:1.1111111111}}@media print{.govuk-fieldset__legend--l{font-size:24pt;line-height:1.05}}.govuk-fieldset__legend--m{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;font-size:18px;font-size:1.125rem;line-height:1.1111111111;margin-bottom:15px}@media print{.govuk-fieldset__legend--m{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-fieldset__legend--m{font-size:24px;font-size:1.5rem;line-height:1.25}}@media print{.govuk-fieldset__legend--m{font-size:18pt;line-height:1.15}}.govuk-fieldset__legend--s{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;font-size:16px;font-size:1rem;line-height:1.25}@media print{.govuk-fieldset__legend--s{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-fieldset__legend--s{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-fieldset__legend--s{font-size:14pt;line-height:1.15}}.govuk-fieldset__heading{margin:0;font-size:inherit;font-weight:inherit}.govuk-hint{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.25;margin-bottom:15px;color:#505a5f}@media print{.govuk-hint{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-hint{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-hint{font-size:14pt;line-height:1.15}}.govuk-label:not(.govuk-label--m):not(.govuk-label--l):not(.govuk-label--xl)+.govuk-hint{margin-bottom:10px}.govuk-fieldset__legend:not(.govuk-fieldset__legend--m):not(.govuk-fieldset__legend--l):not(.govuk-fieldset__legend--xl)+.govuk-hint{margin-bottom:10px}.govuk-fieldset__legend+.govuk-hint{margin-top:-5px}.govuk-label{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.25;color:#0b0c0c;display:block;margin-bottom:5px}@media print{.govuk-label{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-label{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-label{font-size:14pt;line-height:1.15}}@media print{.govuk-label{color:#000}}.govuk-label--xl{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;font-size:32px;font-size:2rem;line-height:1.09375;margin-bottom:15px}@media print{.govuk-label--xl{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-label--xl{font-size:48px;font-size:3rem;line-height:1.0416666667}}@media print{.govuk-label--xl{font-size:32pt;line-height:1.15}}.govuk-label--l{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;font-size:24px;font-size:1.5rem;line-height:1.0416666667;margin-bottom:15px}@media print{.govuk-label--l{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-label--l{font-size:36px;font-size:2.25rem;line-height:1.1111111111}}@media print{.govuk-label--l{font-size:24pt;line-height:1.05}}.govuk-label--m{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;font-size:18px;font-size:1.125rem;line-height:1.1111111111;margin-bottom:10px}@media print{.govuk-label--m{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-label--m{font-size:24px;font-size:1.5rem;line-height:1.25}}@media print{.govuk-label--m{font-size:18pt;line-height:1.15}}.govuk-label--s{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;font-size:16px;font-size:1rem;line-height:1.25}@media print{.govuk-label--s{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-label--s{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-label--s{font-size:14pt;line-height:1.15}}.govuk-label-wrapper{margin:0}.govuk-checkboxes__item{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.25;display:block;position:relative;min-height:40px;margin-bottom:10px;padding-left:40px;clear:left}@media print{.govuk-checkboxes__item{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-checkboxes__item{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-checkboxes__item{font-size:14pt;line-height:1.15}}.govuk-checkboxes__item:last-child,.govuk-checkboxes__item:last-of-type{margin-bottom:0}.govuk-checkboxes__input{cursor:pointer;position:absolute;z-index:1;top:-2px;left:-2px;width:44px;height:44px;margin:0;opacity:0}.govuk-checkboxes__label{display:inline-block;margin-bottom:0;padding:8px 15px 5px;cursor:pointer;-ms-touch-action:manipulation;touch-action:manipulation}.govuk-checkboxes__label:before{content:"";box-sizing:border-box;position:absolute;top:0;left:0;width:40px;height:40px;border:2px solid currentColor;background:transparent}.govuk-checkboxes__label:after{content:"";box-sizing:border-box;position:absolute;top:11px;left:9px;width:23px;height:12px;-webkit-transform:rotate(-45deg);-ms-transform:rotate(-45deg);transform:rotate(-45deg);border:solid;border-width:0 0 5px 5px;border-top-color:transparent;opacity:0;background:transparent}.govuk-checkboxes__hint{display:block;padding-right:15px;padding-left:15px}.govuk-checkboxes__input:focus+.govuk-checkboxes__label:before{border-width:4px;outline:3px solid transparent;outline-offset:1px;box-shadow:0 0 0 3px #fd0}@media screen and (forced-colors: active),(-ms-high-contrast: active){.govuk-checkboxes__input:focus+.govuk-checkboxes__label:before{outline-color:Highlight}}.govuk-checkboxes__input:checked+.govuk-checkboxes__label:after{opacity:1}.govuk-checkboxes__input:disabled,.govuk-checkboxes__input:disabled+.govuk-checkboxes__label{cursor:default}.govuk-checkboxes__input:disabled+.govuk-checkboxes__label{opacity:.5}.govuk-checkboxes__divider{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.25;color:#0b0c0c;width:40px;margin-bottom:10px;text-align:center}@media print{.govuk-checkboxes__divider{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-checkboxes__divider{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-checkboxes__divider{font-size:14pt;line-height:1.15}}@media print{.govuk-checkboxes__divider{color:#000}}.govuk-checkboxes__conditional{margin-bottom:15px;margin-left:18px;padding-left:33px;border-left:4px solid #b1b4b6}@media (min-width: 40.0625em){.govuk-checkboxes__conditional{margin-bottom:20px}}.js-enabled .govuk-checkboxes__conditional--hidden{display:none}.govuk-checkboxes__conditional>:last-child{margin-bottom:0}.govuk-checkboxes--small .govuk-checkboxes__item{min-height:0;margin-bottom:0;padding-left:34px;float:left}.govuk-checkboxes--small .govuk-checkboxes__item:after{content:"";display:block;clear:both}.govuk-checkboxes--small .govuk-checkboxes__input{left:-10px}.govuk-checkboxes--small .govuk-checkboxes__label{margin-top:-2px;padding:13px 15px 13px 1px;float:left}@media (min-width: 40.0625em){.govuk-checkboxes--small .govuk-checkboxes__label{padding:11px 15px 10px 1px}}.govuk-checkboxes--small .govuk-checkboxes__label:before{top:8px;width:24px;height:24px}.govuk-checkboxes--small .govuk-checkboxes__label:after{top:15px;left:6px;width:12px;height:6.5px;border-width:0 0 3px 3px}.govuk-checkboxes--small .govuk-checkboxes__hint{padding:0;clear:both}.govuk-checkboxes--small .govuk-checkboxes__conditional{margin-left:10px;padding-left:20px;clear:both}.govuk-checkboxes--small .govuk-checkboxes__item:hover .govuk-checkboxes__input:not(:disabled)+.govuk-checkboxes__label:before{box-shadow:0 0 0 10px #b1b4b6}.govuk-checkboxes--small .govuk-checkboxes__item:hover .govuk-checkboxes__input:focus+.govuk-checkboxes__label:before{box-shadow:0 0 0 3px #fd0,0 0 0 10px #b1b4b6}@media (hover: none),(pointer: coarse){.govuk-checkboxes--small .govuk-checkboxes__item:hover .govuk-checkboxes__input:not(:disabled)+.govuk-checkboxes__label:before{box-shadow:initial}.govuk-checkboxes--small .govuk-checkboxes__item:hover .govuk-checkboxes__input:focus+.govuk-checkboxes__label:before{box-shadow:0 0 0 3px #fd0}}.govuk-textarea{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.25;box-sizing:border-box;display:block;width:100%;min-height:40px;margin-bottom:20px;padding:5px;resize:vertical;border:2px solid #0b0c0c;border-radius:0;-webkit-appearance:none}@media print{.govuk-textarea{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-textarea{font-size:19px;font-size:1.1875rem;line-height:1.25}}@media print{.govuk-textarea{font-size:14pt;line-height:1.25}}@media (min-width: 40.0625em){.govuk-textarea{margin-bottom:30px}}.govuk-textarea:focus{outline:3px solid #ffdd00;outline-offset:0;box-shadow:inset 0 0 0 2px}.govuk-textarea--error{border-color:#d4351c}.govuk-textarea--error:focus{border-color:#0b0c0c}.govuk-character-count{margin-bottom:20px}@media (min-width: 40.0625em){.govuk-character-count{margin-bottom:30px}}.govuk-character-count .govuk-form-group,.govuk-character-count .govuk-textarea{margin-bottom:5px}.govuk-character-count__message{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-font-feature-settings:"tnum" 1;font-feature-settings:"tnum" 1;font-weight:400;margin-top:0;margin-bottom:0}@media print{.govuk-character-count__message{font-family:sans-serif}}@supports (font-variant-numeric: tabular-nums){.govuk-character-count__message{-webkit-font-feature-settings:normal;font-feature-settings:normal;font-variant-numeric:tabular-nums}}.govuk-character-count__message--disabled{visibility:hidden}.govuk-cookie-banner{padding-top:20px;border-bottom:10px solid transparent;background-color:#f3f2f1}.govuk-cookie-banner[hidden]{display:none}.govuk-cookie-banner__message{margin-bottom:-10px}.govuk-cookie-banner__message[hidden]{display:none}.govuk-cookie-banner__message:focus{outline:none}.govuk-summary-list{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.25;color:#0b0c0c;margin:0 0 20px}@media print{.govuk-summary-list{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-summary-list{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-summary-list{font-size:14pt;line-height:1.15}}@media print{.govuk-summary-list{color:#000}}@media (min-width: 40.0625em){.govuk-summary-list{display:table;width:100%;table-layout:fixed;border-collapse:collapse}}@media (min-width: 40.0625em){.govuk-summary-list{margin-bottom:30px}}.govuk-summary-list__row{border-bottom:1px solid #b1b4b6}@media (max-width: 40.0525em){.govuk-summary-list__row{margin-bottom:15px}}@media (min-width: 40.0625em){.govuk-summary-list__row{display:table-row}}@media (min-width: 40.0625em){.govuk-summary-list__row--no-actions:after{content:"";display:table-cell;width:20%}}.govuk-summary-list__key,.govuk-summary-list__value,.govuk-summary-list__actions{margin:0}@media (min-width: 40.0625em){.govuk-summary-list__key,.govuk-summary-list__value,.govuk-summary-list__actions{display:table-cell;padding-top:10px;padding-right:20px;padding-bottom:10px}}.govuk-summary-list__actions{margin-bottom:15px}@media (min-width: 40.0625em){.govuk-summary-list__actions{width:20%;padding-right:0;text-align:right}}.govuk-summary-list__key,.govuk-summary-list__value{word-wrap:break-word;overflow-wrap:break-word}.govuk-summary-list__key{margin-bottom:5px;font-weight:700}@media (min-width: 40.0625em){.govuk-summary-list__key{width:30%}}@media (max-width: 40.0525em){.govuk-summary-list__value{margin-bottom:15px}}.govuk-summary-list__value>p{margin-bottom:10px}.govuk-summary-list__value>:last-child{margin-bottom:0}.govuk-summary-list__actions-list{width:100%;margin:0;padding:0}.govuk-summary-list__actions-list-item{display:inline;margin-right:10px;padding-right:10px}.govuk-summary-list__actions-list-item:not(:last-child){border-right:1px solid #b1b4b6}.govuk-summary-list__actions-list-item:last-child{margin-right:0;padding-right:0;border:0}.govuk-summary-list--no-border .govuk-summary-list__row{border:0}@media (min-width: 40.0625em){.govuk-summary-list--no-border .govuk-summary-list__key,.govuk-summary-list--no-border .govuk-summary-list__value,.govuk-summary-list--no-border .govuk-summary-list__actions{padding-bottom:11px}}.govuk-summary-list__row--no-border{border:0}@media (min-width: 40.0625em){.govuk-summary-list__row--no-border .govuk-summary-list__key,.govuk-summary-list__row--no-border .govuk-summary-list__value,.govuk-summary-list__row--no-border .govuk-summary-list__actions{padding-bottom:11px}}.govuk-input{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.25;box-sizing:border-box;width:100%;height:40px;height:2.5rem;margin-top:0;padding:5px;border:2px solid #0b0c0c;border-radius:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}@media print{.govuk-input{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-input{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-input{font-size:14pt;line-height:1.15}}.govuk-input:focus{outline:3px solid #ffdd00;outline-offset:0;box-shadow:inset 0 0 0 2px}.govuk-input::-webkit-outer-spin-button,.govuk-input::-webkit-inner-spin-button{margin:0;-webkit-appearance:none}.govuk-input[type=number]{-moz-appearance:textfield}.govuk-input--error{border-color:#d4351c}.govuk-input--error:focus{border-color:#0b0c0c}.govuk-input--width-30{max-width:59ex}.govuk-input--width-20{max-width:41ex}.govuk-input--width-10{max-width:23ex}.govuk-input--width-5{max-width:10.8ex}.govuk-input--width-4{max-width:9ex}.govuk-input--width-3{max-width:7.2ex}.govuk-input--width-2{max-width:5.4ex}.govuk-input__wrapper{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.govuk-input__wrapper .govuk-input{-webkit-box-flex:0;-webkit-flex:0 1 auto;-ms-flex:0 1 auto;flex:0 1 auto}.govuk-input__wrapper .govuk-input:focus{z-index:1}@media (max-width: 19.99em){.govuk-input__wrapper{display:block}.govuk-input__wrapper .govuk-input{max-width:100%}}.govuk-input__prefix,.govuk-input__suffix{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.25;box-sizing:border-box;display:inline-block;min-width:40px;min-width:2.5rem;height:40px;height:2.5rem;padding:5px;border:2px solid #0b0c0c;background-color:#f3f2f1;text-align:center;white-space:nowrap;cursor:default;-webkit-box-flex:0;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto}@media print{.govuk-input__prefix,.govuk-input__suffix{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-input__prefix,.govuk-input__suffix{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-input__prefix,.govuk-input__suffix{font-size:14pt;line-height:1.15}}@media (max-width: 40.0525em){.govuk-input__prefix,.govuk-input__suffix{line-height:1.6}}@media (max-width: 19.99em){.govuk-input__prefix,.govuk-input__suffix{display:block;height:100%;white-space:normal}}@media (max-width: 19.99em){.govuk-input__prefix{border-bottom:0}}@media (min-width: 20em){.govuk-input__prefix{border-right:0}}@media (max-width: 19.99em){.govuk-input__suffix{border-top:0}}@media (min-width: 20em){.govuk-input__suffix{border-left:0}}.govuk-date-input{font-size:0}.govuk-date-input:after{content:"";display:block;clear:both}.govuk-date-input__item{display:inline-block;margin-right:20px;margin-bottom:0}.govuk-date-input__label{display:block}.govuk-date-input__input{margin-bottom:0}.govuk-details{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.25;color:#0b0c0c;margin-bottom:20px;display:block}@media print{.govuk-details{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-details{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-details{font-size:14pt;line-height:1.15}}@media print{.govuk-details{color:#000}}@media (min-width: 40.0625em){.govuk-details{margin-bottom:30px}}.govuk-details__summary{display:inline-block;position:relative;margin-bottom:5px;padding-left:25px;color:#1d70b8;cursor:pointer}.govuk-details__summary:hover{color:#003078}.govuk-details__summary:focus{outline:3px solid transparent;color:#0b0c0c;background-color:#fd0;box-shadow:0 -2px #fd0,0 4px #0b0c0c;text-decoration:none}.govuk-details__summary-text{text-decoration:underline}.govuk-details__summary:focus .govuk-details__summary-text{text-decoration:none}.govuk-details__summary::-webkit-details-marker{display:none}.govuk-details__summary:before{content:"";position:absolute;top:-1px;bottom:0;left:0;margin:auto;display:block;width:0;height:0;border-style:solid;border-color:transparent;-webkit-clip-path:polygon(0% 0%,100% 50%,0% 100%);clip-path:polygon(0% 0%,100% 50%,0% 100%);border-width:7px 0 7px 12.124px;border-left-color:inherit}.govuk-details[open]>.govuk-details__summary:before{display:block;width:0;height:0;border-style:solid;border-color:transparent;-webkit-clip-path:polygon(0% 0%,50% 100%,100% 0%);clip-path:polygon(0% 0%,50% 100%,100% 0%);border-width:12.124px 7px 0 7px;border-top-color:inherit}.govuk-details__text{padding-top:15px;padding-bottom:15px;padding-left:20px;border-left:5px solid #b1b4b6}.govuk-details__text p{margin-top:0;margin-bottom:20px}.govuk-details__text>:last-child{margin-bottom:0}.govuk-error-summary{color:#0b0c0c;padding:15px;margin-bottom:30px;border:5px solid #d4351c}@media print{.govuk-error-summary{color:#000}}@media (min-width: 40.0625em){.govuk-error-summary{padding:20px}}@media (min-width: 40.0625em){.govuk-error-summary{margin-bottom:50px}}.govuk-error-summary:focus{outline:3px solid #ffdd00}.govuk-error-summary__title{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;font-size:18px;font-size:1.125rem;line-height:1.1111111111;margin-top:0;margin-bottom:15px}@media print{.govuk-error-summary__title{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-error-summary__title{font-size:24px;font-size:1.5rem;line-height:1.25}}@media print{.govuk-error-summary__title{font-size:18pt;line-height:1.15}}@media (min-width: 40.0625em){.govuk-error-summary__title{margin-bottom:20px}}.govuk-error-summary__body{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.25}@media print{.govuk-error-summary__body{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-error-summary__body{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-error-summary__body{font-size:14pt;line-height:1.15}}.govuk-error-summary__body p{margin-top:0;margin-bottom:15px}@media (min-width: 40.0625em){.govuk-error-summary__body p{margin-bottom:20px}}.govuk-error-summary__list{margin-top:0;margin-bottom:0}.govuk-error-summary__list a{font-weight:700;font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:underline}@media print{.govuk-error-summary__list a{font-family:sans-serif}}.govuk-error-summary__list a:focus{outline:3px solid transparent;color:#0b0c0c;background-color:#fd0;box-shadow:0 -2px #fd0,0 4px #0b0c0c;text-decoration:none}.govuk-error-summary__list a:link,.govuk-error-summary__list a:visited{color:#d4351c}.govuk-error-summary__list a:hover{color:#942514}.govuk-error-summary__list a:active{color:#d4351c}.govuk-error-summary__list a:focus{color:#0b0c0c}.govuk-file-upload{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.25;color:#0b0c0c;max-width:100%;margin-left:-5px;padding:5px}@media print{.govuk-file-upload{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-file-upload{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-file-upload{font-size:14pt;line-height:1.15}}@media print{.govuk-file-upload{color:#000}}.govuk-file-upload::-webkit-file-upload-button{-webkit-appearance:button;color:inherit;font:inherit}.govuk-file-upload:focus{outline:3px solid #ffdd00;box-shadow:inset 0 0 0 4px #0b0c0c}.govuk-file-upload:focus-within{outline:3px solid #ffdd00;box-shadow:inset 0 0 0 4px #0b0c0c}.govuk-footer{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:14px;font-size:.875rem;line-height:1.1428571429;padding-top:25px;padding-bottom:15px;border-top:1px solid #b1b4b6;color:#0b0c0c;background:#f3f2f1}@media print{.govuk-footer{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-footer{font-size:16px;font-size:1rem;line-height:1.25}}@media print{.govuk-footer{font-size:14pt;line-height:1.2}}@media (min-width: 40.0625em){.govuk-footer{padding-top:40px}}@media (min-width: 40.0625em){.govuk-footer{padding-bottom:25px}}.govuk-footer__link{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:underline}@media print{.govuk-footer__link{font-family:sans-serif}}.govuk-footer__link:focus{outline:3px solid transparent;color:#0b0c0c;background-color:#fd0;box-shadow:0 -2px #fd0,0 4px #0b0c0c;text-decoration:none}.govuk-footer__link:link,.govuk-footer__link:visited{color:#0b0c0c}@media print{.govuk-footer__link:link,.govuk-footer__link:visited{color:#000}}.govuk-footer__link:hover{color:#0b0c0cfc}.govuk-footer__link:active,.govuk-footer__link:focus{color:#0b0c0c}@media print{.govuk-footer__link:active,.govuk-footer__link:focus{color:#000}}.govuk-footer__section-break{margin:0 0 30px;border:0;border-bottom:1px solid #b1b4b6}@media (min-width: 40.0625em){.govuk-footer__section-break{margin-bottom:50px}}.govuk-footer__meta{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin-right:-15px;margin-left:-15px;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:end;-webkit-align-items:flex-end;-ms-flex-align:end;align-items:flex-end;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center}.govuk-footer__meta-item{margin-right:15px;margin-bottom:25px;margin-left:15px}.govuk-footer__meta-item--grow{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}@media (max-width: 40.0525em){.govuk-footer__meta-item--grow{-webkit-flex-basis:320px;-ms-flex-preferred-size:320px;flex-basis:320px}}.govuk-footer__licence-logo{display:inline-block;margin-right:10px;vertical-align:top;forced-color-adjust:auto}@media (max-width: 48.0525em){.govuk-footer__licence-logo{margin-bottom:15px}}.govuk-footer__licence-description{display:inline-block}.govuk-footer__copyright-logo{display:inline-block;min-width:125px;padding-top:112px;background-image:url(/assets/images/govuk-crest.png);background-repeat:no-repeat;background-position:50% 0%;background-size:125px 102px;text-align:center;white-space:nowrap}@media only screen and (-webkit-min-device-pixel-ratio: 2),only screen and (min-resolution: 192dpi),only screen and (min-resolution: 2dppx){.govuk-footer__copyright-logo{background-image:url(/assets/images/govuk-crest-2x.png)}}.govuk-footer__inline-list{margin-top:0;margin-bottom:15px;padding:0}.govuk-footer__meta-custom{margin-bottom:20px}.govuk-footer__inline-list-item{display:inline-block;margin-right:15px;margin-bottom:5px}.govuk-footer__heading{margin-bottom:30px;padding-bottom:20px;border-bottom:1px solid #b1b4b6}@media (max-width: 40.0525em){.govuk-footer__heading{padding-bottom:10px}}.govuk-footer__navigation{margin-right:-15px;margin-left:-15px}.govuk-footer__navigation:after{content:"";display:block;clear:both}.govuk-footer__section{display:inline-block;margin-bottom:30px;vertical-align:top}.govuk-footer__list{margin:0;padding:0;list-style:none;-webkit-column-gap:30px;column-gap:30px}.govuk-footer__list .govuk-footer__link:hover{text-decoration-thickness:auto}@media (min-width: 48.0625em){.govuk-footer__list--columns-2{-webkit-column-count:2;column-count:2}.govuk-footer__list--columns-3{-webkit-column-count:3;column-count:3}}.govuk-footer__list-item{margin-bottom:15px}@media (min-width: 40.0625em){.govuk-footer__list-item{margin-bottom:20px}}.govuk-footer__list-item:last-child{margin-bottom:0}.govuk-header{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:14px;font-size:.875rem;line-height:1.1428571429;border-bottom:10px solid #ffffff;color:#fff;background:#0b0c0c}@media print{.govuk-header{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-header{font-size:16px;font-size:1rem;line-height:1.25}}@media print{.govuk-header{font-size:14pt;line-height:1.2}}.govuk-header__container--full-width{padding:0 15px;border-color:#1d70b8}.govuk-header__container--full-width .govuk-header__menu-button{right:15px}.govuk-header__container{position:relative;margin-bottom:-10px;padding-top:10px;border-bottom:10px solid #1d70b8}.govuk-header__container:after{content:"";display:block;clear:both}.govuk-header__logotype{display:inline-block;margin-right:5px}@media (forced-colors: active){.govuk-header__logotype{forced-color-adjust:none;color:linktext}}.govuk-header__logotype:last-child{margin-right:0}.govuk-header__logotype-crown{position:relative;top:-1px;margin-right:1px;fill:currentColor;vertical-align:top}.govuk-header__logotype-crown-fallback-image{width:36px;height:32px;border:0;vertical-align:bottom}.govuk-header__product-name{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:18px;font-size:1.125rem;line-height:1;display:inline-table}@media print{.govuk-header__product-name{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-header__product-name{font-size:24px;font-size:1.5rem;line-height:1}}@media print{.govuk-header__product-name{font-size:18pt;line-height:1}}.govuk-header__link{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none}@media print{.govuk-header__link{font-family:sans-serif}}.govuk-header__link:link,.govuk-header__link:visited{color:#fff}.govuk-header__link:hover,.govuk-header__link:active{color:#fffffffc}.govuk-header__link:focus{color:#0b0c0c}.govuk-header__link:hover{text-decoration:underline;text-decoration-thickness:3px;text-underline-offset:.1em}.govuk-header__link:focus{outline:3px solid transparent;color:#0b0c0c;background-color:#fd0;box-shadow:0 -2px #fd0,0 4px #0b0c0c;text-decoration:none}.govuk-header__link--homepage{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;display:inline-block;margin-right:10px;font-size:30px;line-height:1}@media print{.govuk-header__link--homepage{font-family:sans-serif}}.govuk-header__link--homepage:link,.govuk-header__link--homepage:visited{text-decoration:none}.govuk-header__link--homepage:hover,.govuk-header__link--homepage:active{margin-bottom:-3px;border-bottom:3px solid}.govuk-header__link--homepage:focus{margin-bottom:0;border-bottom:0}.govuk-header__link--service-name{display:inline-block;margin-bottom:10px;font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;font-size:18px;font-size:1.125rem;line-height:1.1111111111}@media print{.govuk-header__link--service-name{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-header__link--service-name{font-size:24px;font-size:1.5rem;line-height:1.25}}@media print{.govuk-header__link--service-name{font-size:18pt;line-height:1.15}}.govuk-header__logo,.govuk-header__content{box-sizing:border-box}.govuk-header__logo{margin-bottom:10px;padding-right:50px}@media (min-width: 40.0625em){.govuk-header__logo{margin-bottom:10px}}@media (min-width: 48.0625em){.govuk-header__logo{width:33.33%;padding-right:15px;float:left;vertical-align:top}}@media (min-width: 48.0625em){.govuk-header__content{width:66.66%;padding-left:15px;float:left}}.govuk-header__menu-button{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:14px;font-size:.875rem;line-height:1.1428571429;display:none;position:absolute;top:20px;right:0;margin:0;padding:0;border:0;color:#fff;background:none;cursor:pointer}@media print{.govuk-header__menu-button{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-header__menu-button{font-size:16px;font-size:1rem;line-height:1.25}}@media print{.govuk-header__menu-button{font-size:14pt;line-height:1.2}}.govuk-header__menu-button:hover{-webkit-text-decoration:solid underline 3px;text-decoration:solid underline 3px;text-underline-offset:.1em}.govuk-header__menu-button:focus{outline:3px solid transparent;color:#0b0c0c;background-color:#fd0;box-shadow:0 -2px #fd0,0 4px #0b0c0c;text-decoration:none}.govuk-header__menu-button:after{display:inline-block;width:0;height:0;border-style:solid;border-color:transparent;-webkit-clip-path:polygon(0% 0%,50% 100%,100% 0%);clip-path:polygon(0% 0%,50% 100%,100% 0%);border-width:8.66px 5px 0 5px;border-top-color:inherit;content:"";margin-left:5px}@media (min-width: 40.0625em){.govuk-header__menu-button{top:15px}}.govuk-header__menu-button--open:after{display:inline-block;width:0;height:0;border-style:solid;border-color:transparent;-webkit-clip-path:polygon(50% 0%,0% 100%,100% 100%);clip-path:polygon(50% 0%,0% 100%,100% 100%);border-width:0 5px 8.66px 5px;border-bottom-color:inherit}@media (min-width: 48.0625em){.govuk-header__navigation{margin-bottom:10px}}.govuk-header__navigation-list{margin:0;padding:0;list-style:none}.js-enabled .govuk-header__menu-button{display:block}@media (min-width: 48.0625em){.js-enabled .govuk-header__menu-button{display:none}}.js-enabled .govuk-header__navigation-list{display:none}@media (min-width: 48.0625em){.js-enabled .govuk-header__navigation-list{display:block}}.js-enabled .govuk-header__navigation-list--open{display:block}@media (min-width: 48.0625em){.govuk-header__navigation--end{margin:0;padding:5px 0;text-align:right}}.govuk-header__navigation--no-service-name{padding-top:40px}.govuk-header__navigation-item{padding:10px 0;border-bottom:1px solid #2e3133}@media (min-width: 48.0625em){.govuk-header__navigation-item{display:inline-block;margin-right:15px;padding:5px 0;border:0}}.govuk-header__navigation-item a{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;font-size:14px;font-size:.875rem;line-height:1.1428571429;white-space:nowrap}@media print{.govuk-header__navigation-item a{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-header__navigation-item a{font-size:16px;font-size:1rem;line-height:1.25}}@media print{.govuk-header__navigation-item a{font-size:14pt;line-height:1.2}}.govuk-header__navigation-item--active a:link,.govuk-header__navigation-item--active a:hover,.govuk-header__navigation-item--active a:visited{color:#1d8feb}.govuk-header__navigation-item--active a:focus{color:#0b0c0c}.govuk-header__navigation-item:last-child{margin-right:0;border-bottom:0}@media print{.govuk-header{border-bottom-width:0;color:#0b0c0c;background:transparent}.govuk-header__logotype-crown-fallback-image{display:none}.govuk-header__link:link,.govuk-header__link:visited{color:#0b0c0c}.govuk-header__link:after{display:none}}.govuk-inset-text{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.25;color:#0b0c0c;padding:15px;margin-top:20px;margin-bottom:20px;clear:both;border-left:10px solid #b1b4b6}@media print{.govuk-inset-text{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-inset-text{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-inset-text{font-size:14pt;line-height:1.15}}@media print{.govuk-inset-text{color:#000}}@media (min-width: 40.0625em){.govuk-inset-text{margin-top:30px}}@media (min-width: 40.0625em){.govuk-inset-text{margin-bottom:30px}}.govuk-inset-text>:first-child{margin-top:0}.govuk-inset-text>:only-child,.govuk-inset-text>:last-child{margin-bottom:0}.govuk-notification-banner{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.25;margin-bottom:30px;border:5px solid #1d70b8;background-color:#1d70b8}@media print{.govuk-notification-banner{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-notification-banner{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-notification-banner{font-size:14pt;line-height:1.15}}@media (min-width: 40.0625em){.govuk-notification-banner{margin-bottom:50px}}.govuk-notification-banner:focus{outline:3px solid #ffdd00}.govuk-notification-banner__header{padding:2px 15px 5px;border-bottom:1px solid transparent}@media (min-width: 40.0625em){.govuk-notification-banner__header{padding:2px 20px 5px}}.govuk-notification-banner__title{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;font-size:16px;font-size:1rem;line-height:1.25;margin:0;padding:0;color:#fff}@media print{.govuk-notification-banner__title{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-notification-banner__title{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-notification-banner__title{font-size:14pt;line-height:1.15}}.govuk-notification-banner__content{color:#0b0c0c;padding:15px;background-color:#fff}@media print{.govuk-notification-banner__content{color:#000}}@media (min-width: 40.0625em){.govuk-notification-banner__content{padding:20px}}.govuk-notification-banner__content>*{box-sizing:border-box;max-width:605px}.govuk-notification-banner__content>:last-child{margin-bottom:0}.govuk-notification-banner__heading{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;font-size:18px;font-size:1.125rem;line-height:1.1111111111;margin:0 0 15px;padding:0}@media print{.govuk-notification-banner__heading{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-notification-banner__heading{font-size:24px;font-size:1.5rem;line-height:1.25}}@media print{.govuk-notification-banner__heading{font-size:18pt;line-height:1.15}}.govuk-notification-banner__link{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:underline}@media print{.govuk-notification-banner__link{font-family:sans-serif}}.govuk-notification-banner__link:focus{outline:3px solid transparent;color:#0b0c0c;background-color:#fd0;box-shadow:0 -2px #fd0,0 4px #0b0c0c;text-decoration:none}.govuk-notification-banner__link:link,.govuk-notification-banner__link:visited{color:#1d70b8}.govuk-notification-banner__link:hover{color:#003078}.govuk-notification-banner__link:active{color:#0b0c0c}.govuk-notification-banner__link:focus{color:#0b0c0c}.govuk-notification-banner--success{border-color:#00703c;background-color:#00703c}.govuk-notification-banner--success .govuk-notification-banner__link:link,.govuk-notification-banner--success .govuk-notification-banner__link:visited{color:#00703c}.govuk-notification-banner--success .govuk-notification-banner__link:hover{color:#004e2a}.govuk-notification-banner--success .govuk-notification-banner__link:active{color:#00703c}.govuk-notification-banner--success .govuk-notification-banner__link:focus{color:#0b0c0c}.govuk-panel{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.25;box-sizing:border-box;margin-bottom:15px;padding:35px;border:5px solid transparent;text-align:center}@media print{.govuk-panel{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-panel{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-panel{font-size:14pt;line-height:1.15}}@media (max-width: 40.0525em){.govuk-panel{padding:10px;overflow-wrap:break-word;word-wrap:break-word}}.govuk-panel--confirmation{color:#fff;background:#00703c}@media print{.govuk-panel--confirmation{border-color:currentColor;color:#000;background:none}}.govuk-panel__title{margin-top:0;margin-bottom:30px;font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;font-size:32px;font-size:2rem;line-height:1.09375}@media print{.govuk-panel__title{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-panel__title{font-size:48px;font-size:3rem;line-height:1.0416666667}}@media print{.govuk-panel__title{font-size:32pt;line-height:1.15}}.govuk-panel__title:last-child{margin-bottom:0}.govuk-panel__body{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:24px;font-size:1.5rem;line-height:1.0416666667}@media print{.govuk-panel__body{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-panel__body{font-size:36px;font-size:2.25rem;line-height:1.1111111111}}@media print{.govuk-panel__body{font-size:24pt;line-height:1.05}}.govuk-tag{display:inline-block;outline:2px solid transparent;outline-offset:-2px;color:#fff;background-color:#1d70b8;letter-spacing:1px;text-decoration:none;text-transform:uppercase;font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;font-size:14px;font-size:.875rem;line-height:1;padding:5px 8px 4px}@media print{.govuk-tag{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-tag{font-size:16px;font-size:1rem;line-height:1}}@media print{.govuk-tag{font-size:14pt;line-height:1}}.govuk-tag--grey{color:#383f43;background:#eeefef}.govuk-tag--purple{color:#3d2375;background:#dbd5e9}.govuk-tag--turquoise{color:#10403c;background:#bfe3e0}.govuk-tag--blue{color:#144e81;background:#d2e2f1}.govuk-tag--yellow{color:#594d00;background:#fff7bf}.govuk-tag--orange{color:#6e3619;background:#fcd6c3}.govuk-tag--red{color:#942514;background:#f6d7d2}.govuk-tag--pink{color:#80224d;background:#f7d7e6}.govuk-tag--green{color:#005a30;background:#cce2d8}.govuk-phase-banner{padding-top:10px;padding-bottom:10px;border-bottom:1px solid #b1b4b6}.govuk-phase-banner__content{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:14px;font-size:.875rem;line-height:1.1428571429;color:#0b0c0c;display:table;margin:0}@media print{.govuk-phase-banner__content{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-phase-banner__content{font-size:16px;font-size:1rem;line-height:1.25}}@media print{.govuk-phase-banner__content{font-size:14pt;line-height:1.2}}@media print{.govuk-phase-banner__content{color:#000}}.govuk-phase-banner__content__tag{margin-right:10px}.govuk-phase-banner__text{display:table-cell;vertical-align:middle}.govuk-tabs{margin-top:5px;margin-bottom:20px}@media (min-width: 40.0625em){.govuk-tabs{margin-top:5px}}@media (min-width: 40.0625em){.govuk-tabs{margin-bottom:30px}}.govuk-tabs__title{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.25;color:#0b0c0c;margin-bottom:10px}@media print{.govuk-tabs__title{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-tabs__title{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-tabs__title{font-size:14pt;line-height:1.15}}@media print{.govuk-tabs__title{color:#000}}.govuk-tabs__list{margin:0 0 20px;padding:0;list-style:none}@media (min-width: 40.0625em){.govuk-tabs__list{margin-bottom:30px}}.govuk-tabs__list-item{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.25;margin-left:25px}@media print{.govuk-tabs__list-item{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-tabs__list-item{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-tabs__list-item{font-size:14pt;line-height:1.15}}.govuk-tabs__list-item:before{color:#0b0c0c;content:"\\2014";margin-left:-25px;padding-right:5px}@media print{.govuk-tabs__list-item:before{color:#000}}.govuk-tabs__tab{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:underline;display:inline-block;margin-bottom:10px}@media print{.govuk-tabs__tab{font-family:sans-serif}}.govuk-tabs__tab:focus{outline:3px solid transparent;color:#0b0c0c;background-color:#fd0;box-shadow:0 -2px #fd0,0 4px #0b0c0c;text-decoration:none}.govuk-tabs__tab:link{color:#1d70b8}.govuk-tabs__tab:visited{color:#4c2c92}.govuk-tabs__tab:hover{color:#003078}.govuk-tabs__tab:active{color:#0b0c0c}.govuk-tabs__tab:focus{color:#0b0c0c}.govuk-tabs__panel{margin-bottom:30px}@media (min-width: 40.0625em){.govuk-tabs__panel{margin-bottom:50px}}@media (min-width: 40.0625em){.js-enabled .govuk-tabs__list{margin-bottom:0;border-bottom:1px solid #b1b4b6}.js-enabled .govuk-tabs__list:after{content:"";display:block;clear:both}.js-enabled .govuk-tabs__title{display:none}.js-enabled .govuk-tabs__list-item{position:relative;margin-right:5px;margin-bottom:0;margin-left:0;padding:10px 20px;float:left;background-color:#f3f2f1;text-align:center}.js-enabled .govuk-tabs__list-item:before{content:none}.js-enabled .govuk-tabs__list-item--selected{position:relative;margin-top:-5px;margin-bottom:-1px;padding:14px 19px 16px;border:1px solid #b1b4b6;border-bottom:0;background-color:#fff}.js-enabled .govuk-tabs__list-item--selected .govuk-tabs__tab{text-decoration:none}.js-enabled .govuk-tabs__tab{margin-bottom:0}.js-enabled .govuk-tabs__tab:link,.js-enabled .govuk-tabs__tab:visited{color:#0b0c0c}}@media print and (min-width: 40.0625em){.js-enabled .govuk-tabs__tab:link,.js-enabled .govuk-tabs__tab:visited{color:#000}}@media (min-width: 40.0625em){.js-enabled .govuk-tabs__tab:hover{color:#0b0c0cfc}}@media (min-width: 40.0625em){.js-enabled .govuk-tabs__tab:active,.js-enabled .govuk-tabs__tab:focus{color:#0b0c0c}}@media print and (min-width: 40.0625em){.js-enabled .govuk-tabs__tab:active,.js-enabled .govuk-tabs__tab:focus{color:#000}}@media (min-width: 40.0625em){.js-enabled .govuk-tabs__tab:after{content:"";position:absolute;top:0;right:0;bottom:0;left:0}}@media (min-width: 40.0625em){.js-enabled .govuk-tabs__panel{margin-bottom:0;padding:30px 20px;border:1px solid #b1b4b6;border-top:0}}@media (min-width: 40.0625em) and (min-width: 40.0625em){.js-enabled .govuk-tabs__panel{margin-bottom:0}}@media (min-width: 40.0625em){.js-enabled .govuk-tabs__panel>:last-child{margin-bottom:0}}@media (min-width: 40.0625em){.js-enabled .govuk-tabs__panel--hidden{display:none}}.govuk-radios__item{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.25;display:block;position:relative;min-height:40px;margin-bottom:10px;padding-left:40px;clear:left}@media print{.govuk-radios__item{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-radios__item{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-radios__item{font-size:14pt;line-height:1.15}}.govuk-radios__item:last-child,.govuk-radios__item:last-of-type{margin-bottom:0}.govuk-radios__input{cursor:pointer;position:absolute;z-index:1;top:-2px;left:-2px;width:44px;height:44px;margin:0;opacity:0}.govuk-radios__label{display:inline-block;margin-bottom:0;padding:8px 15px 5px;cursor:pointer;-ms-touch-action:manipulation;touch-action:manipulation}.govuk-radios__label:before{content:"";box-sizing:border-box;position:absolute;top:0;left:0;width:40px;height:40px;border:2px solid currentColor;border-radius:50%;background:transparent}.govuk-radios__label:after{content:"";position:absolute;top:10px;left:10px;width:0;height:0;border:10px solid currentColor;border-radius:50%;opacity:0;background:currentColor}.govuk-radios__hint{display:block;padding-right:15px;padding-left:15px}.govuk-radios__input:focus+.govuk-radios__label:before{border-width:4px;outline:3px solid transparent;outline-offset:1px;box-shadow:0 0 0 4px #fd0}@media screen and (forced-colors: active),(-ms-high-contrast: active){.govuk-radios__input:focus+.govuk-radios__label:before{outline-color:Highlight}}.govuk-radios__input:checked+.govuk-radios__label:after{opacity:1}.govuk-radios__input:disabled,.govuk-radios__input:disabled+.govuk-radios__label{cursor:default}.govuk-radios__input:disabled+.govuk-radios__label{opacity:.5}@media (min-width: 40.0625em){.govuk-radios--inline:after{content:"";display:block;clear:both}.govuk-radios--inline .govuk-radios__item{margin-right:20px;float:left;clear:none}}.govuk-radios__divider{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.25;color:#0b0c0c;width:40px;margin-bottom:10px;text-align:center}@media print{.govuk-radios__divider{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-radios__divider{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-radios__divider{font-size:14pt;line-height:1.15}}@media print{.govuk-radios__divider{color:#000}}.govuk-radios__conditional{margin-bottom:15px;margin-left:18px;padding-left:33px;border-left:4px solid #b1b4b6}@media (min-width: 40.0625em){.govuk-radios__conditional{margin-bottom:20px}}.js-enabled .govuk-radios__conditional--hidden{display:none}.govuk-radios__conditional>:last-child{margin-bottom:0}.govuk-radios--small .govuk-radios__item{min-height:0;margin-bottom:0;padding-left:34px;float:left}.govuk-radios--small .govuk-radios__item:after{content:"";display:block;clear:both}.govuk-radios--small .govuk-radios__input{left:-10px}.govuk-radios--small .govuk-radios__label{margin-top:-2px;padding:13px 15px 13px 1px;float:left}@media (min-width: 40.0625em){.govuk-radios--small .govuk-radios__label{padding:11px 15px 10px 1px}}.govuk-radios--small .govuk-radios__label:before{top:8px;width:24px;height:24px}.govuk-radios--small .govuk-radios__label:after{top:15px;left:7px;border-width:5px}.govuk-radios--small .govuk-radios__hint{padding:0;clear:both;pointer-events:none}.govuk-radios--small .govuk-radios__conditional{margin-left:10px;padding-left:20px;clear:both}.govuk-radios--small .govuk-radios__divider{width:24px;margin-bottom:5px}.govuk-radios--small .govuk-radios__item:hover .govuk-radios__input:not(:disabled)+.govuk-radios__label:before{box-shadow:0 0 0 10px #b1b4b6}.govuk-radios--small .govuk-radios__item:hover .govuk-radios__input:focus+.govuk-radios__label:before{box-shadow:0 0 0 4px #fd0,0 0 0 10px #b1b4b6}@media (hover: none),(pointer: coarse){.govuk-radios--small .govuk-radios__item:hover .govuk-radios__input:not(:disabled)+.govuk-radios__label:before{box-shadow:initial}.govuk-radios--small .govuk-radios__item:hover .govuk-radios__input:focus+.govuk-radios__label:before{box-shadow:0 0 0 4px #fd0}}.govuk-select{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.25;box-sizing:border-box;max-width:100%;height:40px;height:2.5rem;padding:5px;border:2px solid #0b0c0c;color:#0b0c0c;background-color:#fff}@media print{.govuk-select{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-select{font-size:19px;font-size:1.1875rem;line-height:1.25}}@media print{.govuk-select{font-size:14pt;line-height:1.25}}.govuk-select:focus{outline:3px solid #ffdd00;outline-offset:0;box-shadow:inset 0 0 0 2px}.govuk-select option:active,.govuk-select option:checked,.govuk-select:focus::-ms-value{color:#fff;background-color:#1d70b8}.govuk-select--error{border-color:#d4351c}.govuk-select--error:focus{border-color:#0b0c0c}.govuk-skip-link{position:absolute!important;width:1px!important;height:1px!important;margin:0!important;overflow:hidden!important;clip:rect(0 0 0 0)!important;-webkit-clip-path:inset(50%)!important;clip-path:inset(50%)!important;white-space:nowrap!important;font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:underline;font-size:14px;font-size:.875rem;line-height:1.1428571429;display:block;padding:10px 15px}.govuk-skip-link:active,.govuk-skip-link:focus{position:static!important;width:auto!important;height:auto!important;margin:inherit!important;overflow:visible!important;clip:auto!important;-webkit-clip-path:none!important;clip-path:none!important;white-space:inherit!important}@media print{.govuk-skip-link{font-family:sans-serif}}.govuk-skip-link:link,.govuk-skip-link:visited{color:#0b0c0c}@media print{.govuk-skip-link:link,.govuk-skip-link:visited{color:#000}}.govuk-skip-link:hover{color:#0b0c0cfc}.govuk-skip-link:active,.govuk-skip-link:focus{color:#0b0c0c}@media print{.govuk-skip-link:active,.govuk-skip-link:focus{color:#000}}@media (min-width: 40.0625em){.govuk-skip-link{font-size:16px;font-size:1rem;line-height:1.25}}@media print{.govuk-skip-link{font-size:14pt;line-height:1.2}}@supports (padding: max(0px)){.govuk-skip-link{padding-right:max(15px,calc(15px + env(safe-area-inset-right)));padding-left:max(15px,calc(15px + env(safe-area-inset-left)))}}.govuk-skip-link:focus{outline:3px solid #ffdd00;outline-offset:0;background-color:#fd0}.govuk-skip-link-focused-element:focus{outline:none}.govuk-table{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:400;font-size:16px;font-size:1rem;line-height:1.25;color:#0b0c0c;width:100%;margin-bottom:20px;border-spacing:0;border-collapse:collapse}@media print{.govuk-table{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-table{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-table{font-size:14pt;line-height:1.15}}@media print{.govuk-table{color:#000}}@media (min-width: 40.0625em){.govuk-table{margin-bottom:30px}}.govuk-table__header{font-weight:700}.govuk-table__header,.govuk-table__cell{padding:10px 20px 10px 0;border-bottom:1px solid #b1b4b6;text-align:left;vertical-align:top}.govuk-table__cell--numeric{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-font-feature-settings:"tnum" 1;font-feature-settings:"tnum" 1;font-weight:400}@media print{.govuk-table__cell--numeric{font-family:sans-serif}}@supports (font-variant-numeric: tabular-nums){.govuk-table__cell--numeric{-webkit-font-feature-settings:normal;font-feature-settings:normal;font-variant-numeric:tabular-nums}}.govuk-table__header--numeric,.govuk-table__cell--numeric{text-align:right}.govuk-table__header:last-child,.govuk-table__cell:last-child{padding-right:0}.govuk-table__caption{font-weight:700;display:table-caption;text-align:left}.govuk-table__caption--xl{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;font-size:32px;font-size:2rem;line-height:1.09375;margin-bottom:15px}@media print{.govuk-table__caption--xl{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-table__caption--xl{font-size:48px;font-size:3rem;line-height:1.0416666667}}@media print{.govuk-table__caption--xl{font-size:32pt;line-height:1.15}}.govuk-table__caption--l{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;font-size:24px;font-size:1.5rem;line-height:1.0416666667;margin-bottom:15px}@media print{.govuk-table__caption--l{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-table__caption--l{font-size:36px;font-size:2.25rem;line-height:1.1111111111}}@media print{.govuk-table__caption--l{font-size:24pt;line-height:1.05}}.govuk-table__caption--m{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;font-size:18px;font-size:1.125rem;line-height:1.1111111111;margin-bottom:15px}@media print{.govuk-table__caption--m{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-table__caption--m{font-size:24px;font-size:1.5rem;line-height:1.25}}@media print{.govuk-table__caption--m{font-size:18pt;line-height:1.15}}.govuk-table__caption--s{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;font-size:16px;font-size:1rem;line-height:1.25}@media print{.govuk-table__caption--s{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-table__caption--s{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-table__caption--s{font-size:14pt;line-height:1.15}}.govuk-warning-text{position:relative;margin-bottom:20px;padding:10px 0}@media (min-width: 40.0625em){.govuk-warning-text{margin-bottom:30px}}.govuk-warning-text__assistive{position:absolute!important;width:1px!important;height:1px!important;margin:0!important;padding:0!important;overflow:hidden!important;clip:rect(0 0 0 0)!important;-webkit-clip-path:inset(50%)!important;clip-path:inset(50%)!important;border:0!important;white-space:nowrap!important}.govuk-warning-text__icon{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;box-sizing:border-box;display:inline-block;position:absolute;left:0;min-width:35px;min-height:35px;margin-top:-7px;border:3px solid #0b0c0c;border-radius:50%;color:#fff;background:#0b0c0c;font-size:30px;line-height:29px;text-align:center;-webkit-user-select:none;-ms-user-select:none;user-select:none;forced-color-adjust:none}@media print{.govuk-warning-text__icon{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-warning-text__icon{margin-top:-5px}}@media screen and (forced-colors: active){.govuk-warning-text__icon{border-color:windowText;color:windowText;background:transparent}}.govuk-warning-text__text{font-family:GDS Transport,arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-weight:700;font-size:16px;font-size:1rem;line-height:1.25;color:#0b0c0c;display:block;padding-left:45px}@media print{.govuk-warning-text__text{font-family:sans-serif}}@media (min-width: 40.0625em){.govuk-warning-text__text{font-size:19px;font-size:1.1875rem;line-height:1.3157894737}}@media print{.govuk-warning-text__text{font-size:14pt;line-height:1.15}}@media print{.govuk-warning-text__text{color:#000}}.govuk-clearfix:after{content:"";display:block;clear:both}.govuk-visually-hidden{position:absolute!important;width:1px!important;height:1px!important;margin:0!important;padding:0!important;overflow:hidden!important;clip:rect(0 0 0 0)!important;-webkit-clip-path:inset(50%)!important;clip-path:inset(50%)!important;border:0!important;white-space:nowrap!important}.govuk-visually-hidden-focusable{position:absolute!important;width:1px!important;height:1px!important;margin:0!important;overflow:hidden!important;clip:rect(0 0 0 0)!important;-webkit-clip-path:inset(50%)!important;clip-path:inset(50%)!important;white-space:nowrap!important}.govuk-visually-hidden-focusable:active,.govuk-visually-hidden-focusable:focus{position:static!important;width:auto!important;height:auto!important;margin:inherit!important;overflow:visible!important;clip:auto!important;-webkit-clip-path:none!important;clip-path:none!important;white-space:inherit!important}.govuk-\\!-display-inline{display:inline!important}.govuk-\\!-display-inline-block{display:inline-block!important}.govuk-\\!-display-block{display:block!important}.govuk-\\!-display-none{display:none!important}@media print{.govuk-\\!-display-none-print{display:none!important}}.govuk-\\!-margin-0{margin:0!important}@media (min-width: 40.0625em){.govuk-\\!-margin-0{margin:0!important}}.govuk-\\!-margin-top-0{margin-top:0!important}@media (min-width: 40.0625em){.govuk-\\!-margin-top-0{margin-top:0!important}}.govuk-\\!-margin-right-0{margin-right:0!important}@media (min-width: 40.0625em){.govuk-\\!-margin-right-0{margin-right:0!important}}.govuk-\\!-margin-bottom-0{margin-bottom:0!important}@media (min-width: 40.0625em){.govuk-\\!-margin-bottom-0{margin-bottom:0!important}}.govuk-\\!-margin-left-0{margin-left:0!important}@media (min-width: 40.0625em){.govuk-\\!-margin-left-0{margin-left:0!important}}.govuk-\\!-margin-1{margin:5px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-1{margin:5px!important}}.govuk-\\!-margin-top-1{margin-top:5px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-top-1{margin-top:5px!important}}.govuk-\\!-margin-right-1{margin-right:5px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-right-1{margin-right:5px!important}}.govuk-\\!-margin-bottom-1{margin-bottom:5px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-bottom-1{margin-bottom:5px!important}}.govuk-\\!-margin-left-1{margin-left:5px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-left-1{margin-left:5px!important}}.govuk-\\!-margin-2{margin:10px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-2{margin:10px!important}}.govuk-\\!-margin-top-2{margin-top:10px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-top-2{margin-top:10px!important}}.govuk-\\!-margin-right-2{margin-right:10px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-right-2{margin-right:10px!important}}.govuk-\\!-margin-bottom-2{margin-bottom:10px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-bottom-2{margin-bottom:10px!important}}.govuk-\\!-margin-left-2{margin-left:10px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-left-2{margin-left:10px!important}}.govuk-\\!-margin-3{margin:15px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-3{margin:15px!important}}.govuk-\\!-margin-top-3{margin-top:15px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-top-3{margin-top:15px!important}}.govuk-\\!-margin-right-3{margin-right:15px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-right-3{margin-right:15px!important}}.govuk-\\!-margin-bottom-3{margin-bottom:15px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-bottom-3{margin-bottom:15px!important}}.govuk-\\!-margin-left-3{margin-left:15px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-left-3{margin-left:15px!important}}.govuk-\\!-margin-4{margin:15px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-4{margin:20px!important}}.govuk-\\!-margin-top-4{margin-top:15px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-top-4{margin-top:20px!important}}.govuk-\\!-margin-right-4{margin-right:15px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-right-4{margin-right:20px!important}}.govuk-\\!-margin-bottom-4{margin-bottom:15px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-bottom-4{margin-bottom:20px!important}}.govuk-\\!-margin-left-4{margin-left:15px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-left-4{margin-left:20px!important}}.govuk-\\!-margin-5{margin:15px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-5{margin:25px!important}}.govuk-\\!-margin-top-5{margin-top:15px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-top-5{margin-top:25px!important}}.govuk-\\!-margin-right-5{margin-right:15px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-right-5{margin-right:25px!important}}.govuk-\\!-margin-bottom-5{margin-bottom:15px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-bottom-5{margin-bottom:25px!important}}.govuk-\\!-margin-left-5{margin-left:15px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-left-5{margin-left:25px!important}}.govuk-\\!-margin-6{margin:20px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-6{margin:30px!important}}.govuk-\\!-margin-top-6{margin-top:20px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-top-6{margin-top:30px!important}}.govuk-\\!-margin-right-6{margin-right:20px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-right-6{margin-right:30px!important}}.govuk-\\!-margin-bottom-6{margin-bottom:20px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-bottom-6{margin-bottom:30px!important}}.govuk-\\!-margin-left-6{margin-left:20px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-left-6{margin-left:30px!important}}.govuk-\\!-margin-7{margin:25px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-7{margin:40px!important}}.govuk-\\!-margin-top-7{margin-top:25px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-top-7{margin-top:40px!important}}.govuk-\\!-margin-right-7{margin-right:25px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-right-7{margin-right:40px!important}}.govuk-\\!-margin-bottom-7{margin-bottom:25px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-bottom-7{margin-bottom:40px!important}}.govuk-\\!-margin-left-7{margin-left:25px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-left-7{margin-left:40px!important}}.govuk-\\!-margin-8{margin:30px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-8{margin:50px!important}}.govuk-\\!-margin-top-8{margin-top:30px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-top-8{margin-top:50px!important}}.govuk-\\!-margin-right-8{margin-right:30px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-right-8{margin-right:50px!important}}.govuk-\\!-margin-bottom-8{margin-bottom:30px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-bottom-8{margin-bottom:50px!important}}.govuk-\\!-margin-left-8{margin-left:30px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-left-8{margin-left:50px!important}}.govuk-\\!-margin-9{margin:40px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-9{margin:60px!important}}.govuk-\\!-margin-top-9{margin-top:40px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-top-9{margin-top:60px!important}}.govuk-\\!-margin-right-9{margin-right:40px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-right-9{margin-right:60px!important}}.govuk-\\!-margin-bottom-9{margin-bottom:40px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-bottom-9{margin-bottom:60px!important}}.govuk-\\!-margin-left-9{margin-left:40px!important}@media (min-width: 40.0625em){.govuk-\\!-margin-left-9{margin-left:60px!important}}.govuk-\\!-padding-0{padding:0!important}@media (min-width: 40.0625em){.govuk-\\!-padding-0{padding:0!important}}.govuk-\\!-padding-top-0{padding-top:0!important}@media (min-width: 40.0625em){.govuk-\\!-padding-top-0{padding-top:0!important}}.govuk-\\!-padding-right-0{padding-right:0!important}@media (min-width: 40.0625em){.govuk-\\!-padding-right-0{padding-right:0!important}}.govuk-\\!-padding-bottom-0{padding-bottom:0!important}@media (min-width: 40.0625em){.govuk-\\!-padding-bottom-0{padding-bottom:0!important}}.govuk-\\!-padding-left-0{padding-left:0!important}@media (min-width: 40.0625em){.govuk-\\!-padding-left-0{padding-left:0!important}}.govuk-\\!-padding-1{padding:5px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-1{padding:5px!important}}.govuk-\\!-padding-top-1{padding-top:5px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-top-1{padding-top:5px!important}}.govuk-\\!-padding-right-1{padding-right:5px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-right-1{padding-right:5px!important}}.govuk-\\!-padding-bottom-1{padding-bottom:5px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-bottom-1{padding-bottom:5px!important}}.govuk-\\!-padding-left-1{padding-left:5px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-left-1{padding-left:5px!important}}.govuk-\\!-padding-2{padding:10px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-2{padding:10px!important}}.govuk-\\!-padding-top-2{padding-top:10px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-top-2{padding-top:10px!important}}.govuk-\\!-padding-right-2{padding-right:10px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-right-2{padding-right:10px!important}}.govuk-\\!-padding-bottom-2{padding-bottom:10px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-bottom-2{padding-bottom:10px!important}}.govuk-\\!-padding-left-2{padding-left:10px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-left-2{padding-left:10px!important}}.govuk-\\!-padding-3{padding:15px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-3{padding:15px!important}}.govuk-\\!-padding-top-3{padding-top:15px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-top-3{padding-top:15px!important}}.govuk-\\!-padding-right-3{padding-right:15px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-right-3{padding-right:15px!important}}.govuk-\\!-padding-bottom-3{padding-bottom:15px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-bottom-3{padding-bottom:15px!important}}.govuk-\\!-padding-left-3{padding-left:15px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-left-3{padding-left:15px!important}}.govuk-\\!-padding-4{padding:15px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-4{padding:20px!important}}.govuk-\\!-padding-top-4{padding-top:15px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-top-4{padding-top:20px!important}}.govuk-\\!-padding-right-4{padding-right:15px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-right-4{padding-right:20px!important}}.govuk-\\!-padding-bottom-4{padding-bottom:15px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-bottom-4{padding-bottom:20px!important}}.govuk-\\!-padding-left-4{padding-left:15px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-left-4{padding-left:20px!important}}.govuk-\\!-padding-5{padding:15px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-5{padding:25px!important}}.govuk-\\!-padding-top-5{padding-top:15px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-top-5{padding-top:25px!important}}.govuk-\\!-padding-right-5{padding-right:15px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-right-5{padding-right:25px!important}}.govuk-\\!-padding-bottom-5{padding-bottom:15px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-bottom-5{padding-bottom:25px!important}}.govuk-\\!-padding-left-5{padding-left:15px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-left-5{padding-left:25px!important}}.govuk-\\!-padding-6{padding:20px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-6{padding:30px!important}}.govuk-\\!-padding-top-6{padding-top:20px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-top-6{padding-top:30px!important}}.govuk-\\!-padding-right-6{padding-right:20px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-right-6{padding-right:30px!important}}.govuk-\\!-padding-bottom-6{padding-bottom:20px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-bottom-6{padding-bottom:30px!important}}.govuk-\\!-padding-left-6{padding-left:20px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-left-6{padding-left:30px!important}}.govuk-\\!-padding-7{padding:25px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-7{padding:40px!important}}.govuk-\\!-padding-top-7{padding-top:25px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-top-7{padding-top:40px!important}}.govuk-\\!-padding-right-7{padding-right:25px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-right-7{padding-right:40px!important}}.govuk-\\!-padding-bottom-7{padding-bottom:25px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-bottom-7{padding-bottom:40px!important}}.govuk-\\!-padding-left-7{padding-left:25px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-left-7{padding-left:40px!important}}.govuk-\\!-padding-8{padding:30px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-8{padding:50px!important}}.govuk-\\!-padding-top-8{padding-top:30px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-top-8{padding-top:50px!important}}.govuk-\\!-padding-right-8{padding-right:30px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-right-8{padding-right:50px!important}}.govuk-\\!-padding-bottom-8{padding-bottom:30px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-bottom-8{padding-bottom:50px!important}}.govuk-\\!-padding-left-8{padding-left:30px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-left-8{padding-left:50px!important}}.govuk-\\!-padding-9{padding:40px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-9{padding:60px!important}}.govuk-\\!-padding-top-9{padding-top:40px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-top-9{padding-top:60px!important}}.govuk-\\!-padding-right-9{padding-right:40px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-right-9{padding-right:60px!important}}.govuk-\\!-padding-bottom-9{padding-bottom:40px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-bottom-9{padding-bottom:60px!important}}.govuk-\\!-padding-left-9{padding-left:40px!important}@media (min-width: 40.0625em){.govuk-\\!-padding-left-9{padding-left:60px!important}}.govuk-\\!-text-align-left{text-align:left!important}.govuk-\\!-text-align-centre{text-align:center!important}.govuk-\\!-text-align-right{text-align:right!important}.govuk-\\!-font-size-80{font-size:53px!important;font-size:3.3125rem!important;line-height:1.0377358491!important}@media (min-width: 40.0625em){.govuk-\\!-font-size-80{font-size:80px!important;font-size:5rem!important;line-height:1!important}}@media print{.govuk-\\!-font-size-80{font-size:53pt!important;line-height:1.1!important}}.govuk-\\!-font-size-48{font-size:32px!important;font-size:2rem!important;line-height:1.09375!important}@media (min-width: 40.0625em){.govuk-\\!-font-size-48{font-size:48px!important;font-size:3rem!important;line-height:1.0416666667!important}}@media print{.govuk-\\!-font-size-48{font-size:32pt!important;line-height:1.15!important}}.govuk-\\!-font-size-36{font-size:24px!important;font-size:1.5rem!important;line-height:1.0416666667!important}@media (min-width: 40.0625em){.govuk-\\!-font-size-36{font-size:36px!important;font-size:2.25rem!important;line-height:1.1111111111!important}}@media print{.govuk-\\!-font-size-36{font-size:24pt!important;line-height:1.05!important}}.govuk-\\!-font-size-27{font-size:18px!important;font-size:1.125rem!important;line-height:1.1111111111!important}@media (min-width: 40.0625em){.govuk-\\!-font-size-27{font-size:27px!important;font-size:1.6875rem!important;line-height:1.1111111111!important}}@media print{.govuk-\\!-font-size-27{font-size:18pt!important;line-height:1.15!important}}.govuk-\\!-font-size-24{font-size:18px!important;font-size:1.125rem!important;line-height:1.1111111111!important}@media (min-width: 40.0625em){.govuk-\\!-font-size-24{font-size:24px!important;font-size:1.5rem!important;line-height:1.25!important}}@media print{.govuk-\\!-font-size-24{font-size:18pt!important;line-height:1.15!important}}.govuk-\\!-font-size-19{font-size:16px!important;font-size:1rem!important;line-height:1.25!important}@media (min-width: 40.0625em){.govuk-\\!-font-size-19{font-size:19px!important;font-size:1.1875rem!important;line-height:1.3157894737!important}}@media print{.govuk-\\!-font-size-19{font-size:14pt!important;line-height:1.15!important}}.govuk-\\!-font-size-16{font-size:14px!important;font-size:.875rem!important;line-height:1.1428571429!important}@media (min-width: 40.0625em){.govuk-\\!-font-size-16{font-size:16px!important;font-size:1rem!important;line-height:1.25!important}}@media print{.govuk-\\!-font-size-16{font-size:14pt!important;line-height:1.2!important}}.govuk-\\!-font-size-14{font-size:12px!important;font-size:.75rem!important;line-height:1.25!important}@media (min-width: 40.0625em){.govuk-\\!-font-size-14{font-size:14px!important;font-size:.875rem!important;line-height:1.4285714286!important}}@media print{.govuk-\\!-font-size-14{font-size:12pt!important;line-height:1.2!important}}.govuk-\\!-font-weight-regular{font-weight:400!important}.govuk-\\!-font-weight-bold{font-weight:700!important}.govuk-\\!-width-full,.govuk-\\!-width-three-quarters{width:100%!important}@media (min-width: 40.0625em){.govuk-\\!-width-three-quarters{width:75%!important}}.govuk-\\!-width-two-thirds{width:100%!important}@media (min-width: 40.0625em){.govuk-\\!-width-two-thirds{width:66.66%!important}}.govuk-\\!-width-one-half{width:100%!important}@media (min-width: 40.0625em){.govuk-\\!-width-one-half{width:50%!important}}.govuk-\\!-width-one-third{width:100%!important}@media (min-width: 40.0625em){.govuk-\\!-width-one-third{width:33.33%!important}}.govuk-\\!-width-one-quarter{width:100%!important}@media (min-width: 40.0625em){.govuk-\\!-width-one-quarter{width:25%!important}}:host .govuk-label,:host .govuk-hint,:host .govuk-error-message{font-family:var(--postcode__font-family, "GDS Transport", arial, sans-serif);font-size:var(--postcode__font-size, 19px)}:host .govuk-input{font-family:var(--postcode__font-family, "GDS Transport", arial, sans-serif);font-size:var(--postcode__input__font-size, 19px);height:var(--postcode__input__height, 35px);padding:var(--postcode__input__padding, 5px 34px 5px 5px)}
`;
var Yg = Object.freeze, Ip = Object.defineProperty, CE = Object.getOwnPropertyDescriptor, wi = (i, t, e, n) => {
  for (var o = n > 1 ? void 0 : n ? CE(t, e) : t, r3 = i.length - 1, s; r3 >= 0; r3--)
    (s = i[r3]) && (o = (n ? s(t, e, o) : s(o)) || o);
  return n && o && Ip(t, e, o), o;
}, ME = (i, t) => Yg(Ip(i, "raw", { value: Yg(t || i.slice()) })), Xg;
let Qe = class extends Un {
  constructor() {
    super(...arguments), this.id = "postcode", this.errorId = "postcode-error", this.label = "Postcode", this.hintText = "", this.errorMessage = "Enter a valid UK postcode", this.onlyQuestionOnPage = false, this._postcode = "", this._sanitizedPostcode = null, this._showPostcodeError = false, this.dispatch = (i, t) => this.dispatchEvent(
      new CustomEvent(i, {
        detail: t
      })
    );
  }
  _onInputChange(i) {
    const t = i.target.value, e = kE(t.trim()).valid;
    e ? (this._sanitizedPostcode = Qh(t.trim()), this._postcode = Qh(t.trim()) || t, this._showPostcodeError = false) : (this._sanitizedPostcode = null, this._postcode = t.toUpperCase()), this.dispatch("postcodeChange", {
      postcode: this._sanitizedPostcode || t,
      isValid: e
    });
  }
  _onBlur() {
    this._sanitizedPostcode || (this._showPostcodeError = true), this._showError();
  }
  _onKeyUp(i) {
    i.key === "Enter" && !this._sanitizedPostcode && (this._showPostcodeError = true), this._showError();
  }
  _showError() {
    var e, n;
    const i = (e = this.shadowRoot) == null ? void 0 : e.querySelector(`#${this.errorId}`);
    i && (i.style.display = "none"), i && this._showPostcodeError && (i.style.display = "");
    const t = (n = this.shadowRoot) == null ? void 0 : n.querySelector(".govuk-form-group");
    t && this._showPostcodeError && t.classList.add("govuk-form-group--error"), t && !this._showPostcodeError && t.classList.remove("govuk-form-group--error");
  }
  _makeLabel() {
    return this.onlyQuestionOnPage ? Qi`<h1 class="govuk-label-wrapper">
          <label class="govuk-label govuk-label--l" for=${this.id}>
            ${this.label}
          </label>
        </h1>` : Qi`<label class="govuk-label" for=${this.id}>${this.label}</label>`;
  }
  render() {
    return Qi(Xg || (Xg = ME([`<script src="https://cdn.polyfill.io/v2/polyfill.min.js"><\/script>
      <div class="govuk-form-group">
        `, `
        <div id="postcode-hint" class="govuk-hint">`, `</div>
        <p
          id=`, `
          class="govuk-error-message"
          style="display:none"
          role="status"
        >
          <span class="govuk-visually-hidden">Error:</span>`, `
        </p>
        <input
          class="govuk-input govuk-input--width-10"
          id=`, `
          name="postcode"
          type="text"
          autocomplete="postal-code"
          spellcheck="false"
          aria-describedby="postcode-hint `, `"
          .value=`, `
          @input=`, `
          @blur=`, `
          @keyup=`, `
          tabindex="0"
        />
      </div>`])), this._makeLabel(), this.hintText, this.errorId, this.errorMessage, this.id, this.errorId, this._postcode, this._onInputChange, this._onBlur, this._onKeyUp);
  }
};
Qe.styles = Ga(wE);
wi([
  K({ type: String })
], Qe.prototype, "id", 2);
wi([
  K({ type: String })
], Qe.prototype, "errorId", 2);
wi([
  K({ type: String })
], Qe.prototype, "label", 2);
wi([
  K({ type: String })
], Qe.prototype, "hintText", 2);
wi([
  K({ type: String })
], Qe.prototype, "errorMessage", 2);
wi([
  K({ type: Boolean })
], Qe.prototype, "onlyQuestionOnPage", 2);
wi([
  Sn()
], Qe.prototype, "_postcode", 2);
wi([
  Sn()
], Qe.prototype, "_sanitizedPostcode", 2);
wi([
  Sn()
], Qe.prototype, "_showPostcodeError", 2);
Qe = wi([
  iu("postcode-search")
], Qe);
function Map$1(props) {
  return /* @__PURE__ */ jsx("my-map", {
    showNorthArrow: true,
    showScale: true,
    hideResetControl: true,
    geojsonData: JSON.stringify(props.boundary)
  });
}
function checkAnswerProps(props) {
  return props && props.every((entry) => {
    return Object.hasOwn(entry, "question") && Object.hasOwn(entry, "responses");
  });
}
function DocumentReview(props) {
  return /* @__PURE__ */ jsxs(React.Fragment, {
    children: [/* @__PURE__ */ jsx(Styles, {}), /* @__PURE__ */ jsxs(Grid$1, {
      container: true,
      spacing: 2,
      direction: "row-reverse",
      sx: {
        justifyContent: "center",
        minWidth: "650px",
        maxWidth: "1400px",
        padding: "0 1em",
        margin: "auto"
      },
      children: [/* @__PURE__ */ jsx(Grid$1, {
        item: true,
        xs: 12,
        children: /* @__PURE__ */ jsx("h1", {
          children: "Review Document"
        })
      }), /* @__PURE__ */ jsxs(Grid$1, {
        item: true,
        xs: 12,
        md: 6,
        children: [/* @__PURE__ */ jsx("h2", {
          children: "Boundary"
        }), /* @__PURE__ */ jsx(MapView, {
          geojson: props.geojson
        })]
      }), /* @__PURE__ */ jsxs(Grid$1, {
        item: true,
        xs: 12,
        md: 6,
        sx: {
          paddingTop: 0
        },
        children: [/* @__PURE__ */ jsx("h2", {
          children: "Data"
        }), /* @__PURE__ */ jsx(AnswerView, {
          csv: props.csv
        })]
      })]
    })]
  });
}
function Styles() {
  return /* @__PURE__ */ jsx(Global, {
    styles: css`
        @import url("https://fonts.googleapis.com/css2?family=Inter&display=swap");
        body {
          font-family: "Inter", arial, sans-serif;
          -webkit-font-smoothing: antialiased;
          -moz-osx-font-smoothing: grayscale;
          font-size: 18px;
          font-size: 1.125rem;
        }
      `
  });
}
function AnswerView(props) {
  const {
    csv: answers
  } = props;
  return /* @__PURE__ */ jsxs(React.Fragment, {
    children: [checkAnswerProps(answers) ? answers.map((entry, index) => /* @__PURE__ */ jsx(Answer, {
      title: entry.question,
      details: entry.responses
    }, index)) : /* @__PURE__ */ jsx("p", {
      children: "Data not available"
    }), " "]
  });
}
function MapView(props) {
  return /* @__PURE__ */ jsxs(React.Fragment, {
    children: [props.geojson ? /* @__PURE__ */ jsx(Map$1, {
      boundary: props.geojson
    }) : /* @__PURE__ */ jsx("p", {
      children: "Boundary map not available"
    }), " "]
  });
}
export {
  DocumentReview as default
};
